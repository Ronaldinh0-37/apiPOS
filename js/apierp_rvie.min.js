/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.0
*/

const _0x6c395b=_0x3212;(function(_0x8d3f4b,_0x22672f){const _0x5d3a6f=_0x3212,_0x3f0085=_0x8d3f4b();while(!![]){try{const _0x3303af=parseInt(_0x5d3a6f(0x141))/0x1*(parseInt(_0x5d3a6f(0xc3))/0x2)+-parseInt(_0x5d3a6f(0x16a))/0x3*(-parseInt(_0x5d3a6f(0x145))/0x4)+-parseInt(_0x5d3a6f(0x116))/0x5*(-parseInt(_0x5d3a6f(0x161))/0x6)+-parseInt(_0x5d3a6f(0x124))/0x7+-parseInt(_0x5d3a6f(0xe0))/0x8+parseInt(_0x5d3a6f(0x146))/0x9+-parseInt(_0x5d3a6f(0x163))/0xa*(-parseInt(_0x5d3a6f(0xbd))/0xb);if(_0x3303af===_0x22672f)break;else _0x3f0085['push'](_0x3f0085['shift']());}catch(_0x2a18a1){_0x3f0085['push'](_0x3f0085['shift']());}}}(_0x1c38,0xb58eb));const _0x58948d=(function(){let _0x13816e=!![];return function(_0x1f7234,_0x5d1744){const _0x413a72=_0x13816e?function(){const _0x568155=_0x3212;if(_0x5d1744){const _0x477bb0=_0x5d1744[_0x568155(0xa2)](_0x1f7234,arguments);return _0x5d1744=null,_0x477bb0;}}:function(){};return _0x13816e=![],_0x413a72;};}()),_0x2ac94b=_0x58948d(this,function(){const _0xca3ee3=_0x3212;return _0x2ac94b['toString']()[_0xca3ee3(0xab)](_0xca3ee3(0x112))[_0xca3ee3(0x166)]()[_0xca3ee3(0xbb)](_0x2ac94b)[_0xca3ee3(0xab)](_0xca3ee3(0x112));});_0x2ac94b();const _0x3d5c3e=(function(){let _0x427970=!![];return function(_0x1422d9,_0x57c10b){const _0x6c1559=_0x427970?function(){if(_0x57c10b){const _0x31d54d=_0x57c10b['apply'](_0x1422d9,arguments);return _0x57c10b=null,_0x31d54d;}}:function(){};return _0x427970=![],_0x6c1559;};}()),_0x115005=_0x3d5c3e(this,function(){const _0x4bcb28=_0x3212,_0x37d72b=function(){let _0xf2ded;try{_0xf2ded=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xdf9618){_0xf2ded=window;}return _0xf2ded;},_0x535262=_0x37d72b(),_0x1828ff=_0x535262['console']=_0x535262['console']||{},_0x587e44=['log',_0x4bcb28(0x123),'info',_0x4bcb28(0x138),_0x4bcb28(0x14d),'table','trace'];for(let _0x1fece7=0x0;_0x1fece7<_0x587e44[_0x4bcb28(0xcd)];_0x1fece7++){const _0x3ed91b=_0x3d5c3e['constructor'][_0x4bcb28(0x12d)][_0x4bcb28(0x153)](_0x3d5c3e),_0x107fdc=_0x587e44[_0x1fece7],_0x171985=_0x1828ff[_0x107fdc]||_0x3ed91b;_0x3ed91b[_0x4bcb28(0x157)]=_0x3d5c3e[_0x4bcb28(0x153)](_0x3d5c3e),_0x3ed91b['toString']=_0x171985['toString'][_0x4bcb28(0x153)](_0x171985),_0x1828ff[_0x107fdc]=_0x3ed91b;}});_0x115005();let arrayIncomes;function _0x1c38(){const _0x3d604c=['line','sales','valor_unitario','392514xbxKFw','#00bb2d','110ySfMFt','setOperationDetailUnitCost','setOperationCustomerId','toString','setApiEndPoint','exportDone','divChartCustomer','2578341mAprFh','customers','producto','btn\x20btn-sm\x20btn-outline\x20ms-2','setSerie','bar',';\x20color:\x20','.btn-logout','Error\x20','RVIE','setCustomerName','setOperationType','Error\x20al\x20solicitar\x20reporte','Modal','status','setOperationDetailTotal','then','Ventas','setOperationTotal','setTipoComprobante','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','dispatchEvent','Pagado','./img/apiPOS.png','closeModalViewDetails','toISOString','apply','setOperationPaymentStatus','#reporte-income','detalle','.table-wrapper','getInstance','application/json;\x20charset=utf-8','#reporte-income-customers','mousedown','search','center','btn-outline','#FF5900','statusText','forEach','products','factura','click','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','style','POST','setOperationCustomerName','application/json','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','name','constructor','onload','252571MoSuSf','block','setTipoOperacionName','value','scrollLeft','createElement','116114foSvYL',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','https://fasyb.com/api/venta/view/?id=','modalOverlayViewDetails','pedido','width','success','onclick','bottom','catch','length','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','concat','Selecciona\x20ambas\x20fechas','valueDesc','profit','display','className','Total','Ventas\x20por\x20Producto','filter','getElementById','dataset_raw','axis','currency','divChartIncome','substring','Error\x20al\x20cargar\x20el\x20detalle.','&laquo;\x20Anterior','8486896BGMurk','createObjectURL','dynamicContent','filterModal','add','top','incomes',';\x22>\x0a','json','#00AEEF','divChartItem','#080060','offsetLeft','isArray','#pagination-products','from','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','Export\x20WK\x20Error:','Costo','change','Sin\x20descripci贸n','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','additionalFilters','\x22>\x0a','Siguiente\x20&raquo;','postMessage','href','setOperationSeries','#pagination-customers','pdf_url','reduce','none','\x20tbody','setOperationItems','detalleModal','btn-outline-primary','hide','cost',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','Error\x20al\x20aplicar\x20filtro','setBranchId','\x0a</td>\x0a<td></td>\x0a','round','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','category','</td>\x0a<td>','Ventas\x20por\x20Cliente','btn\x20btn-sm\x20','pdf','apply-filter','(((.+)+)+)+$','innerHTML','productName','setOperationDetailUnitPresentationId','5NPRDuk','&tipo=','setOperationPaymentStatusColor','setCustomerId','\x22\x20no\x20existe.','btn\x20btn-sm\x20btn-outline\x20me-2','active','setFloorId','addEventListener','fechaISO','querySelectorAll','Pendiente','.xlsx','warn','8108485SbghHp','setOperationNumber','preventDefault','data','map','setTipoOperaciones','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','setOperationDetailQuantity','#pagination-income','prototype','No\x20se\x20encontr贸\x20informaci贸n\x20de\x20ingresos','recibo','ceil','setWarehouseId','height','pie','download','init','setOption','Ganancia','error','querySelector','setOperationDateTime','setDescripcion','mouseup','pageX','Error\x20al\x20cargar\x20el\x20detalle:','push','mousemove','8gBQOiF','values','setSeries','500px','4QWNKVB','11888847msqtdS','\x2023:59:59','{b}:\x20{d}%','setOperationCurrency','\x20no\x20existe','boleta','split','exception','flatMap','textContent','Contenedor\x20','btnExport','100%','bind','https://fasyb.com/api/pdf/proxy/?file=','setOperationId','assign','__proto__','setOperationTypeSpan','customerName','toFixed','stringify','appendChild','El\x20contenedor\x20con\x20id\x20\x22'];_0x1c38=function(){return _0x3d604c;};return _0x1c38();}const divChartIncome=document[_0x6c395b(0xd8)](_0x6c395b(0xdc));let currentPage=0x1;const per_page=0x14;function generateFilterTransformChart(_0x5a1962){const _0x1fc715=_0x6c395b,{containerId:_0x36ad66,rawData:_0x1bd2f8,groupField:_0x29e7bc,groupValues:_0x132a5c,seriesType:seriesType=_0x1fc715(0x15e),chartType:chartType=seriesType,encode:_0x41dc95,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x1fc715(0xd1),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x4c7347,height:_0x2cff0e}=_0x5a1962,_0x499475=document['getElementById'](_0x36ad66);if(!_0x499475){console[_0x1fc715(0x138)](_0x1fc715(0x15d)+_0x36ad66+_0x1fc715(0x11a));return;}if(_0x4c7347)_0x499475[_0x1fc715(0xb5)]['width']=_0x4c7347;if(_0x2cff0e)_0x499475[_0x1fc715(0xb5)]['height']=_0x2cff0e;const _0x28da7e=echarts[_0x1fc715(0x135)](_0x499475),_0x3dc900=[],_0x48bb5e=[];_0x132a5c['forEach']((_0x29260e,_0x2fedc2)=>{const _0x1fe901=_0x1fc715,_0x1f90a9='dataset_'+_0x29260e,_0x5bddd2=(_0x5a1962[_0x1fe901(0xf6)]||[])[_0x1fe901(0xcf)]([{'dimension':_0x29e7bc,'=':_0x29260e}]);_0x3dc900[_0x1fe901(0x13f)]({'id':_0x1f90a9,'fromDatasetId':'dataset_raw','transform':{'type':_0x1fe901(0xd7),'config':{'and':_0x5bddd2}}}),_0x48bb5e['push']({'type':chartType,'datasetId':_0x1f90a9,'name':_0x29260e,...chartType===_0x1fe901(0x8d)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x2fedc2]||undefined},...chartType==='line'&&{'showSymbol':![]},'encode':_0x41dc95});});const _0x52737d={'animationDuration':animationDuration,'dataset':[{'id':_0x1fc715(0xd9),'source':_0x1bd2f8},..._0x3dc900],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x1fc715(0xda)},'xAxis':Object[_0x1fc715(0x156)]({'type':_0x1fc715(0x10c),'nameLocation':'middle'},xAxisConfig),'yAxis':Object[_0x1fc715(0x156)]({'name':_0x41dc95['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x48bb5e};_0x28da7e[_0x1fc715(0x136)](_0x52737d);}function generatePieChart({containerId:_0x5e319d,data:_0x295fbb,nameField:_0x45b544,valueField:_0x445ce0,title:title='',titlePosition:titlePosition=_0x6c395b(0xe5),showTitle:showTitle=!![],width:_0x4eb758,height:_0x140f84}){const _0xf15862=_0x6c395b,_0x219179=document[_0xf15862(0xd8)](_0x5e319d);if(!_0x219179)return console[_0xf15862(0x138)](_0xf15862(0x150)+_0x5e319d+_0xf15862(0x14a));if(_0x4eb758)_0x219179['style']['width']=_0x4eb758;if(_0x140f84)_0x219179[_0xf15862(0xb5)][_0xf15862(0x132)]=_0x140f84;const _0x69582e=echarts['init'](_0x219179),_0x3d8602=_0x295fbb[_0xf15862(0xfe)]((_0xe221e5,_0x3934c6)=>{const _0x1da588=_0xf15862,_0x1292d2=_0x3934c6[_0x45b544],_0x94a9be=_0x3934c6[_0x445ce0];let _0x37533e=_0xe221e5['find'](_0x4fe90a=>_0x4fe90a['name']===_0x1292d2);return!_0x37533e&&(_0x37533e={'name':_0x1292d2,'value':0x0},_0xe221e5[_0x1da588(0x13f)](_0x37533e)),_0x37533e[_0x1da588(0xc0)]+=_0x94a9be,_0xe221e5;},[]);let _0x5d8a1d;showTitle?(_0x5d8a1d={'text':title,'left':_0xf15862(0xac)},titlePosition===_0xf15862(0xcb)?_0x5d8a1d[_0xf15862(0xcb)]=0x0:_0x5d8a1d[_0xf15862(0xe5)]=0x0):_0x5d8a1d={'show':![]};const _0x391942={'title':_0x5d8a1d,'tooltip':{'trigger':'item'},'series':[{'type':_0xf15862(0x133),'radius':'50%','data':_0x3d8602,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0xf15862(0x148)}}]};_0x69582e['setOption'](_0x391942);}function generateHorizontalBarChart({containerId:_0x240c44,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x6c395b(0xe5),showTitle:showTitle=!![],colors:colors=[],width:_0x221159,height:_0x3eabbd,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x455750=_0x6c395b,_0x51d4f3=document[_0x455750(0xd8)](_0x240c44);if(!_0x51d4f3)return console[_0x455750(0x138)](_0x455750(0x150)+_0x240c44+_0x455750(0x14a));if(_0x221159)_0x51d4f3[_0x455750(0xb5)][_0x455750(0xc8)]=_0x221159;if(_0x3eabbd)_0x51d4f3['style'][_0x455750(0x132)]=_0x3eabbd;const _0x283016=echarts[_0x455750(0x135)](_0x51d4f3),_0x5ee289=showTitle?{'text':title,'left':_0x455750(0xac),...titlePosition===_0x455750(0xcb)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x455750(0xcb)?_0x5ee289['bottom']=0x0:_0x5ee289[_0x455750(0xe5)]=0x0;const _0x12f66d={'title':_0x5ee289,'tooltip':{'trigger':_0x455750(0xda),'axisPointer':{'type':'shadow'}},'legend':{},'grid':Object['assign']({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x455750(0x156)]({'type':_0x455750(0xc0),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object['assign']({'type':_0x455750(0x10c),'data':categories},yAxisConfig),'series':series[_0x455750(0x128)]((_0x8142f4,_0x132de3)=>({'type':_0x455750(0x8d),'name':_0x8142f4[_0x455750(0xba)],'data':_0x8142f4[_0x455750(0x127)],'itemStyle':{'color':colors[_0x132de3]||undefined}}))};_0x283016[_0x455750(0x136)](_0x12f66d);}function showModalViewDetails(){const _0x5e3847=_0x6c395b,_0x40df5e=document[_0x5e3847(0xd8)](_0x5e3847(0x102)),_0x7e49a0=document[_0x5e3847(0xd8)](_0x5e3847(0xc6));_0x40df5e['classList'][_0x5e3847(0xe4)]('active'),_0x7e49a0[_0x5e3847(0xb5)][_0x5e3847(0xd3)]=_0x5e3847(0xbe);}function _0x3212(_0x4b1403,_0x5ad20e){const _0x2dad1a=_0x1c38();return _0x3212=function(_0x115005,_0x3d5c3e){_0x115005=_0x115005-0x89;let _0x485c3d=_0x2dad1a[_0x115005];return _0x485c3d;},_0x3212(_0x4b1403,_0x5ad20e);}function hideModalViewDetails(){const _0x477036=_0x6c395b,_0x334f32=document[_0x477036(0xd8)](_0x477036(0x102)),_0x4bc5bf=document['getElementById'](_0x477036(0xc6));_0x334f32['classList']['remove'](_0x477036(0x11c)),_0x4bc5bf[_0x477036(0xb5)][_0x477036(0xd3)]=_0x477036(0xff);const _0x25e1cf=document['getElementById']('dynamicContent');_0x25e1cf[_0x477036(0x113)]=_0x477036(0x12a);}document[_0x6c395b(0xd8)](_0x6c395b(0xa0))['addEventListener'](_0x6c395b(0xb3),hideModalViewDetails),document[_0x6c395b(0xd8)]('modalOverlayViewDetails')['addEventListener'](_0x6c395b(0xb3),hideModalViewDetails);function verDetalle(_0x375b94,_0x144df4){const _0xa25c41=_0x6c395b;fetch(_0xa25c41(0xc5)+_0x375b94+_0xa25c41(0x117)+_0x144df4)[_0xa25c41(0x98)](_0x36b7e2=>{const _0x4793b0=_0xa25c41;if(!_0x36b7e2['ok'])throw new Error(_0x4793b0(0x90)+_0x36b7e2[_0x4793b0(0x96)]+':\x20'+_0x36b7e2[_0x4793b0(0xaf)]);return _0x36b7e2['json']();})[_0xa25c41(0x98)](_0x11ab24=>{const _0xf62b3a=_0xa25c41;if(_0x11ab24[_0xf62b3a(0xc9)]){const _0x438fec=document[_0xf62b3a(0xd8)](_0xf62b3a(0xe2));if(_0x144df4===_0xf62b3a(0xa5)){let _0x23c0c7='';_0x11ab24[_0xf62b3a(0x127)][_0xf62b3a(0xb0)](_0x23037b=>{const _0x53aeeb=_0xf62b3a;_0x23c0c7+='\x0a<tr>\x0a<td>'+_0x23037b[_0x53aeeb(0x8a)]+'</td>\x0a<td>'+_0x23037b['cantidad']+_0x53aeeb(0x10d)+_0x23037b[_0x53aeeb(0x160)]+_0x53aeeb(0x10d)+_0x23037b['total']+'</td>\x0a</tr>';}),document['getElementById']('detalleTablaBody')[_0xf62b3a(0x113)]=_0x23c0c7;}else{if(_0x144df4===_0xf62b3a(0x110)){const _0x1c5009=_0xf62b3a(0x154)+encodeURIComponent(_0x11ab24[_0xf62b3a(0xfd)]),_0x10977a=document['querySelector']('.modal-content');_0x438fec[_0xf62b3a(0x113)]='\x0a<iframe\x20src=\x22'+_0x1c5009+_0xf62b3a(0xce),document['getElementById'](_0xf62b3a(0xa0))[_0xf62b3a(0x11e)](_0xf62b3a(0xb3),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x11ab24[_0xf62b3a(0x138)]||'No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.');})[_0xa25c41(0xcc)](_0x1e674a=>{const _0x18f186=_0xa25c41;console[_0x18f186(0x138)](_0x18f186(0x13e),_0x1e674a),alert(_0x18f186(0xde));});}const tableWrappers=document[_0x6c395b(0x120)](_0x6c395b(0xa6));tableWrappers[_0x6c395b(0xb0)](_0x287681=>{const _0x4bb31f=_0x6c395b;let _0x1f5d2b=![],_0x2d22e3,_0x3b9815;_0x287681[_0x4bb31f(0x11e)](_0x4bb31f(0xaa),_0x23a121=>{const _0x1ad972=_0x4bb31f;_0x1f5d2b=!![],_0x2d22e3=_0x23a121[_0x1ad972(0x13d)]-_0x287681[_0x1ad972(0xec)],_0x3b9815=_0x287681[_0x1ad972(0xc1)];}),_0x287681['addEventListener']('mouseleave',()=>{_0x1f5d2b=![];}),_0x287681[_0x4bb31f(0x11e)](_0x4bb31f(0x13c),()=>{_0x1f5d2b=![];}),_0x287681['addEventListener'](_0x4bb31f(0x140),_0x2a64fa=>{const _0x1314c1=_0x4bb31f;if(!_0x1f5d2b)return;_0x2a64fa['preventDefault']();const _0x5c5a14=_0x2a64fa[_0x1314c1(0x13d)]-_0x287681[_0x1314c1(0xec)],_0x528c40=(_0x5c5a14-_0x2d22e3)*0x2;_0x287681[_0x1314c1(0xc1)]=_0x3b9815-_0x528c40;});});async function consultIncomeReport(){const _0x299a59=_0x6c395b;showLoadingModal();const _0x4a7a3c={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x2dfe27=await fetch(myCompany[_0x299a59(0x167)],{'method':_0x299a59(0xb6),'headers':{'Content-Type':_0x299a59(0xa8)},'body':JSON[_0x299a59(0x15b)](_0x4a7a3c)}),{success:_0x2a94e1,message:_0x100c09}=await _0x2dfe27['json']();if(!_0x2a94e1||!Array[_0x299a59(0xed)](_0x100c09['incomes'])){ntfShow(_0x299a59(0x12e)),console['log'](_0x100c09);return;}const _0x486fe9=_0x100c09[_0x299a59(0xe6)],_0x57ed51=myCompany['setCustomers'][_0x299a59(0xfe)]((_0x161f67,_0x339eac)=>(_0x161f67[_0x339eac[_0x299a59(0x119)]]=_0x339eac[_0x299a59(0x92)],_0x161f67),{}),_0x574ebb=myCompany[_0x299a59(0x129)][_0x299a59(0xfe)]((_0x34ffc1,_0x2bddcf)=>(_0x34ffc1[_0x2bddcf['setTipoOperacionCodigo']]=_0x2bddcf[_0x299a59(0xbf)],_0x34ffc1),{}),_0x415024=myCompany[_0x299a59(0x143)]['reduce']((_0x3a5f35,_0x730ae2)=>(_0x3a5f35[_0x730ae2['ID_SERIE']]=_0x730ae2[_0x299a59(0x8c)],_0x3a5f35),{});arrayIncomes=_0x486fe9['map'](_0xe535a1=>{const _0x4ed36f=_0x299a59,_0x432a6a=_0xe535a1[_0x4ed36f(0x101)][_0x4ed36f(0xfe)]((_0x66a74,_0x33b5a5)=>_0x66a74+Number(_0x33b5a5['setOperationDetailTotal']),0x0),_0x19b1c3=_0x574ebb[_0xe535a1[_0x4ed36f(0x93)]]||_0xe535a1[_0x4ed36f(0x93)],_0x273dde=_0x415024[_0xe535a1[_0x4ed36f(0xfb)]]||_0xe535a1[_0x4ed36f(0xfb)],_0x5da15e=_0x57ed51[_0xe535a1[_0x4ed36f(0x165)]]||_0xe535a1[_0x4ed36f(0x165)],_0x343a02=_0xe535a1[_0x4ed36f(0xa3)]==0x1?_0x4ed36f(0x162):_0x4ed36f(0xae),_0x53a8ef=_0xe535a1[_0x4ed36f(0xa3)]==0x1?_0x4ed36f(0x9e):_0x4ed36f(0x121),_0x54f083=_0xe535a1[_0x4ed36f(0x93)]==0x1?_0x4ed36f(0xc7):_0xe535a1['setOperationType']==0x2?_0x4ed36f(0x12f):_0xe535a1[_0x4ed36f(0x93)]==0x3?_0x4ed36f(0x14b):_0xe535a1['setOperationType']==0x4?_0x4ed36f(0xb2):_0x4ed36f(0x12f);return{'setOperationId':_0xe535a1[_0x4ed36f(0x155)],'setOperationType':_0x19b1c3,'setOperationTypeSpan':_0x54f083,'setOperationSeries':_0x273dde+'-'+_0xe535a1[_0x4ed36f(0x125)],'setOperationCustomerName':_0x5da15e,'setOperationDateTime':_0xe535a1[_0x4ed36f(0x13a)],'setOperationPaymentStatusColor':_0x343a02,'setOperationPaymentStatusName':_0x53a8ef,'setOperationCurrency':_0xe535a1[_0x4ed36f(0x149)],'setOperationTotal':_0x432a6a};});const _0x182326=_0x486fe9[_0x299a59(0x14e)](_0x35b924=>_0x35b924[_0x299a59(0x101)][_0x299a59(0x128)](_0x2c2d76=>({'item':_0x2c2d76,'moneda':_0x35b924[_0x299a59(0x149)]})))['reduce']((_0x48a759,{item:_0x49f93e,moneda:_0x4d7adb})=>{const _0x17654f=_0x299a59,_0x48ec9f=products['find'](_0x30fe27=>_0x30fe27['id']==_0x49f93e[_0x17654f(0x115)]),_0x59b86f=_0x48ec9f?_0x48ec9f[_0x17654f(0x13b)]:_0x17654f(0xf4),_0x99eed=_0x59b86f+'|'+_0x4d7adb,_0x448932=Number(_0x49f93e[_0x17654f(0x97)]),_0xf9a9fd=Number(_0x49f93e[_0x17654f(0x164)])*Number(_0x49f93e[_0x17654f(0x12b)]);return!_0x48a759[_0x99eed]&&(_0x48a759[_0x99eed]={'productName':_0x59b86f,'currency':_0x4d7adb,'sales':0x0,'cost':0x0}),_0x48a759[_0x99eed]['sales']+=_0x448932,_0x48a759[_0x99eed]['cost']+=_0xf9a9fd,_0x48a759;},{}),_0x4359de=Object[_0x299a59(0x142)](_0x182326)[_0x299a59(0x128)](_0x4b585d=>({'productName':_0x4b585d[_0x299a59(0x114)],'currency':_0x4b585d[_0x299a59(0xdb)],'sales':Math[_0x299a59(0x10a)](_0x4b585d[_0x299a59(0x15f)]*0x64)/0x64,'cost':Math[_0x299a59(0x10a)](_0x4b585d[_0x299a59(0x105)]*0x64)/0x64,'profit':Math[_0x299a59(0x10a)]((_0x4b585d['sales']-_0x4b585d['cost'])*0x64)/0x64})),_0x2580d1=_0x486fe9[_0x299a59(0xfe)]((_0x5df960,_0x17beb9)=>{const _0x320e5c=_0x299a59,_0x1bd8e2=_0x57ed51[_0x17beb9[_0x320e5c(0x165)]]||_0x17beb9[_0x320e5c(0x165)],_0x170623=_0x17beb9[_0x320e5c(0x149)],_0x132d45=_0x1bd8e2+'|'+_0x170623,_0x4227dc=_0x17beb9[_0x320e5c(0x101)]['reduce']((_0x3faa46,_0x265152)=>_0x3faa46+Number(_0x265152['setOperationDetailTotal']),0x0),_0x9cb205=_0x17beb9[_0x320e5c(0x101)][_0x320e5c(0xfe)]((_0x27df9e,_0x2e7593)=>_0x27df9e+Number(_0x2e7593[_0x320e5c(0x164)])*Number(_0x2e7593[_0x320e5c(0x12b)]),0x0);return!_0x5df960[_0x132d45]&&(_0x5df960[_0x132d45]={'customerName':_0x1bd8e2,'currency':_0x170623,'sales':0x0,'cost':0x0}),_0x5df960[_0x132d45][_0x320e5c(0x15f)]+=_0x4227dc,_0x5df960[_0x132d45]['cost']+=_0x9cb205,_0x5df960;},{}),_0x832f17=Object[_0x299a59(0x142)](_0x2580d1)[_0x299a59(0x128)](_0x38f809=>({'customerName':_0x38f809[_0x299a59(0x159)],'currency':_0x38f809[_0x299a59(0xdb)],'sales':Math[_0x299a59(0x10a)](_0x38f809['sales']*0x64)/0x64,'cost':Math['round'](_0x38f809[_0x299a59(0x105)]*0x64)/0x64,'profit':Math[_0x299a59(0x10a)]((_0x38f809[_0x299a59(0x15f)]-_0x38f809[_0x299a59(0x105)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x299a59(0xe6)),renderTable(_0x4359de,currentPageProducts,'products'),renderTable(_0x832f17,currentPageCustomers,_0x299a59(0x89));const _0x2bdb99=arrayIncomes[_0x299a59(0x128)](_0x5774dd=>({'fechaISO':_0x5774dd[_0x299a59(0x13a)][_0x299a59(0x14c)]('\x20')[0x0],'setTipoComprobante':_0x5774dd['setOperationType'],'setOperationCurrency':_0x5774dd[_0x299a59(0x149)],'Total':Math[_0x299a59(0x10a)](_0x5774dd[_0x299a59(0x9a)]*0x64)/0x64})),_0x5e84c4=_0x2bdb99[_0x299a59(0xfe)]((_0x33b5e2,_0x38ff02)=>{const _0x186a11=_0x299a59,_0x2fa832=_0x38ff02[_0x186a11(0x11f)]+'|'+_0x38ff02[_0x186a11(0x9b)]+'|'+_0x38ff02['setOperationCurrency'];if(!_0x33b5e2[_0x2fa832])_0x33b5e2[_0x2fa832]={..._0x38ff02,'Total':0x0};return _0x33b5e2[_0x2fa832][_0x186a11(0xd5)]+=_0x38ff02[_0x186a11(0xd5)],_0x33b5e2;},{}),_0x4c8625=Object[_0x299a59(0x142)](_0x5e84c4)[_0x299a59(0x128)](_0x3e3d33=>({'fechaISO':_0x3e3d33['fechaISO'],'setTipoComprobante':_0x3e3d33[_0x299a59(0x9b)]+'\x20('+_0x3e3d33[_0x299a59(0x149)]+')','Total':Math[_0x299a59(0x10a)](_0x3e3d33[_0x299a59(0xd5)]*0x64)/0x64})),_0x4ed7bc=[...new Set(_0x4c8625[_0x299a59(0x128)](_0x69eb3c=>_0x69eb3c[_0x299a59(0x9b)]))],_0x4a8b7b=Array[_0x299a59(0xef)](new Set(_0x4c8625[_0x299a59(0x128)](_0x4dfaba=>_0x4dfaba[_0x299a59(0x11f)])))['sort']((_0x4f2739,_0x254981)=>new Date(_0x4f2739)-new Date(_0x254981));_0x4c8625[_0x299a59(0xcd)]>0x0?generateFilterTransformChart({'containerId':'divChartIncome','rawData':_0x4c8625,'groupField':_0x299a59(0x9b),'groupValues':_0x4ed7bc,'seriesType':'bar','chartType':_0x299a59(0x8d),'colors':[_0x299a59(0xae),'#080060'],'encode':{'x':_0x299a59(0x11f),'y':'Total','label':[_0x299a59(0x9b),_0x299a59(0xd5)],'itemName':'fechaISO','tooltip':['Total']},'xAxisConfig':{'type':_0x299a59(0x10c),'data':_0x4a8b7b,'axisLabel':{'formatter':_0x1717cc=>{const _0x4f595c=_0x299a59,[_0x4dc7fd,_0x1aed71,_0x541d84]=_0x1717cc[_0x4f595c(0x14c)]('-');return _0x541d84+'/'+_0x1aed71+'/'+_0x4dc7fd;}}},'title':'Evoluci贸n\x20de\x20Ventas','width':_0x299a59(0x152),'height':'500px'}):divChartIncome['innerHTML']='';_0x4359de[_0x299a59(0xcd)]>0x0?generateHorizontalBarChart({'containerId':_0x299a59(0xea),'categories':_0x4359de[_0x299a59(0x128)](_0x5baf4c=>{const _0xcb1b3f=_0x299a59,_0x4da6b0='('+_0x5baf4c['currency']+')\x20'+_0x5baf4c[_0xcb1b3f(0x114)];return _0x4da6b0[_0xcb1b3f(0xcd)]>0xf?_0x4da6b0[_0xcb1b3f(0xdd)](0x0,0xf)+'...':_0x4da6b0;}),'series':[{'name':_0x299a59(0x99),'data':_0x4359de[_0x299a59(0x128)](_0x642417=>_0x642417[_0x299a59(0x15f)])},{'name':_0x299a59(0xf2),'data':_0x4359de[_0x299a59(0x128)](_0x45beab=>_0x45beab[_0x299a59(0x105)])},{'name':_0x299a59(0x137),'data':_0x4359de[_0x299a59(0x128)](_0xd1b916=>_0xd1b916[_0x299a59(0xd2)])}],'title':_0x299a59(0xd6),'titlePosition':'bottom','showTitle':![],'colors':[_0x299a59(0xae),_0x299a59(0xeb),_0x299a59(0xe9)],'width':_0x299a59(0x152),'height':'400px'}):divChartItem[_0x299a59(0x113)]='';if(_0x832f17['length']>0x0){const _0x1e7601=_0x832f17['map'](_0x5e5b04=>({'label':_0x5e5b04[_0x299a59(0x159)]+'\x20('+_0x5e5b04['currency']+')','sales':_0x5e5b04[_0x299a59(0x15f)]}));generatePieChart({'containerId':_0x299a59(0x169),'data':_0x1e7601,'nameField':'label','valueField':'sales','title':_0x299a59(0x10e),'titlePosition':_0x299a59(0xe5),'showTitle':![],'width':_0x299a59(0x144),'height':_0x299a59(0x144)});}else divChartCustomer['innerHTML']='';}catch(_0x5966ca){ntfShow(_0x299a59(0x94)),console['error'](_0x5966ca);}finally{hideLoadingModal();}}function renderTable(_0x5ddfb2,_0x35c45=0x1,_0x1049a6=_0x6c395b(0xe6)){const _0x56211a=_0x6c395b;currentPage=_0x35c45;const _0x115be6=_0x1049a6===_0x56211a(0xe6)?_0x56211a(0xa4):_0x1049a6===_0x56211a(0xb1)?'#reporte-income-products':_0x56211a(0xa9),_0x276f06=_0x1049a6===_0x56211a(0xe6)?per_page:_0x1049a6===_0x56211a(0xb1)?per_page_products:per_page_customers,_0x4468dd=document[_0x56211a(0x139)](_0x115be6+_0x56211a(0x100));_0x4468dd[_0x56211a(0x113)]='';const _0x49a89a=(_0x35c45-0x1)*_0x276f06,_0x2f81ce=_0x5ddfb2['slice'](_0x49a89a,_0x49a89a+_0x276f06);if(_0x1049a6===_0x56211a(0xe6)){_0x2f81ce[_0x56211a(0xb0)](_0x1d8ddc=>{const _0x1214eb=_0x56211a,_0x2b785d=document[_0x1214eb(0xc2)]('tr');_0x2b785d['innerHTML']='\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-'+_0x1d8ddc['setOperationTypeSpan']+_0x1214eb(0xf7)+_0x1d8ddc[_0x1214eb(0x93)]+_0x1214eb(0xb4)+(_0x1d8ddc['setOperationSeries']||'')+_0x1214eb(0x10d)+(_0x1d8ddc[_0x1214eb(0xb7)]||'')+_0x1214eb(0x9c)+_0x1d8ddc[_0x1214eb(0x13a)]+'</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20'+_0x1d8ddc[_0x1214eb(0x118)]+_0x1214eb(0x8e)+_0x1d8ddc[_0x1214eb(0x118)]+_0x1214eb(0xe7)+_0x1d8ddc['setOperationPaymentStatusName']+_0x1214eb(0xf5)+_0x1d8ddc[_0x1214eb(0x149)]+_0x1214eb(0x10b)+_0x1d8ddc[_0x1214eb(0x9a)][_0x1214eb(0x15a)](0x2)+_0x1214eb(0xb9)+_0x1d8ddc[_0x1214eb(0x155)]+_0x1214eb(0xc4)+_0x1d8ddc[_0x1214eb(0x155)]+_0x1214eb(0x106),_0x4468dd[_0x1214eb(0x15c)](_0x2b785d);});const _0x255ea1=_0x5ddfb2[_0x56211a(0xfe)]((_0x55e603,_0xf161e1)=>{const _0x3593c4=_0x56211a,_0x442477=_0xf161e1['setOperationCurrency'];return _0x55e603[_0x442477]=(_0x55e603[_0x442477]||0x0)+Number(_0xf161e1[_0x3593c4(0x9a)]),_0x55e603;},{});Object['entries'](_0x255ea1)[_0x56211a(0xb0)](([_0x3e8c5c,_0x4f1fab])=>{const _0x3995b2=_0x56211a,_0x48eb02=document[_0x3995b2(0xc2)]('tr');_0x48eb02['innerHTML']='\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x3e8c5c+_0x3995b2(0xf0)+(Math[_0x3995b2(0x10a)](_0x4f1fab*0x64)/0x64)[_0x3995b2(0x15a)](0x2)+_0x3995b2(0x109),_0x4468dd['appendChild'](_0x48eb02);}),renderPagination(_0x5ddfb2,_0x35c45,_0x1049a6);}}function renderPagination(_0x3bae0c,_0x4a6f55,_0x3bfd37=_0x6c395b(0xe6)){const _0x24ddfc=_0x6c395b,_0x3b912a=_0x3bfd37==='incomes'?document[_0x24ddfc(0x139)](_0x24ddfc(0x12c)):_0x3bfd37===_0x24ddfc(0xb1)?document[_0x24ddfc(0x139)](_0x24ddfc(0xee)):document[_0x24ddfc(0x139)](_0x24ddfc(0xfc)),_0x47e8f9=_0x3bfd37===_0x24ddfc(0xe6)?per_page:_0x3bfd37===_0x24ddfc(0xb1)?per_page_products:per_page_customers;_0x3b912a[_0x24ddfc(0x113)]='';const _0x4e00ce=Math[_0x24ddfc(0x130)](_0x3bae0c[_0x24ddfc(0xcd)]/_0x47e8f9),_0x29c4dd=document[_0x24ddfc(0xc2)]('a');_0x29c4dd[_0x24ddfc(0xfa)]='#',_0x29c4dd['className']=_0x24ddfc(0x11b),_0x29c4dd[_0x24ddfc(0x113)]=_0x24ddfc(0xdf),_0x29c4dd[_0x24ddfc(0xca)]=_0x397171=>{const _0x47cbc1=_0x24ddfc;_0x397171[_0x47cbc1(0x126)]();if(_0x4a6f55>0x1)renderTable(_0x3bae0c,_0x4a6f55-0x1,_0x3bfd37);},_0x3b912a[_0x24ddfc(0x15c)](_0x29c4dd);for(let _0x247947=0x1;_0x247947<=_0x4e00ce;_0x247947++){const _0x1d6b96=document[_0x24ddfc(0xc2)]('a');_0x1d6b96[_0x24ddfc(0xfa)]='#',_0x1d6b96[_0x24ddfc(0xd4)]=_0x24ddfc(0x10f)+(_0x247947===_0x4a6f55?_0x24ddfc(0x103):_0x24ddfc(0xad)),_0x1d6b96[_0x24ddfc(0x14f)]=_0x247947,_0x1d6b96[_0x24ddfc(0xca)]=_0x3e8dd8=>{_0x3e8dd8['preventDefault'](),renderTable(_0x3bae0c,_0x247947,_0x3bfd37);},_0x3b912a[_0x24ddfc(0x15c)](_0x1d6b96);}const _0x59d6af=document[_0x24ddfc(0xc2)]('a');_0x59d6af[_0x24ddfc(0xfa)]='#',_0x59d6af[_0x24ddfc(0xd4)]=_0x24ddfc(0x8b),_0x59d6af[_0x24ddfc(0x113)]=_0x24ddfc(0xf8),_0x59d6af[_0x24ddfc(0xca)]=_0x5ccc8f=>{const _0x47d035=_0x24ddfc;_0x5ccc8f[_0x47d035(0x126)]();if(_0x4a6f55<_0x4e00ce)renderTable(_0x3bae0c,_0x4a6f55+0x1,_0x3bfd37);},_0x3b912a[_0x24ddfc(0x15c)](_0x59d6af);}document[_0x6c395b(0xd8)](_0x6c395b(0x111))['addEventListener']('click',async()=>{const _0x542e89=_0x6c395b,_0x377a09=document[_0x542e89(0xd8)]('filter-start')[_0x542e89(0xc0)],_0x27ad4b=document[_0x542e89(0xd8)]('filter-end')['value'];if(!_0x377a09||!_0x27ad4b)return alert(_0x542e89(0xd0));const _0x100c8c=document[_0x542e89(0xd8)](_0x542e89(0xe3)),_0x109129=bootstrap[_0x542e89(0x95)][_0x542e89(0xa7)](_0x100c8c);_0x109129[_0x542e89(0x104)](),showLoadingModal();try{const _0x111a71={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'dateFrom':_0x377a09+'\x2000:00:00','dateTo':_0x27ad4b+_0x542e89(0x147),'clientIds':[],'operationTypes':[]},_0x574772=await fetch(myCompany[_0x542e89(0x167)],{'method':_0x542e89(0xb6),'headers':{'Content-Type':_0x542e89(0xb8)},'body':JSON[_0x542e89(0x15b)](_0x111a71)}),{success:_0x5699cb,message:_0x459472}=await _0x574772[_0x542e89(0xe8)]();if(!_0x5699cb)throw new Error(_0x459472);_0x459472[_0x542e89(0xe6)],await consultIncomeReport();}catch(_0x1cb7d5){ntfShow(_0x542e89(0x107)),console['error'](_0x1cb7d5);}finally{hideLoadingModal();}});const reportWorker=new Worker('./js/apierp_export_wk.min.js');reportWorker['onmessage']=({data:_0x5d9415})=>{const _0x470f98=_0x6c395b,{type:_0x70496c,payload:_0x4dba50,reportType:_0xbe5505}=_0x5d9415;if(_0x70496c===_0x470f98(0x168)){const _0x55a413=new Blob([_0x5d9415['payload']],{'type':'application/octet-stream'}),_0x451c95=URL[_0x470f98(0xe1)](_0x55a413),_0x36d4cc=document[_0x470f98(0xc2)]('a'),_0x3f7706=new Date()[_0x470f98(0xa1)]()['slice'](0x0,0xa);_0x36d4cc['href']=_0x451c95,_0x36d4cc[_0x470f98(0x134)]=_0xbe5505+'_'+_0x3f7706+_0x470f98(0x122),_0x36d4cc[_0x470f98(0xb3)](),URL['revokeObjectURL'](_0x451c95);}_0x70496c===_0x470f98(0x138)&&(console[_0x470f98(0x138)](_0x470f98(0xf1),_0x4dba50),ntfShow('Error\x20al\x20exportar.'));},document[_0x6c395b(0xd8)](_0x6c395b(0x151))[_0x6c395b(0x11e)](_0x6c395b(0xb3),onClickExport);function onClickExport(){const _0x4ee1bb=_0x6c395b;if(!Array[_0x4ee1bb(0xed)](arrayIncomes)||!arrayIncomes[_0x4ee1bb(0xcd)])return ntfShow('No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.');const _0x5398f5=arrayIncomes[_0x4ee1bb(0x128)](_0x11e0a3=>{const _0x2077ba=_0x4ee1bb,[_0x3ce608]=_0x11e0a3[_0x2077ba(0x13a)][_0x2077ba(0x14c)]('\x20'),[_0x842ff5,_0x53d986,_0x9b19ba]=_0x3ce608['split']('-');return{'Periodo':''+_0x842ff5+_0x53d986,'CorrelativoCUO':'','FechaEmision':_0x9b19ba+'/'+_0x53d986+'/'+_0x842ff5,'FechaVencimiento':'','TipoComprobante':_0x11e0a3[_0x2077ba(0x158)],'SerieNumero':_0x11e0a3[_0x2077ba(0xfb)],'TipoDocCliente':'','NumDocCliente':'','RazonSocial':_0x11e0a3['setOperationCustomerName'],'BaseImponible':'','IGV':'','TotalVenta':_0x11e0a3[_0x2077ba(0x9a)],'Moneda':_0x11e0a3['setOperationCurrency'],'TipoCambio':'','FechaEmisionModificado':'','TipoCompModificado':'','SerieNumModificado':'','CodigoAduana':'','NumDUAModificado':'','ErrorTipo1':'','IndicadorCancelados':'','Estado':'','CamposLibres_27_52':''};});reportWorker[_0x4ee1bb(0xf9)]({'action':'exportReport','reportType':_0x4ee1bb(0x91),'report':_0x5398f5});}window[_0x6c395b(0xbc)]=function(){const _0x1dad22=_0x6c395b,_0x2e9f7e=0x5;loadLoginContent(_0x1dad22(0x9f)),setUserNameGet(),setEventBtnAccess();const _0xf9195=document[_0x1dad22(0x139)](_0x1dad22(0x8f));_0xf9195&&_0xf9195[_0x1dad22(0x11e)](_0x1dad22(0xb3),function(){logoutReload(0x0,_0x2e9f7e);}),document[_0x1dad22(0xd8)](_0x1dad22(0x108))[_0x1dad22(0x11e)](_0x1dad22(0xf3),async function(){const _0x348c44=parseInt(this['value']);myCompany['setBranchDefault']=_0x348c44;const _0x2bd9d9=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2bd9d9),cargarAlmacenes(_0x348c44),setTimeout(()=>{const _0x5410e3=_0x3212;document['getElementById'](_0x5410e3(0x131))[_0x5410e3(0x9d)](new Event(_0x5410e3(0xf3)));},0x64),cargarPisos(_0x348c44),setTimeout(()=>{const _0x41f2c4=_0x3212;document[_0x41f2c4(0xd8)](_0x41f2c4(0x11d))[_0x41f2c4(0x9d)](new Event(_0x41f2c4(0xf3)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId['push'](_0x348c44),consultIncomeReport();}),loadCartAndSetTabCount(_0x2e9f7e);};