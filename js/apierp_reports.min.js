/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.7
*/

function _0x263d(_0x1ebb8a,_0x18904d){const _0x4b1c60=_0x2423();return _0x263d=function(_0x1ef864,_0x71ffae){_0x1ef864=_0x1ef864-0x132;let _0x560290=_0x4b1c60[_0x1ef864];return _0x560290;},_0x263d(_0x1ebb8a,_0x18904d);}const _0x4f57c6=_0x263d;(function(_0x5756c0,_0x3ac44a){const _0x18d738=_0x263d,_0x44dbc1=_0x5756c0();while(!![]){try{const _0xb1d957=-parseInt(_0x18d738(0x1db))/0x1+-parseInt(_0x18d738(0x1fe))/0x2+-parseInt(_0x18d738(0x1ec))/0x3*(parseInt(_0x18d738(0x188))/0x4)+parseInt(_0x18d738(0x1f7))/0x5+-parseInt(_0x18d738(0x1d0))/0x6*(-parseInt(_0x18d738(0x1a9))/0x7)+parseInt(_0x18d738(0x1c5))/0x8+parseInt(_0x18d738(0x1a2))/0x9;if(_0xb1d957===_0x3ac44a)break;else _0x44dbc1['push'](_0x44dbc1['shift']());}catch(_0x56fd97){_0x44dbc1['push'](_0x44dbc1['shift']());}}}(_0x2423,0xe3488));const _0x4e049f=(function(){let _0x10e24d=!![];return function(_0x4b68c2,_0x3a68a2){const _0x20511d=_0x10e24d?function(){const _0x8542ee=_0x263d;if(_0x3a68a2){const _0xf01c92=_0x3a68a2[_0x8542ee(0x1ee)](_0x4b68c2,arguments);return _0x3a68a2=null,_0xf01c92;}}:function(){};return _0x10e24d=![],_0x20511d;};}()),_0x87cf53=_0x4e049f(this,function(){const _0x4d2189=_0x263d;return _0x87cf53['toString']()[_0x4d2189(0x16c)]('(((.+)+)+)+$')[_0x4d2189(0x1bc)]()[_0x4d2189(0x210)](_0x87cf53)[_0x4d2189(0x16c)](_0x4d2189(0x20c));});_0x87cf53();const _0x71ffae=(function(){let _0x2d5654=!![];return function(_0x1eb660,_0x2bbe5a){const _0x10d03e=_0x2d5654?function(){const _0x4c4584=_0x263d;if(_0x2bbe5a){const _0x5e660c=_0x2bbe5a[_0x4c4584(0x1ee)](_0x1eb660,arguments);return _0x2bbe5a=null,_0x5e660c;}}:function(){};return _0x2d5654=![],_0x10d03e;};}()),_0x1ef864=_0x71ffae(this,function(){const _0xeb6c=_0x263d,_0x119da8=function(){const _0x478487=_0x263d;let _0x20157b;try{_0x20157b=Function('return\x20(function()\x20'+_0x478487(0x16d)+');')();}catch(_0x233255){_0x20157b=window;}return _0x20157b;},_0xe0aa0=_0x119da8(),_0x3401d5=_0xe0aa0['console']=_0xe0aa0[_0xeb6c(0x14a)]||{},_0x5d863a=[_0xeb6c(0x1fc),'warn','info','error',_0xeb6c(0x193),'table',_0xeb6c(0x209)];for(let _0x384fac=0x0;_0x384fac<_0x5d863a['length'];_0x384fac++){const _0x52a71b=_0x71ffae['constructor'][_0xeb6c(0x15a)][_0xeb6c(0x202)](_0x71ffae),_0x384cde=_0x5d863a[_0x384fac],_0x5b9a41=_0x3401d5[_0x384cde]||_0x52a71b;_0x52a71b[_0xeb6c(0x19d)]=_0x71ffae[_0xeb6c(0x202)](_0x71ffae),_0x52a71b[_0xeb6c(0x1bc)]=_0x5b9a41[_0xeb6c(0x1bc)]['bind'](_0x5b9a41),_0x3401d5[_0x384cde]=_0x52a71b;}});_0x1ef864();const fil_init_dates=document[_0x4f57c6(0x184)](_0x4f57c6(0x183)),label=document[_0x4f57c6(0x184)](_0x4f57c6(0x1a0)),options=document['getElementById'](_0x4f57c6(0x166));document[_0x4f57c6(0x184)](_0x4f57c6(0x13d))[_0x4f57c6(0x1e0)]('click',_0x46215f=>{showModalOptions();});function showModalOptions(){const _0x381357=_0x4f57c6,_0x5082c6=document[_0x381357(0x184)](_0x381357(0x163)),_0x2b79a3=document[_0x381357(0x184)](_0x381357(0x19f));_0x5082c6['classList']['add'](_0x381357(0x180)),_0x2b79a3[_0x381357(0x160)][_0x381357(0x13c)]='block';}function hideModalOptions(){const _0x379eb9=_0x4f57c6,_0x649b8b=document[_0x379eb9(0x184)](_0x379eb9(0x163)),_0x24c660=document[_0x379eb9(0x184)]('modalOverlayOptions');_0x649b8b['classList'][_0x379eb9(0x134)]('active'),_0x24c660[_0x379eb9(0x160)][_0x379eb9(0x13c)]=_0x379eb9(0x150);}document[_0x4f57c6(0x184)](_0x4f57c6(0x161))[_0x4f57c6(0x1e0)]('click',hideModalOptions),document[_0x4f57c6(0x184)](_0x4f57c6(0x19f))[_0x4f57c6(0x1e0)](_0x4f57c6(0x182),_0x1df394=>{const _0x45976d=_0x4f57c6;_0x1df394[_0x45976d(0x1bd)]==_0x1df394[_0x45976d(0x1f6)]&&_0x1df394[_0x45976d(0x1df)]();});function fill_initMultiSelect({containerSelector:_0x3bff1a,dataSource:_0x38a6fa,mapItem:_0x4b8036,filterArray:_0x6181fc}){const _0x448637=_0x4f57c6,_0x217954=document['querySelector'](_0x3bff1a),_0x2d95c0=_0x217954['querySelector'](_0x448637(0x15b)),_0x576ce6=_0x217954[_0x448637(0x152)]('.fill_ms-suggestions'),_0x2c3051=_0x217954[_0x448637(0x152)](_0x448637(0x1d3));function _0x48cd8c(){const _0x1c0d9c=_0x448637,_0x560f32=_0x2d95c0[_0x1c0d9c(0x14c)][_0x1c0d9c(0x17b)]()[_0x1c0d9c(0x1c4)]();_0x576ce6[_0x1c0d9c(0x13a)]='';if(!_0x560f32)return;const _0x215b0e=_0x38a6fa[_0x1c0d9c(0x1f1)](_0x51c09c=>{const _0x2c50a0=_0x1c0d9c,{id:_0x2e050f,text:_0x54ac9f}=_0x4b8036(_0x51c09c);return _0x54ac9f[_0x2c50a0(0x1c4)]()[_0x2c50a0(0x20f)](_0x560f32)&&!_0x6181fc[_0x2c50a0(0x20f)](_0x2e050f);})['slice'](0x0,0xa);_0x215b0e[_0x1c0d9c(0x15c)](_0xb3643c=>{const _0x3421af=_0x1c0d9c,{id:_0xfc37c4,text:_0x264714}=_0x4b8036(_0xb3643c),_0x852b01=document[_0x3421af(0x1a4)]('li');_0x852b01['textContent']=_0x264714,_0x852b01[_0x3421af(0x212)]['id']=_0xfc37c4,_0x576ce6['appendChild'](_0x852b01);});}function _0x1282d7(_0x4bfbce,_0x16312b){const _0x13c2ad=_0x448637;_0x6181fc[_0x13c2ad(0x16b)](_0x4bfbce);const _0x42d5af=document[_0x13c2ad(0x1a4)](_0x13c2ad(0x147));_0x42d5af[_0x13c2ad(0x197)]=_0x13c2ad(0x137),_0x42d5af[_0x13c2ad(0x13a)]=_0x16312b+_0x13c2ad(0x133)+_0x4bfbce+'\x22>&times;</span>',_0x2c3051[_0x13c2ad(0x1a7)](_0x42d5af);}_0x576ce6['addEventListener']('mousedown',_0x29a456=>{const _0x46b4d4=_0x448637;if(_0x29a456[_0x46b4d4(0x1bd)][_0x46b4d4(0x1b7)]!=='LI')return;const _0xaf8941=Number(_0x29a456[_0x46b4d4(0x1bd)][_0x46b4d4(0x212)]['id']),_0x1ae989=_0x29a456['target'][_0x46b4d4(0x174)];_0x1282d7(_0xaf8941,_0x1ae989),_0x2d95c0[_0x46b4d4(0x14c)]='',_0x576ce6[_0x46b4d4(0x13a)]='',_0x29a456[_0x46b4d4(0x1d1)]();}),_0x2c3051[_0x448637(0x1e0)](_0x448637(0x182),_0x470124=>{const _0x1778f5=_0x448637;if(!_0x470124['target'][_0x1778f5(0x1a3)]['contains'](_0x1778f5(0x1bb)))return;const _0x5920b7=parseInt(_0x470124[_0x1778f5(0x1bd)][_0x1778f5(0x212)]['id'],0xa),_0x2f254b=_0x6181fc[_0x1778f5(0x1d2)](_0x5920b7);if(_0x2f254b>-0x1)_0x6181fc[_0x1778f5(0x1c1)](_0x2f254b,0x1);_0x470124[_0x1778f5(0x1bd)][_0x1778f5(0x15d)][_0x1778f5(0x134)]();}),_0x2d95c0[_0x448637(0x1e0)](_0x448637(0x187),_0x48cd8c),_0x2d95c0['addEventListener'](_0x448637(0x1ba),()=>{setTimeout(()=>{const _0x211bac=_0x263d;!_0x217954[_0x211bac(0x1b3)](document[_0x211bac(0x198)])&&(_0x576ce6['innerHTML']='');},0x64);});}document['getElementById'](_0x4f57c6(0x204))[_0x4f57c6(0x1e0)](_0x4f57c6(0x182),async()=>{const _0x5c820b=_0x4f57c6,_0x1d8163=document['getElementById']('filter-start')[_0x5c820b(0x14c)],_0x4d9114=document[_0x5c820b(0x184)]('filter-end')['value'];if(!_0x1d8163||!_0x4d9114)return alert(_0x5c820b(0x18e));hideModalOptions(),fil_date_start=_0x1d8163+'\x2000:00:00',fil_date_end=_0x4d9114+'\x2023:59:59',console[_0x5c820b(0x1fc)](_0x5c820b(0x159),fil_CustomersId),console[_0x5c820b(0x1fc)]('OperationsType:',fil_OperationsType),console['log']('BranchesId:',fil_BranchesId),consultReport(report_type,_0x5c820b(0x1c7),_0x5c820b(0x1e9),_0x5c820b(0x1c7),_0x5c820b(0x1e9),_0x5c820b(0x1c7),_0x5c820b(0x1e9));}),label[_0x4f57c6(0x1e0)](_0x4f57c6(0x182),()=>{const _0x34b2a0=_0x4f57c6;options[_0x34b2a0(0x160)]['display']=options[_0x34b2a0(0x160)][_0x34b2a0(0x13c)]===_0x34b2a0(0x150)?_0x34b2a0(0x1e1):_0x34b2a0(0x150);}),options[_0x4f57c6(0x1e0)]('click',_0x3d76f1=>{const _0x1aa5df=_0x4f57c6;if(_0x3d76f1['target']&&_0x3d76f1[_0x1aa5df(0x1bd)][_0x1aa5df(0x1b7)]==='LI'){const _0x25f6d6=_0x3d76f1[_0x1aa5df(0x1bd)][_0x1aa5df(0x1b1)](_0x1aa5df(0x1e5));updateDateRange(_0x25f6d6),options[_0x1aa5df(0x160)][_0x1aa5df(0x13c)]=_0x1aa5df(0x150);}}),document[_0x4f57c6(0x1e0)](_0x4f57c6(0x182),_0x55ad74=>{const _0x275e8c=_0x4f57c6;!label[_0x275e8c(0x1b3)](_0x55ad74[_0x275e8c(0x1bd)])&&!options[_0x275e8c(0x1b3)](_0x55ad74[_0x275e8c(0x1bd)])&&(options['style']['display']='none');});function formatDateToYmdHis(_0xc47554){const _0x3388cf=_0x4f57c6,_0x470c4e=_0xc47554[_0x3388cf(0x1eb)](),_0x48d5da=String(_0xc47554[_0x3388cf(0x1a6)]()+0x1)[_0x3388cf(0x1ca)](0x2,'0'),_0x29515b=String(_0xc47554[_0x3388cf(0x1ac)]())[_0x3388cf(0x1ca)](0x2,'0'),_0x3a3554=String(_0xc47554[_0x3388cf(0x14f)]())[_0x3388cf(0x1ca)](0x2,'0'),_0x4dd901=String(_0xc47554[_0x3388cf(0x13b)]())[_0x3388cf(0x1ca)](0x2,'0'),_0x2f4689=String(_0xc47554[_0x3388cf(0x1d7)]())[_0x3388cf(0x1ca)](0x2,'0');return _0x470c4e+'-'+_0x48d5da+'-'+_0x29515b+'\x20'+_0x3a3554+':'+_0x4dd901+':'+_0x2f4689;}function _0x2423(){const _0x3d3ea6=['.fill_multi-filter[data-filter=\x22BranchesId\x22]','No\x20hay\x20datos\x20para\x20exportar.','Condición','Tipo\x20Cambio','WarehouseChangeComplete','trim','col','Modo\x20de\x20exportación\x20desconocido:','/wa/','1.5','active','Reporte\x20','click','date-range-label-icon','getElementById','IGV','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','input','344956ncChQU','Email(s)\x20enviado(s)\x20correctamente.','./js/apierp_export_wk.min.js','day','length','setEmailCredentials','Selecciona\x20ambas\x20fechas','Desc.\x20Global','IGV\x20Gratuitas','Notas','Invalid\x20range\x20type','exception','@s.whatsapp.net','split','EnvironmentChangeComplete','className','activeElement','.btn-logout','setCredentialsApiWAChatPort','Ventas\x20','Estado\x20Despacho','__proto__','No\x20tiene\x20correos\x20configurados\x20para\x20las\x20notificaciones.','modalOverlayOptions','date-range-label','slice','739161ocTrwi','classList','createElement','pdfCanvas','getMonth','appendChild','RVIE\x20','14ViMdHK','Zona','createObjectURL','getDate','Estado\x20Anexión','application/octet-stream','Export\x20WK\x20Error:','Op.\x20Gravadas','getAttribute','btnExportWhatsapp','contains','Error\x20enviando\x20por\x20WhatsApp.','setCredentialsApiWAChatSubdomain','Fecha','tagName','width','Unhandled\x20error\x20in\x20whatsapp\x20case:','blur','fill_remove-tag','toString','target','Desc.\x20Items','Error\x20subiendo\x20archivo\x20a\x20S3','120px','splice','setTipoOperaciones','RCE\x20','toLowerCase','7256880vlMXvF','year','100%','attrs','Subtotal','padStart','Despacho','Op.\x20Gratuitas','month','Detracción','Error\x20WhatsApp\x20(export):','3184158OLdYso','preventDefault','indexOf','.fill_ms-selected-tags','thead','readAsDataURL','setCredentialsApiWAChat','getSeconds','btnExportEmail','setEmailCredentialsPortSMTP','href','336706pgSUAi','find','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','Retención','stopPropagation','addEventListener','block','Comprobante','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','Vehículo','data-value','catch','Mensaje(s)\x20enviado(s)\x20correctamente.','./img/apiPOS.png','500px','getDay','getFullYear','33KRmMrf','setEmailCredentialsSenderName','apply','No\x20tiene\x20configuradas\x20sus\x20credenciales\x20Email.','setBranchDefault','filter','isArray','setEmailCredentialsId','Total\x20Impuestos','Op.\x20Inafectas','currentTarget','1352990qvYyDz','postMessage','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','Serie','text','log','SUNAT','209872uUgmmE','setWarehouseId','setEmailCredentialsSenderEmail','btnExport','bind','150px','fill-apply-filter','.fill_multi-filter[data-filter=\x22OperationsType\x22]','email','append','Vendedor','trace','lob_tbody','string','(((.+)+)+)+$','scope','Error\x20enviando\x20email\x20con\x20excel:','includes','constructor','report_table','dataset','onmessage','Window','tbody','setDate','entries','Cliente','week','\x20<span\x20class=\x22fill_remove-tag\x22\x20data-id=\x22','remove','Operación\x20no\x20encontrada.','Error\x20interno\x20al\x20enviar\x20por\x20WhatsApp.','fill_ms-tag','change','setOperationId','innerHTML','getMinutes','display','btn-filter-modal','Error\x20convirtiendo\x20blob\x20a\x20base64:','setBranchId','result','download','exportDone','dispatchEvent','setEmailCredentialsHostSMTP','setBranches','setCredentialsApiWAChatStatus','span','Total','json','console','error','value','100px','Fecha\x20Vencimiento','getHours','none','report_title','querySelector','setFloorId','Percepción','Usuario','createDocumentFragment','Acciones','Error\x20al\x20exportar.','CustomersId:','prototype','.fill_ms-input','forEach','parentElement','Estado','Error\x20generando\x20PDF:','style','closeModalOptions','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','detalleModalOptions','toISOString','setAttribute','date-range-options','file','Error\x20al\x20procesar\x20el\x20archivo\x20adjunto.','Error\x20interno\x20al\x20preparar\x20o\x20enviar\x20el\x20email.','No\x20tiene\x20números\x20configurados\x20para\x20las\x20notificaciones\x20de\x20WhatsApp.','push','search','{}.constructor(\x22return\x20this\x22)(\x20)','revokeObjectURL','Cotizaciones\x20','whatsapp','200px','onload','exportReport','textContent','.fill_multi-filter[data-filter=\x22CustomersId\x22]'];_0x2423=function(){return _0x3d3ea6;};return _0x2423();}function getDateRange(_0x34f9d6){const _0x55dfc6=_0x4f57c6,_0x9323e1=new Date();let _0x2fd8cc,_0x177941;switch(_0x34f9d6){case _0x55dfc6(0x18b):_0x2fd8cc=new Date(_0x9323e1['getFullYear'](),_0x9323e1[_0x55dfc6(0x1a6)](),_0x9323e1[_0x55dfc6(0x1ac)](),0x0,0x0,0x0),_0x177941=new Date(_0x9323e1[_0x55dfc6(0x1eb)](),_0x9323e1['getMonth'](),_0x9323e1[_0x55dfc6(0x1ac)](),0x17,0x3b,0x3b),label[_0x55dfc6(0x13a)]=_0x55dfc6(0x162);break;case _0x55dfc6(0x132):const _0xad87e4=_0x9323e1[_0x55dfc6(0x1ea)](),_0x380e13=new Date(_0x9323e1);_0x380e13['setDate'](_0x9323e1['getDate']()-_0xad87e4+(_0xad87e4===0x0?-0x6:0x1));const _0x4d70c7=new Date(_0x380e13);_0x4d70c7[_0x55dfc6(0x216)](_0x380e13[_0x55dfc6(0x1ac)]()+0x6),_0x2fd8cc=new Date(_0x380e13[_0x55dfc6(0x1eb)](),_0x380e13['getMonth'](),_0x380e13[_0x55dfc6(0x1ac)](),0x0,0x0,0x0),_0x177941=new Date(_0x4d70c7[_0x55dfc6(0x1eb)](),_0x4d70c7[_0x55dfc6(0x1a6)](),_0x4d70c7[_0x55dfc6(0x1ac)](),0x17,0x3b,0x3b),label[_0x55dfc6(0x13a)]='de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0x55dfc6(0x1cd):_0x2fd8cc=new Date(_0x9323e1[_0x55dfc6(0x1eb)](),_0x9323e1[_0x55dfc6(0x1a6)](),0x1,0x0,0x0,0x0),_0x177941=new Date(_0x9323e1[_0x55dfc6(0x1eb)](),_0x9323e1[_0x55dfc6(0x1a6)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0x55dfc6(0x13a)]=_0x55dfc6(0x1f9);break;case _0x55dfc6(0x1c6):_0x2fd8cc=new Date(_0x9323e1['getFullYear'](),0x0,0x1,0x0,0x0,0x0),_0x177941=new Date(_0x9323e1[_0x55dfc6(0x1eb)](),0xb,0x1f,0x17,0x3b,0x3b),label[_0x55dfc6(0x13a)]=_0x55dfc6(0x1e3);break;default:label[_0x55dfc6(0x13a)]='';throw new Error(_0x55dfc6(0x192));}return{'startDateFormatted':formatDateToYmdHis(_0x2fd8cc),'endDateFormatted':formatDateToYmdHis(_0x177941)};}function updateDateRange(_0x1c84b0=_0x4f57c6(0x18b)){const _0x4984c4=_0x4f57c6;if(_0x1c84b0=='filtrar'){}else{const {startDateFormatted:_0x3ad62d,endDateFormatted:_0xbedd9b}=getDateRange(_0x1c84b0);fil_date_start=_0x3ad62d,fil_date_end=_0xbedd9b,consultReport(report_type,_0x4984c4(0x1c7),_0x4984c4(0x1e9),_0x4984c4(0x1c7),_0x4984c4(0x1e9),_0x4984c4(0x1c7),'500px');}}function buildIncomePayloads(_0xfcd1ec){return _0xfcd1ec;}async function setOptionsReport(_0x38f882){const _0x5c1f69=_0x4f57c6,_0x55fbe0=arrayOperations[_0x5c1f69(0x1dc)](_0x3a5e80=>_0x3a5e80[_0x5c1f69(0x139)]==_0x38f882);if(!_0x55fbe0){console[_0x5c1f69(0x14b)](_0x5c1f69(0x135));return;}const [_0x33971d]=buildIncomePayloads([_0x55fbe0]);console[_0x5c1f69(0x1fc)](_0x33971d);try{const {pdfBlob:_0x1da9f8,pdfName:_0x512865}=await generatePdf(_0x33971d,'tk',_0x5c1f69(0x1a5),_0x5c1f69(0x17f)),_0x32a2d3=0x1;setLastOperationGlobalData(_0x32a2d3,{'pdfGlobalPayload':_0x33971d,'pdfGlobalBlob':_0x1da9f8,'pdfGlobalName':_0x512865}),showModal();}catch(_0x484f6e){console[_0x5c1f69(0x14b)](_0x5c1f69(0x15f),_0x484f6e);}}let currentExportMode='download';const reportWorker=new Worker(_0x4f57c6(0x18a));reportWorker[_0x4f57c6(0x213)]=({data:_0x160a57})=>{const _0x3dee49=_0x4f57c6,{type:_0x371b9a,payload:_0x3ec150,reportType:_0x50cb93}=_0x160a57;if(_0x371b9a===_0x3dee49(0x142)){const _0x10c2c6=new Blob([_0x3ec150],{'type':_0x3dee49(0x1ae)}),_0x15ca80=new Date()[_0x3dee49(0x164)]()[_0x3dee49(0x1a1)](0x0,0xa),_0x5aaf5a=_0x50cb93+'_'+_0x15ca80+'.xlsx',_0x3d9dbc=_0x318441=>new Promise((_0x2fe41b,_0x599d92)=>{const _0x1bc1b9=_0x3dee49,_0x25c447=new FileReader();_0x25c447['onerror']=()=>_0x599d92(_0x25c447[_0x1bc1b9(0x14b)]),_0x25c447[_0x1bc1b9(0x172)]=()=>_0x2fe41b(_0x25c447[_0x1bc1b9(0x140)][_0x1bc1b9(0x195)](',')[0x1]),_0x25c447[_0x1bc1b9(0x1d5)](_0x318441);});switch(currentExportMode){case _0x3dee49(0x141):{const _0x54f97c=URL[_0x3dee49(0x1ab)](_0x10c2c6),_0x1527b6=document['createElement']('a');_0x1527b6[_0x3dee49(0x1da)]=_0x54f97c,_0x1527b6[_0x3dee49(0x141)]=_0x5aaf5a,_0x1527b6['click'](),URL[_0x3dee49(0x16e)](_0x54f97c);}break;case _0x3dee49(0x170):{(async()=>{const _0x5b01dd=_0x3dee49,_0x344006=getWhatsappsFromCompanyNotifications();if(_0x344006[_0x5b01dd(0x18c)]===0x0){ntfShow(_0x5b01dd(0x16a),0x2,0x1);return;}try{showLoadingModal();const _0x349d9b=parseInt(getUserPermissionApiERP(0x19)),_0x47ad0e=_0x349d9b!=0x0?_0x349d9b:document['getElementById'](_0x5b01dd(0x1d6))?parseInt(document['getElementById'](_0x5b01dd(0x1d6))[_0x5b01dd(0x14c)],0xa):_0x349d9b,_0x5da82f=getCredentialsApiWAChat(_0x47ad0e),_0x7f9eb3=_0x5da82f?.[_0x5b01dd(0x146)]??0x0;if(!(_0x7f9eb3==0x1&&_0x5da82f)){ntfShow('No\x20tiene\x20una\x20integración\x20activa\x20con\x20Whatsapp.',0x1,0x2),hideLoadingModal();return;}const _0xeac343=_0x5da82f[_0x5b01dd(0x1b5)],_0x561b98=_0x5da82f[_0x5b01dd(0x19a)],_0x3615fb='https://'+_0xeac343+_0x5b01dd(0x17e)+_0x561b98,_0xfd755f=new FormData(),_0x29f851=new File([_0x10c2c6],_0x5aaf5a,{'type':_0x5b01dd(0x186)});_0xfd755f[_0x5b01dd(0x207)](_0x5b01dd(0x167),_0x29f851);const _0xaf2444=await fetch(_0x3615fb+'/upload',{'method':'POST','headers':{'x-auth-token':myCompany['setAuthToken']},'body':_0xfd755f});if(!_0xaf2444['ok']){const _0x24d760=await _0xaf2444[_0x5b01dd(0x149)]()[_0x5b01dd(0x1e6)](()=>({}));throw new Error(_0x24d760[_0x5b01dd(0x14b)]||_0x5b01dd(0x1bf));}const {url:_0x1e6610}=await _0xaf2444['json']();if(!_0x1e6610)throw new Error('No\x20se\x20recibió\x20URL\x20del\x20archivo\x20subido.');for(const _0x4f6292 of _0x344006){const _0xc10f7c=_0x4f6292+_0x5b01dd(0x194);await sendMessageApiWAChat(_0x47ad0e,_0xc10f7c,'document',_0x1e6610,'',_0x5aaf5a,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');}ntfShow(_0x5b01dd(0x1e7),0x1,0x2);}catch(_0x1cfaf0){console[_0x5b01dd(0x14b)](_0x5b01dd(0x1cf),_0x1cfaf0),ntfShow(_0x1cfaf0['message']||_0x5b01dd(0x1b4),0x2,0x1);}finally{hideLoadingModal();}})()[_0x3dee49(0x1e6)](_0x9ca3f=>{const _0x2a2f2f=_0x3dee49;console['error'](_0x2a2f2f(0x1b9),_0x9ca3f),ntfShow(_0x2a2f2f(0x136),0x2,0x1),hideLoadingModal();});}break;case _0x3dee49(0x206):{_0x3d9dbc(_0x10c2c6)['then'](async _0x191525=>{const _0x1ea7fc=_0x3dee49,_0x29d215=getEmailsFromCompanyNotifications();if(_0x29d215[_0x1ea7fc(0x18c)]===0x0){ntfShow(_0x1ea7fc(0x19e),0x2,0x1);return;}const _0x3272fd=parseInt(getUserPermissionApiERP(0x12)),_0x39d376=Array['isArray'](myCompany['setEmailCredentials'])?myCompany[_0x1ea7fc(0x18d)][_0x1ea7fc(0x1dc)](_0x4dd07f=>_0x4dd07f[_0x1ea7fc(0x1f3)]==_0x3272fd):null;if(!_0x39d376){ntfShow(_0x1ea7fc(0x1ef),0x2,0x1);return;}const _0x3e7d24=_0x39d376[_0x1ea7fc(0x1ed)],_0x3541a6=_0x39d376[_0x1ea7fc(0x200)],_0x443ab3=_0x39d376['setEmailCredentialsSenderPassword'],_0x51bd40=_0x39d376[_0x1ea7fc(0x144)],_0x2c5295=_0x39d376[_0x1ea7fc(0x1d9)],_0x2f2d17=_0x1ea7fc(0x181)+_0x50cb93+'\x20-\x20'+_0x15ca80,_0x1ffa08=_0x1ea7fc(0x1dd),_0x1c99af=[{'fileName':_0x5aaf5a,'fileBase64':_0x191525}];try{showLoadingModal(),await sendEmail(myCompany['setAuthToken'],_0x3e7d24,_0x3541a6,_0x443ab3,_0x51bd40,_0x2c5295,_0x29d215,_0x2f2d17,_0x1ffa08,_0x1c99af),hideLoadingModal(),ntfShow(_0x1ea7fc(0x189),0x1,0x2);}catch(_0x506b8d){console['error'](_0x1ea7fc(0x20e),_0x506b8d),hideLoadingModal(),ntfShow(_0x1ea7fc(0x169),0x2,0x1);}})['catch'](_0x5642ce=>{const _0x1f62b6=_0x3dee49;console[_0x1f62b6(0x14b)](_0x1f62b6(0x13e),_0x5642ce),ntfShow(_0x1f62b6(0x168),0x2,0x1);});}break;default:console[_0x3dee49(0x14b)](_0x3dee49(0x17d),currentExportMode);}}_0x371b9a===_0x3dee49(0x14b)&&(console[_0x3dee49(0x14b)](_0x3dee49(0x1af),_0x3ec150),ntfShow(_0x3dee49(0x158)));},document[_0x4f57c6(0x184)](_0x4f57c6(0x201))[_0x4f57c6(0x1e0)](_0x4f57c6(0x182),_0x7cd39c=>{const _0x2448ee=_0x4f57c6;_0x7cd39c[_0x2448ee(0x1d1)](),onClickExport(_0x2448ee(0x141));}),document['getElementById'](_0x4f57c6(0x1d8))[_0x4f57c6(0x1e0)]('click',_0x2711a7=>{const _0x881598=_0x4f57c6;_0x2711a7[_0x881598(0x1d1)](),onClickExport(_0x881598(0x206));}),document[_0x4f57c6(0x184)](_0x4f57c6(0x1b2))[_0x4f57c6(0x1e0)](_0x4f57c6(0x182),_0x3caf81=>{const _0x1a0c17=_0x4f57c6;_0x3caf81['preventDefault'](),onClickExport(_0x1a0c17(0x170));});function onClickExport(_0x1bca46=_0x4f57c6(0x141)){const _0x558608=_0x4f57c6;if(!Array[_0x558608(0x1f2)](arrayOperations)||!arrayOperations[_0x558608(0x18c)])return ntfShow(_0x558608(0x177),0x2,0x1);currentExportMode=_0x1bca46,reportWorker[_0x558608(0x1f8)]({'action':_0x558608(0x173),'reportType':report_type,'report':arrayOperations});}function loadReportDinamic(_0x257e4c){const _0xbbc3f=_0x4f57c6,_0x2d66a4=document[_0xbbc3f(0x184)](_0xbbc3f(0x151)),_0x12bc20=document['getElementById'](_0xbbc3f(0x211));if(_0x257e4c==0x64||_0x257e4c==0x67){_0x257e4c==0x64&&(_0x2d66a4[_0xbbc3f(0x13a)]=_0xbbc3f(0x19b));_0x257e4c==0x67&&(_0x2d66a4[_0xbbc3f(0x13a)]=_0xbbc3f(0x16f));fill_initMultiSelect({'containerSelector':_0xbbc3f(0x175),'dataSource':myCompany['setCustomers'],'mapItem':({setCustomerId:_0x5da056,setCustomerName:_0x392ade})=>({'id':_0x5da056,'text':_0x392ade}),'filterArray':fil_CustomersId}),fill_initMultiSelect({'containerSelector':_0xbbc3f(0x205),'dataSource':myCompany[_0xbbc3f(0x1c2)],'mapItem':({setTipoOperacionCodigo:_0x2633e8,setTipoOperacionName:_0x8241da})=>({'id':_0x2633e8,'text':_0x8241da}),'filterArray':fil_OperationsType}),fill_initMultiSelect({'containerSelector':_0xbbc3f(0x176),'dataSource':myCompany[_0xbbc3f(0x145)],'mapItem':({setBranchId:_0x5c1277,setBranchName:_0x1c389c})=>({'id':_0x5c1277,'text':_0x1c389c}),'filterArray':fil_BranchesId});let _0x3a6955;_0x257e4c==0x64&&(_0x3a6955=[{'text':_0xbbc3f(0x1e2),'width':_0xbbc3f(0x14d)},{'text':'Serie','width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1b6),'width':'150px'},{'text':_0xbbc3f(0x218),'width':_0xbbc3f(0x171)},{'text':_0xbbc3f(0x178),'width':'100px'},{'text':_0xbbc3f(0x15e),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1fd),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1e4),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x208),'width':'100px'},{'text':_0xbbc3f(0x155),'width':_0xbbc3f(0x14d)},{'text':'Window','width':'100px'},{'text':_0xbbc3f(0x1cb),'width':'120px'},{'text':_0xbbc3f(0x19c),'width':_0xbbc3f(0x1c0)},{'text':'Almacén','width':_0xbbc3f(0x1c0)},{'text':_0xbbc3f(0x1aa),'width':'120px'},{'text':'Notas','width':_0xbbc3f(0x14d)},{'text':'Moneda','width':_0xbbc3f(0x1c0)},{'text':_0xbbc3f(0x179),'width':'120px'},{'text':'Desc.\x20Global','width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1be),'width':'100px'},{'text':_0xbbc3f(0x1ce),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1de),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x154),'width':'100px'},{'text':'Op.\x20Gravadas','width':_0xbbc3f(0x14d)},{'text':'Op.\x20Exoneradas','width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1f5),'width':'100px'},{'text':_0xbbc3f(0x1cc),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x185),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x190),'width':_0xbbc3f(0x14d)},{'text':'Total\x20Impuestos','width':'100px'},{'text':_0xbbc3f(0x1c9),'width':_0xbbc3f(0x14d)},{'text':'Total','width':_0xbbc3f(0x1c0)},{'text':'Acciones','width':'120px'}]);_0x257e4c==0x67&&(_0x3a6955=[{'text':_0xbbc3f(0x1e2),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1fa),'width':_0xbbc3f(0x14d)},{'text':'Fecha','width':_0xbbc3f(0x203)},{'text':_0xbbc3f(0x14e),'width':_0xbbc3f(0x203)},{'text':_0xbbc3f(0x218),'width':'200px'},{'text':'Condición','width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1ad),'width':_0xbbc3f(0x14d)},{'text':'Vehículo','width':'100px'},{'text':_0xbbc3f(0x208),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x155),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x214),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1aa),'width':_0xbbc3f(0x1c0)},{'text':_0xbbc3f(0x191),'width':'100px'},{'text':'Moneda','width':_0xbbc3f(0x1c0)},{'text':_0xbbc3f(0x18f),'width':'100px'},{'text':_0xbbc3f(0x1be),'width':'100px'},{'text':_0xbbc3f(0x1b0),'width':_0xbbc3f(0x14d)},{'text':'Op.\x20Exoneradas','width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1f5),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1cc),'width':'100px'},{'text':_0xbbc3f(0x185),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x190),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1f4),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x1c9),'width':_0xbbc3f(0x14d)},{'text':_0xbbc3f(0x148),'width':_0xbbc3f(0x1c0)},{'text':_0xbbc3f(0x157),'width':'120px'}]);const _0x2afc9a=document[_0xbbc3f(0x1a4)]('thead'),_0x40ea02=document[_0xbbc3f(0x1a4)]('tr'),_0x212972=document[_0xbbc3f(0x156)]();_0x3a6955[_0xbbc3f(0x15c)](_0x431c3e=>{const _0x4afbd3=_0xbbc3f,_0x128df4=document[_0x4afbd3(0x1a4)]('th');if(typeof _0x431c3e===_0x4afbd3(0x20b))_0x128df4[_0x4afbd3(0x174)]=_0x431c3e;else{_0x128df4['textContent']=_0x431c3e['text']||'';if(_0x431c3e[_0x4afbd3(0x1b8)])_0x128df4['style']['width']=_0x431c3e[_0x4afbd3(0x1b8)];_0x431c3e[_0x4afbd3(0x1c8)]&&typeof _0x431c3e[_0x4afbd3(0x1c8)]==='object'&&Object[_0x4afbd3(0x217)](_0x431c3e[_0x4afbd3(0x1c8)])[_0x4afbd3(0x15c)](([_0x2c149a,_0x970943])=>_0x128df4[_0x4afbd3(0x165)](_0x2c149a,_0x970943));}_0x128df4[_0x4afbd3(0x165)](_0x4afbd3(0x20d),_0x4afbd3(0x17c)),_0x212972[_0x4afbd3(0x1a7)](_0x128df4);}),_0x40ea02[_0xbbc3f(0x1a7)](_0x212972),_0x2afc9a[_0xbbc3f(0x1a7)](_0x40ea02),_0x12bc20[_0xbbc3f(0x1a7)](_0x2afc9a);const _0x19748f=document[_0xbbc3f(0x1a4)]('tbody');_0x19748f['id']='lob_tbody',_0x12bc20[_0xbbc3f(0x1a7)](_0x19748f);}if(_0x257e4c==0x65||_0x257e4c==0x66){_0x257e4c==0x65&&(_0x2d66a4[_0xbbc3f(0x13a)]=_0xbbc3f(0x1a8));_0x257e4c==0x66&&(_0x2d66a4[_0xbbc3f(0x13a)]=_0xbbc3f(0x1c3));const _0x5d9bbd=[{'text':_0xbbc3f(0x1e2),'width':_0xbbc3f(0x14d)},{'text':'Serie','width':'100px'},{'text':_0xbbc3f(0x218),'width':_0xbbc3f(0x171)},{'text':_0xbbc3f(0x1b6),'width':_0xbbc3f(0x203)},{'text':_0xbbc3f(0x15e),'width':_0xbbc3f(0x14d)},{'text':'Moneda','width':'120px'},{'text':_0xbbc3f(0x148),'width':_0xbbc3f(0x1c0)},{'text':'Acciones','width':_0xbbc3f(0x1c0)}],_0x40ef06=document['createElement'](_0xbbc3f(0x1d4)),_0x52c58b=document[_0xbbc3f(0x1a4)]('tr'),_0x58ada4=document[_0xbbc3f(0x156)]();_0x5d9bbd[_0xbbc3f(0x15c)](_0x204fd9=>{const _0x1bc272=_0xbbc3f,_0x2c2e71=document[_0x1bc272(0x1a4)]('th');if(typeof _0x204fd9===_0x1bc272(0x20b))_0x2c2e71['textContent']=_0x204fd9;else{_0x2c2e71[_0x1bc272(0x174)]=_0x204fd9[_0x1bc272(0x1fb)]||'';if(_0x204fd9[_0x1bc272(0x1b8)])_0x2c2e71[_0x1bc272(0x160)]['width']=_0x204fd9[_0x1bc272(0x1b8)];_0x204fd9['attrs']&&typeof _0x204fd9[_0x1bc272(0x1c8)]==='object'&&Object[_0x1bc272(0x217)](_0x204fd9['attrs'])['forEach'](([_0x5ed1c7,_0x16b7be])=>_0x2c2e71['setAttribute'](_0x5ed1c7,_0x16b7be));}_0x2c2e71[_0x1bc272(0x165)](_0x1bc272(0x20d),_0x1bc272(0x17c)),_0x58ada4[_0x1bc272(0x1a7)](_0x2c2e71);}),_0x52c58b['appendChild'](_0x58ada4),_0x40ef06[_0xbbc3f(0x1a7)](_0x52c58b),_0x12bc20[_0xbbc3f(0x1a7)](_0x40ef06);const _0xa10c22=document[_0xbbc3f(0x1a4)](_0xbbc3f(0x215));_0xa10c22['id']=_0xbbc3f(0x20a),_0x12bc20['appendChild'](_0xa10c22);}}window['onload']=function(){const _0x5482d=_0x4f57c6,_0x5690d2=0x3;loadLoginContent(_0x5482d(0x1e8)),setUserNameGet(),setEventBtnAccess();const _0x566e23=document['querySelector'](_0x5482d(0x199));_0x566e23&&_0x566e23['addEventListener'](_0x5482d(0x182),function(){logoutReload(0x0,_0x5690d2);}),document[_0x5482d(0x184)](_0x5482d(0x13f))['addEventListener'](_0x5482d(0x138),async function(){const _0x1c6cd6=_0x5482d,_0x50978e=parseInt(this['value']);myCompany[_0x1c6cd6(0x1f0)]=_0x50978e;const _0x1b3b95=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1b3b95),await cargarPisos(_0x50978e),await waitForEvent(_0x1c6cd6(0x153),_0x1c6cd6(0x196)),await cargarAlmacenes(_0x50978e),await waitForEvent(_0x1c6cd6(0x1ff),'WarehouseChangeComplete'),document[_0x1c6cd6(0x143)](new Event('BranchChangeComplete')),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId['push'](_0x50978e),consultReport(report_type,_0x1c6cd6(0x1c7),_0x1c6cd6(0x1e9),_0x1c6cd6(0x1c7),_0x1c6cd6(0x1e9),_0x1c6cd6(0x1c7),_0x1c6cd6(0x1e9));}),document['getElementById'](_0x5482d(0x1ff))[_0x5482d(0x1e0)]('change',async function(){const _0x4c36d9=_0x5482d;document[_0x4c36d9(0x143)](new Event(_0x4c36d9(0x17a)));}),document[_0x5482d(0x184)](_0x5482d(0x153))['addEventListener'](_0x5482d(0x138),async function(_0x561fe6){const _0x326bc9=_0x5482d;document[_0x326bc9(0x143)](new Event('EnvironmentChangeComplete'));}),loadCartAndSetTabCount(_0x5690d2);};