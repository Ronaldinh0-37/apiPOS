/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.0
*/

(function(_0x444b0a,_0x2b6118){var _0xc44eca=_0x421e,_0x5cdc3c=_0x444b0a();while(!![]){try{var _0x464a6b=-parseInt(_0xc44eca(0xf6))/0x1+parseInt(_0xc44eca(0xfa))/0x2*(parseInt(_0xc44eca(0xff))/0x3)+parseInt(_0xc44eca(0xfb))/0x4*(-parseInt(_0xc44eca(0xe9))/0x5)+-parseInt(_0xc44eca(0x132))/0x6*(-parseInt(_0xc44eca(0xd7))/0x7)+parseInt(_0xc44eca(0x115))/0x8*(parseInt(_0xc44eca(0xfe))/0x9)+-parseInt(_0xc44eca(0xdf))/0xa*(parseInt(_0xc44eca(0x12f))/0xb)+parseInt(_0xc44eca(0xf0))/0xc*(parseInt(_0xc44eca(0x140))/0xd);if(_0x464a6b===_0x2b6118)break;else _0x5cdc3c['push'](_0x5cdc3c['shift']());}catch(_0xcde00b){_0x5cdc3c['push'](_0x5cdc3c['shift']());}}}(_0x3d5e,0x891ee));var _0x1c9289=(function(){var _0x334fba=!![];return function(_0x54cd58,_0x5e5ef7){var _0x2b50f1=_0x334fba?function(){var _0xd563c4=_0x421e;if(_0x5e5ef7){var _0x195213=_0x5e5ef7[_0xd563c4(0xd3)](_0x54cd58,arguments);return _0x5e5ef7=null,_0x195213;}}:function(){};return _0x334fba=![],_0x2b50f1;};}()),_0x4c1b9e=_0x1c9289(this,function(){var _0x167ccc=_0x421e;return _0x4c1b9e['toString']()[_0x167ccc(0x11e)](_0x167ccc(0x137))[_0x167ccc(0xdc)]()[_0x167ccc(0x11a)](_0x4c1b9e)[_0x167ccc(0x11e)]('(((.+)+)+)+$');});_0x4c1b9e();function _0x421e(_0x57eafc,_0x13aee5){var _0x13cb22=_0x3d5e();return _0x421e=function(_0x138bde,_0x463e33){_0x138bde=_0x138bde-0xc9;var _0x1f2e94=_0x13cb22[_0x138bde];return _0x1f2e94;},_0x421e(_0x57eafc,_0x13aee5);}var _0x463e33=(function(){var _0x29fe1a=!![];return function(_0x3fbce5,_0x4263ec){var _0x5dfe3c=_0x29fe1a?function(){var _0x15bed9=_0x421e;if(_0x4263ec){var _0x171532=_0x4263ec[_0x15bed9(0xd3)](_0x3fbce5,arguments);return _0x4263ec=null,_0x171532;}}:function(){};return _0x29fe1a=![],_0x5dfe3c;};}()),_0x138bde=_0x463e33(this,function(){var _0x59d4e0=_0x421e,_0x166d33;try{var _0x4c9342=Function(_0x59d4e0(0xe5)+_0x59d4e0(0x129)+');');_0x166d33=_0x4c9342();}catch(_0x2766dd){_0x166d33=window;}var _0x3a044e=_0x166d33[_0x59d4e0(0xde)]=_0x166d33[_0x59d4e0(0xde)]||{},_0x90e5cc=[_0x59d4e0(0x11d),_0x59d4e0(0xfd),'info','error',_0x59d4e0(0x10e),'table',_0x59d4e0(0x122)];for(var _0x5d8c61=0x0;_0x5d8c61<_0x90e5cc[_0x59d4e0(0x110)];_0x5d8c61++){var _0x1acf6c=_0x463e33['constructor'][_0x59d4e0(0xe8)][_0x59d4e0(0xe0)](_0x463e33),_0x2bc16b=_0x90e5cc[_0x5d8c61],_0x4f5e8b=_0x3a044e[_0x2bc16b]||_0x1acf6c;_0x1acf6c[_0x59d4e0(0x134)]=_0x463e33[_0x59d4e0(0xe0)](_0x463e33),_0x1acf6c[_0x59d4e0(0xdc)]=_0x4f5e8b['toString'][_0x59d4e0(0xe0)](_0x4f5e8b),_0x3a044e[_0x2bc16b]=_0x1acf6c;}});_0x138bde();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11,0x13,0x14,0x15];async function apiERPupdateUsersOnline(_0x354fb1,_0x2b960c){var _0x4b75a6=_0x421e;if(!isOnline())return console['log'](_0x4b75a6(0x138)),Promise['reject'](_0x4b75a6(0x138));const _0x5b79b4={'setAuthToken':_0x354fb1,'setUsers':_0x2b960c};return fetch('https://apierp.dev/api/users/update/',{'method':_0x4b75a6(0xcb),'headers':{'Content-Type':_0x4b75a6(0x118)},'body':JSON[_0x4b75a6(0x11b)](_0x5b79b4)})[_0x4b75a6(0x109)](_0x50bfc8=>{var _0x6076a9=_0x4b75a6;if(!_0x50bfc8['ok'])throw new Error('Error\x20Sync:\x20'+_0x50bfc8[_0x6076a9(0x106)]);return _0x50bfc8[_0x6076a9(0x119)]();})[_0x4b75a6(0x109)](_0xba2161=>{var _0x4b865a=_0x4b75a6;if(!_0xba2161[_0x4b865a(0xca)])throw new Error(_0xba2161[_0x4b865a(0xe3)]||'Error\x20desconocido\x20al\x20actualizar\x20Data.');return console[_0x4b865a(0x11d)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0xba2161;})[_0x4b75a6(0xe1)](_0x31c2a2=>{var _0x1991dd=_0x4b75a6;console[_0x1991dd(0x10a)]('Error\x20al\x20actualizar\x20data\x20online:',_0x31c2a2);throw _0x31c2a2;});}async function apiERPsyncUsers(){isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0]['setAuthToken'],company[0x0]['setUsers']));}function generatePermissionsPanel(_0x4bfb9b){var _0x4dbaa4=_0x421e,_0x10402c=document[_0x4dbaa4(0x130)](_0x4dbaa4(0x112));_0x10402c[_0x4dbaa4(0x105)]='';var _0x161df5=_0x4bfb9b[0x0]&&_0x4bfb9b[0x0][_0x4dbaa4(0x108)]||[],_0x17f7e1=_0x4bfb9b[0x0]&&_0x4bfb9b[0x0][_0x4dbaa4(0x139)]||[];for(var _0x4eaff8=0x0;_0x4eaff8<_0x161df5['length'];_0x4eaff8++){var _0x2d8029=_0x161df5[_0x4eaff8],_0x300047=document[_0x4dbaa4(0x128)](_0x4dbaa4(0xed));_0x300047[_0x4dbaa4(0x12e)]=_0x4dbaa4(0xd2),_0x300047['id']=_0x4dbaa4(0xfc)+_0x4eaff8;var _0xc71fc6=document[_0x4dbaa4(0x128)]('h3');_0xc71fc6[_0x4dbaa4(0x12e)]=_0x4dbaa4(0xd8),_0xc71fc6[_0x4dbaa4(0x11f)]=_0x2d8029[_0x4dbaa4(0x125)]||_0x4dbaa4(0x124)+(_0x4eaff8+0x1),_0x300047[_0x4dbaa4(0xf3)](_0xc71fc6);var _0x1a2aad=document[_0x4dbaa4(0x128)](_0x4dbaa4(0xed));_0x1a2aad['className']=_0x4dbaa4(0x107);for(var _0x3db2f6=0x0;_0x3db2f6<_0x2d8029[_0x4dbaa4(0x116)][_0x4dbaa4(0x110)];_0x3db2f6++){var _0x1740cc=_0x2d8029['setPermissions'][_0x3db2f6],_0x38601d=document[_0x4dbaa4(0x128)](_0x4dbaa4(0xed));_0x38601d[_0x4dbaa4(0x12e)]=_0x4dbaa4(0xea),_0x38601d[_0x4dbaa4(0x12b)][_0x4dbaa4(0x12d)]=_0x4eaff8,_0x38601d[_0x4dbaa4(0x12b)]['permIndex']=_0x3db2f6;var _0x40defd=Number(_0x1740cc[_0x4dbaa4(0xf9)]),_0x1a030c=document[_0x4dbaa4(0x128)](_0x4dbaa4(0xd4));_0x1a030c[_0x4dbaa4(0x12e)]=_0x4dbaa4(0x10d),_0x1a030c['disabled']=!![];if(BOOLEAN_PERMS[_0x4dbaa4(0x103)](_0x1740cc[_0x4dbaa4(0xf7)])!==-0x1){var _0x120db3=document['createElement'](_0x4dbaa4(0xce));_0x120db3[_0x4dbaa4(0x11c)]='0',_0x120db3[_0x4dbaa4(0x11f)]=_0x1740cc[_0x4dbaa4(0x121)],_0x1a030c['appendChild'](_0x120db3);var _0x4e235e=document[_0x4dbaa4(0x128)]('option');_0x4e235e[_0x4dbaa4(0x11c)]='1',_0x4e235e[_0x4dbaa4(0x11f)]=_0x1740cc[_0x4dbaa4(0xcc)],_0x1a030c[_0x4dbaa4(0xf3)](_0x4e235e),_0x1a030c['value']=String(_0x40defd);}else{if(_0x1740cc[_0x4dbaa4(0xf7)]===0x9||_0x1740cc[_0x4dbaa4(0xf7)]===0xc||_0x1740cc[_0x4dbaa4(0xf7)]===0x12){if(_0x1740cc[_0x4dbaa4(0xf7)]===0x9){var _0x5ea5a0=document[_0x4dbaa4(0x128)](_0x4dbaa4(0xce));_0x5ea5a0[_0x4dbaa4(0x11c)]='0',_0x5ea5a0[_0x4dbaa4(0x11f)]=_0x1740cc[_0x4dbaa4(0x121)],_0x1a030c[_0x4dbaa4(0xf3)](_0x5ea5a0);for(var _0x20f4cf=0x0;_0x20f4cf<_0x17f7e1[_0x4dbaa4(0x110)];_0x20f4cf++){var _0x591c23=_0x17f7e1[_0x20f4cf],_0x36cffc=document[_0x4dbaa4(0x128)](_0x4dbaa4(0xce));_0x36cffc[_0x4dbaa4(0x11c)]=String(_0x591c23[_0x4dbaa4(0xf4)]),_0x36cffc[_0x4dbaa4(0x11f)]=_0x591c23[_0x4dbaa4(0x113)],_0x1a030c[_0x4dbaa4(0xf3)](_0x36cffc);}}if(_0x1740cc[_0x4dbaa4(0xf7)]===0xc)for(var _0x20f4cf=0x1;_0x20f4cf<=0x4;_0x20f4cf++){var _0x591c23=_0x20f4cf,_0x36cffc=document['createElement'](_0x4dbaa4(0xce));_0x36cffc['value']=String(_0x591c23),_0x36cffc['textContent']=_0x4dbaa4(0x10f)+_0x591c23,_0x1a030c[_0x4dbaa4(0xf3)](_0x36cffc);}if(_0x1740cc['setPermissionId']===0x12){var _0x3fd89c=myCompany&&myCompany[_0x4dbaa4(0xe7)]||[],_0x5ea5a0=document[_0x4dbaa4(0x128)]('option');_0x5ea5a0[_0x4dbaa4(0x11c)]='0',_0x5ea5a0[_0x4dbaa4(0x11f)]=_0x1740cc['setPermissionNameFalse'],_0x1a030c['appendChild'](_0x5ea5a0);for(var _0x20f4cf=0x0;_0x20f4cf<_0x3fd89c['length'];_0x20f4cf++){var _0x591c23=_0x3fd89c[_0x20f4cf],_0x36cffc=document[_0x4dbaa4(0x128)](_0x4dbaa4(0xce));_0x36cffc[_0x4dbaa4(0x11c)]=String(_0x591c23[_0x4dbaa4(0xd6)]),_0x36cffc[_0x4dbaa4(0x11f)]=_0x591c23[_0x4dbaa4(0x12c)],_0x1a030c[_0x4dbaa4(0xf3)](_0x36cffc);}}_0x1a030c[_0x4dbaa4(0x11c)]=String(_0x40defd);}}_0x38601d[_0x4dbaa4(0xf3)](_0x1a030c),_0x1a2aad['appendChild'](_0x38601d);}_0x300047[_0x4dbaa4(0xf3)](_0x1a2aad);var _0x10318f=document[_0x4dbaa4(0x128)](_0x4dbaa4(0xdb));_0x10318f[_0x4dbaa4(0x12e)]=_0x4dbaa4(0x111),_0x10318f[_0x4dbaa4(0x11f)]=_0x4dbaa4(0xf2),_0x10318f[_0x4dbaa4(0x12b)][_0x4dbaa4(0x12d)]=_0x4eaff8;var _0x3f8d56=document['createElement'](_0x4dbaa4(0xdb));_0x3f8d56[_0x4dbaa4(0x12e)]='userPerm_saveBtn',_0x3f8d56['textContent']=_0x4dbaa4(0x127),_0x3f8d56[_0x4dbaa4(0x12b)][_0x4dbaa4(0x12d)]=_0x4eaff8,_0x3f8d56[_0x4dbaa4(0x10b)][_0x4dbaa4(0xe4)]=_0x4dbaa4(0xcf),_0x300047[_0x4dbaa4(0xf3)](_0x10318f),_0x300047[_0x4dbaa4(0xf3)](_0x3f8d56),_0x10402c[_0x4dbaa4(0xf3)](_0x300047),_0x10318f[_0x4dbaa4(0xd5)]('click',onEditClick),_0x3f8d56[_0x4dbaa4(0xd5)](_0x4dbaa4(0x13e),onSaveClick);}}function onEditClick(_0x56458a){var _0x4b3e69=_0x421e,_0x43ca5d=_0x56458a[_0x4b3e69(0x13a)]['dataset'][_0x4b3e69(0x12d)],_0x31da43=document[_0x4b3e69(0x130)](_0x4b3e69(0xfc)+_0x43ca5d),_0x48b6dd=_0x31da43['getElementsByClassName'](_0x4b3e69(0x10d));for(var _0x50bd88=0x0;_0x50bd88<_0x48b6dd[_0x4b3e69(0x110)];_0x50bd88++){_0x48b6dd[_0x50bd88]['disabled']=![];}_0x31da43[_0x4b3e69(0xcd)]('.userPerm_editBtn')[_0x4b3e69(0x10b)][_0x4b3e69(0xe4)]='none',_0x31da43[_0x4b3e69(0xcd)](_0x4b3e69(0xe6))[_0x4b3e69(0x10b)][_0x4b3e69(0xe4)]='block',_0x31da43[_0x4b3e69(0x12e)]=_0x4b3e69(0xdd);}async function onSaveClick(_0x50f1f8){var _0x119f99=_0x421e,_0x179a69=_0x50f1f8[_0x119f99(0x13a)][_0x119f99(0x12b)]['userIndex'],_0x3c18b9=document['getElementById'](_0x119f99(0xfc)+_0x179a69),_0x3d59f8=_0x3c18b9['getElementsByClassName'](_0x119f99(0xea));for(var _0x596086=0x0;_0x596086<_0x3d59f8[_0x119f99(0x110)];_0x596086++){var _0x583bcd=_0x3d59f8[_0x596086],_0x172533=parseInt(_0x583bcd['dataset'][_0x119f99(0x12d)],0xa),_0x549b4d=parseInt(_0x583bcd[_0x119f99(0x12b)][_0x119f99(0xd1)],0xa),_0x587d5a=company[0x0][_0x119f99(0x108)][_0x172533][_0x119f99(0x116)][_0x549b4d],_0x3b5e6e=_0x583bcd[_0x119f99(0x13b)](_0x119f99(0x10d))[0x0],_0x519f0a=_0x3b5e6e[_0x119f99(0x11c)];_0x587d5a[_0x119f99(0xf9)]=_0x519f0a,_0x3b5e6e[_0x119f99(0x13f)]=!![],company[0x0]['setUsers'][_0x172533][_0x119f99(0x123)]=new Date();}const _0x1ba48d=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1ba48d),_0x3c18b9[_0x119f99(0xcd)](_0x119f99(0xe6))['style']['display']=_0x119f99(0xcf),_0x3c18b9['querySelector']('.userPerm_editBtn')[_0x119f99(0x10b)]['display']='inline-block',_0x3c18b9[_0x119f99(0x12e)]=_0x119f99(0xd2),apiERPsyncUsers();}function _0x3d5e(){var _0x4f78a6=['setPermissionId','tbody','setPermissionValue','1382YcepVk','1687276DihZoq','userPerm_container_','warn','86841gAVrbT','2313cCLmeS','offline_operations','setBranchId','table','indexOf','result','innerHTML','statusText','userPerm_list','setUsers','then','error','style','onsuccess','userPerm_select','exception','NÃºmero\x20de\x20Decimales:\x20','length','userPerm_editBtn','panel_users','setTipoOperacionName','setMessage','80vNqBia','setPermissions','offlineOps_table','application/json','json','constructor','stringify','value','log','search','textContent','onerror','setPermissionNameFalse','trace','setLastDateUpdate','Usuario\x20','setUserFullName','dispatchEvent','Guardar','createElement','{}.constructor(\x22return\x20this\x22)(\x20)','panel_operations','dataset','setEmailCredentialsSenderEmail','userIndex','className','220SnXdwd','getElementById','./img/apiPOS.png','6NKUHAD','Correlativo','__proto__','setWarehouseId','apiPOSsendOffline','(((.+)+)+)+$','Error\x20Network.','setTipoOperaciones','target','getElementsByClassName','change','Tipo','click','disabled','1016717acjqtZ','readonly','success','POST','setPermissionNameTrue','querySelector','option','none','.btn-logout','permIndex','userPerm_container\x20border_blue','apply','select','addEventListener','setEmailCredentialsId','4869067BKwKNz','userPerm_header','setFechaHora','Fecha','button','toString','userPerm_container\x20border_orange','console','134510NHmVOr','bind','catch','push','message','display','return\x20(function()\x20','.userPerm_saveBtn','setEmailCredentials','prototype','5TXcTCI','userPerm_item','setSerie','getAll','div','forEach','setTipoOperacion','132ooXmfO','setCorrelativo','Editar','appendChild','setTipoOperacionCodigo','No\x20hay\x20operaciones\x20pendientes.','932646YOlQSu'];_0x3d5e=function(){return _0x4f78a6;};return _0x3d5e();}function generateOfflineOperationsTable(){var _0x1486c8=_0x421e,_0x54c280=document[_0x1486c8(0x130)](_0x1486c8(0x12a));return _0x54c280[_0x1486c8(0x105)]='',createCartStore('')[_0x1486c8(0x109)](function(_0x26d0cf){var _0x759d1a=_0x1486c8,_0x7f5729=_0x26d0cf['transaction'](_0x759d1a(0x100),_0x759d1a(0xc9)),_0x41f1f2=_0x7f5729['objectStore'](_0x759d1a(0x100));return new Promise(function(_0x4dcd1d,_0x4cf227){var _0x583438=_0x759d1a,_0x347463=_0x41f1f2[_0x583438(0xec)]();_0x347463[_0x583438(0x10c)]=function(){var _0x496c2f=_0x583438;_0x4dcd1d(_0x347463[_0x496c2f(0x104)]);},_0x347463[_0x583438(0x120)]=function(){var _0x1c6eac=_0x583438;_0x4cf227(_0x347463[_0x1c6eac(0x10a)]);};});})[_0x1486c8(0x109)](function(_0x59da6c){var _0xebcc6=_0x1486c8,_0x54f107=[];for(var _0x50028=0x0;_0x50028<_0x59da6c['length'];_0x50028++){_0x59da6c[_0x50028][_0xebcc6(0x136)]==0x1&&_0x54f107[_0xebcc6(0xe2)](_0x59da6c[_0x50028]);}if(_0x54f107[_0xebcc6(0x110)]===0x0){_0x54c280[_0xebcc6(0x11f)]=_0xebcc6(0xf5);return;}var _0x50028e=document[_0xebcc6(0x128)](_0xebcc6(0x102));_0x50028e[_0xebcc6(0x12e)]=_0xebcc6(0x117);var _0x1a183e=document[_0xebcc6(0x128)]('thead'),_0x259362=document[_0xebcc6(0x128)]('tr');[_0xebcc6(0x13d),'Serie',_0xebcc6(0x133),_0xebcc6(0xda),'Motivo'][_0xebcc6(0xee)](function(_0x352ac6){var _0x563866=_0xebcc6,_0x329af5=document[_0x563866(0x128)]('th');_0x329af5[_0x563866(0x11f)]=_0x352ac6,_0x259362[_0x563866(0xf3)](_0x329af5);}),_0x1a183e[_0xebcc6(0xf3)](_0x259362),_0x50028e[_0xebcc6(0xf3)](_0x1a183e);var _0x4287c2=document[_0xebcc6(0x128)](_0xebcc6(0xf8));_0x54f107[_0xebcc6(0xee)](function(_0x2c0578){var _0xc7dc00=_0xebcc6,_0x65e00a=document['createElement']('tr'),_0x4fcf65=[_0x2c0578[_0xc7dc00(0xef)],_0x2c0578[_0xc7dc00(0xeb)],_0x2c0578[_0xc7dc00(0xf1)],_0x2c0578[_0xc7dc00(0xd9)],_0x2c0578[_0xc7dc00(0x114)]||''];_0x4fcf65[_0xc7dc00(0xee)](function(_0x24e618){var _0x271e37=_0xc7dc00,_0x34007a=document[_0x271e37(0x128)]('td');_0x34007a['textContent']=_0x24e618,_0x65e00a['appendChild'](_0x34007a);}),_0x4287c2['appendChild'](_0x65e00a);}),_0x50028e[_0xebcc6(0xf3)](_0x4287c2),_0x54c280['appendChild'](_0x50028e);})[_0x1486c8(0xe1)](function(_0x4fc2a6){var _0x4784eb=_0x1486c8;console[_0x4784eb(0x10a)]('Error\x20leyendo\x20operaciones:',_0x4fc2a6),_0x54c280['textContent']='Error\x20cargando\x20operaciones.';});}window['onload']=function(){var _0x215e45=_0x421e;const _0x360f54=0x2;loadLoginContent(_0x215e45(0x131)),setUserNameGet(),setEventBtnAccess();const _0x3c70ef=document[_0x215e45(0xcd)](_0x215e45(0xd0));_0x3c70ef&&_0x3c70ef[_0x215e45(0xd5)](_0x215e45(0x13e),function(){logoutReload(0x0,_0x360f54);}),document[_0x215e45(0x130)](_0x215e45(0x101))[_0x215e45(0xd5)]('change',async function(){var _0x363b4a=_0x215e45;const _0x23ed58=parseInt(this[_0x363b4a(0x11c)]);company[0x0]['setBranchDefault']=_0x23ed58;const _0x32edbe=await createCartStore('');await saveCompanyToIndexedDB(company,_0x32edbe),cargarAlmacenes(_0x23ed58),setTimeout(()=>{var _0x3b0283=_0x363b4a;document[_0x3b0283(0x130)](_0x3b0283(0x135))[_0x3b0283(0x126)](new Event(_0x3b0283(0x13c)));},0x64),cargarPisos(_0x23ed58),setTimeout(()=>{var _0x44e53d=_0x363b4a;document['getElementById']('setFloorId')[_0x44e53d(0x126)](new Event(_0x44e53d(0x13c)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x360f54);};