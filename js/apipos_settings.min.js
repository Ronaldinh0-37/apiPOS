/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.1
*/

var _0x5b5152=_0x4972;(function(_0x2cfeca,_0x168af3){var _0x187093=_0x4972,_0x2debe3=_0x2cfeca();while(!![]){try{var _0x322d2f=-parseInt(_0x187093(0x24a))/0x1*(-parseInt(_0x187093(0x1ef))/0x2)+parseInt(_0x187093(0x250))/0x3+-parseInt(_0x187093(0x23a))/0x4+-parseInt(_0x187093(0x223))/0x5*(parseInt(_0x187093(0x259))/0x6)+-parseInt(_0x187093(0x21e))/0x7+parseInt(_0x187093(0x229))/0x8*(parseInt(_0x187093(0x23f))/0x9)+-parseInt(_0x187093(0x1ed))/0xa*(-parseInt(_0x187093(0x25d))/0xb);if(_0x322d2f===_0x168af3)break;else _0x2debe3['push'](_0x2debe3['shift']());}catch(_0x188b90){_0x2debe3['push'](_0x2debe3['shift']());}}}(_0x2b9a,0xea30c));var _0x2cbb10=(function(){var _0x29cac9=!![];return function(_0xb858e4,_0x45bd05){var _0x3f3637=_0x29cac9?function(){var _0x16b323=_0x4972;if(_0x45bd05){var _0x4de986=_0x45bd05[_0x16b323(0x239)](_0xb858e4,arguments);return _0x45bd05=null,_0x4de986;}}:function(){};return _0x29cac9=![],_0x3f3637;};}()),_0x842cd0=_0x2cbb10(this,function(){var _0xd9a19=_0x4972;return _0x842cd0[_0xd9a19(0x1fd)]()[_0xd9a19(0x253)](_0xd9a19(0x1f7))[_0xd9a19(0x1fd)]()[_0xd9a19(0x1ea)](_0x842cd0)[_0xd9a19(0x253)](_0xd9a19(0x1f7));});_0x842cd0();var _0x11ace4=(function(){var _0x43e18c=!![];return function(_0x1b6b46,_0x4ceeaa){var _0xc824b9=_0x43e18c?function(){var _0xfd7a6e=_0x4972;if(_0x4ceeaa){var _0xb03b3e=_0x4ceeaa[_0xfd7a6e(0x239)](_0x1b6b46,arguments);return _0x4ceeaa=null,_0xb03b3e;}}:function(){};return _0x43e18c=![],_0xc824b9;};}()),_0x427df8=_0x11ace4(this,function(){var _0xc1af53=_0x4972,_0x5adcfc=function(){var _0x13467b;try{_0x13467b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2c22cb){_0x13467b=window;}return _0x13467b;},_0x1c3b2d=_0x5adcfc(),_0x21e0cd=_0x1c3b2d['console']=_0x1c3b2d[_0xc1af53(0x201)]||{},_0x3a2ab0=[_0xc1af53(0x220),_0xc1af53(0x208),_0xc1af53(0x22a),'error',_0xc1af53(0x219),_0xc1af53(0x211),_0xc1af53(0x1e8)];for(var _0x5a22c4=0x0;_0x5a22c4<_0x3a2ab0[_0xc1af53(0x252)];_0x5a22c4++){var _0x59a370=_0x11ace4[_0xc1af53(0x1ea)][_0xc1af53(0x20f)][_0xc1af53(0x218)](_0x11ace4),_0x147819=_0x3a2ab0[_0x5a22c4],_0x2daadd=_0x21e0cd[_0x147819]||_0x59a370;_0x59a370['__proto__']=_0x11ace4[_0xc1af53(0x218)](_0x11ace4),_0x59a370[_0xc1af53(0x1fd)]=_0x2daadd[_0xc1af53(0x1fd)][_0xc1af53(0x218)](_0x2daadd),_0x21e0cd[_0x147819]=_0x59a370;}});_0x427df8();function _0x4972(_0x20eeb7,_0x2df471){var _0x2076c1=_0x2b9a();return _0x4972=function(_0x427df8,_0x11ace4){_0x427df8=_0x427df8-0x1e8;var _0x5924ee=_0x2076c1[_0x427df8];return _0x5924ee;},_0x4972(_0x20eeb7,_0x2df471);}var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11];async function apiERPupdateUsersOnline(_0x453b77,_0x36bbf8){var _0x5e7f1d=_0x4972;if(!isOnline())return console[_0x5e7f1d(0x220)](_0x5e7f1d(0x242)),Promise[_0x5e7f1d(0x249)](_0x5e7f1d(0x242));const _0x570d16={'setAuthToken':_0x453b77,'setUsers':_0x36bbf8};return fetch(_0x5e7f1d(0x248),{'method':_0x5e7f1d(0x235),'headers':{'Content-Type':_0x5e7f1d(0x215)},'body':JSON[_0x5e7f1d(0x1f4)](_0x570d16)})['then'](_0x3a5075=>{var _0x3efd39=_0x5e7f1d;if(!_0x3a5075['ok'])throw new Error(_0x3efd39(0x233)+_0x3a5075['statusText']);return _0x3a5075[_0x3efd39(0x1f6)]();})[_0x5e7f1d(0x1f2)](_0x5ebdc8=>{var _0x136c6b=_0x5e7f1d;if(!_0x5ebdc8[_0x136c6b(0x1fc)])throw new Error(_0x5ebdc8[_0x136c6b(0x25e)]||_0x136c6b(0x209));return console[_0x136c6b(0x220)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x5ebdc8;})[_0x5e7f1d(0x1ec)](_0x380fef=>{var _0x1b6183=_0x5e7f1d;console[_0x1b6183(0x22d)](_0x1b6183(0x244),_0x380fef);throw _0x380fef;});}async function apiERPsyncUsers(){var _0x5ef13c=_0x4972;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x5ef13c(0x25b)],company[0x0][_0x5ef13c(0x1ff)]));}function generatePermissionsPanel(_0x582868){var _0x2bda4f=_0x4972,_0xb48406=document[_0x2bda4f(0x232)](_0x2bda4f(0x20c));_0xb48406[_0x2bda4f(0x245)]='';var _0x23048e=_0x582868[0x0]&&_0x582868[0x0]['setUsers']||[],_0x5a075=_0x582868[0x0]&&_0x582868[0x0]['setTipoOperaciones']||[];for(var _0x5d77c1=0x0;_0x5d77c1<_0x23048e[_0x2bda4f(0x252)];_0x5d77c1++){var _0x504c25=_0x23048e[_0x5d77c1],_0x595e15=document[_0x2bda4f(0x236)](_0x2bda4f(0x238));_0x595e15[_0x2bda4f(0x222)]=_0x2bda4f(0x203),_0x595e15['id']='userPerm_container_'+_0x5d77c1;var _0x45cc2d=document[_0x2bda4f(0x236)]('h3');_0x45cc2d[_0x2bda4f(0x222)]=_0x2bda4f(0x1ee),_0x45cc2d['textContent']=_0x504c25[_0x2bda4f(0x21b)]||_0x2bda4f(0x255)+(_0x5d77c1+0x1),_0x595e15[_0x2bda4f(0x1f0)](_0x45cc2d);var _0x1e4bae=document[_0x2bda4f(0x236)](_0x2bda4f(0x238));_0x1e4bae[_0x2bda4f(0x222)]=_0x2bda4f(0x205);for(var _0x4d1ed1=0x0;_0x4d1ed1<_0x504c25[_0x2bda4f(0x22e)][_0x2bda4f(0x252)];_0x4d1ed1++){var _0x15fbc9=_0x504c25[_0x2bda4f(0x22e)][_0x4d1ed1],_0x2ab0ae=document[_0x2bda4f(0x236)](_0x2bda4f(0x238));_0x2ab0ae[_0x2bda4f(0x222)]='userPerm_item',_0x2ab0ae[_0x2bda4f(0x212)][_0x2bda4f(0x1e9)]=_0x5d77c1,_0x2ab0ae['dataset'][_0x2bda4f(0x22f)]=_0x4d1ed1;var _0x2dfe99=Number(_0x15fbc9['setPermissionValue']),_0x269365=document['createElement'](_0x2bda4f(0x224));_0x269365[_0x2bda4f(0x222)]=_0x2bda4f(0x1f3),_0x269365['disabled']=!![];if(BOOLEAN_PERMS[_0x2bda4f(0x225)](_0x15fbc9[_0x2bda4f(0x207)])!==-0x1){var _0x51fb16=document[_0x2bda4f(0x236)]('option');_0x51fb16[_0x2bda4f(0x23c)]='0',_0x51fb16[_0x2bda4f(0x200)]=_0x15fbc9[_0x2bda4f(0x230)],_0x269365[_0x2bda4f(0x1f0)](_0x51fb16);var _0x16a188=document['createElement'](_0x2bda4f(0x214));_0x16a188['value']='1',_0x16a188[_0x2bda4f(0x200)]=_0x15fbc9['setPermissionNameTrue'],_0x269365[_0x2bda4f(0x1f0)](_0x16a188),_0x269365['value']=String(_0x2dfe99);}else{if(_0x15fbc9[_0x2bda4f(0x207)]===0x9||_0x15fbc9[_0x2bda4f(0x207)]===0xc||_0x15fbc9[_0x2bda4f(0x207)]===0x12){if(_0x15fbc9[_0x2bda4f(0x207)]===0x9){var _0x133799=document['createElement']('option');_0x133799[_0x2bda4f(0x23c)]='0',_0x133799[_0x2bda4f(0x200)]=_0x15fbc9['setPermissionNameFalse'],_0x269365['appendChild'](_0x133799);for(var _0x46afa1=0x0;_0x46afa1<_0x5a075[_0x2bda4f(0x252)];_0x46afa1++){var _0xf1d063=_0x5a075[_0x46afa1],_0x51f4fd=document[_0x2bda4f(0x236)](_0x2bda4f(0x214));_0x51f4fd[_0x2bda4f(0x23c)]=String(_0xf1d063[_0x2bda4f(0x20a)]),_0x51f4fd[_0x2bda4f(0x200)]=_0xf1d063[_0x2bda4f(0x20b)],_0x269365['appendChild'](_0x51f4fd);}}if(_0x15fbc9['setPermissionId']===0xc)for(var _0x46afa1=0x1;_0x46afa1<=0x4;_0x46afa1++){var _0xf1d063=_0x46afa1,_0x51f4fd=document['createElement'](_0x2bda4f(0x214));_0x51f4fd[_0x2bda4f(0x23c)]=String(_0xf1d063),_0x51f4fd[_0x2bda4f(0x200)]=_0x2bda4f(0x20d)+_0xf1d063,_0x269365[_0x2bda4f(0x1f0)](_0x51f4fd);}if(_0x15fbc9['setPermissionId']===0x12){var _0x2fec49=myCompany&&myCompany[_0x2bda4f(0x22c)]||[],_0x133799=document[_0x2bda4f(0x236)](_0x2bda4f(0x214));_0x133799[_0x2bda4f(0x23c)]='0',_0x133799['textContent']=_0x15fbc9[_0x2bda4f(0x230)],_0x269365[_0x2bda4f(0x1f0)](_0x133799);for(var _0x46afa1=0x0;_0x46afa1<_0x2fec49[_0x2bda4f(0x252)];_0x46afa1++){var _0xf1d063=_0x2fec49[_0x46afa1],_0x51f4fd=document['createElement'](_0x2bda4f(0x214));_0x51f4fd[_0x2bda4f(0x23c)]=String(_0xf1d063[_0x2bda4f(0x25c)]),_0x51f4fd[_0x2bda4f(0x200)]=_0xf1d063['setEmailCredentialsSenderEmail'],_0x269365[_0x2bda4f(0x1f0)](_0x51f4fd);}}_0x269365[_0x2bda4f(0x23c)]=String(_0x2dfe99);}}_0x2ab0ae[_0x2bda4f(0x1f0)](_0x269365),_0x1e4bae[_0x2bda4f(0x1f0)](_0x2ab0ae);}_0x595e15['appendChild'](_0x1e4bae);var _0x17aa25=document['createElement'](_0x2bda4f(0x247));_0x17aa25[_0x2bda4f(0x222)]=_0x2bda4f(0x25a),_0x17aa25[_0x2bda4f(0x200)]=_0x2bda4f(0x21d),_0x17aa25['dataset'][_0x2bda4f(0x1e9)]=_0x5d77c1;var _0x20120f=document[_0x2bda4f(0x236)](_0x2bda4f(0x247));_0x20120f[_0x2bda4f(0x222)]=_0x2bda4f(0x237),_0x20120f[_0x2bda4f(0x200)]='Guardar',_0x20120f[_0x2bda4f(0x212)][_0x2bda4f(0x1e9)]=_0x5d77c1,_0x20120f['style'][_0x2bda4f(0x251)]='none',_0x595e15[_0x2bda4f(0x1f0)](_0x17aa25),_0x595e15[_0x2bda4f(0x1f0)](_0x20120f),_0xb48406[_0x2bda4f(0x1f0)](_0x595e15),_0x17aa25[_0x2bda4f(0x24f)]('click',onEditClick),_0x20120f[_0x2bda4f(0x24f)](_0x2bda4f(0x202),onSaveClick);}}function onEditClick(_0x182003){var _0x5d6c51=_0x4972,_0xef6ea2=_0x182003[_0x5d6c51(0x21c)][_0x5d6c51(0x212)]['userIndex'],_0x4827a8=document[_0x5d6c51(0x232)]('userPerm_container_'+_0xef6ea2),_0x16473a=_0x4827a8[_0x5d6c51(0x24b)](_0x5d6c51(0x1f3));for(var _0x1e7de3=0x0;_0x1e7de3<_0x16473a['length'];_0x1e7de3++){_0x16473a[_0x1e7de3][_0x5d6c51(0x21f)]=![];}_0x4827a8[_0x5d6c51(0x25f)](_0x5d6c51(0x21a))[_0x5d6c51(0x1eb)][_0x5d6c51(0x251)]=_0x5d6c51(0x1f1),_0x4827a8[_0x5d6c51(0x25f)]('.userPerm_saveBtn')[_0x5d6c51(0x1eb)]['display']=_0x5d6c51(0x20e),_0x4827a8[_0x5d6c51(0x222)]=_0x5d6c51(0x227);}async function onSaveClick(_0x318d7f){var _0xd76c4c=_0x4972,_0x2b5e0e=_0x318d7f['target'][_0xd76c4c(0x212)][_0xd76c4c(0x1e9)],_0x25954f=document[_0xd76c4c(0x232)]('userPerm_container_'+_0x2b5e0e),_0x11f79a=_0x25954f[_0xd76c4c(0x24b)](_0xd76c4c(0x24e));for(var _0x152482=0x0;_0x152482<_0x11f79a['length'];_0x152482++){var _0x3daf97=_0x11f79a[_0x152482],_0x14b6f0=parseInt(_0x3daf97[_0xd76c4c(0x212)][_0xd76c4c(0x1e9)],0xa),_0xce441a=parseInt(_0x3daf97[_0xd76c4c(0x212)][_0xd76c4c(0x22f)],0xa),_0x485450=company[0x0][_0xd76c4c(0x1ff)][_0x14b6f0][_0xd76c4c(0x22e)][_0xce441a],_0x3c74f3=_0x3daf97[_0xd76c4c(0x24b)](_0xd76c4c(0x1f3))[0x0],_0x8f5263=_0x3c74f3[_0xd76c4c(0x23c)];_0x485450[_0xd76c4c(0x204)]=_0x8f5263,_0x3c74f3[_0xd76c4c(0x21f)]=!![],company[0x0][_0xd76c4c(0x1ff)][_0x14b6f0][_0xd76c4c(0x1fe)]=new Date();}const _0x10022c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x10022c),_0x25954f['querySelector']('.userPerm_saveBtn')['style'][_0xd76c4c(0x251)]=_0xd76c4c(0x1f1),_0x25954f['querySelector'](_0xd76c4c(0x21a))[_0xd76c4c(0x1eb)][_0xd76c4c(0x251)]=_0xd76c4c(0x213),_0x25954f[_0xd76c4c(0x222)]=_0xd76c4c(0x203),apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x2cb24e=_0x4972,_0x405d6f=document[_0x2cb24e(0x232)](_0x2cb24e(0x22b));return _0x405d6f[_0x2cb24e(0x245)]='',createCartStore('')[_0x2cb24e(0x1f2)](function(_0xa07965){var _0x2a05ae=_0x2cb24e,_0x392ea2=_0xa07965[_0x2a05ae(0x234)]('offline_operations','readonly'),_0x1189a8=_0x392ea2[_0x2a05ae(0x258)](_0x2a05ae(0x243));return new Promise(function(_0x4404ee,_0x3a4b03){var _0x1f032e=_0x2a05ae,_0x2142c4=_0x1189a8[_0x1f032e(0x24d)]();_0x2142c4[_0x1f032e(0x254)]=function(){var _0x86ae93=_0x1f032e;_0x4404ee(_0x2142c4[_0x86ae93(0x210)]);},_0x2142c4['onerror']=function(){var _0x3278b0=_0x1f032e;_0x3a4b03(_0x2142c4[_0x3278b0(0x22d)]);};});})['then'](function(_0x342073){var _0x732e8b=_0x2cb24e,_0x32d531=[];for(var _0x4b1d54=0x0;_0x4b1d54<_0x342073[_0x732e8b(0x252)];_0x4b1d54++){_0x342073[_0x4b1d54][_0x732e8b(0x226)]==0x1&&_0x32d531['push'](_0x342073[_0x4b1d54]);}if(_0x32d531[_0x732e8b(0x252)]===0x0){_0x405d6f[_0x732e8b(0x200)]='No\x20hay\x20operaciones\x20pendientes.';return;}var _0x4f207d=document[_0x732e8b(0x236)](_0x732e8b(0x211));_0x4f207d[_0x732e8b(0x222)]=_0x732e8b(0x1f8);var _0x19fcfa=document[_0x732e8b(0x236)](_0x732e8b(0x240)),_0x122633=document['createElement']('tr');['Tipo',_0x732e8b(0x231),_0x732e8b(0x23b),_0x732e8b(0x1f9),'Motivo']['forEach'](function(_0x2178ec){var _0x597009=_0x732e8b,_0x3fca4f=document[_0x597009(0x236)]('th');_0x3fca4f[_0x597009(0x200)]=_0x2178ec,_0x122633['appendChild'](_0x3fca4f);}),_0x19fcfa['appendChild'](_0x122633),_0x4f207d['appendChild'](_0x19fcfa);var _0x557895=document[_0x732e8b(0x236)](_0x732e8b(0x257));_0x32d531[_0x732e8b(0x1f5)](function(_0xb72ab9){var _0x386ed9=_0x732e8b,_0xab0957=document[_0x386ed9(0x236)]('tr'),_0x1e569a=[_0xb72ab9[_0x386ed9(0x246)],_0xb72ab9[_0x386ed9(0x241)],_0xb72ab9['setCorrelativo'],_0xb72ab9['setFechaHora'],_0xb72ab9['setMessage']||''];_0x1e569a[_0x386ed9(0x1f5)](function(_0x5eb10e){var _0x3a9ed4=_0x386ed9,_0x15e60e=document['createElement']('td');_0x15e60e[_0x3a9ed4(0x200)]=_0x5eb10e,_0xab0957['appendChild'](_0x15e60e);}),_0x557895['appendChild'](_0xab0957);}),_0x4f207d[_0x732e8b(0x1f0)](_0x557895),_0x405d6f[_0x732e8b(0x1f0)](_0x4f207d);})['catch'](function(_0x65eeb9){var _0x41979e=_0x2cb24e;console['error'](_0x41979e(0x24c),_0x65eeb9),_0x405d6f[_0x41979e(0x200)]=_0x41979e(0x228);});}window[_0x5b5152(0x217)]=function(){var _0x24bb51=_0x5b5152;const _0x4eaa81=0x2;loadLoginContent(_0x24bb51(0x216)),setUserNameGet(),setEventBtnAccess();const _0x54729a=document[_0x24bb51(0x25f)](_0x24bb51(0x23d));_0x54729a&&_0x54729a[_0x24bb51(0x24f)](_0x24bb51(0x202),function(){logoutReload(0x0,_0x4eaa81);}),document['getElementById'](_0x24bb51(0x256))[_0x24bb51(0x24f)](_0x24bb51(0x23e),async function(){var _0x26bbb6=_0x24bb51;const _0x3518d8=parseInt(this['value']);company[0x0][_0x26bbb6(0x1fb)]=_0x3518d8;const _0x31c953=await createCartStore('');await saveCompanyToIndexedDB(company,_0x31c953),cargarAlmacenes(_0x3518d8),setTimeout(()=>{var _0x2c87b9=_0x26bbb6;document[_0x2c87b9(0x232)](_0x2c87b9(0x206))[_0x2c87b9(0x221)](new Event(_0x2c87b9(0x23e)));},0x64),cargarPisos(_0x3518d8),setTimeout(()=>{var _0x1bed08=_0x26bbb6;document['getElementById'](_0x1bed08(0x1fa))[_0x1bed08(0x221)](new Event(_0x1bed08(0x23e)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x4eaa81);};function _0x2b9a(){var _0x3d0693=['setWarehouseId','setPermissionId','warn','Error\x20desconocido\x20al\x20actualizar\x20Data.','setTipoOperacionCodigo','setTipoOperacionName','panel_users','NÃºmero\x20de\x20Decimales:\x20','block','prototype','result','table','dataset','inline-block','option','application/json','./img/apiPOS.png','onload','bind','exception','.userPerm_editBtn','setUserFullName','target','Editar','8455874NDkysG','disabled','log','dispatchEvent','className','3490ASsWfw','select','indexOf','apiPOSsendOffline','userPerm_container\x20border_orange','Error\x20cargando\x20operaciones.','760hWYnrq','info','panel_operations','setEmailCredentials','error','setPermissions','permIndex','setPermissionNameFalse','Serie','getElementById','Error\x20Sync:\x20','transaction','POST','createElement','userPerm_saveBtn','div','apply','4510496ilSRRM','Correlativo','value','.btn-logout','change','110529BiBHzf','thead','setSerie','Error\x20Network.','offline_operations','Error\x20al\x20actualizar\x20data\x20online:','innerHTML','setTipoOperacion','button','https://apierp.dev/api/users/update/','reject','101Koczyz','getElementsByClassName','Error\x20leyendo\x20operaciones:','getAll','userPerm_item','addEventListener','1955304kAAgpS','display','length','search','onsuccess','Usuario\x20','setBranchId','tbody','objectStore','10638TnrkDo','userPerm_editBtn','setAuthToken','setEmailCredentialsId','236973QREVtr','message','querySelector','trace','userIndex','constructor','style','catch','1000bTonVo','userPerm_header','11082CFoiSi','appendChild','none','then','userPerm_select','stringify','forEach','json','(((.+)+)+)+$','offlineOps_table','Fecha','setFloorId','setBranchDefault','success','toString','setLastDateUpdate','setUsers','textContent','console','click','userPerm_container\x20border_blue','setPermissionValue','userPerm_list'];_0x2b9a=function(){return _0x3d0693;};return _0x2b9a();}