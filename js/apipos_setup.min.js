/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.0
*/

const _0x45866f=_0x48a1;(function(_0x32e36b,_0x1ab6e1){const _0x1ca018=_0x48a1,_0x44fb2c=_0x32e36b();while(!![]){try{const _0x10f843=parseInt(_0x1ca018(0x256))/0x1+parseInt(_0x1ca018(0x13e))/0x2*(-parseInt(_0x1ca018(0x1ef))/0x3)+parseInt(_0x1ca018(0x1ad))/0x4+parseInt(_0x1ca018(0x1f5))/0x5*(parseInt(_0x1ca018(0x2a1))/0x6)+-parseInt(_0x1ca018(0x2cf))/0x7*(-parseInt(_0x1ca018(0x11c))/0x8)+-parseInt(_0x1ca018(0x139))/0x9+parseInt(_0x1ca018(0x269))/0xa*(parseInt(_0x1ca018(0x2d9))/0xb);if(_0x10f843===_0x1ab6e1)break;else _0x44fb2c['push'](_0x44fb2c['shift']());}catch(_0x2488de){_0x44fb2c['push'](_0x44fb2c['shift']());}}}(_0x105e,0x5af6b));const _0x4630de=(function(){let _0x1407da=!![];return function(_0x3b3ca1,_0x250271){const _0x2d5908=_0x1407da?function(){const _0xb7d672=_0x48a1;if(_0x250271){const _0xb55af4=_0x250271[_0xb7d672(0x126)](_0x3b3ca1,arguments);return _0x250271=null,_0xb55af4;}}:function(){};return _0x1407da=![],_0x2d5908;};}()),_0x2f1fb6=_0x4630de(this,function(){const _0x2900ee=_0x48a1;return _0x2f1fb6[_0x2900ee(0x16e)]()[_0x2900ee(0x16d)](_0x2900ee(0x294))[_0x2900ee(0x16e)]()[_0x2900ee(0x2b6)](_0x2f1fb6)[_0x2900ee(0x16d)](_0x2900ee(0x294));});_0x2f1fb6();const _0x270ccc=(function(){let _0x127663=!![];return function(_0x17b530,_0x5caabc){const _0x3964b9=_0x127663?function(){if(_0x5caabc){const _0x58c487=_0x5caabc['apply'](_0x17b530,arguments);return _0x5caabc=null,_0x58c487;}}:function(){};return _0x127663=![],_0x3964b9;};}()),_0x20fa05=_0x270ccc(this,function(){const _0x327c28=_0x48a1;let _0x5e8440;try{const _0x240b5e=Function('return\x20(function()\x20'+_0x327c28(0x1ac)+');');_0x5e8440=_0x240b5e();}catch(_0x5a8c16){_0x5e8440=window;}const _0x21bf95=_0x5e8440[_0x327c28(0x156)]=_0x5e8440[_0x327c28(0x156)]||{},_0x3b2640=['log',_0x327c28(0x234),_0x327c28(0x2c8),'error',_0x327c28(0x1a2),'table',_0x327c28(0x219)];for(let _0x70b114=0x0;_0x70b114<_0x3b2640[_0x327c28(0x1fd)];_0x70b114++){const _0x3c8aca=_0x270ccc[_0x327c28(0x2b6)][_0x327c28(0x1b9)]['bind'](_0x270ccc),_0x340805=_0x3b2640[_0x70b114],_0x4d9e9f=_0x21bf95[_0x340805]||_0x3c8aca;_0x3c8aca[_0x327c28(0x169)]=_0x270ccc[_0x327c28(0x150)](_0x270ccc),_0x3c8aca['toString']=_0x4d9e9f[_0x327c28(0x16e)][_0x327c28(0x150)](_0x4d9e9f),_0x21bf95[_0x340805]=_0x3c8aca;}});_0x20fa05();let myCompany,db=null,dbPromise=null,db_name=_0x45866f(0x17f),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0x45866f(0x2d4),_0x45866f(0x173),'marzo',_0x45866f(0x2da),_0x45866f(0x1df),_0x45866f(0x278),_0x45866f(0x2bd),_0x45866f(0x158),'septiembre',_0x45866f(0x296),_0x45866f(0x17d),_0x45866f(0x1e4)],gdfg5g=_0x45866f(0x25e),x45fgd='x3',xjehd78='xpos',cxkdj4=_0x45866f(0x196),x87s8d='x32',mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s='32system',kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0x45866f(0x222),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x45866f(0x26b),xg123f=_0x45866f(0x15d),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x45866f(0x183),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x45866f(0x157),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x45866f(0x17a),mx92n='p',xeeuu='r',xs98x='a',pcrtx='ltop',x78xh='r',px32b='o',x64x44x54=_0x45866f(0x174),x64x32x33=_0x45866f(0x1f7),kkx12='s',ak47r=_0x45866f(0x133),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x45866f(0x258),p34d9='d',kx32h='v',yx34l='p',pltbr='lbtom',setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x45866f(0x197),_0x45866f(0x214),'mx16',_0x45866f(0x233),_0x45866f(0x247),_0x45866f(0x2cc),_0x45866f(0x12d),_0x45866f(0x11f),_0x45866f(0x2af),_0x45866f(0x17c),'uy10'],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x45866f(0x29f)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x45866f(0x1cb),_0x45866f(0x23f),_0x45866f(0x202),_0x45866f(0x227),_0x45866f(0x132),_0x45866f(0x128)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0x45866f(0x29f)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x45866f(0x29f)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x45866f(0x29f)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0x2b4b31){const _0x29d2ba=_0x45866f,_0x4f2538=new URLSearchParams(window['location'][_0x29d2ba(0x16d)]);return _0x4f2538[_0x29d2ba(0x240)](_0x2b4b31);}function setUserNameGet(){const _0x5c2583=_0x45866f,_0x5cbcf0=getQueryParam('username'),_0x5d7479=document[_0x5c2583(0x225)]('usuario');_0x5cbcf0&&_0x5d7479&&(_0x5d7479['value']=_0x5cbcf0);}function generateUniqId(){const _0xf582ce=_0x45866f;return Date[_0xf582ce(0x283)]()+'_'+Math[_0xf582ce(0x200)]()[_0xf582ce(0x16e)](0x24)[_0xf582ce(0x1ae)](0x2,0x9);}function generateNumericUniqId(){const _0x15908f=_0x45866f,_0x3a60c7=Date[_0x15908f(0x283)]()*0x3e8,_0x2b1148=Math[_0x15908f(0x2c0)](Math[_0x15908f(0x200)]()*0x3e8);return _0x3a60c7+_0x2b1148;}function blobAStringBase64(_0x1220b0){return new Promise((_0x1b8bcb,_0x48fe4d)=>{const _0x153fc6=_0x48a1,_0x7466b8=new FileReader();_0x7466b8['onloadend']=()=>{const _0x359d40=_0x48a1,_0x1a836e=_0x7466b8['result'],_0x52d5a4=_0x1a836e[_0x359d40(0x212)](',');if(_0x52d5a4['length']!==0x2)return _0x48fe4d(new Error('Formato\x20inesperado\x20en\x20base64'));_0x1b8bcb(_0x52d5a4[0x1]);},_0x7466b8[_0x153fc6(0x14a)]=_0x3797f1=>_0x48fe4d(_0x3797f1),_0x7466b8[_0x153fc6(0x232)](_0x1220b0);});}async function generarBarcodeDataURL(_0x3d14f9,_0x26d68c){return new Promise((_0x4a62df,_0x4c788c)=>{const _0x249595=_0x48a1,_0x4504a3=myCompany[_0x249595(0x261)][_0x249595(0x1cd)](_0x5deb23=>_0x5deb23[_0x249595(0x1d3)]==_0x3d14f9),_0x1aee7e=_0x4504a3?_0x4504a3[_0x249595(0x147)]:'CODE128',_0x245555=document[_0x249595(0x1b0)](_0x249595(0x2c1),_0x249595(0x185));JsBarcode(_0x245555,_0x26d68c,{'format':_0x1aee7e,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x441f7e=new XMLSerializer()[_0x249595(0x21f)](_0x245555),_0x406e89=btoa(_0x441f7e),_0x13022c='data:image/svg+xml;base64,'+_0x406e89,_0xed9dba=new Image();_0xed9dba[_0x249595(0x23c)]=()=>{const _0x4156d1=_0x249595,_0x50505a=document[_0x4156d1(0x2d6)](_0x4156d1(0x198));_0x50505a[_0x4156d1(0x179)]=_0xed9dba['width'],_0x50505a[_0x4156d1(0x1e1)]=_0xed9dba[_0x4156d1(0x1e1)];const _0x3ca7ec=_0x50505a['getContext']('2d');_0x3ca7ec['drawImage'](_0xed9dba,0x0,0x0);const _0x49887c=_0x50505a[_0x4156d1(0x22b)](_0x4156d1(0x1c2));_0x4a62df(_0x49887c);},_0xed9dba['onerror']=_0x83b366=>_0x4c788c(_0x83b366),_0xed9dba['src']=_0x13022c;});}async function generarStickersPDF(_0x52197f,_0x28af03){const _0x305edb=_0x45866f,{PDFDocument:_0x2ddbc2,StandardFonts:_0x47f02e,rgb:_0x5c7df7}=PDFLib,_0x2fd76e=await _0x2ddbc2['create'](),_0x44ff1f=_0x38f8b3=>_0x38f8b3*2.83465,_0x7c03f2=_0x44ff1f(0x70*0x2),_0x43a9c8=_0x44ff1f(40.8),_0x5e1035=_0x2fd76e[_0x305edb(0x248)]([_0x7c03f2,_0x43a9c8]),_0x828fe1=await _0x2fd76e[_0x305edb(0x2ae)](_0x47f02e['Helvetica']),_0x4d5e2b=Array(0x2)[_0x305edb(0x15b)](_0x28af03),_0x3668a8=0x2,_0x17ac27=0x1,_0x1255c9=0xc,_0x21d218=_0x7c03f2/_0x3668a8,_0x4cc6e4=_0x43a9c8/_0x17ac27;for(let _0x5c71a4=0x0;_0x5c71a4<0x2;_0x5c71a4++){const _0x2dcfd0=_0x4d5e2b[_0x5c71a4],_0x452be7=await generarBarcodeDataURL(_0x52197f,_0x2dcfd0),_0xec083e=_0x452be7[_0x305edb(0x212)](',')[0x1],_0xdd3460=Uint8Array[_0x305edb(0x215)](atob(_0xec083e),_0x1d4849=>_0x1d4849[_0x305edb(0x25a)](0x0));let _0x458975;try{_0x458975=await _0x2fd76e[_0x305edb(0x21b)](_0xdd3460);}catch{_0x458975=await _0x2fd76e[_0x305edb(0x1b6)](_0xdd3460);}const _0xf06af9=0x5,_0xdfea1f=_0x1255c9+0x4,_0x10f15f=_0x21d218-_0xf06af9*0x2,_0x4d7870=_0x4cc6e4-_0xf06af9*0x2-_0xdfea1f,_0x35b019=_0x458975['width'],_0x46961f=_0x458975[_0x305edb(0x1e1)],_0x24862c=Math[_0x305edb(0x1fa)](_0x10f15f/_0x35b019,_0x4d7870/_0x46961f,0x1),_0x368df0=_0x458975['scale'](_0x24862c),_0xd93173=_0x5c71a4%_0x3668a8,_0x1e06e4=_0xd93173*_0x21d218+(_0x21d218-_0x368df0[_0x305edb(0x179)])/0x2,_0x3149ee=(_0x4cc6e4-_0x368df0[_0x305edb(0x1e1)]-_0xdfea1f)/0x2+_0xdfea1f;_0x5e1035[_0x305edb(0x2c9)](_0x458975,{'x':_0x1e06e4,'y':_0x3149ee,'width':_0x368df0[_0x305edb(0x179)],'height':_0x368df0[_0x305edb(0x1e1)]});const _0x59e509=_0x828fe1['widthOfTextAtSize'](_0x2dcfd0,_0x1255c9),_0x29b7e1=_0x1e06e4+(_0x368df0[_0x305edb(0x179)]-_0x59e509)/0x2,_0x30b976=_0x3149ee-(_0x1255c9+0x2);_0x5e1035[_0x305edb(0x12a)](_0x2dcfd0,{'x':_0x29b7e1,'y':_0x30b976,'size':_0x1255c9,'font':_0x828fe1,'color':_0x5c7df7(0x0,0x0,0x0)});}const _0x222779=await _0x2fd76e[_0x305edb(0x155)](),_0x55e64d=new Blob([_0x222779],{'type':'application/pdf'}),_0x615830=URL[_0x305edb(0x253)](_0x55e64d);window['open'](_0x615830);}async function sendEmail(_0x214400,_0x49b87c,_0x341e93,_0x592d92,_0x1c6618,_0x4e82c9,_0x206f16,_0xcccd67,_0x10bfe6,_0x41c261){const _0x4ecfea=_0x45866f;if(isOnline()){const _0x535c43={'setAuthToken':_0x214400,'senderName':_0x49b87c,'senderEmail':_0x341e93,'senderPassword':_0x592d92,'smtpHost':_0x1c6618,'smtpPort':_0x4e82c9,'emailsDestination':_0x206f16,'subject':_0xcccd67,'message':_0x10bfe6,'attachFiles':_0x41c261};try{const _0x5be08d=await fetch(_0x4ecfea(0x24a),{'method':_0x4ecfea(0x177),'headers':{'Content-Type':_0x4ecfea(0x22a)},'body':JSON[_0x4ecfea(0x2bf)](_0x535c43)}),_0x47adcc=await _0x5be08d[_0x4ecfea(0x23d)]();if(!_0x5be08d['ok']||!_0x47adcc[_0x4ecfea(0x13b)]){console[_0x4ecfea(0x25d)](_0x4ecfea(0x279),_0x47adcc),ntfShow(_0x4ecfea(0x26a));return;}ntfShow(_0x4ecfea(0x277),0x1,0x2);}catch(_0x25b749){console[_0x4ecfea(0x25d)]('Error\x20en\x20la\x20solicitud:',_0x25b749),ntfShow('Error\x20Email\x20interno.');}}}function loadLoginContent(_0x531c04){const _0x42f01a=_0x45866f,_0x112a49=document['getElementById'](_0x42f01a(0x14c));_0x112a49[_0x42f01a(0x182)]='\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22'+_0x531c04+_0x42f01a(0x285);}function addNumber(_0x37e7f8){const _0xa5e3c0=_0x45866f;document['getElementById'](_0xa5e3c0(0x210))[_0xa5e3c0(0x2a5)]+=_0x37e7f8;}function deleteNumber(){const _0x32f799=_0x45866f;let _0x532029=document[_0x32f799(0x225)](_0x32f799(0x210));_0x532029[_0x32f799(0x2a5)]=_0x532029[_0x32f799(0x2a5)]['slice'](0x0,-0x1);}function togglePassword(){const _0x13a0e0=_0x45866f;let _0x1c4dee=document['getElementById']('password');_0x1c4dee[_0x13a0e0(0x1f3)]=_0x1c4dee[_0x13a0e0(0x1f3)]=='password'?_0x13a0e0(0x2b5):_0x13a0e0(0x210);}function setEventBtnAccess(){const _0x251808=_0x45866f,_0x4bef01=document['getElementById'](_0x251808(0x1b8));_0x4bef01[_0x251808(0x22d)]=function(){acceder();};}function isOnline(){const _0x4a3903=_0x45866f;return window[_0x4a3903(0x246)]['onLine'];}function showLoadingModal(){const _0x1fcb2a=_0x45866f,_0x2512dc=document[_0x1fcb2a(0x2d6)](_0x1fcb2a(0x1a6));_0x2512dc['id']='loadingModal',_0x2512dc[_0x1fcb2a(0x2ad)][_0x1fcb2a(0x1db)]=_0x1fcb2a(0x1ba),_0x2512dc[_0x1fcb2a(0x2ad)]['top']='0',_0x2512dc[_0x1fcb2a(0x2ad)]['left']='0',_0x2512dc[_0x1fcb2a(0x2ad)][_0x1fcb2a(0x179)]=_0x1fcb2a(0x290),_0x2512dc['style'][_0x1fcb2a(0x1e1)]='100%',_0x2512dc[_0x1fcb2a(0x2ad)][_0x1fcb2a(0x1d6)]='rgba(0,\x200,\x200,\x200.5)',_0x2512dc[_0x1fcb2a(0x2ad)][_0x1fcb2a(0x1bf)]='flex',_0x2512dc[_0x1fcb2a(0x2ad)][_0x1fcb2a(0x159)]=_0x1fcb2a(0x1ed),_0x2512dc['style'][_0x1fcb2a(0x24b)]=_0x1fcb2a(0x1ed),_0x2512dc[_0x1fcb2a(0x2ad)][_0x1fcb2a(0x20b)]=_0x1fcb2a(0x295),_0x2512dc[_0x1fcb2a(0x2ad)][_0x1fcb2a(0x22f)]='1',_0x2512dc['style'][_0x1fcb2a(0x21a)]=_0x1fcb2a(0x1e7),_0x2512dc['innerHTML']=_0x1fcb2a(0x17e),document['body']['appendChild'](_0x2512dc);}function hideLoadingModal(){const _0x1178b2=_0x45866f,_0x4e01bd=document[_0x1178b2(0x225)](_0x1178b2(0x176));_0x4e01bd&&(_0x4e01bd[_0x1178b2(0x2ad)][_0x1178b2(0x22f)]='0',_0x4e01bd['remove']());}function cargarAlmacenes(_0x5619e1){const _0x3614c8=_0x45866f,_0x215af8=document[_0x3614c8(0x225)](_0x3614c8(0x2c2));_0x215af8[_0x3614c8(0x182)]='';const _0x3e5f12=company[0x0][_0x3614c8(0x26c)][_0x3614c8(0x1cd)](_0x26f44a=>_0x26f44a[_0x3614c8(0x1d4)]==_0x5619e1);_0x3e5f12&&_0x3e5f12['setWarehouses'][_0x3614c8(0x1fd)]>0x0&&_0x3e5f12[_0x3614c8(0x223)]['forEach'](_0x210802=>{const _0x17a976=_0x3614c8;let _0x49c487=document[_0x17a976(0x2d6)]('option');_0x49c487[_0x17a976(0x2a5)]=_0x210802[_0x17a976(0x2c2)],_0x49c487['textContent']=_0x210802['setWarehouseName'],_0x215af8[_0x17a976(0x207)](_0x49c487);});}function getAllWarehouses(){const _0x25bcf3=_0x45866f,_0x4c854a=company[0x0][_0x25bcf3(0x26c)]||[],_0xc20f21=new Map();return _0x4c854a[_0x25bcf3(0x27a)](_0x4761c2=>{const _0x2abd63=_0x25bcf3;(_0x4761c2[_0x2abd63(0x223)]||[])[_0x2abd63(0x27a)](_0x31a575=>{const _0x12fa54=_0x2abd63;!_0xc20f21[_0x12fa54(0x129)](_0x31a575[_0x12fa54(0x2c2)])&&_0xc20f21[_0x12fa54(0x1e0)](_0x31a575[_0x12fa54(0x2c2)],{'setWarehouseId':_0x31a575['setWarehouseId'],'setWarehouseName':_0x31a575['setWarehouseName']+'\x20('+_0x4761c2[_0x12fa54(0x1d7)]+')'});});}),Array[_0x25bcf3(0x215)](_0xc20f21[_0x25bcf3(0x1b5)]());}function cargarPisos(_0x33a491){const _0x2233cb=_0x45866f,_0x2687d9=company[0x0][_0x2233cb(0x1ec)][_0x2233cb(0x1d8)](_0x2d4d1c=>_0x2d4d1c[_0x2233cb(0x1d4)]==_0x33a491),_0x53fcf2={};_0x2687d9[_0x2233cb(0x27a)](_0xf723c=>{const _0x59905b=_0x2233cb;_0x53fcf2[_0xf723c[_0x59905b(0x14f)]]=_0xf723c[_0x59905b(0x194)];});const _0x37983e=document[_0x2233cb(0x225)]('setFloorId');_0x37983e[_0x2233cb(0x182)]='';for(const _0x59313a in _0x53fcf2){const _0x1433cd=document['createElement'](_0x2233cb(0x190));_0x1433cd[_0x2233cb(0x2a5)]=_0x59313a,_0x1433cd[_0x2233cb(0x18a)]=_0x53fcf2[_0x59313a],_0x37983e[_0x2233cb(0x207)](_0x1433cd);}}document[_0x45866f(0x225)](_0x45866f(0x1a3))['addEventListener'](_0x45866f(0x289),()=>{const _0x8cdf4d=_0x45866f,_0x551386=document[_0x8cdf4d(0x18c)],_0x4f7c93=document[_0x8cdf4d(0x1a1)]||document[_0x8cdf4d(0x161)]||document[_0x8cdf4d(0x299)]||document['msFullscreenElement'];if(!_0x4f7c93){if(_0x551386[_0x8cdf4d(0x2d0)])_0x551386[_0x8cdf4d(0x2d0)]();else{if(_0x551386[_0x8cdf4d(0x16b)])_0x551386['webkitRequestFullscreen']();else{if(_0x551386[_0x8cdf4d(0x1f9)])_0x551386[_0x8cdf4d(0x1f9)]();else _0x551386[_0x8cdf4d(0x231)]&&_0x551386[_0x8cdf4d(0x231)]();}}}else{if(document[_0x8cdf4d(0x2a8)])document[_0x8cdf4d(0x2a8)]();else{if(document[_0x8cdf4d(0x15a)])document[_0x8cdf4d(0x15a)]();else{if(document['mozCancelFullScreen'])document[_0x8cdf4d(0x1ff)]();else document[_0x8cdf4d(0x243)]&&document['msExitFullscreen']();}}}});function ntf_formatDateDMY(_0x39f617){const _0x21a2fe=_0x45866f;var _0x23b808=new Date(_0x39f617),_0x531acc=_0x23b808[_0x21a2fe(0x2d8)](),_0x47c5a9=_0x23b808[_0x21a2fe(0x1c5)](),_0x3eb16c=monthsEspanish[_0x23b808[_0x21a2fe(0x28a)]()];return _0x531acc+_0x21a2fe(0x273)+_0x3eb16c+_0x21a2fe(0x2b1)+_0x47c5a9;}function ntf_groupBy(_0x569324,_0x35abfd){const _0x19b7ce=_0x45866f;return _0x569324[_0x19b7ce(0x1c8)](function(_0x27eea3,_0x5d98a6){const _0x562edc=_0x19b7ce;var _0x1d3029=_0x5d98a6[_0x35abfd];return _0x27eea3[_0x1d3029]=_0x27eea3[_0x1d3029]||[],_0x27eea3[_0x1d3029][_0x562edc(0x195)](_0x5d98a6),_0x27eea3;},{});}function ntf_isExpired(_0x29d5e3){const _0x272ebc=_0x45866f;if(!_0x29d5e3)return![];var _0x5b345a=new Date();return _0x5b345a[_0x272ebc(0x1f2)](0x0,0x0,0x0,0x0),new Date(_0x29d5e3)<=_0x5b345a;}function ntf_getNotifications(){const _0x5ed6c2=_0x45866f;var _0x457fca=parseInt(document[_0x5ed6c2(0x225)]('setWarehouseId')[_0x5ed6c2(0x2a5)],0xa),_0x1626be=ntf_groupBy(products,_0x5ed6c2(0x1e5)),_0x53dca7=[];return Object[_0x5ed6c2(0x14d)](_0x1626be)['forEach'](function(_0x1fc038){const _0x24bce6=_0x5ed6c2;var _0x1cc8b7=_0x1626be[_0x1fc038],_0xa26d16=_0x1cc8b7[0x0],_0x76e8b=(_0xa26d16[_0x24bce6(0x257)]||[])['find'](function(_0x56fc77){const _0x4a9a32=_0x24bce6;return _0x56fc77[_0x4a9a32(0x136)]==_0x457fca;});if(!_0x76e8b)return;var _0x2aff60=parseFloat(_0x76e8b['setSucursalStock']),_0x4e13da=parseFloat(_0x76e8b[_0x24bce6(0x2a6)]);_0xa26d16[_0x24bce6(0x2b8)]==0x1&&_0x2aff60<=_0x4e13da&&_0x53dca7[_0x24bce6(0x195)]({'type':0x1,'id_registro':_0xa26d16['id'],'title':'Stock\x20m√≠nimo:\x20'+_0xa26d16[_0x24bce6(0x28f)],'message':_0x24bce6(0x184)+_0xa26d16[_0x24bce6(0x28f)]+_0x24bce6(0x125)+_0x4e13da[_0x24bce6(0x22c)](0x3)+_0x24bce6(0x1a5)+_0x2aff60['toFixed'](0x3)+'\x0a','data':{'producto':_0xa26d16,'stock':_0x2aff60,'minStock':_0x4e13da}}),_0xa26d16['setBatchExpirationDate']&&ntf_isExpired(_0xa26d16[_0x24bce6(0x2d7)])&&_0x53dca7[_0x24bce6(0x195)]({'type':0x2,'id_registro':_0xa26d16['id'],'title':_0x24bce6(0x220)+_0xa26d16['setDescripcion'],'message':_0x24bce6(0x29a)+_0xa26d16[_0x24bce6(0x28f)]+_0x24bce6(0x217)+ntf_formatDateDMY(_0xa26d16[_0x24bce6(0x2d7)])+_0x24bce6(0x29b)+_0x24bce6(0x18d)+_0x2aff60[_0x24bce6(0x22c)](0x3),'data':{'producto':_0xa26d16,'expiration':_0xa26d16[_0x24bce6(0x2d7)]}});}),_0x53dca7;}function ntf_renderNotifications(){const _0x2368eb=_0x45866f;var _0x531cf4=ntf_getNotifications(),_0x343547=document[_0x2368eb(0x225)](_0x2368eb(0x1c6)),_0x623076=document[_0x2368eb(0x225)](_0x2368eb(0x1b1));_0x343547[_0x2368eb(0x182)]='',_0x623076[_0x2368eb(0x18a)]=_0x531cf4[_0x2368eb(0x1fd)];if(_0x531cf4['length']===0x0){var _0x5b09f7=document[_0x2368eb(0x2d6)]('li');_0x5b09f7[_0x2368eb(0x18a)]='No\x20hay\x20notificaciones',_0x343547[_0x2368eb(0x207)](_0x5b09f7);return;}_0x531cf4[_0x2368eb(0x27a)](function(_0xd9f6fe,_0xdf698d){const _0x3b5682=_0x2368eb;var _0x4addeb=document[_0x3b5682(0x2d6)]('li');_0x4addeb['textContent']=_0xd9f6fe[_0x3b5682(0x209)],_0x4addeb[_0x3b5682(0x244)](_0x3b5682(0x25b),_0xdf698d),_0x343547[_0x3b5682(0x207)](_0x4addeb);});}function ntf_openModal(_0x55deb4){const _0x312697=_0x45866f;var _0x8de800=document[_0x312697(0x225)]('ntf-modal-body'),_0x3b1893=document[_0x312697(0x225)]('ntf-modal-actions'),_0x2ab4a5=document[_0x312697(0x225)]('ntf-notification-modal');_0x8de800[_0x312697(0x182)]=_0x312697(0x1dc)+_0x55deb4[_0x312697(0x209)]+_0x312697(0x1ea)+_0x55deb4['message']+_0x312697(0x206),_0x3b1893['innerHTML']='';if(_0x55deb4['type']===0x1)[_0x312697(0x1be),_0x312697(0x292),_0x312697(0x120)][_0x312697(0x27a)](function(_0x48e1f8){const _0x56e988=_0x312697;var _0x11728d=document[_0x56e988(0x2d6)](_0x56e988(0x291));_0x11728d[_0x56e988(0x18a)]=_0x48e1f8,_0x11728d[_0x56e988(0x122)]('click',function(){const _0x22b5b9=_0x56e988;console[_0x22b5b9(0x2d2)](_0x22b5b9(0x123)+_0x48e1f8+'\x22\x20para\x20registro\x20#'+_0x55deb4[_0x22b5b9(0x2b9)]);}),_0x3b1893[_0x56e988(0x207)](_0x11728d);});else _0x55deb4[_0x312697(0x1f3)]===0x2&&[_0x312697(0x205),_0x312697(0x12c)][_0x312697(0x27a)](function(_0x14ce4d){const _0x56d3f5=_0x312697;var _0x4268be=document[_0x56d3f5(0x2d6)](_0x56d3f5(0x291));_0x4268be[_0x56d3f5(0x18a)]=_0x14ce4d,_0x4268be[_0x56d3f5(0x122)](_0x56d3f5(0x289),function(){const _0x490e3c=_0x56d3f5;console[_0x490e3c(0x2d2)]('Acci√≥n\x20\x22'+_0x14ce4d+_0x490e3c(0x29e)+_0x55deb4[_0x490e3c(0x2b9)]);}),_0x3b1893[_0x56d3f5(0x207)](_0x4268be);});_0x2ab4a5[_0x312697(0x1de)][_0x312697(0x271)](_0x312697(0x142));}function ntf_closeModal(){const _0x417254=_0x45866f;document[_0x417254(0x225)](_0x417254(0x2be))[_0x417254(0x1de)][_0x417254(0x288)](_0x417254(0x142));}document['getElementById'](_0x45866f(0x252))[_0x45866f(0x122)](_0x45866f(0x289),function(){const _0x382faa=_0x45866f;document[_0x382faa(0x225)](_0x382faa(0x15e))[_0x382faa(0x1de)][_0x382faa(0x18b)](_0x382faa(0x142)),ntf_renderNotifications();}),document[_0x45866f(0x225)](_0x45866f(0x1c6))[_0x45866f(0x122)](_0x45866f(0x289),function(_0x71f6f3){const _0x197dce=_0x45866f,_0x3ef9d2=_0x71f6f3[_0x197dce(0x264)][_0x197dce(0x2ce)]('li');if(!_0x3ef9d2||!_0x3ef9d2[_0x197dce(0x28d)][_0x197dce(0x149)])return;const _0xc62fbf=ntf_getNotifications()[_0x3ef9d2[_0x197dce(0x28d)][_0x197dce(0x149)]];document[_0x197dce(0x225)](_0x197dce(0x252))[_0x197dce(0x289)](),ntf_openModal(_0xc62fbf);}),document['getElementById'](_0x45866f(0x2d5))[_0x45866f(0x122)](_0x45866f(0x289),ntf_closeModal),document['getElementById'](_0x45866f(0x2be))['addEventListener'](_0x45866f(0x289),function(_0x318837){const _0x2a0cda=_0x45866f;if(_0x318837['target']===document[_0x2a0cda(0x225)](_0x2a0cda(0x2be)))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x1b7a0b,_0x4c1614=0x3,_0x77654e=0x1){const _0x46eebf=_0x45866f,_0x3a6b61=document[_0x46eebf(0x225)](_0x46eebf(0x24d)),_0x1da91f=document['createElement'](_0x46eebf(0x1a6));let _0x5c6e60;if(_0x4c1614==0x1)_0x5c6e60=_0x46eebf(0x2b2);else _0x4c1614==0x2?_0x5c6e60=_0x46eebf(0x19b):_0x5c6e60='ntf-flotante-blue';let _0x68310c;_0x77654e==0x1?(_0x68310c='ntf-flotante-top',_0x3a6b61[_0x46eebf(0x1de)][_0x46eebf(0x288)]('ntf-flotante-container-top'),_0x3a6b61[_0x46eebf(0x1de)][_0x46eebf(0x271)](_0x46eebf(0x1f0))):(_0x68310c=_0x46eebf(0x1c9),_0x3a6b61[_0x46eebf(0x1de)][_0x46eebf(0x288)](_0x46eebf(0x1f0)),_0x3a6b61['classList'][_0x46eebf(0x271)](_0x46eebf(0x2b0))),_0x1da91f[_0x46eebf(0x1ee)]=_0x46eebf(0x1e8)+_0x5c6e60+'\x20'+_0x68310c,_0x1da91f[_0x46eebf(0x18a)]=_0x1b7a0b,_0x3a6b61[_0x46eebf(0x207)](_0x1da91f),_0x1da91f[_0x46eebf(0x122)](_0x46eebf(0x160),()=>{_0x1da91f['remove']();});}function openDatabase(){const _0x41cfd6=_0x45866f;if(db)return Promise[_0x41cfd6(0x1d5)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x5d96f8,_0x23cb1e)=>{const _0x4f1091=_0x41cfd6,_0x492c75=indexedDB['open'](db_name);_0x492c75[_0x4f1091(0x263)]=function(_0x3867b6){const _0x2b80a4=_0x4f1091;db=_0x3867b6[_0x2b80a4(0x264)][_0x2b80a4(0x135)],console[_0x2b80a4(0x2d2)]('Base\x20de\x20datos\x20creada\x20o\x20actualizada.');},_0x492c75[_0x4f1091(0x2a9)]=function(_0xffb861){const _0x1b0ed6=_0x4f1091;db=_0xffb861[_0x1b0ed6(0x264)][_0x1b0ed6(0x135)],console[_0x1b0ed6(0x2d2)](_0x1b0ed6(0x2b4)),_0x5d96f8(db),dbPromise=null;},_0x492c75['onerror']=function(_0x109795){const _0x480843=_0x4f1091;console[_0x480843(0x25d)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:',_0x109795['target'][_0x480843(0x25d)]),_0x23cb1e(_0x109795[_0x480843(0x264)][_0x480843(0x25d)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x42c3f1,_0x50ebda=![]){const _0x4d3152=_0x45866f;if(dbOperationInProgress)return Promise[_0x4d3152(0x27e)](_0x4d3152(0x1aa));return dbOperationInProgress=!![],openDatabase()[_0x4d3152(0x2cd)](_0x597133=>{const _0x14430f=_0x4d3152,_0x38f5b5=_0x14430f(0x20a),_0x1c3d93='company',_0x5b18c9='offline_operations',_0xf1da0='layoutState',_0x1a4a3f=_0x42c3f1?_0x14430f(0x170)+_0x42c3f1:null,_0x595d41=_0x42c3f1?_0x14430f(0x154)+_0x42c3f1:null,_0x31270a=_0x50ebda||!_0x597133[_0x14430f(0x20e)][_0x14430f(0x254)](_0x38f5b5)||!_0x597133[_0x14430f(0x20e)][_0x14430f(0x254)](_0x1c3d93)||!_0x597133[_0x14430f(0x20e)][_0x14430f(0x254)](_0x5b18c9)||!_0x597133[_0x14430f(0x20e)]['contains'](_0xf1da0)||_0x42c3f1&&(!_0x597133[_0x14430f(0x20e)]['contains'](_0x1a4a3f)||!_0x597133[_0x14430f(0x20e)][_0x14430f(0x254)](_0x595d41));if(!_0x31270a)return dbOperationInProgress=![],Promise[_0x14430f(0x1d5)](_0x597133);const _0x18425c=_0x597133['version']+0x1;return _0x597133[_0x14430f(0x298)](),new Promise((_0x5e238c,_0x7a0e39)=>{const _0x19e4a5=_0x14430f,_0x45f656=indexedDB[_0x19e4a5(0x188)](db_name,_0x18425c);_0x45f656['onupgradeneeded']=function(_0x17ef84){const _0x1b90b0=_0x19e4a5;db=_0x17ef84[_0x1b90b0(0x264)][_0x1b90b0(0x135)];if(_0x50ebda)Array[_0x1b90b0(0x215)](db[_0x1b90b0(0x20e)])[_0x1b90b0(0x27a)](_0x4e077d=>{const _0x3edc32=_0x1b90b0;_0x4e077d!==_0x5b18c9&&(db[_0x3edc32(0x1c7)](_0x4e077d),console[_0x3edc32(0x2d2)](_0x3edc32(0x28e)+_0x4e077d+_0x3edc32(0x1b2)));}),console[_0x1b90b0(0x2d2)](_0x1b90b0(0x239));else{!db[_0x1b90b0(0x20e)]['contains'](_0x38f5b5)&&(db[_0x1b90b0(0x137)](_0x38f5b5,{'keyPath':'id'}),console['log']('ObjectStore\x20\x27'+_0x38f5b5+_0x1b90b0(0x218)));!db[_0x1b90b0(0x20e)]['contains'](_0x1c3d93)&&(db[_0x1b90b0(0x137)](_0x1c3d93,{'keyPath':'id','autoIncrement':!![]}),console[_0x1b90b0(0x2d2)](_0x1b90b0(0x28e)+_0x1c3d93+'\x27\x20creado\x20correctamente.'));!db[_0x1b90b0(0x20e)][_0x1b90b0(0x254)](_0x5b18c9)&&(db[_0x1b90b0(0x137)](_0x5b18c9,{'keyPath':'id','autoIncrement':!![]}),console[_0x1b90b0(0x2d2)](_0x1b90b0(0x28e)+_0x5b18c9+_0x1b90b0(0x218)));!db[_0x1b90b0(0x20e)][_0x1b90b0(0x254)](_0xf1da0)&&(db[_0x1b90b0(0x137)](_0xf1da0,{'keyPath':'id'}),console['log'](_0x1b90b0(0x28e)+_0xf1da0+_0x1b90b0(0x218)));if(_0x42c3f1){if(!db['objectStoreNames']['contains'](_0x1a4a3f)){const _0x5791af=db[_0x1b90b0(0x137)](_0x1a4a3f,{'keyPath':'id','autoIncrement':!![]});_0x5791af[_0x1b90b0(0x1b7)](_0x1b90b0(0x15c),_0x1b90b0(0x15c),{'unique':!![]}),console[_0x1b90b0(0x2d2)](_0x1b90b0(0x28e)+_0x1a4a3f+_0x1b90b0(0x218));}!db[_0x1b90b0(0x20e)]['contains'](_0x595d41)&&(db[_0x1b90b0(0x137)](_0x595d41,{'keyPath':'id','autoIncrement':!![]}),console[_0x1b90b0(0x2d2)]('ObjectStore\x20\x27'+_0x595d41+_0x1b90b0(0x218)));}}},_0x45f656[_0x19e4a5(0x2a9)]=function(_0x1b1d7e){const _0x200ee1=_0x19e4a5;db=_0x1b1d7e['target']['result'],dbOperationInProgress=![],console[_0x200ee1(0x2d2)](_0x200ee1(0x2ca)),_0x5e238c(db);},_0x45f656[_0x19e4a5(0x14a)]=function(_0x3497c6){const _0x2d9cad=_0x19e4a5;console['error'](_0x2d9cad(0x276),_0x3497c6[_0x2d9cad(0x264)][_0x2d9cad(0x25d)]),dbOperationInProgress=![],_0x7a0e39(_0x3497c6[_0x2d9cad(0x264)][_0x2d9cad(0x25d)]);};});})[_0x4d3152(0x19f)](_0x2f9bba=>{const _0x476410=_0x4d3152;throw new Error(_0x476410(0x1bd));})[_0x4d3152(0x131)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x2190f3=_0x45866f;if(!isOnline())return Promise[_0x2190f3(0x1d5)]();try{const _0x2c2934=await createCartStore(''),_0x11ead9=_0x2c2934[_0x2190f3(0x293)](_0x2190f3(0x153),_0x2190f3(0x286)),_0x2f6525=_0x11ead9[_0x2190f3(0x26f)](_0x2190f3(0x153)),_0x2e3432=await new Promise((_0x666d1a,_0x42e864)=>{const _0x5e3371=_0x2190f3,_0x1b7d58=_0x2f6525[_0x5e3371(0x260)]();_0x1b7d58['onsuccess']=()=>_0x666d1a(_0x1b7d58[_0x5e3371(0x135)]),_0x1b7d58[_0x5e3371(0x14a)]=()=>_0x42e864(new Error(_0x5e3371(0x17b)+_0x1b7d58[_0x5e3371(0x25d)]));}),_0x449017=_0x2e3432['filter'](_0x568402=>_0x568402[_0x2190f3(0x146)]==0x1);if(_0x449017[_0x2190f3(0x1fd)]===0x0){console['log'](_0x2190f3(0x166));return;}const _0x26a920=_0x449017[_0x2190f3(0x1d8)](_0x5b4028=>_0x5b4028[_0x2190f3(0x2a3)]==0x64),_0x5a427c=_0x449017['filter'](_0x455040=>_0x455040[_0x2190f3(0x2a3)]!=0x64);function _0x1a41ed(_0x429069,_0x1aac97){return new Promise((_0x4bd54a,_0x3215f4)=>{const _0x50cbaf=_0x48a1,_0x2a0db6=_0x429069[_0x50cbaf(0x293)](_0x50cbaf(0x153),_0x50cbaf(0x221)),_0x48786b=_0x2a0db6[_0x50cbaf(0x26f)]('offline_operations'),_0x561824=_0x48786b['put'](_0x1aac97);_0x561824[_0x50cbaf(0x2a9)]=()=>_0x4bd54a(),_0x561824[_0x50cbaf(0x14a)]=_0x2b3eac=>_0x3215f4(new Error('Error\x20guardando\x20operaci√≥n:\x20'+_0x2b3eac[_0x50cbaf(0x264)][_0x50cbaf(0x25d)]));});}async function _0x34c929(_0x56f246){const _0x403fdc=_0x2190f3;for(const _0x16b0b7 of _0x56f246){_0x16b0b7[_0x403fdc(0x2a3)]===0x64&&Array[_0x403fdc(0x172)](_0x16b0b7[_0x403fdc(0x20f)])&&_0x16b0b7[_0x403fdc(0x20f)][_0x403fdc(0x21e)]((_0x4a7b9c,_0x277819)=>{const _0x5eb9d7=_0x403fdc,_0xfbc971=[0x1,0x2,0x3],_0x233a17=_0xfbc971[_0x5eb9d7(0x208)](_0x4a7b9c['setItemType']),_0x4106d6=_0xfbc971[_0x5eb9d7(0x208)](_0x277819[_0x5eb9d7(0x255)]);if(_0x233a17&&!_0x4106d6)return-0x1;if(!_0x233a17&&_0x4106d6)return 0x1;return _0x4a7b9c['setItemType']-_0x277819['setItemType'];});const _0x30b45c=new FormData();_0x30b45c[_0x403fdc(0x2ab)]('invoice',JSON['stringify'](_0x16b0b7));if(_0x16b0b7['pdfBlob']instanceof Blob&&_0x16b0b7[_0x403fdc(0x13c)][_0x403fdc(0x140)]>0x0)_0x30b45c['append'](_0x403fdc(0x13c),_0x16b0b7[_0x403fdc(0x13c)],'documento.pdf');else _0x16b0b7[_0x403fdc(0x13c)]&&console[_0x403fdc(0x234)](_0x403fdc(0x27c));_0x16b0b7[_0x403fdc(0x2a3)]==0x64&&Array[_0x403fdc(0x172)](_0x16b0b7[_0x403fdc(0x20f)])&&_0x16b0b7['newItems'][_0x403fdc(0x27a)]((_0x172145,_0x27af12)=>{const _0x18ad65=_0x403fdc;Array[_0x18ad65(0x172)](_0x172145[_0x18ad65(0x23a)])&&_0x172145[_0x18ad65(0x23a)]['forEach']((_0xe840c3,_0x1fa0a4)=>{const _0x13725b=_0x18ad65;_0xe840c3 instanceof Blob&&_0xe840c3[_0x13725b(0x140)]>0x0?_0x30b45c[_0x13725b(0x2ab)](_0x13725b(0x164)+_0x27af12+_0x13725b(0x11d)+_0x1fa0a4+']',_0xe840c3,_0xe840c3[_0x13725b(0x2ba)]):console[_0x13725b(0x234)]('Imagen\x20inv√°lida\x20en\x20newItems['+_0x27af12+_0x13725b(0x192)+_0x1fa0a4+_0x13725b(0x297));});});try{const _0x441ba4=await fetch(_0x16b0b7[_0x403fdc(0x275)],{'method':_0x403fdc(0x177),'body':_0x30b45c});if(!_0x441ba4['ok'])throw new Error(_0x403fdc(0x119)+_0x441ba4[_0x403fdc(0x287)]+_0x403fdc(0x2d3)+_0x441ba4[_0x403fdc(0x13a)]);const _0x18c4c9=await _0x441ba4[_0x403fdc(0x23d)]();!_0x18c4c9[_0x403fdc(0x13b)]?_0x16b0b7[_0x403fdc(0x272)]=_0x18c4c9['message']||'Error\x20desconocido.':(_0x16b0b7[_0x403fdc(0x146)]=0x0,delete _0x16b0b7[_0x403fdc(0x272)]),await _0x1a41ed(_0x2c2934,_0x16b0b7);}catch(_0x3421e7){console['error'](_0x403fdc(0x2ac),_0x3421e7),_0x16b0b7[_0x403fdc(0x272)]=_0x3421e7[_0x403fdc(0x1e6)],await _0x1a41ed(_0x2c2934,_0x16b0b7);}}}_0x26a920[_0x2190f3(0x21e)]((_0x5ed2e4,_0x1eddf0)=>{const _0x560bdd=_0x2190f3,_0x20b8b0=[0x1,0x2,0x3],_0xd1d450=_0x349b3f=>Array[_0x560bdd(0x172)](_0x349b3f['newItems'])&&_0x349b3f[_0x560bdd(0x20f)][_0x560bdd(0x14e)](_0x2c740e=>_0x20b8b0[_0x560bdd(0x208)](_0x2c740e[_0x560bdd(0x255)])),_0x4edcec=_0xd1d450(_0x5ed2e4),_0x5aabd6=_0xd1d450(_0x1eddf0);if(_0x4edcec&&!_0x5aabd6)return-0x1;if(!_0x4edcec&&_0x5aabd6)return 0x1;const _0x26a004=Math[_0x560bdd(0x1fa)](..._0x5ed2e4[_0x560bdd(0x20f)][_0x560bdd(0x16a)](_0x1888d0=>_0x1888d0[_0x560bdd(0x255)])),_0x561b6d=Math[_0x560bdd(0x1fa)](..._0x1eddf0['newItems']['map'](_0x55cfbf=>_0x55cfbf[_0x560bdd(0x255)]));return _0x26a004-_0x561b6d;}),_0x26a920[_0x2190f3(0x1fd)]&&(console[_0x2190f3(0x2d2)]('Sincronizando\x20'+_0x26a920['length']+_0x2190f3(0x1eb)),await _0x34c929(_0x26a920)),_0x5a427c[_0x2190f3(0x1fd)]&&(console[_0x2190f3(0x2d2)]('Sincronizando\x20'+_0x5a427c['length']+_0x2190f3(0x259)),await _0x34c929(_0x5a427c)),console['log']('Sincronizaci√≥n\x20completada\x20correctamente.');}catch(_0x408b52){console[_0x2190f3(0x25d)](_0x2190f3(0x237),_0x408b52);}}function apiERPsaveOnline(_0x83df43,_0x585118,_0x59a72d,_0x43de1d,_0x3edd18){const _0x29f770=_0x45866f;if(!isOnline())return console[_0x29f770(0x2d2)](_0x29f770(0x265)),Promise[_0x29f770(0x27e)](_0x29f770(0x265));const _0x57e977={'setAuthToken':_0x83df43,'setBranches':_0x585118,'setUsers':_0x59a72d,'setSeries':_0x43de1d,'setPrinters':_0x3edd18};return fetch('https://apierp.dev/api/apiPOS/update/',{'method':'POST','headers':{'Content-Type':_0x29f770(0x2b7)},'body':JSON[_0x29f770(0x2bf)](_0x57e977)})[_0x29f770(0x2cd)](_0x42434e=>{const _0x1fe638=_0x29f770;if(!_0x42434e['ok'])throw new Error(_0x1fe638(0x23e)+_0x42434e[_0x1fe638(0x13a)]);return _0x42434e['json']();})[_0x29f770(0x2cd)](_0x23ec91=>{const _0x1f9ed8=_0x29f770;if(!_0x23ec91[_0x1f9ed8(0x13b)])throw new Error(_0x23ec91['message']||_0x1f9ed8(0x1a8));return console[_0x1f9ed8(0x2d2)](_0x1f9ed8(0x2c4)),_0x23ec91;})[_0x29f770(0x19f)](_0x376791=>{const _0x293abf=_0x29f770;console[_0x293abf(0x25d)]('Error\x20al\x20actualizar\x20data\x20online:',_0x376791);throw _0x376791;});}async function acceder(){const _0x1c50b8=_0x45866f;if(!isOnline()){alert(_0x1c50b8(0x124));throw new Error('Por\x20seguridad,\x20√∫nicamente\x20necesitas\x20internet\x20para\x20acceder!');}const _0x158e74=document['getElementById'](_0x1c50b8(0x1b8)),_0x203889=document[_0x1c50b8(0x225)](_0x1c50b8(0x2b3))['value'],_0x1a9853=document[_0x1c50b8(0x225)](_0x1c50b8(0x210))['value'];_0x158e74[_0x1c50b8(0x27f)]=!![];if(!_0x203889||!_0x1a9853){alert(_0x1c50b8(0x18e)),_0x158e74[_0x1c50b8(0x27f)]=![];return;}console[_0x1c50b8(0x2d2)](_0x1c50b8(0x16c)),showLoadingModal();const _0x506aa={'usuario':_0x203889,'password':_0x1a9853};try{const _0x1ee778=await fetch(_0x1c50b8(0x12f),{'method':_0x1c50b8(0x177),'headers':{'Content-Type':_0x1c50b8(0x2b7)},'body':JSON['stringify'](_0x506aa)}),_0x291094=await _0x1ee778[_0x1c50b8(0x23d)]();if(!(_0x291094[_0x1c50b8(0x13b)]&&Array['isArray'](_0x291094['message']))){alert(_0x291094[_0x1c50b8(0x1e6)]),_0x158e74[_0x1c50b8(0x27f)]=![],hideLoadingModal();throw new Error(_0x291094[_0x1c50b8(0x1e6)]);}const _0x97e98f=document[_0x1c50b8(0x225)](_0x1c50b8(0x144));_0x97e98f[_0x1c50b8(0x182)]=_0x1c50b8(0x2c7);const _0x251a9f=_0x291094[_0x1c50b8(0x1e6)],{setApiEndPoint:_0xc3fd8a,setAuthToken:_0x4ffd32,setUser_Local:_0x352614}=_0x251a9f[0x0],_0x169c3f={'apiPOS_getAccessData':0x1,'setToken':_0x4ffd32,'setUserLocalUserName':_0x352614['setUserName']},_0x4680e6=await fetch(_0xc3fd8a,{'method':_0x1c50b8(0x177),'headers':{'Content-Type':_0x1c50b8(0x22a)},'body':JSON[_0x1c50b8(0x2bf)](_0x169c3f)}),_0x3f68bb=await _0x4680e6[_0x1c50b8(0x23d)]();if(!(_0x3f68bb[_0x1c50b8(0x13b)]===!![])){_0x97e98f['innerHTML']=_0x1c50b8(0x203)+_0x3f68bb[_0x1c50b8(0x1e6)]+_0x1c50b8(0x24f),setTimeout(()=>location['reload'](),0x1388);return;}_0x97e98f[_0x1c50b8(0x182)]=_0x1c50b8(0x19c);const _0x5aecd9=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x165)]['map'](_0x28221f=>{const _0x754d26=_0x1c50b8,_0x4fe35a=_0x28221f['setId']||'',_0x1b8d64=_0x28221f[_0x754d26(0x1e5)]||'',_0x4b018b=_0x28221f['setCodProducto']||'',_0x31faaa=_0x28221f['setItemBarCode']||'',_0xe784=_0x28221f[_0x754d26(0x28f)]||'',_0x3950c6=_0x28221f[_0x754d26(0x249)]||'',_0x36bd55=_0x28221f[_0x754d26(0x1d0)]||'',_0x52a661=_0x28221f[_0x754d26(0x145)]||'',_0x2a3d37=_0x28221f['setTaxId']||'',_0x10e6c2=_0x28221f['setTipAfeIgv']||'10',_0x2f9aa5=_0x251a9f[0x0][_0x754d26(0x11e)]['find'](_0x11ac8c=>_0x11ac8c[_0x754d26(0x1af)]==_0x2a3d37)?.[_0x754d26(0x2a4)]||0x0,_0x2a5be1=parseFloat(_0x28221f[_0x754d26(0x2b8)])||0x1,_0x44a6e1=_0x28221f['setCategoria']||'',_0x7adfaa=_0x28221f['setMarca']||'',_0x2b5b12=_0x28221f['setImg']||_0x754d26(0x2bb),_0x1af761=_0x28221f['setConversionFactor']||0x1,_0x41d930=_0x28221f['setBatchName']||'',_0x2e88c5=_0x28221f[_0x754d26(0x2d7)]||'',_0x571fae=(_0x28221f[_0x754d26(0x270)]||[])[_0x754d26(0x16a)](_0x47a00a=>{const _0x1d5911=_0x754d26,_0x4730ad=parseFloat(_0x47a00a[_0x1d5911(0x27b)])||0x0,_0x4e722c=parseFloat(_0x47a00a[_0x1d5911(0x13d)])||0x0,_0x19a0d3=parseFloat(_0x47a00a[_0x1d5911(0x1b4)])||0x0,_0x390417=parseFloat(_0x47a00a[_0x1d5911(0x250)])||0x0,_0x54b7bf=_0x47a00a[_0x1d5911(0x1e2)]||[];let _0xf911de=0x0,_0x56054f=0x0;if(_0x4730ad>0x0)_0xf911de=_0x4730ad,_0x56054f=setTipAfeImpGravados['some'](_0xb5315b=>_0xb5315b==_0x10e6c2)?_0x4730ad+_0x4730ad*_0x2f9aa5/0x64:_0x4730ad;else _0x4e722c>0x0&&(_0x56054f=_0x4e722c,_0xf911de=setTipAfeImpGravados[_0x1d5911(0x14e)](_0x7474b=>_0x7474b==_0x10e6c2)?_0x4e722c/(0x1+_0x2f9aa5/0x64):_0x4e722c);let _0x5f1047=0x0,_0x266409=0x0;if(_0x19a0d3>0x0)_0x5f1047=_0x19a0d3,_0x266409=setTipAfeImpGravados['some'](_0x1f16e6=>_0x1f16e6==_0x10e6c2)?_0x19a0d3+_0x19a0d3*_0x2f9aa5/0x64:_0x19a0d3;else _0x390417>0x0&&(_0x266409=_0x390417,_0x5f1047=setTipAfeImpGravados['some'](_0x29572a=>_0x29572a==_0x10e6c2)?_0x390417/(0x1+_0x2f9aa5/0x64):_0x390417);return{'currency':_0x47a00a[_0x1d5911(0x2c3)],'setMtoValorUnitario':_0xf911de,'setMtoPrecioUnitario':_0x56054f,'setMtoValorCostoUnitario':_0x5f1047,'setMtoPrecioCostoUnitario':_0x266409,'setPriceLists':_0x54b7bf};});if(_0x2a3d37!==''&&_0x4fe35a!==''&&_0x4b018b!==''&&_0xe784!=='')return{'id':_0x4fe35a,'setIdProducto':_0x1b8d64,'setCodProducto':_0x4b018b,'setItemBarCode':_0x31faaa,'setDescripcion':_0xe784,'setItemDescription':_0x3950c6,'setUnidadCodigo':_0x36bd55,'setUnidad':_0x52a661,'setPorcentajeIgv':_0x2f9aa5,'setTaxId':_0x2a3d37,'setTipAfeIgv':_0x10e6c2,'setInventariable':_0x2a5be1,'setCategoria':_0x44a6e1,'setMarca':_0x7adfaa,'setImg':_0x2b5b12,'setConversionFactor':_0x1af761,'setBatchName':_0x41d930,'setBatchExpirationDate':_0x2e88c5,'setItemIsBought':_0x28221f[_0x754d26(0x141)],'setItemIsSold':_0x28221f[_0x754d26(0x189)],'sucursales':_0x28221f['sucursales']||[],'setPrinters':_0x28221f[_0x754d26(0x1a4)]||[],'currency_data':_0x571fae,'setImages':_0x28221f[_0x754d26(0x211)]||[]};return null;})[_0x1c50b8(0x1d8)](Boolean);_0x251a9f[0x0][_0x1c50b8(0x1dd)]=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x1dd)],_0x251a9f[0x0][_0x1c50b8(0x19e)]=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x19e)],_0x251a9f[0x0]['setCompanyName']=_0x3f68bb[_0x1c50b8(0x1e6)]['setCompanyName'],_0x251a9f[0x0][_0x1c50b8(0x213)]=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x213)],_0x251a9f[0x0][_0x1c50b8(0x27d)]=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x27d)],_0x251a9f[0x0][_0x1c50b8(0x191)]=_0x3f68bb['message'][_0x1c50b8(0x191)],_0x251a9f[0x0][_0x1c50b8(0x1bc)]=_0x3f68bb['message'][_0x1c50b8(0x1bc)],_0x251a9f[0x0][_0x1c50b8(0x1f8)]=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x1f8)],_0x251a9f[0x0]['setBranches']=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x26c)],_0x251a9f[0x0][_0x1c50b8(0x187)]=_0x3f68bb[_0x1c50b8(0x1e6)]['setUsuarios'],_0x251a9f[0x0][_0x1c50b8(0x216)]=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x216)],_0x251a9f[0x0][_0x1c50b8(0x1a4)]=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x1a4)],_0x251a9f[0x0][_0x1c50b8(0x284)]=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x284)],_0x251a9f[0x0]['setBankAccounts']=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x23b)],_0x251a9f[0x0]['setCustomers']=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x281)],_0x251a9f[0x0]['setSuppliers']=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x186)],_0x251a9f[0x0][_0x1c50b8(0x1f6)]=_0x3f68bb[_0x1c50b8(0x1e6)][_0x1c50b8(0x1f6)],_0x251a9f[0x0][_0x1c50b8(0x1bb)]=_0x3f68bb[_0x1c50b8(0x1e6)]['setCollaborators'],_0x97e98f[_0x1c50b8(0x182)]='Sincronizando\x20...';const _0x5f0305=await createCartStore('');await clearAndStore(_0x5f0305,_0x1c50b8(0x20a),_0x5aecd9),await clearAndStore(_0x5f0305,'layoutState',[{'id':_0x1c50b8(0x14b),..._0x251a9f[0x0][_0x1c50b8(0x25f)]}]),await apiERPsaveOnline(_0x4ffd32,_0x251a9f[0x0][_0x1c50b8(0x26c)],_0x251a9f[0x0][_0x1c50b8(0x187)],_0x251a9f[0x0][_0x1c50b8(0x216)],_0x251a9f[0x0][_0x1c50b8(0x1a4)]);const _0x4d40c6=await fetch('https://apierp.dev/api/apiPOS/get/',{'method':_0x1c50b8(0x177),'headers':{'Content-Type':_0x1c50b8(0x22a)},'body':JSON[_0x1c50b8(0x2bf)]({'setAuthToken':_0x4ffd32})}),_0x567f14=await _0x4d40c6['json']();if(_0x567f14[_0x1c50b8(0x13b)])_0x251a9f[0x0][_0x1c50b8(0x1ec)]=_0x567f14[_0x1c50b8(0x1e6)][_0x1c50b8(0x1ec)],_0x251a9f[0x0][_0x1c50b8(0x26d)]=_0x567f14[_0x1c50b8(0x1e6)]['setUsers'],_0x251a9f[0x0]['setPrinters']=_0x567f14['message'][_0x1c50b8(0x1a4)];else{console[_0x1c50b8(0x25d)]('Error\x20Update:',_0x567f14['message']);return;}await saveCompanyToIndexedDB(_0x251a9f,_0x5f0305);if(!_0x251a9f[0x0]['setWindows']||_0x251a9f[0x0][_0x1c50b8(0x1ec)]['length']===0x0){console['error'](_0x1c50b8(0x235));return;}for(const _0x20e6cd of _0x251a9f[0x0][_0x1c50b8(0x1ec)]){await new Promise(_0x32b2ab=>setTimeout(_0x32b2ab,0x12c)),await createCartStore(_0x20e6cd[_0x1c50b8(0x1d2)]),_0x97e98f[_0x1c50b8(0x182)]=_0x1c50b8(0x1ca)+_0x20e6cd[_0x1c50b8(0x19a)]+'\x20...';}_0x97e98f[_0x1c50b8(0x182)]='Bienvenido(a)\x20'+_0x352614[_0x1c50b8(0x1a7)]+_0x1c50b8(0x24f),setTimeout(()=>location[_0x1c50b8(0x171)](),0x7d0);}catch(_0xc67edc){console[_0x1c50b8(0x25d)]('Error\x20en\x20la\x20solicitud:',_0xc67edc),_0x158e74[_0x1c50b8(0x27f)]=![],hideLoadingModal(),alert(_0xc67edc);throw _0xc67edc;}}function clearAndStore(_0xaab940,_0x4a4200,_0x7dd98b){return new Promise((_0x41fa82,_0x1a5de1)=>{const _0x5b7ac4=_0x48a1,_0x4578e3=_0xaab940[_0x5b7ac4(0x293)](_0x4a4200,_0x5b7ac4(0x221)),_0x5779a3=_0x4578e3[_0x5b7ac4(0x26f)](_0x4a4200),_0xc33fed=_0x5779a3[_0x5b7ac4(0x121)]();_0xc33fed[_0x5b7ac4(0x2a9)]=()=>{const _0x4f63c7=_0x5b7ac4;_0x7dd98b[_0x4f63c7(0x27a)](_0x3bd4e6=>_0x5779a3[_0x4f63c7(0x29c)](_0x3bd4e6));},_0x4578e3[_0x5b7ac4(0x267)]=()=>_0x41fa82(),_0x4578e3['onerror']=()=>_0x1a5de1(new Error(_0x5b7ac4(0x274)+_0x4a4200+'!'));});}async function logoutReload(_0x5cadf5=0x0,_0x481cf8){const _0x55a7d8=_0x45866f;if(_0x5cadf5!=0x1){showLoadingModal();const _0x36a6e1=document['getElementById']('infoLoadingModal');_0x36a6e1['innerHTML']='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesi√≥n\x20...</span>';}_0x481cf8==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x55a7d8(0x171)]();}function _0x48a1(_0x52e7a2,_0x18ff4c){const _0x257c0d=_0x105e();return _0x48a1=function(_0x20fa05,_0x270ccc){_0x20fa05=_0x20fa05-0x119;let _0xde62c4=_0x257c0d[_0x20fa05];return _0xde62c4;},_0x48a1(_0x52e7a2,_0x18ff4c);}function registerServiceWorker(_0x518309,_0x39624c){const _0x321069=_0x45866f;_0x321069(0x24e)in navigator&&navigator['serviceWorker'][_0x321069(0x162)](_0x518309)['then'](_0x3c9b9e=>{const _0x2ae2b9=_0x321069;console['log']('SW\x20Success'),_0x3c9b9e['onupdatefound']=()=>{const _0x228160=_0x48a1,_0x3fd578=_0x3c9b9e[_0x228160(0x180)];_0x3fd578[_0x228160(0x1fe)]=()=>{const _0x3d65aa=_0x228160;_0x3fd578['state']==_0x3d65aa(0x134)&&navigator['serviceWorker']['controller']&&console[_0x3d65aa(0x2d2)](_0x3d65aa(0x1da));};},navigator[_0x2ae2b9(0x24e)][_0x2ae2b9(0x122)](_0x2ae2b9(0x25c),()=>{const _0x2d1f05=_0x2ae2b9;showLoadingModal();const _0x17a3ac=document[_0x2d1f05(0x225)]('infoLoadingModal');_0x17a3ac[_0x2d1f05(0x182)]=_0x2d1f05(0x20c),logoutReload(0x1,_0x39624c);});})['catch'](_0x10c7d8=>console['error'](_0x321069(0x152),_0x10c7d8));}function isLoggedIn(_0x282546){const _0x406246=_0x45866f;return _0x282546&&_0x282546[0x0]&&_0x282546[0x0][_0x406246(0x21d)];}function apiERPShowContent(){const _0x16ce61=_0x45866f;document[_0x16ce61(0x225)]('header')[_0x16ce61(0x1de)]['remove'](_0x16ce61(0x1f4)),document['getElementById'](_0x16ce61(0x226))['classList'][_0x16ce61(0x271)](_0x16ce61(0x1f4)),document['getElementById'](_0x16ce61(0x14c))[_0x16ce61(0x1de)][_0x16ce61(0x288)](_0x16ce61(0x1f4));const _0x341691=document['getElementById'](_0x16ce61(0x228));_0x341691&&_0x341691[_0x16ce61(0x1de)]['remove'](_0x16ce61(0x1f4));}function x64ctotalcal(){const _0x5ffe73=_0x45866f;return window[_0x5ffe73(0x18f)][_0x5ffe73(0x16f)];}function x64btsparamnumber(_0xde9c4f){const _0xe22ace=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0xde9c4f==_0xe22ace;}function _0x105e(){const _0x3de9b5=['getElementById','pos','CL0','topbar','dispatchEvent','application/json;\x20charset=utf-8','toDataURL','toFixed','onclick','Backspace','opacity','pop','msRequestFullscreen','readAsDataURL','mx08','warn','Error:\x20No\x20hay\x20ventanas\x20disponibles.','setEmpresaDomainWork','Error\x20al\x20procesar\x20operaciones\x20offline:','https://','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','setItemImages','setBankAccounts','onload','json','Error\x20al\x20guardar\x20el\x20layout:\x20','MX20','get','focus','querySelectorAll','msExitFullscreen','setAttribute','./app.js?v=4.1.0','navigator','ar21','addPage','setItemDescription','https://apierp.dev/api/email/send/','alignItems','setCredentialsApiWAChatStatusDefault','ntf-flotante-container','serviceWorker','\x20...','setMtoPrecioCostoUnitario','setBranchDefault','tabs-notifications','createObjectURL','contains','setItemType','157048dIYAQG','sucursales','pcrcl','\x20operaciones\x20restantes...','charCodeAt','data-ntf-index','controllerchange','error','f34f','setLayout','getAll','setCodeBarTypes','setDescuentoGlobal_Monto','onupgradeneeded','target','Error\x20Network.','setCorrelativo','oncomplete','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','20590FQgLFt','Ocurri√≥\x20un\x20error\x20al\x20enviar\x20el\x20correo.','x63s','setBranches','setUsers','setMoneda','objectStore','currency_data','remove','setMessage','\x20de\x20','Error\x20in\x20saving\x20to\x20store\x20','setWebhook','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','Correo\x20enviado\x20correctamente!','junio','Error\x20al\x20enviar\x20correo:','forEach','setMtoValorUnitario','PDF\x20no\x20v√°lido\x20o\x20vac√≠o\x20‚Äì\x20se\x20omite\x20y\x20se\x20env√≠a\x20la\x20operaci√≥n\x20sin\x20√©l.','setCompanyAddress','reject','disabled','setSellerId','setCustomers','setTipoOperacionInvoice','now','setCurrencyDefault','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üë§\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üîê\x20Contrase√±a:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contrase√±a\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>üëÅÔ∏è</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>‚å´</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;A√∫n\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¬°Reg√≠strate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnolog√≠a\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.1.0\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','readonly','status','add','click','getMonth','d-none','Tab','dataset','ObjectStore\x20\x27','setDescripcion','100%','button','Registrar\x20movimiento','transaction','(((.+)+)+)+$','9999','octubre',']\x20‚Äì\x20se\x20omite.','close','mozFullScreenElement','El\x20producto\x20\x22','.<br>','put','setUserName','\x22\x20para\x20registro\x20#','concat','key','6ChjdCh','setCredentialsApiWAChatIdDefault','setTipoOperacion','setImpuestoValue','value','setWarehouseStockMin','startsWith','exitFullscreen','onsuccess','setPlanName','append','Error\x20al\x20enviar\x20operaci√≥n\x20offline:','style','embedFont','co5','ntf-flotante-container-top','\x20del\x20','ntf-flotante-green','usuario','Base\x20de\x20datos\x20abierta\x20correctamente.','text','constructor','application/json','setInventariable','id_registro','name','./img/product.png','setSerie','julio','ntf-notification-modal','stringify','floor','http://www.w3.org/2000/svg','setWarehouseId','currency','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','/wa/','Error\x20','Inicio\x20de\x20sesi√≥n\x20exitoso\x20...','info','drawImage','Base\x20de\x20datos\x20abierta\x20correctamente\x20despu√©s\x20de\x20agregar\x20ObjectStores.','setCredentialsApiWAChatId','ar10.5','then','closest','286293YPLpto','requestFullscreen','setCajeroCodigo','log','\x20‚Äì\x20','enero','ntf-modal-close','createElement','setBatchExpirationDate','getDate','22FgPHBV','abril','offsetHeight','setAuthToken','HTTP\x20','payment-option','setClienteNumDoc','144YkXUkj','][setItemImages][','setImpuestos','co19','Ver\x20movimientos','clear','addEventListener','Acci√≥n\x20\x22','Solo\x20necesitas\x20internet\x20para\x20acceder!','\x22\x20lleg√≥\x20al\x20stock\x20m√≠nimo.<br>\x0aStock\x20M√≠nimo:\x20','apply','caption','UY0','has','drawText','setFechaHora','Eliminar\x20producto','cl19','activeElement','https://apierp.dev/api/company/get/','company','finally','CO0','rgf4x32','installed','result','setIdSucursal','createObjectStore','day','4497282PNQPWT','statusText','success','pdfBlob','setMtoPrecioUnitario','31946kcfisO','setCredentialsApiWAChat','size','setItemIsBought','ntf-hidden','setCustomerEmail','infoLoadingModal','setUnidad','apiPOSsendOffline','setCodeBarTypeName','Error:\x20Domain\x20not\x20registered.','ntfIndex','onerror','layout','login','keys','some','setFloorId','bind','searchInput','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','offline_operations','window_options_','save','console','64system','agosto','justifyContent','webkitExitFullscreen','fill','cartId','45x','ntf-notification-dropdown','INPUT','animationend','webkitFullscreenElement','register','#container-section-pay-','newItems[','setProductos','No\x20hay\x20operaciones\x20para\x20sincronizar.','setAttachEdit','slice','__proto__','map','webkitRequestFullscreen','Modo\x20online\x20...','search','toString','hostname','cart_','reload','isArray','febrero','33x54xsystem','setCashierName','loadingModal','POST','Company\x20Load.','width','port','Error\x20al\x20obtener\x20las\x20operaciones:\x20','uy22','noviembre','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','apiERP','installing','Products\x20Load.','innerHTML','xtt3','\x0aEl\x20producto\x20\x22','svg','setSuppliers','setUsuarios','open','setItemIsSold','textContent','toggle','documentElement','Stock\x20Actual:\x20','Todos\x20los\x20campos\x20son\x20obligatorios.','location','option','setCompanyPhone','].setItemImages[','setCustomerPhone','setFloorName','push','x64','S01','canvas','User\x20no\x20Logged!','setWindowName','ntf-flotante-orange','Procesamiento\x20de\x20datos\x20exitoso\x20...','shiftKey','setCompanyDoc','catch','Company\x20Empty.','fullscreenElement','exception','fullscreen-btn','setPrinters','<br>\x0aStock\x20Actual:\x20','div','setUserNombres','Error\x20desconocido\x20al\x20actualizar\x20Data.','active','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','windowId','{}.constructor(\x22return\x20this\x22)(\x20)','54592OUxVQz','substr','setTaxId','createElementNS','ntf-notif-count','\x27\x20eliminada.','setUserEmail','setMtoValorCostoUnitario','values','embedJpg','createIndex','btn-access-login','prototype','fixed','setCollaborators','setCompanyEmail','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','Generar\x20Orden\x20de\x20Compra','display','Delete','Credenciales\x20no\x20encontradas','image/png','tagName','ambientes','getFullYear','ntf-notifications-list','deleteObjectStore','reduce','ntf-flotante-bottom','Generando\x20','E01','preventDefault','find','windowIds\x20previamente\x20creados:','setCredentialsApiWAChatPort','setUnidadCodigo','setClienteDenominacion','setWindowId','setCodeBarTypeId','setBranchId','resolve','backgroundColor','setBranchName','filter','setUserFullName','SW\x20New\x20Version','position','<h2>','setCompanyLogo','classList','mayo','set','height','setPriceLists','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','diciembre','setIdProducto','message','none','ntf-flotante-message\x20','input,\x20select,\x20button,\x20a:not(.payment-option)','</h2><p>','\x20operaciones\x20de\x20productos...','setWindows','center','className','30LFrMfx','ntf-flotante-container-bottom','change','setHours','type','hidden','605095qOsjMR','setShifts','64x32xsystem','setCompanyWebsite','mozRequestFullScreen','min','Enter','Arrays\x20actualizados\x20para\x20windowId\x20','length','onstatechange','mozCancelFullScreen','random','TEXTAREA','AR0','Error:\x20','.product[tabindex=\x270\x27]','Revisar\x20lote','</p>','appendChild','includes','title','products','zIndex','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.1.0\x20...</span>','offsetWidth','objectStoreNames','newItems','password','setImages','split','setCompanyNameTrade','S02','from','setSeries','\x22\x20expir√≥\x20el\x20','\x27\x20creado\x20correctamente.','trace','transition','embedPng','setCredentialsApiWAChatSubdomain','setUser_Local','sort','serializeToString','Producto\x20vencido:\x20','readwrite','x64c','setWarehouses','setCredentialsApiWAChatAlias'];_0x105e=function(){return _0x3de9b5;};return _0x105e();}function x32btsfirefoxcalc(_0x56b67d){const _0x5ae534=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x56b67d==_0x5ae534;}function x64bitsdescitem(_0x1850de){const _0x550f85=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x1850de==_0x550f85;}function x43bitsdescglobal(_0x45ef1b){const _0x4b8ca3=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x45ef1b==_0x4b8ca3;}function x32bitsCompanyTkn(_0x324ac4){const _0x457679=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x324ac4==_0x457679;}function x64bitsparamnumber(_0x53cd3f,_0x41b300){const _0x2cb7ef=_0x41b300;return _0x53cd3f==_0x2cb7ef;}function activarRender(_0x4e2412){const _0x2adf24=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x4e2412)];return _0x2adf24['includes'](!![]);}function saveCompanyToIndexedDB(_0x35978a,_0x54e9de){return new Promise((_0x41cc3f,_0xab2a6a)=>{const _0x3c5822=_0x48a1,_0x6753d=_0x54e9de[_0x3c5822(0x293)](_0x3c5822(0x130),'readwrite'),_0x191fd6=_0x6753d['objectStore'](_0x3c5822(0x130));_0x191fd6['clear'](),_0x35978a['forEach'](_0x142610=>_0x191fd6['put'](_0x142610)),_0x6753d[_0x3c5822(0x267)]=()=>_0x41cc3f(),_0x6753d[_0x3c5822(0x14a)]=_0x143da7=>_0xab2a6a(_0x143da7[_0x3c5822(0x264)]['error']);});}function loadCompanyFromIndexedDB(_0x36bedd){return new Promise((_0x380193,_0x27dce6)=>{const _0x262588=_0x48a1,_0x44aa24=_0x36bedd[_0x262588(0x293)](_0x262588(0x130),'readonly'),_0xb92b04=_0x44aa24[_0x262588(0x26f)](_0x262588(0x130)),_0x4b2766=_0xb92b04[_0x262588(0x260)]();_0x4b2766['onsuccess']=()=>_0x380193(_0x4b2766[_0x262588(0x135)]),_0x4b2766[_0x262588(0x14a)]=_0x4bb314=>_0x27dce6(_0x4bb314[_0x262588(0x264)][_0x262588(0x25d)]);});}async function initializeCompany(_0xa632e6){const _0x227be4=_0x45866f;try{const _0x174444=await loadCompanyFromIndexedDB(_0xa632e6);company=_0x174444,company[_0x227be4(0x1fd)]>0x0?(console[_0x227be4(0x2d2)](_0x227be4(0x178)),myCompany=company[0x0]):console['log'](_0x227be4(0x1a0));}catch(_0x402a4e){console['error']('Company\x20Load\x20Error:',_0x402a4e);}}function loadProductsFromIndexedDB(_0x4247f8){return new Promise((_0xbda119,_0x19b676)=>{const _0x1045ae=_0x48a1,_0x2da907=_0x4247f8[_0x1045ae(0x293)](_0x1045ae(0x20a),_0x1045ae(0x286)),_0x1ab4bf=_0x2da907[_0x1045ae(0x26f)](_0x1045ae(0x20a)),_0x4bc213=_0x1ab4bf[_0x1045ae(0x260)]();_0x4bc213[_0x1045ae(0x2a9)]=()=>_0xbda119(_0x4bc213[_0x1045ae(0x135)]),_0x4bc213[_0x1045ae(0x14a)]=_0x28ff8e=>_0x19b676(_0x28ff8e['target'][_0x1045ae(0x25d)]);});}async function initializeProducts(_0x27eb1c){const _0xe71fb3=_0x45866f;try{const _0x19c865=await loadProductsFromIndexedDB(_0x27eb1c);products=_0x19c865,products[_0xe71fb3(0x1fd)]>0x0?console[_0xe71fb3(0x2d2)](_0xe71fb3(0x181)):console['log']('Products\x20Empty.');}catch(_0x15f6d1){console['error']('Products\x20Load\x20Error:',_0x15f6d1);}}async function validateAccess(_0x3b3e20){const _0x5f8b5a=_0x45866f;await initializeCompany(_0x3b3e20);if(!isLoggedIn(company))throw new Error(_0x5f8b5a(0x199));if(!activarRender(company[0x0][_0x5f8b5a(0x236)])){alert(_0x5f8b5a(0x148));throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}function getCredentialsApiWAChat(_0x74a6d4){const _0x2f4a2f=_0x45866f;return myCompany[_0x2f4a2f(0x13f)][_0x2f4a2f(0x1cd)](_0xa3abe3=>_0xa3abe3[_0x2f4a2f(0x2cb)]==_0x74a6d4)||null;}async function sendMessageApiWAChat(_0x516fcd,_0x5a2020,_0x5b0991,_0x3e6272,_0x43d6e2){const _0x487840=_0x45866f,_0x5ca2b0=getCredentialsApiWAChat(_0x516fcd);if(!_0x5ca2b0)return Promise[_0x487840(0x27e)](new Error(_0x487840(0x1c1)));const _0x38b7fb=_0x5ca2b0[_0x487840(0x21c)],_0x5efb50=_0x5ca2b0[_0x487840(0x1cf)],_0xad82a={'type':_0x5b0991,'content':_0x3e6272};if(_0x43d6e2)_0xad82a[_0x487840(0x127)]=_0x43d6e2;const _0x401b7c=_0x487840(0x238)+_0x38b7fb+_0x487840(0x2c5)+_0x5efb50+'/send',_0xebdf3d=await fetch(_0x401b7c,{'method':_0x487840(0x177),'headers':{'Content-Type':_0x487840(0x2b7),'x-auth-token':myCompany[_0x487840(0x2dc)]},'body':JSON[_0x487840(0x2bf)]({'to':_0x5a2020,'payload':_0xad82a})});if(!_0xebdf3d['ok']){const _0x29774f=await _0xebdf3d[_0x487840(0x23d)]()[_0x487840(0x19f)](()=>({}));throw new Error(_0x29774f['error']||_0x487840(0x2c6)+_0xebdf3d[_0x487840(0x287)]);}return _0xebdf3d['json']();}async function saveCredentialsApiWAChatInCompany(){const _0x914f4=_0x45866f,_0x311a5e=document['getElementById']('setCredentialsApiWAChat'),_0x3e9aa9=_0x311a5e[_0x914f4(0x2a5)],_0x1cb923=getCredentialsApiWAChat(_0x3e9aa9);_0x1cb923&&(myCompany[_0x914f4(0x24c)]=_0x1cb923['setCredentialsApiWAChatStatus'],myCompany[_0x914f4(0x2a2)]=_0x1cb923[_0x914f4(0x2cb)]);}async function loadCart(_0x514166){const _0xa35289=_0x45866f;try{const _0x374a65=await createCartStore(''),_0x27aa07=[];await validateAccess(_0x374a65);const _0x57fc73=company[0x0][_0xa35289(0x21d)],_0xf7b30c=company[0x0][_0xa35289(0x26d)][_0xa35289(0x1cd)](_0x1ab65e=>_0x1ab65e[_0xa35289(0x1b3)]==_0x57fc73[_0xa35289(0x29d)]),_0x3a4b5b=company[0x0][_0xa35289(0x26c)],_0x2afded=document[_0xa35289(0x225)]('setBranchId');_0x2afded[_0xa35289(0x182)]='';if(_0xf7b30c&&_0xf7b30c[_0xa35289(0x26c)]){const _0x160084=_0x3a4b5b[_0xa35289(0x1d8)](_0xbaa581=>_0xf7b30c[_0xa35289(0x26c)][_0xa35289(0x14e)](_0x4adddf=>_0x4adddf['setBranchId']==_0xbaa581['setBranchId']));_0x160084[_0xa35289(0x27a)](_0x49e3cf=>{const _0x6817f9=_0xa35289,_0x4b8c6e=document[_0x6817f9(0x2d6)](_0x6817f9(0x190));_0x4b8c6e[_0x6817f9(0x2a5)]=_0x49e3cf[_0x6817f9(0x1d4)],_0x4b8c6e['textContent']=_0x49e3cf[_0x6817f9(0x1d7)],_0x2afded[_0x6817f9(0x207)](_0x4b8c6e);});}if(_0x514166==0x1){const _0x3bfc68=document['getElementById'](_0xa35289(0x2d1));_0x3bfc68[_0xa35289(0x182)]='';if(_0xf7b30c){const _0xd89c29=document['createElement'](_0xa35289(0x190));_0xd89c29[_0xa35289(0x2a5)]=_0xf7b30c['setUserCode'],_0xd89c29[_0xa35289(0x18a)]=_0xf7b30c[_0xa35289(0x1d9)],_0x3bfc68[_0xa35289(0x207)](_0xd89c29);}const _0xa2a46b=Array[_0xa35289(0x215)](_0x374a65[_0xa35289(0x20e)])[_0xa35289(0x1d8)](_0x23d91d=>_0x23d91d[_0xa35289(0x2a7)](_0xa35289(0x154)))[_0xa35289(0x16a)](_0x21c821=>{const _0xb9b78f=_0xa35289,_0x41772f=_0x21c821[_0xb9b78f(0x212)]('_');return _0x41772f[_0xb9b78f(0x1fd)]>=0x3?_0x41772f[0x2]:null;})[_0xa35289(0x1d8)](_0x43c1ec=>_0x43c1ec!==null);console['log'](_0xa35289(0x1ce),_0xa2a46b);const _0x1f4553=Array['from'](_0x374a65[_0xa35289(0x20e)])['filter'](_0x47f146=>_0x47f146[_0xa35289(0x2a7)](_0xa35289(0x154)))[_0xa35289(0x21e)]((_0x29b7ee,_0x25008e)=>{const _0x1a696b=_0xa35289,_0x3ed7f5=parseInt(_0x29b7ee[_0x1a696b(0x212)]('_')[_0x1a696b(0x230)](),0xa),_0x5481ab=parseInt(_0x25008e[_0x1a696b(0x212)]('_')[_0x1a696b(0x230)](),0xa);return _0x3ed7f5-_0x5481ab;});for(const _0x346cb2 of _0x1f4553){const _0x3e7782=_0x346cb2['split']('_');if(_0x3e7782[_0xa35289(0x1fd)]<0x3){console['error']('Nombre\x20de\x20store\x20no\x20v√°lido:\x20'+_0x346cb2);continue;}const _0x2d1d74=_0x3e7782[0x2];if(_0xa2a46b[_0xa35289(0x208)](_0x2d1d74)){const _0x24f333=new Promise((_0x4e0d00,_0x32f676)=>{const _0x202d66=_0xa35289,_0x5b87b2=_0x374a65[_0x202d66(0x293)]([_0x346cb2],'readonly'),_0x3e26ac=_0x5b87b2[_0x202d66(0x26f)](_0x346cb2),_0x326e1c=_0x3e26ac[_0x202d66(0x240)](_0x2d1d74);_0x326e1c['onsuccess']=function(_0x63bdc7){const _0x1fcae0=_0x202d66,_0x28582f=_0x63bdc7[_0x1fcae0(0x264)]['result'];window_options[_0x2d1d74]={},_0x28582f&&(window_options[_0x2d1d74]={'setTipoOperacionInvoice':_0x28582f[_0x1fcae0(0x282)],'setTipoOperacion':_0x28582f['setTipoOperacion'],'setSerie':_0x28582f[_0x1fcae0(0x2bc)],'setCorrelativo':_0x28582f[_0x1fcae0(0x266)],'setMoneda':_0x28582f[_0x1fcae0(0x26e)],'setClienteTipoDoc':_0x28582f['setClienteTipoDoc'],'setClienteNumDoc':_0x28582f[_0x1fcae0(0x11b)],'setClienteDenominacion':_0x28582f[_0x1fcae0(0x1d1)],'setClienteDireccion':_0x28582f['setClienteDireccion'],'setCustomerPhone':_0x28582f[_0x1fcae0(0x193)],'setCustomerEmail':_0x28582f[_0x1fcae0(0x143)],'setFechaHora':_0x28582f[_0x1fcae0(0x12b)],'setSellerId':_0x28582f[_0x1fcae0(0x280)],'setSellerName':_0x28582f['setSellerName'],'setDespacho':_0x28582f['setDespacho'],'setObservacion':_0x28582f['setObservacion'],'setDescuentoGlobal_Monto':_0x28582f[_0x1fcae0(0x262)],'setAttachEdit':_0x28582f[_0x1fcae0(0x167)]},console[_0x1fcae0(0x2d2)](_0x1fcae0(0x1fc)+_0x2d1d74+':',_0x28582f)),Promise[_0x1fcae0(0x1d5)](updateTab(_0x2d1d74))[_0x1fcae0(0x2cd)](_0x4e0d00)[_0x1fcae0(0x19f)](_0x271fb2=>{const _0x5d3d72=_0x1fcae0;console[_0x5d3d72(0x25d)]('Error\x20en\x20updateTab\x20o\x20renderWindowOptions',_0x271fb2),_0x32f676(_0x271fb2);});},_0x326e1c[_0x202d66(0x14a)]=function(_0x31a3ae){const _0x50a899=_0x202d66;console[_0x50a899(0x25d)](_0x50a899(0x1e3)+_0x2d1d74+'.',_0x31a3ae[_0x50a899(0x264)][_0x50a899(0x25d)]),_0x32f676(_0x31a3ae[_0x50a899(0x264)]['error']);};});_0x27aa07['push'](_0x24f333);}}const _0x56c77f=Array['from'](_0x374a65[_0xa35289(0x20e)])[_0xa35289(0x1d8)](_0x41236a=>_0x41236a[_0xa35289(0x2a7)](_0xa35289(0x170)))[_0xa35289(0x21e)]((_0x2ad92c,_0x3fad83)=>{const _0x3e33c2=_0xa35289,_0xea3244=parseInt(_0x2ad92c[_0x3e33c2(0x212)]('_')['pop'](),0xa),_0x3ec284=parseInt(_0x3fad83[_0x3e33c2(0x212)]('_')[_0x3e33c2(0x230)](),0xa);return _0xea3244-_0x3ec284;});for(const _0x40864d of _0x56c77f){const _0x3c20c1=_0x40864d[_0xa35289(0x212)]('_')[0x1];!carts[_0x3c20c1]&&(carts[_0x3c20c1]=[]);const _0x592ef0=new Promise((_0x2b6c9b,_0x1232aa)=>{const _0x4574c7=_0xa35289,_0xb3e974=_0x374a65['transaction']([_0x40864d],'readonly'),_0x4c203a=_0xb3e974[_0x4574c7(0x26f)](_0x40864d),_0x23a799=_0x4c203a[_0x4574c7(0x260)]();_0x23a799[_0x4574c7(0x2a9)]=function(_0x218b2a){const _0x7756a4=_0x4574c7,_0x4dd109=_0x218b2a[_0x7756a4(0x264)][_0x7756a4(0x135)];carts[_0x3c20c1][_0x7756a4(0x1fd)]=0x0,_0x4dd109[_0x7756a4(0x27a)](_0x2e1a63=>carts[_0x3c20c1][_0x7756a4(0x195)](_0x2e1a63)),renderCart(_0x3c20c1),_0x2b6c9b();},_0x23a799['onerror']=function(_0x11cc20){const _0x589f6f=_0x4574c7;console[_0x589f6f(0x25d)](_0x589f6f(0x268)+_0x3c20c1+'.',_0x11cc20[_0x589f6f(0x264)]['error']),_0x1232aa(_0x11cc20[_0x589f6f(0x264)][_0x589f6f(0x25d)]);};});_0x27aa07[_0xa35289(0x195)](_0x592ef0);}}if(_0x514166==0x2||_0x514166==0x3||_0x514166==0x4){const _0x2646b0=document[_0xa35289(0x225)](_0xa35289(0x2aa)),_0x770a47=document['getElementById'](_0xa35289(0x175));_0x2646b0[_0xa35289(0x182)]='',_0x770a47[_0xa35289(0x182)]='',_0xf7b30c&&(_0x2646b0[_0xa35289(0x182)]='Plan\x20Impulsa',_0x770a47['innerHTML']=_0xf7b30c[_0xa35289(0x1d9)]);}if(_0x514166==0x1||_0x514166==0x4){const _0x155b5f=myCompany['setCredentialsApiWAChat'],_0x290738=document[_0xa35289(0x225)](_0xa35289(0x13f));_0x290738[_0xa35289(0x182)]='',_0x155b5f['forEach'](_0x293839=>{const _0x327375=_0xa35289,_0x40dd1b=document['createElement'](_0x327375(0x190));_0x40dd1b[_0x327375(0x2a5)]=_0x293839[_0x327375(0x2cb)],_0x40dd1b[_0x327375(0x18a)]=_0x293839[_0x327375(0x224)]??_0x293839[_0x327375(0x1cf)],_0x290738['appendChild'](_0x40dd1b);}),myCompany?.[_0xa35289(0x2a2)]&&(_0x290738[_0xa35289(0x2a5)]=myCompany[_0xa35289(0x2a2)]);}return await Promise['all'](_0x27aa07),myCompany?.['setBranchDefault']&&(document[_0xa35289(0x225)]('setBranchId')[_0xa35289(0x2a5)]=company[0x0][_0xa35289(0x251)]),document[_0xa35289(0x225)](_0xa35289(0x1d4))[_0xa35289(0x229)](new Event(_0xa35289(0x1f1))),_0x514166==0x1&&(tabCount=getMaxWindowId(carts),console[_0xa35289(0x2d2)]('Tab\x20count\x20inicializado\x20en:\x20'+tabCount)),_0x374a65;}catch(_0x20c53b){throw _0x20c53b;}}function loadCartAndSetTabCount(_0x203a70){const _0x2b2c71=_0x45866f;loadCart(_0x203a70)[_0x2b2c71(0x2cd)](async _0x1abe07=>{const _0xa9b0d4=_0x2b2c71;await initializeProducts(_0x1abe07);if(_0x203a70==0x1){if(isLoggedIn(company)){const _0x1a7113=document['getElementById'](_0xa9b0d4(0x1ab))[_0xa9b0d4(0x2a5)];parseFloat(_0x1a7113)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0xa9b0d4(0x1c4)),document[_0xa9b0d4(0x122)]('keydown',function(_0x3d787e){const _0x3535d2=_0xa9b0d4,_0x46f3c2=document[_0x3535d2(0x225)](_0x3535d2(0x1ab))[_0x3535d2(0x2a5)],_0x374686=document['getElementById'](_0x3535d2(0x151)),_0x4a9436=document[_0x3535d2(0x242)](_0x3535d2(0x204)),_0x5cd528=document['getElementById']('checkout-btn-'+_0x46f3c2),_0x66df57=document[_0x3535d2(0x225)]('btnSaveOperacion-'+_0x46f3c2),_0x3ad3bb=document[_0x3535d2(0x225)]('detalleModalPay');function _0x2da248(_0x25be96){const _0x5ed6c8=_0x3535d2;return _0x25be96&&(_0x25be96[_0x5ed6c8(0x20d)]>0x0||_0x25be96[_0x5ed6c8(0x2db)]>0x0||_0x25be96['getClientRects']()[_0x5ed6c8(0x1fd)]);}let _0x57ed1d=[];if(_0x3ad3bb&&_0x3ad3bb[_0x3535d2(0x1de)][_0x3535d2(0x254)]('active')){const _0x3138c3=_0x3ad3bb['querySelectorAll']('.payment-option');_0x3138c3[_0x3535d2(0x27a)](_0x363b09=>{const _0x2184bf=_0x3535d2;_0x2da248(_0x363b09)&&!_0x363b09[_0x2184bf(0x1de)][_0x2184bf(0x254)](_0x2184bf(0x28b))&&_0x57ed1d[_0x2184bf(0x195)](_0x363b09);});const _0x4bac1a=_0x3ad3bb['querySelector'](_0x3535d2(0x163)+_0x46f3c2);if(_0x4bac1a){const _0x82424=_0x4bac1a[_0x3535d2(0x242)](_0x3535d2(0x1e9));_0x82424[_0x3535d2(0x27a)](_0x3a813b=>{const _0x91bed5=_0x3535d2;_0x2da248(_0x3a813b)&&!_0x3a813b[_0x91bed5(0x1de)][_0x91bed5(0x254)](_0x91bed5(0x28b))&&_0x57ed1d[_0x91bed5(0x195)](_0x3a813b);});}_0x66df57&&_0x2da248(_0x66df57)&&!_0x66df57[_0x3535d2(0x1de)][_0x3535d2(0x254)](_0x3535d2(0x28b))&&(!_0x57ed1d[_0x3535d2(0x208)](_0x66df57)&&_0x57ed1d[_0x3535d2(0x195)](_0x66df57));}else{_0x57ed1d=[_0x374686,..._0x4a9436];if(_0x5cd528)_0x57ed1d[_0x3535d2(0x195)](_0x5cd528);}const _0x109429=document[_0x3535d2(0x12e)],_0x2b8401=_0x109429&&(_0x109429[_0x3535d2(0x1c3)]==_0x3535d2(0x15f)||_0x109429[_0x3535d2(0x1c3)]==_0x3535d2(0x201));if(_0x3ad3bb&&_0x3ad3bb[_0x3535d2(0x1de)][_0x3535d2(0x254)](_0x3535d2(0x1a9))&&_0x3d787e['key']==_0x3535d2(0x1fb)){if(_0x109429&&_0x109429['classList'][_0x3535d2(0x254)](_0x3535d2(0x11a))){_0x3d787e['preventDefault'](),_0x109429[_0x3535d2(0x289)]();return;}}if(_0x3ad3bb&&_0x3ad3bb[_0x3535d2(0x1de)][_0x3535d2(0x254)](_0x3535d2(0x1a9))&&_0x3d787e[_0x3535d2(0x2a0)]=='Tab'&&!_0x3ad3bb['contains'](_0x109429)){_0x3d787e[_0x3535d2(0x1cc)]();_0x57ed1d[_0x3535d2(0x1fd)]>0x0&&_0x57ed1d[0x0]['focus']();return;}if(_0x3d787e[_0x3535d2(0x2a0)]==_0x3535d2(0x28c)){_0x3d787e['preventDefault']();if(_0x57ed1d['length']==0x0)return;let _0xa94f2d=_0x57ed1d['indexOf'](_0x109429);if(_0xa94f2d==-0x1)_0xa94f2d=-0x1;let _0x3a104e;_0x3d787e[_0x3535d2(0x19d)]?_0x3a104e=_0xa94f2d<=0x0?_0x57ed1d[_0x3535d2(0x1fd)]-0x1:_0xa94f2d-0x1:_0x3a104e=_0xa94f2d==_0x57ed1d[_0x3535d2(0x1fd)]-0x1?0x0:_0xa94f2d+0x1;_0x57ed1d[_0x3a104e][_0x3535d2(0x241)]();return;}(!_0x3ad3bb||!_0x3ad3bb[_0x3535d2(0x1de)]['contains']('active'))&&!_0x2b8401&&(_0x3d787e[_0x3535d2(0x2a0)]['length']==0x1||_0x3d787e[_0x3535d2(0x2a0)]==_0x3535d2(0x22e)||_0x3d787e[_0x3535d2(0x2a0)]==_0x3535d2(0x1c0))&&(_0x3d787e[_0x3535d2(0x1cc)](),_0x374686[_0x3535d2(0x241)](),_0x3d787e[_0x3535d2(0x2a0)]=='Backspace'||_0x3d787e['key']==_0x3535d2(0x1c0)?_0x374686[_0x3535d2(0x2a5)]=_0x374686['value'][_0x3535d2(0x168)](0x0,-0x1):!_0x374686[_0x3535d2(0x2a5)]?_0x374686[_0x3535d2(0x2a5)]=_0x3d787e['key']:_0x374686[_0x3535d2(0x2a5)]+=_0x3d787e[_0x3535d2(0x2a0)]);}),loadTaxData(),resetNewItemForm();}_0x203a70==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x203a70==0x3){const _0x3a7397=document[_0xa9b0d4(0x225)](_0xa9b0d4(0x1d4))[_0xa9b0d4(0x2a5)];fil_BranchesId[_0xa9b0d4(0x195)](_0x3a7397),updateDateRange(_0xa9b0d4(0x138));}_0x203a70==0x4&&init();})[_0x2b2c71(0x19f)](_0x4bcc55=>{const _0x13f650=_0x2b2c71;console[_0x13f650(0x25d)](_0x4bcc55);})[_0x2b2c71(0x131)](()=>{const _0x37e2ed=_0x2b2c71;_0x203a70==0x1&&updateInternetIcon();let _0x3e23dc;(_0x203a70==0x1||_0x203a70==0x2||_0x203a70==0x3||_0x203a70==0x4)&&(_0x3e23dc=_0x37e2ed(0x245)),registerServiceWorker(_0x3e23dc,_0x203a70);});}