/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.9
*/

const _0x2e93f9=_0x34d2;(function(_0x298e24,_0x4525d0){const _0x15719e=_0x34d2,_0x3731de=_0x298e24();while(!![]){try{const _0x23afca=parseInt(_0x15719e(0x203))/0x1+parseInt(_0x15719e(0x1d0))/0x2*(parseInt(_0x15719e(0x238))/0x3)+parseInt(_0x15719e(0xcd))/0x4+parseInt(_0x15719e(0x154))/0x5*(-parseInt(_0x15719e(0xa0))/0x6)+parseInt(_0x15719e(0x209))/0x7*(parseInt(_0x15719e(0xeb))/0x8)+parseInt(_0x15719e(0x14d))/0x9+parseInt(_0x15719e(0x15d))/0xa*(-parseInt(_0x15719e(0x15c))/0xb);if(_0x23afca===_0x4525d0)break;else _0x3731de['push'](_0x3731de['shift']());}catch(_0x1a7f56){_0x3731de['push'](_0x3731de['shift']());}}}(_0x3638,0x3e897));const _0x2fa6a1=(function(){let _0x33496f=!![];return function(_0x471366,_0x544edd){const _0x5da108=_0x33496f?function(){const _0x5254b8=_0x34d2;if(_0x544edd){const _0x2cd691=_0x544edd[_0x5254b8(0x123)](_0x471366,arguments);return _0x544edd=null,_0x2cd691;}}:function(){};return _0x33496f=![],_0x5da108;};}()),_0xae53e2=_0x2fa6a1(this,function(){const _0x4e5f8c=_0x34d2;return _0xae53e2[_0x4e5f8c(0xe9)]()['search'](_0x4e5f8c(0x222))[_0x4e5f8c(0xe9)]()[_0x4e5f8c(0x1e2)](_0xae53e2)[_0x4e5f8c(0x22f)](_0x4e5f8c(0x222));});function _0x3638(){const _0x2b7a96=['readAsDataURL','setUserCode','push','setCredentialsApiWAChatId','Sincronizaci√≥n\x20completada\x20correctamente.','CO0','controllerchange','SW\x20Success','setImpuestoValue','Company\x20Empty.','offsetHeight','onstatechange','setTipoOperacion','Products\x20Load\x20Error:','setWindowName','layoutState','fill','setImages','\x20operaciones\x20de\x20productos...','setSeries','alignItems','hostname','getContext','setLayout','Enter','left','setCredentialsApiWAChatPort','innerHTML','Error\x20','mozCancelFullScreen','693112HsuNmf','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','User\x20no\x20Logged!','data:image/svg+xml;base64,','windowId','style','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.0.9\x20...</span>','setSellerName','Error\x20Update:','installing','split','ar10.5','\x22\x20lleg√≥\x20al\x20stock\x20m√≠nimo.<br>\x0aStock\x20M√≠nimo:\x20','setPrinters','header','createElement','documento.pdf','Sincronizando\x20','onupgradeneeded','location','PDF\x20no\x20v√°lido\x20o\x20vac√≠o\x20‚Äì\x20se\x20omite\x20y\x20se\x20env√≠a\x20la\x20operaci√≥n\x20sin\x20√©l.','ntf-flotante-container-top','Revisar\x20lote','setCredentialsApiWAChatAlias','lbtom','setCompanyAddress','finally','https://apierp.dev/api/company/get/','toString','setId','3774456Qwzpvw','setCompanyNameTrade','marzo','transition','setPriceLists','setCodeBarTypes','setWarehouseName','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','getAll','classList','id_registro','msRequestFullscreen','startsWith','usuario','setFloorName','length','Modo\x20online\x20...','enero','key','includes',':3000/wa/','setWarehouseStockMin','addPage','setClienteTipoDoc','Products\x20Load.','setDespacho','data-ntf-index','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','setWebhook','64x32xsystem','floor','setBatchExpirationDate','onsuccess','width','login','].setItemImages[','Solo\x20necesitas\x20internet\x20para\x20acceder!','CODE128','readwrite','setFechaHora','forEach','text','d-none','min','height','http://www.w3.org/2000/svg','setTipAfeIgv','statusText','apiPOSsendOffline','slice','fullscreenElement','filter','bind','POST','dispatchEvent','layout','apply','Imagen\x20inv√°lida\x20en\x20newItems[','justifyContent','svg','error','appendChild','http://','xtt3','title','co19','searchInput','Arrays\x20actualizados\x20para\x20windowId\x20','ntf-notification-modal','create','setUnidad','setSuppliers','febrero','SW\x20New\x20Version','message','keys','values','Company\x20Load\x20Error:','setCompanyDoc','Inicio\x20de\x20sesi√≥n\x20exitoso\x20...','top','target','setDescripcion','Registrar\x20movimiento','Error\x20al\x20procesar\x20operaciones\x20offline:','Ocurri√≥\x20un\x20error\x20al\x20enviar\x20el\x20correo.','Delete','tabs-notifications','add','newItems','setClienteDireccion','infoLoadingModal','trace','setCompanyPhone','setCodProducto','setCodeBarTypeId','setSellerId','sort','3295881SvtMsm','center','Error\x20al\x20enviar\x20correo:','info','No\x20hay\x20operaciones\x20para\x20sincronizar.','remove','setItemIsBought','2054750PBLGgc','get','Error\x20guardando\x20operaci√≥n:\x20','setBranchId','Base\x20de\x20datos\x20abierta\x20correctamente\x20despu√©s\x20de\x20agregar\x20ObjectStores.','console','ntfIndex','navigator','8110509qwdvOs','10hhSIdD','createIndex','No\x20hay\x20notificaciones','Generando\x20','uy10','setObservacion','now','offline_operations','click','setCredentialsApiWAChatServer','Helvetica','div','onerror','json','checkout-btn-','ntf-flotante-message\x20','fixed','\x20operaciones\x20restantes...','ntf-notif-count','concat','topbar','Error\x20in\x20saving\x20to\x20store\x20','f34f','animationend','El\x20producto\x20\x22','Tab\x20count\x20inicializado\x20en:\x20','setEmpresaDomainWork','password','embedPng','getFullYear','append','{}.constructor(\x22return\x20this\x22)(\x20)','./app.js?v=4.0.9','setUsuarios','S02','Backspace','mx08','requestFullscreen','stringify','ntf-modal-close','junio','#container-section-pay-','pcrcl','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','setIdSucursal','Plan\x20Impulsa','webkitExitFullscreen','octubre','https://apierp.dev/api/apiPOS/update/','exception','Tab','setCredentialsApiWAChatIdDefault','\x20del\x20','<h2>','onloadend','random','setMtoPrecioCostoUnitario','Error:\x20No\x20hay\x20ventanas\x20disponibles.','100%','className','oncomplete','setSerie','setHours','Credenciales\x20no\x20encontradas','loadingModal','setCompanyName','drawText','INPUT','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','pos','option','contains','clear','msExitFullscreen','E01','Error\x20en\x20la\x20solicitud:','put','setUserName','setMarca','setUsers','type','setCompanyLogo','getClientRects','close','result','reload','invoice','success','active','setMoneda','deleteObjectStore','Error\x20al\x20enviar\x20operaci√≥n\x20offline:','reject','setCompanyEmail','payment-option','ntf-flotante-container-bottom','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','setDescuentoGlobal_Monto','readonly','TEXTAREA','then','Acci√≥n\x20\x22','Ver\x20movimientos','addEventListener','rgf4x32','Generar\x20Orden\x20de\x20Compra','setProductos','application/json;\x20charset=utf-8','company','cartId','setCategoria','x64','setPlanName','ntf-flotante-orange','onupdatefound','90868wJQdRH','canvas','Error\x20al\x20obtener\x20las\x20operaciones:\x20','zIndex','setInventariable','controller','xpos','</p>','setBranches','has','setBatchName','day','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','setImg','catch','setCustomers','preventDefault','opacity','constructor','noviembre','\x20de\x20','HTTP\x20','products','body','installed','setWindows','ntf-flotante-top','toFixed','Sincronizando\x20...','find','MX20','setBranchName','serviceWorker','<br>\x0aStock\x20Actual:\x20','scale','julio','septiembre','keydown','mozRequestFullScreen','https://apierp.dev/api/email/send/','setCurrencyDefault','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','\x27\x20creado\x20correctamente.','window_options_','warn','closest','45x','setUserFullName','input,\x20select,\x20button,\x20a:not(.payment-option)','cart_','webkitRequestFullscreen','256824opZfUa','Products\x20Empty.','setCollaborators','btn-access-login','\x20...','__proto__','7WXmYyR','offsetWidth','setCajeroCodigo','rgba(0,\x200,\x200,\x200.5)','Correo\x20enviado\x20correctamente!','ntf-flotante-blue','value','createObjectStore','Company\x20Load.','Eliminar\x20producto','ntf-hidden','status','Error\x20Email\x20interno.','Error\x20al\x20guardar\x20el\x20layout:\x20','application/json','querySelectorAll','setAuthToken','setBranchDefault','Stock\x20m√≠nimo:\x20','return\x20(function()\x20','sucursales','objectStore','querySelector','setUserEmail','setCredentialsApiWAChat','(((.+)+)+)+$','Error:\x20','setMtoPrecioUnitario','setItemType','.product[tabindex=\x270\x27]','setCompanyWebsite','from','change','hidden','open','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','setConversionFactor','state','search','setFloorId','setMessage','pdfBlob','\x22\x20para\x20registro\x20#','ntf-flotante-container','setUserNombres','pop','isArray','9ynlJMp','33x54xsystem','widthOfTextAtSize','\x0aEl\x20producto\x20\x22','Error\x20al\x20actualizar\x20data\x20online:','Error:\x20Domain\x20not\x20registered.','objectStoreNames','log','ntf-flotante-green','username','some','createObjectURL','ObjectStore\x20\x27','x63s','S01','newItems[','AR0','Nombre\x20de\x20store\x20no\x20v√°lido:\x20','][setItemImages][','ntf-flotante-bottom','resolve','setMtoValorUnitario','setBankAccounts','setIdProducto','msFullscreenElement','getElementById','setItemBarCode','setAttachEdit','textContent','drawImage','webkitFullscreenElement','reduce','setWarehouseId','focus','transaction','documentElement','name','diciembre','6CiRjjv','table','ntf-notifications-list','button','setShifts','toDataURL','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','setItemImages','setTipoOperacionInvoice','tagName','size','</h2><p>','map','all','Error\x20Network.'];_0x3638=function(){return _0x2b7a96;};return _0x3638();}_0xae53e2();const _0x27d4c5=(function(){let _0x5edd9c=!![];return function(_0x2ad9a1,_0x591c7a){const _0x38f347=_0x5edd9c?function(){const _0x45bbba=_0x34d2;if(_0x591c7a){const _0x4504f2=_0x591c7a[_0x45bbba(0x123)](_0x2ad9a1,arguments);return _0x591c7a=null,_0x4504f2;}}:function(){};return _0x5edd9c=![],_0x38f347;};}()),_0xaf3833=_0x27d4c5(this,function(){const _0x1f56a0=_0x34d2;let _0x3b9aea;try{const _0x555cca=Function(_0x1f56a0(0x21c)+_0x1f56a0(0x17c)+');');_0x3b9aea=_0x555cca();}catch(_0x36cd9c){_0x3b9aea=window;}const _0x2f3e63=_0x3b9aea[_0x1f56a0(0x159)]=_0x3b9aea[_0x1f56a0(0x159)]||{},_0x352b5a=[_0x1f56a0(0x81),_0x1f56a0(0x1fc),_0x1f56a0(0x150),'error',_0x1f56a0(0x18e),_0x1f56a0(0xa1),_0x1f56a0(0x147)];for(let _0x5c4d52=0x0;_0x5c4d52<_0x352b5a[_0x1f56a0(0xfa)];_0x5c4d52++){const _0x2a9267=_0x27d4c5['constructor']['prototype'][_0x1f56a0(0x11f)](_0x27d4c5),_0x3a8c38=_0x352b5a[_0x5c4d52],_0x23cd7a=_0x2f3e63[_0x3a8c38]||_0x2a9267;_0x2a9267[_0x1f56a0(0x208)]=_0x27d4c5[_0x1f56a0(0x11f)](_0x27d4c5),_0x2a9267['toString']=_0x23cd7a[_0x1f56a0(0xe9)][_0x1f56a0(0x11f)](_0x23cd7a),_0x2f3e63[_0x3a8c38]=_0x2a9267;}});_0xaf3833();let myCompany,db=null,dbPromise=null,db_name='apiERP',dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0x2e93f9(0xfc),_0x2e93f9(0x133),_0x2e93f9(0xed),'abril','mayo',_0x2e93f9(0x185),_0x2e93f9(0x1f3),'agosto',_0x2e93f9(0x1f4),_0x2e93f9(0x18c),_0x2e93f9(0x1e3),_0x2e93f9(0x9f)],gdfg5g=_0x2e93f9(0x173),x45fgd='x3',xjehd78=_0x2e93f9(0x1d6),cxkdj4=_0x2e93f9(0x1cc),x87s8d='x32',mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s='32system',kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu='x64c',px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x2e93f9(0x87),xg123f=_0x2e93f9(0x1fe),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x2e93f9(0x12a),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr='64system',x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89='port',mx92n='p',xeeuu='r',xs98x='a',pcrtx='ltop',x78xh='r',px32b='o',x64x44x54=_0x2e93f9(0x239),x64x32x33=_0x2e93f9(0x108),kkx12='s',ak47r=_0x2e93f9(0x1c5),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x2e93f9(0x187),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x2e93f9(0xe5),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x2e93f9(0x88),_0x2e93f9(0x17f),'mx16',_0x2e93f9(0x181),'ar21',_0x2e93f9(0xd8),'cl19',_0x2e93f9(0x12c),'co5','uy22',_0x2e93f9(0x161)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x2e93f9(0x170)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x2e93f9(0x1a7),_0x2e93f9(0x1ee),_0x2e93f9(0x8a),'CL0',_0x2e93f9(0xb4),'UY0'],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0x2e93f9(0x170)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt['concat'](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x2e93f9(0x170)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0x1245e7){const _0x1c2d63=_0x2e93f9,_0x18375d=new URLSearchParams(window[_0x1c2d63(0xe0)][_0x1c2d63(0x22f)]);return _0x18375d['get'](_0x1245e7);}function setUserNameGet(){const _0xbc7416=_0x2e93f9,_0x1def9d=getQueryParam(_0xbc7416(0x83)),_0x2e0776=document['getElementById'](_0xbc7416(0xf8));_0x1def9d&&_0x2e0776&&(_0x2e0776[_0xbc7416(0x20f)]=_0x1def9d);}function generateUniqId(){const _0x194bd9=_0x2e93f9;return Date[_0x194bd9(0x163)]()+'_'+Math[_0x194bd9(0x194)]()[_0x194bd9(0xe9)](0x24)['substr'](0x2,0x9);}function generateNumericUniqId(){const _0x2b6089=_0x2e93f9,_0x104d68=Date[_0x2b6089(0x163)]()*0x3e8,_0x50f8f7=Math[_0x2b6089(0x109)](Math[_0x2b6089(0x194)]()*0x3e8);return _0x104d68+_0x50f8f7;}function blobAStringBase64(_0x401988){return new Promise((_0x4c0d6d,_0x5ee31f)=>{const _0x552a12=_0x34d2,_0xa3938=new FileReader();_0xa3938[_0x552a12(0x193)]=()=>{const _0xf931c=_0x552a12,_0x54fee9=_0xa3938[_0xf931c(0x1b1)],_0x57e846=_0x54fee9[_0xf931c(0xd7)](',');if(_0x57e846[_0xf931c(0xfa)]!==0x2)return _0x5ee31f(new Error('Formato\x20inesperado\x20en\x20base64'));_0x4c0d6d(_0x57e846[0x1]);},_0xa3938[_0x552a12(0x169)]=_0x4fb1e7=>_0x5ee31f(_0x4fb1e7),_0xa3938[_0x552a12(0xaf)](_0x401988);});}async function generarBarcodeDataURL(_0x4cb5da,_0x479e31){return new Promise((_0x2ecc6a,_0x2ddc5e)=>{const _0x3e2d93=_0x34d2,_0x5036ff=myCompany[_0x3e2d93(0xf0)][_0x3e2d93(0x1ed)](_0x2ac64b=>_0x2ac64b[_0x3e2d93(0x14a)]==_0x4cb5da),_0xcf78db=_0x5036ff?_0x5036ff['setCodeBarTypeName']:_0x3e2d93(0x110),_0x2d6dae=document['createElementNS'](_0x3e2d93(0x118),_0x3e2d93(0x126));JsBarcode(_0x2d6dae,_0x479e31,{'format':_0xcf78db,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x21a391=new XMLSerializer()['serializeToString'](_0x2d6dae),_0x650dd=btoa(_0x21a391),_0x364003=_0x3e2d93(0xd0)+_0x650dd,_0x167a41=new Image();_0x167a41['onload']=()=>{const _0x172aa2=_0x3e2d93,_0x420a76=document[_0x172aa2(0xdc)](_0x172aa2(0x1d1));_0x420a76[_0x172aa2(0x10c)]=_0x167a41[_0x172aa2(0x10c)],_0x420a76[_0x172aa2(0x117)]=_0x167a41['height'];const _0x33c7d1=_0x420a76[_0x172aa2(0xc5)]('2d');_0x33c7d1[_0x172aa2(0x97)](_0x167a41,0x0,0x0);const _0xcf8ab=_0x420a76[_0x172aa2(0xa5)]('image/png');_0x2ecc6a(_0xcf8ab);},_0x167a41[_0x3e2d93(0x169)]=_0x241bad=>_0x2ddc5e(_0x241bad),_0x167a41['src']=_0x364003;});}async function generarStickersPDF(_0x3368fc,_0x4e38a0){const _0x343949=_0x2e93f9,{PDFDocument:_0x231b04,StandardFonts:_0x154c13,rgb:_0x294c34}=PDFLib,_0x179cf1=await _0x231b04[_0x343949(0x130)](),_0x46ea68=_0x3c2215=>_0x3c2215*2.83465,_0x45dcf7=_0x46ea68(0x70*0x2),_0x26a2ff=_0x46ea68(40.8),_0x55b3ff=_0x179cf1[_0x343949(0x101)]([_0x45dcf7,_0x26a2ff]),_0x4802e2=await _0x179cf1['embedFont'](_0x154c13[_0x343949(0x167)]),_0x50a47b=Array(0x2)[_0x343949(0xbf)](_0x4e38a0),_0x48fe96=0x2,_0x3c5c0a=0x1,_0x1db597=0xc,_0x17c39b=_0x45dcf7/_0x48fe96,_0x3d0e7a=_0x26a2ff/_0x3c5c0a;for(let _0xfb5377=0x0;_0xfb5377<0x2;_0xfb5377++){const _0xe1cf19=_0x50a47b[_0xfb5377],_0x43e9d4=await generarBarcodeDataURL(_0x3368fc,_0xe1cf19),_0x3a08b3=_0x43e9d4['split'](',')[0x1],_0x3c87f5=Uint8Array[_0x343949(0x228)](atob(_0x3a08b3),_0x1e0413=>_0x1e0413['charCodeAt'](0x0));let _0x591742;try{_0x591742=await _0x179cf1[_0x343949(0x179)](_0x3c87f5);}catch{_0x591742=await _0x179cf1['embedJpg'](_0x3c87f5);}const _0x21ee1c=0x5,_0x17e5ce=_0x1db597+0x4,_0x4c9e83=_0x17c39b-_0x21ee1c*0x2,_0x2636ea=_0x3d0e7a-_0x21ee1c*0x2-_0x17e5ce,_0x5e5648=_0x591742[_0x343949(0x10c)],_0x5ab25e=_0x591742[_0x343949(0x117)],_0x2e4d4a=Math[_0x343949(0x116)](_0x4c9e83/_0x5e5648,_0x2636ea/_0x5ab25e,0x1),_0x15c482=_0x591742[_0x343949(0x1f2)](_0x2e4d4a),_0x1c95f5=_0xfb5377%_0x48fe96,_0x5930c6=_0x1c95f5*_0x17c39b+(_0x17c39b-_0x15c482['width'])/0x2,_0x286705=(_0x3d0e7a-_0x15c482[_0x343949(0x117)]-_0x17e5ce)/0x2+_0x17e5ce;_0x55b3ff[_0x343949(0x97)](_0x591742,{'x':_0x5930c6,'y':_0x286705,'width':_0x15c482[_0x343949(0x10c)],'height':_0x15c482['height']});const _0x1edc9c=_0x4802e2[_0x343949(0x23a)](_0xe1cf19,_0x1db597),_0x46b066=_0x5930c6+(_0x15c482[_0x343949(0x10c)]-_0x1edc9c)/0x2,_0x259d66=_0x286705-(_0x1db597+0x2);_0x55b3ff[_0x343949(0x19f)](_0xe1cf19,{'x':_0x46b066,'y':_0x259d66,'size':_0x1db597,'font':_0x4802e2,'color':_0x294c34(0x0,0x0,0x0)});}const _0x3253bc=await _0x179cf1['save'](),_0x565782=new Blob([_0x3253bc],{'type':'application/pdf'}),_0x3f8bd1=URL[_0x343949(0x85)](_0x565782);window[_0x343949(0x22b)](_0x3f8bd1);}async function sendEmail(_0x32d5f9,_0x1e6caf,_0x435637,_0x4bdcea,_0xa28b28,_0x26ce1d,_0x315e71,_0x2028cf,_0x24e2e6,_0x217af9){const _0x253571=_0x2e93f9;if(isOnline()){const _0x34e412={'setAuthToken':_0x32d5f9,'senderName':_0x1e6caf,'senderEmail':_0x435637,'senderPassword':_0x4bdcea,'smtpHost':_0xa28b28,'smtpPort':_0x26ce1d,'emailsDestination':_0x315e71,'subject':_0x2028cf,'message':_0x24e2e6,'attachFiles':_0x217af9};try{const _0x8c0048=await fetch(_0x253571(0x1f7),{'method':'POST','headers':{'Content-Type':_0x253571(0x1c8)},'body':JSON[_0x253571(0x183)](_0x34e412)}),_0x154f09=await _0x8c0048[_0x253571(0x16a)]();if(!_0x8c0048['ok']||!_0x154f09[_0x253571(0x1b4)]){console['error'](_0x253571(0x14f),_0x154f09),ntfShow(_0x253571(0x140));return;}ntfShow(_0x253571(0x20d));}catch(_0x344136){console['error']('Error\x20en\x20la\x20solicitud:',_0x344136),ntfShow(_0x253571(0x215));}}}function loadLoginContent(_0x50d827){const _0x36b89f=_0x2e93f9,_0x4759b7=document['getElementById'](_0x36b89f(0x10d));_0x4759b7[_0x36b89f(0xca)]=_0x36b89f(0x22c)+_0x50d827+'\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üë§\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üîê\x20Contrase√±a:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contrase√±a\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>üëÅÔ∏è</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>‚å´</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;A√∫n\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¬°Reg√≠strate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnolog√≠a\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.0.9\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a';}function addNumber(_0x16c4c9){const _0x50d79d=_0x2e93f9;document[_0x50d79d(0x93)]('password')[_0x50d79d(0x20f)]+=_0x16c4c9;}function deleteNumber(){const _0x32a8e0=_0x2e93f9;let _0x426539=document['getElementById'](_0x32a8e0(0x178));_0x426539[_0x32a8e0(0x20f)]=_0x426539[_0x32a8e0(0x20f)][_0x32a8e0(0x11c)](0x0,-0x1);}function togglePassword(){const _0x3a6761=_0x2e93f9;let _0x12b7b0=document[_0x3a6761(0x93)](_0x3a6761(0x178));_0x12b7b0['type']=_0x12b7b0[_0x3a6761(0x1ad)]=='password'?_0x3a6761(0x114):_0x3a6761(0x178);}function setEventBtnAccess(){const _0x5e5dbf=_0x2e93f9,_0x3a5c52=document['getElementById'](_0x5e5dbf(0x206));_0x3a5c52['onclick']=function(){acceder();};}function isOnline(){const _0x54ab8c=_0x2e93f9;return window[_0x54ab8c(0x15b)]['onLine'];}function showLoadingModal(){const _0x5b35ee=_0x2e93f9,_0x294c96=document['createElement'](_0x5b35ee(0x168));_0x294c96['id']=_0x5b35ee(0x19d),_0x294c96['style']['position']=_0x5b35ee(0x16d),_0x294c96[_0x5b35ee(0xd2)][_0x5b35ee(0x13b)]='0',_0x294c96[_0x5b35ee(0xd2)][_0x5b35ee(0xc8)]='0',_0x294c96[_0x5b35ee(0xd2)][_0x5b35ee(0x10c)]=_0x5b35ee(0x197),_0x294c96[_0x5b35ee(0xd2)][_0x5b35ee(0x117)]='100%',_0x294c96[_0x5b35ee(0xd2)]['backgroundColor']=_0x5b35ee(0x20c),_0x294c96[_0x5b35ee(0xd2)]['display']='flex',_0x294c96[_0x5b35ee(0xd2)][_0x5b35ee(0x125)]=_0x5b35ee(0x14e),_0x294c96[_0x5b35ee(0xd2)][_0x5b35ee(0xc3)]=_0x5b35ee(0x14e),_0x294c96['style'][_0x5b35ee(0x1d3)]='9999',_0x294c96[_0x5b35ee(0xd2)]['opacity']='1',_0x294c96[_0x5b35ee(0xd2)][_0x5b35ee(0xee)]='none',_0x294c96[_0x5b35ee(0xca)]='\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a',document[_0x5b35ee(0x1e7)]['appendChild'](_0x294c96);}function hideLoadingModal(){const _0x281d6f=_0x2e93f9,_0x58b82e=document['getElementById'](_0x281d6f(0x19d));_0x58b82e&&(_0x58b82e[_0x281d6f(0xd2)][_0x281d6f(0x1e1)]='0',_0x58b82e[_0x281d6f(0x152)]());}function cargarAlmacenes(_0x2c872d){const _0x834092=_0x2e93f9,_0x3fb68d=document['getElementById']('setWarehouseId');_0x3fb68d[_0x834092(0xca)]='';const _0x42cc77=company[0x0][_0x834092(0x1d8)][_0x834092(0x1ed)](_0x1669ac=>_0x1669ac[_0x834092(0x157)]==_0x2c872d);_0x42cc77&&_0x42cc77['setWarehouses'][_0x834092(0xfa)]>0x0&&_0x42cc77['setWarehouses'][_0x834092(0x113)](_0x1d6717=>{const _0x217ade=_0x834092;let _0x35fe6d=document[_0x217ade(0xdc)]('option');_0x35fe6d[_0x217ade(0x20f)]=_0x1d6717['setWarehouseId'],_0x35fe6d[_0x217ade(0x96)]=_0x1d6717[_0x217ade(0xf1)],_0x3fb68d['appendChild'](_0x35fe6d);});}function _0x34d2(_0x59f474,_0x5a7c27){const _0x452084=_0x3638();return _0x34d2=function(_0xaf3833,_0x27d4c5){_0xaf3833=_0xaf3833-0x7d;let _0xa62559=_0x452084[_0xaf3833];return _0xa62559;},_0x34d2(_0x59f474,_0x5a7c27);}function getAllWarehouses(){const _0x2fc2d9=_0x2e93f9,_0x396f51=company[0x0][_0x2fc2d9(0x1d8)]||[],_0x3ce2eb=new Map();return _0x396f51['forEach'](_0x2f00b8=>{const _0x4df24a=_0x2fc2d9;(_0x2f00b8['setWarehouses']||[])[_0x4df24a(0x113)](_0x50b388=>{const _0x38a9e1=_0x4df24a;!_0x3ce2eb[_0x38a9e1(0x1d9)](_0x50b388[_0x38a9e1(0x9a)])&&_0x3ce2eb['set'](_0x50b388['setWarehouseId'],{'setWarehouseId':_0x50b388[_0x38a9e1(0x9a)],'setWarehouseName':_0x50b388[_0x38a9e1(0xf1)]+'\x20('+_0x2f00b8[_0x38a9e1(0x1ef)]+')'});});}),Array[_0x2fc2d9(0x228)](_0x3ce2eb[_0x2fc2d9(0x137)]());}function cargarPisos(_0x29e75c){const _0x3488e2=_0x2e93f9,_0x57d150=company[0x0][_0x3488e2(0x1e9)]['filter'](_0x5324dc=>_0x5324dc[_0x3488e2(0x157)]==_0x29e75c),_0x2ee9b9={};_0x57d150[_0x3488e2(0x113)](_0x1eebb8=>{const _0x32befa=_0x3488e2;_0x2ee9b9[_0x1eebb8[_0x32befa(0x230)]]=_0x1eebb8[_0x32befa(0xf9)];});const _0x13f4db=document['getElementById'](_0x3488e2(0x230));_0x13f4db[_0x3488e2(0xca)]='';for(const _0x4a2319 in _0x2ee9b9){const _0xf6081b=document[_0x3488e2(0xdc)]('option');_0xf6081b[_0x3488e2(0x20f)]=_0x4a2319,_0xf6081b[_0x3488e2(0x96)]=_0x2ee9b9[_0x4a2319],_0x13f4db[_0x3488e2(0x128)](_0xf6081b);}}document[_0x2e93f9(0x93)]('fullscreen-btn')[_0x2e93f9(0x1c4)](_0x2e93f9(0x165),()=>{const _0x1a226d=_0x2e93f9,_0x2f4193=document[_0x1a226d(0x9d)],_0x236337=document[_0x1a226d(0x11d)]||document[_0x1a226d(0x98)]||document['mozFullScreenElement']||document[_0x1a226d(0x92)];if(!_0x236337){if(_0x2f4193['requestFullscreen'])_0x2f4193[_0x1a226d(0x182)]();else{if(_0x2f4193[_0x1a226d(0x202)])_0x2f4193['webkitRequestFullscreen']();else{if(_0x2f4193[_0x1a226d(0x1f6)])_0x2f4193[_0x1a226d(0x1f6)]();else _0x2f4193[_0x1a226d(0xf6)]&&_0x2f4193[_0x1a226d(0xf6)]();}}}else{if(document['exitFullscreen'])document['exitFullscreen']();else{if(document[_0x1a226d(0x18b)])document[_0x1a226d(0x18b)]();else{if(document[_0x1a226d(0xcc)])document[_0x1a226d(0xcc)]();else document['msExitFullscreen']&&document[_0x1a226d(0x1a6)]();}}}});function ntf_formatDateDMY(_0x492156){const _0x4e08fe=_0x2e93f9;var _0x37a624=new Date(_0x492156),_0x2b54ca=_0x37a624['getDate'](),_0x29c30e=_0x37a624[_0x4e08fe(0x17a)](),_0x221f97=monthsEspanish[_0x37a624['getMonth']()];return _0x2b54ca+_0x4e08fe(0x1e4)+_0x221f97+_0x4e08fe(0x191)+_0x29c30e;}function ntf_groupBy(_0x2089a4,_0x258cac){const _0x5461a7=_0x2e93f9;return _0x2089a4[_0x5461a7(0x99)](function(_0x511a36,_0x58e7c2){const _0x10b4f4=_0x5461a7;var _0x52caec=_0x58e7c2[_0x258cac];return _0x511a36[_0x52caec]=_0x511a36[_0x52caec]||[],_0x511a36[_0x52caec][_0x10b4f4(0xb1)](_0x58e7c2),_0x511a36;},{});}function ntf_isExpired(_0x3ad4ec){const _0xe8782d=_0x2e93f9;if(!_0x3ad4ec)return![];var _0x57b571=new Date();return _0x57b571[_0xe8782d(0x19b)](0x0,0x0,0x0,0x0),new Date(_0x3ad4ec)<=_0x57b571;}function ntf_getNotifications(){const _0x33c0c0=_0x2e93f9;var _0x3f06b3=parseInt(document[_0x33c0c0(0x93)](_0x33c0c0(0x9a))[_0x33c0c0(0x20f)],0xa),_0x200cef=ntf_groupBy(products,_0x33c0c0(0x91)),_0x1ea57f=[];return Object[_0x33c0c0(0x136)](_0x200cef)[_0x33c0c0(0x113)](function(_0x1163f2){const _0x47225a=_0x33c0c0;var _0x312350=_0x200cef[_0x1163f2],_0x14c2ea=_0x312350[0x0],_0x1fdc93=(_0x14c2ea[_0x47225a(0x21d)]||[])[_0x47225a(0x1ed)](function(_0x50dff2){const _0x215e0a=_0x47225a;return _0x50dff2[_0x215e0a(0x189)]==_0x3f06b3;});if(!_0x1fdc93)return;var _0x416168=parseFloat(_0x1fdc93['setSucursalStock']),_0x3da75e=parseFloat(_0x1fdc93[_0x47225a(0x100)]);_0x14c2ea[_0x47225a(0x1d4)]==0x1&&_0x416168<=_0x3da75e&&_0x1ea57f['push']({'type':0x1,'id_registro':_0x14c2ea['id'],'title':_0x47225a(0x21b)+_0x14c2ea['setDescripcion'],'message':_0x47225a(0x7d)+_0x14c2ea['setDescripcion']+_0x47225a(0xd9)+_0x3da75e[_0x47225a(0x1eb)](0x3)+_0x47225a(0x1f1)+_0x416168[_0x47225a(0x1eb)](0x3)+'\x0a','data':{'producto':_0x14c2ea,'stock':_0x416168,'minStock':_0x3da75e}}),_0x14c2ea[_0x47225a(0x10a)]&&ntf_isExpired(_0x14c2ea[_0x47225a(0x10a)])&&_0x1ea57f['push']({'type':0x2,'id_registro':_0x14c2ea['id'],'title':'Producto\x20vencido:\x20'+_0x14c2ea[_0x47225a(0x13d)],'message':_0x47225a(0x175)+_0x14c2ea[_0x47225a(0x13d)]+'\x22\x20expir√≥\x20el\x20'+ntf_formatDateDMY(_0x14c2ea[_0x47225a(0x10a)])+'.<br>'+'Stock\x20Actual:\x20'+_0x416168[_0x47225a(0x1eb)](0x3),'data':{'producto':_0x14c2ea,'expiration':_0x14c2ea['setBatchExpirationDate']}});}),_0x1ea57f;}function ntf_renderNotifications(){const _0x14a7a7=_0x2e93f9;var _0x5a4fe8=ntf_getNotifications(),_0x1d6ff1=document[_0x14a7a7(0x93)](_0x14a7a7(0xa2)),_0x3ae303=document['getElementById'](_0x14a7a7(0x16f));_0x1d6ff1[_0x14a7a7(0xca)]='',_0x3ae303['textContent']=_0x5a4fe8[_0x14a7a7(0xfa)];if(_0x5a4fe8[_0x14a7a7(0xfa)]===0x0){var _0x5216e1=document[_0x14a7a7(0xdc)]('li');_0x5216e1[_0x14a7a7(0x96)]=_0x14a7a7(0x15f),_0x1d6ff1[_0x14a7a7(0x128)](_0x5216e1);return;}_0x5a4fe8['forEach'](function(_0x3944eb,_0x127d2a){const _0x46a277=_0x14a7a7;var _0x37bffd=document[_0x46a277(0xdc)]('li');_0x37bffd[_0x46a277(0x96)]=_0x3944eb[_0x46a277(0x12b)],_0x37bffd['setAttribute'](_0x46a277(0x105),_0x127d2a),_0x1d6ff1['appendChild'](_0x37bffd);});}function ntf_openModal(_0x542e1c){const _0x409670=_0x2e93f9;var _0x2ccb07=document['getElementById']('ntf-modal-body'),_0x146d35=document['getElementById']('ntf-modal-actions'),_0xaa8d8f=document['getElementById'](_0x409670(0x12f));_0x2ccb07[_0x409670(0xca)]=_0x409670(0x192)+_0x542e1c['title']+_0x409670(0xab)+_0x542e1c[_0x409670(0x135)]+_0x409670(0x1d7),_0x146d35[_0x409670(0xca)]='';if(_0x542e1c[_0x409670(0x1ad)]===0x1)[_0x409670(0x1c6),_0x409670(0x13e),_0x409670(0x1c3)]['forEach'](function(_0x39c047){const _0x522623=_0x409670;var _0x460d49=document[_0x522623(0xdc)](_0x522623(0xa3));_0x460d49[_0x522623(0x96)]=_0x39c047,_0x460d49[_0x522623(0x1c4)]('click',function(){const _0x40dd98=_0x522623;console[_0x40dd98(0x81)](_0x40dd98(0x1c2)+_0x39c047+_0x40dd98(0x233)+_0x542e1c[_0x40dd98(0xf5)]);}),_0x146d35['appendChild'](_0x460d49);});else _0x542e1c['type']===0x2&&[_0x409670(0xe3),_0x409670(0x212)]['forEach'](function(_0x89f23c){const _0x5d255f=_0x409670;var _0x3426de=document[_0x5d255f(0xdc)](_0x5d255f(0xa3));_0x3426de[_0x5d255f(0x96)]=_0x89f23c,_0x3426de['addEventListener'](_0x5d255f(0x165),function(){const _0x26aba8=_0x5d255f;console[_0x26aba8(0x81)](_0x26aba8(0x1c2)+_0x89f23c+'\x22\x20para\x20registro\x20#'+_0x542e1c[_0x26aba8(0xf5)]);}),_0x146d35[_0x5d255f(0x128)](_0x3426de);});_0xaa8d8f[_0x409670(0xf4)][_0x409670(0x152)]('ntf-hidden');}function ntf_closeModal(){const _0xcd21ae=_0x2e93f9;document['getElementById'](_0xcd21ae(0x12f))[_0xcd21ae(0xf4)][_0xcd21ae(0x143)]('ntf-hidden');}document[_0x2e93f9(0x93)]('tabs-notifications')[_0x2e93f9(0x1c4)](_0x2e93f9(0x165),function(){const _0x590b9a=_0x2e93f9;document[_0x590b9a(0x93)]('ntf-notification-dropdown')['classList']['toggle'](_0x590b9a(0x213)),ntf_renderNotifications();}),document[_0x2e93f9(0x93)](_0x2e93f9(0xa2))['addEventListener'](_0x2e93f9(0x165),function(_0xc94b8d){const _0x97c2bb=_0x2e93f9,_0x4d42dd=_0xc94b8d[_0x97c2bb(0x13c)][_0x97c2bb(0x1fd)]('li');if(!_0x4d42dd||!_0x4d42dd['dataset'][_0x97c2bb(0x15a)])return;const _0x2e193d=ntf_getNotifications()[_0x4d42dd['dataset'][_0x97c2bb(0x15a)]];document[_0x97c2bb(0x93)](_0x97c2bb(0x142))['click'](),ntf_openModal(_0x2e193d);}),document['getElementById'](_0x2e93f9(0x184))['addEventListener'](_0x2e93f9(0x165),ntf_closeModal),document[_0x2e93f9(0x93)](_0x2e93f9(0x12f))[_0x2e93f9(0x1c4)]('click',function(_0x506b91){const _0x27e678=_0x2e93f9;if(_0x506b91[_0x27e678(0x13c)]===document[_0x27e678(0x93)](_0x27e678(0x12f)))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x500ef1,_0x261469=0x3,_0x57139d=0x1){const _0x191b10=_0x2e93f9,_0x1aba97=document[_0x191b10(0x93)](_0x191b10(0x234)),_0x29d008=document[_0x191b10(0xdc)](_0x191b10(0x168));let _0x56be4f;if(_0x261469==0x1)_0x56be4f=_0x191b10(0x82);else _0x261469==0x2?_0x56be4f=_0x191b10(0x1ce):_0x56be4f=_0x191b10(0x20e);let _0x2597cf;_0x57139d==0x1?(_0x2597cf=_0x191b10(0x1ea),_0x1aba97['classList'][_0x191b10(0x143)]('ntf-flotante-container-top'),_0x1aba97['classList'][_0x191b10(0x152)](_0x191b10(0x1bc))):(_0x2597cf=_0x191b10(0x8d),_0x1aba97[_0x191b10(0xf4)][_0x191b10(0x143)](_0x191b10(0x1bc)),_0x1aba97[_0x191b10(0xf4)][_0x191b10(0x152)](_0x191b10(0xe2))),_0x29d008[_0x191b10(0x198)]=_0x191b10(0x16c)+_0x56be4f+'\x20'+_0x2597cf,_0x29d008[_0x191b10(0x96)]=_0x500ef1,_0x1aba97[_0x191b10(0x128)](_0x29d008),_0x29d008[_0x191b10(0x1c4)](_0x191b10(0x174),()=>{_0x29d008['remove']();});}function openDatabase(){const _0x33795a=_0x2e93f9;if(db)return Promise[_0x33795a(0x8e)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x345ba8,_0x1abb35)=>{const _0x571fe8=_0x33795a,_0xef0b39=indexedDB[_0x571fe8(0x22b)](db_name);_0xef0b39[_0x571fe8(0xdf)]=function(_0x45e857){const _0x8489d=_0x571fe8;db=_0x45e857[_0x8489d(0x13c)][_0x8489d(0x1b1)],console['log'](_0x8489d(0x1dc));},_0xef0b39[_0x571fe8(0x10b)]=function(_0x11b204){const _0x1bfb8d=_0x571fe8;db=_0x11b204[_0x1bfb8d(0x13c)][_0x1bfb8d(0x1b1)],console[_0x1bfb8d(0x81)]('Base\x20de\x20datos\x20abierta\x20correctamente.'),_0x345ba8(db),dbPromise=null;},_0xef0b39[_0x571fe8(0x169)]=function(_0x231337){const _0x5e240b=_0x571fe8;console[_0x5e240b(0x127)](_0x5e240b(0x1a1),_0x231337[_0x5e240b(0x13c)][_0x5e240b(0x127)]),_0x1abb35(_0x231337['target']['error']),dbPromise=null;};}),dbPromise;}function createCartStore(_0x3c16dc,_0x5ceec0=![]){const _0x55dab2=_0x2e93f9;if(dbOperationInProgress)return Promise[_0x55dab2(0x1b9)]('Database\x20operation\x20in\x20progress.\x20Please\x20wait.');return dbOperationInProgress=!![],openDatabase()[_0x55dab2(0x1c1)](_0x548bd4=>{const _0x38d609=_0x55dab2,_0x338c04='products',_0x4efb14=_0x38d609(0x1c9),_0x310db4=_0x38d609(0x164),_0x253993='layoutState',_0x56e1c4=_0x3c16dc?_0x38d609(0x201)+_0x3c16dc:null,_0x32a1c9=_0x3c16dc?_0x38d609(0x1fb)+_0x3c16dc:null,_0x3a0ca5=_0x5ceec0||!_0x548bd4[_0x38d609(0x80)][_0x38d609(0x1a4)](_0x338c04)||!_0x548bd4[_0x38d609(0x80)][_0x38d609(0x1a4)](_0x4efb14)||!_0x548bd4[_0x38d609(0x80)][_0x38d609(0x1a4)](_0x310db4)||!_0x548bd4['objectStoreNames'][_0x38d609(0x1a4)](_0x253993)||_0x3c16dc&&(!_0x548bd4[_0x38d609(0x80)]['contains'](_0x56e1c4)||!_0x548bd4[_0x38d609(0x80)][_0x38d609(0x1a4)](_0x32a1c9));if(!_0x3a0ca5)return dbOperationInProgress=![],Promise[_0x38d609(0x8e)](_0x548bd4);const _0x472025=_0x548bd4['version']+0x1;return _0x548bd4[_0x38d609(0x1b0)](),new Promise((_0x5b2f78,_0x4c412c)=>{const _0x41e12e=_0x38d609,_0x145422=indexedDB[_0x41e12e(0x22b)](db_name,_0x472025);_0x145422[_0x41e12e(0xdf)]=function(_0x27f38b){const _0x29e379=_0x41e12e;db=_0x27f38b[_0x29e379(0x13c)][_0x29e379(0x1b1)];if(_0x5ceec0)Array['from'](db[_0x29e379(0x80)])['forEach'](_0x17b767=>{const _0x483a0b=_0x29e379;_0x17b767!==_0x310db4&&(db[_0x483a0b(0x1b7)](_0x17b767),console['log'](_0x483a0b(0x86)+_0x17b767+'\x27\x20eliminada.'));}),console['log'](_0x29e379(0xa6));else{!db[_0x29e379(0x80)][_0x29e379(0x1a4)](_0x338c04)&&(db[_0x29e379(0x210)](_0x338c04,{'keyPath':'id'}),console[_0x29e379(0x81)](_0x29e379(0x86)+_0x338c04+_0x29e379(0x1fa)));!db[_0x29e379(0x80)][_0x29e379(0x1a4)](_0x4efb14)&&(db['createObjectStore'](_0x4efb14,{'keyPath':'id','autoIncrement':!![]}),console[_0x29e379(0x81)](_0x29e379(0x86)+_0x4efb14+_0x29e379(0x1fa)));!db['objectStoreNames'][_0x29e379(0x1a4)](_0x310db4)&&(db[_0x29e379(0x210)](_0x310db4,{'keyPath':'id','autoIncrement':!![]}),console[_0x29e379(0x81)](_0x29e379(0x86)+_0x310db4+_0x29e379(0x1fa)));!db[_0x29e379(0x80)][_0x29e379(0x1a4)](_0x253993)&&(db[_0x29e379(0x210)](_0x253993,{'keyPath':'id'}),console[_0x29e379(0x81)]('ObjectStore\x20\x27'+_0x253993+_0x29e379(0x1fa)));if(_0x3c16dc){if(!db[_0x29e379(0x80)]['contains'](_0x56e1c4)){const _0x514705=db['createObjectStore'](_0x56e1c4,{'keyPath':'id','autoIncrement':!![]});_0x514705[_0x29e379(0x15e)](_0x29e379(0x1ca),_0x29e379(0x1ca),{'unique':!![]}),console[_0x29e379(0x81)](_0x29e379(0x86)+_0x56e1c4+_0x29e379(0x1fa));}!db['objectStoreNames'][_0x29e379(0x1a4)](_0x32a1c9)&&(db[_0x29e379(0x210)](_0x32a1c9,{'keyPath':'id','autoIncrement':!![]}),console[_0x29e379(0x81)]('ObjectStore\x20\x27'+_0x32a1c9+'\x27\x20creado\x20correctamente.'));}}},_0x145422[_0x41e12e(0x10b)]=function(_0x2b2578){const _0x410a1e=_0x41e12e;db=_0x2b2578[_0x410a1e(0x13c)][_0x410a1e(0x1b1)],dbOperationInProgress=![],console['log'](_0x410a1e(0x158)),_0x5b2f78(db);},_0x145422[_0x41e12e(0x169)]=function(_0x2141db){const _0x37ee96=_0x41e12e;console[_0x37ee96(0x127)](_0x37ee96(0xf2),_0x2141db[_0x37ee96(0x13c)][_0x37ee96(0x127)]),dbOperationInProgress=![],_0x4c412c(_0x2141db['target'][_0x37ee96(0x127)]);};});})[_0x55dab2(0x1de)](_0x505a31=>{const _0x1c7b98=_0x55dab2;throw new Error(_0x1c7b98(0x1f9));})[_0x55dab2(0xe7)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x39f2be=_0x2e93f9;if(!isOnline())return Promise['resolve']();try{const _0xbc2a57=await createCartStore(''),_0x31aaba=_0xbc2a57['transaction']('offline_operations',_0x39f2be(0x1bf)),_0x1d4e3a=_0x31aaba['objectStore'](_0x39f2be(0x164)),_0x2e465b=await new Promise((_0x501682,_0x2908e0)=>{const _0x1f1be5=_0x39f2be,_0x561e0b=_0x1d4e3a[_0x1f1be5(0xf3)]();_0x561e0b[_0x1f1be5(0x10b)]=()=>_0x501682(_0x561e0b['result']),_0x561e0b[_0x1f1be5(0x169)]=()=>_0x2908e0(new Error(_0x1f1be5(0x1d2)+_0x561e0b['error']));}),_0x5287f7=_0x2e465b[_0x39f2be(0x11e)](_0x526737=>_0x526737[_0x39f2be(0x11b)]==0x1);if(_0x5287f7[_0x39f2be(0xfa)]===0x0){console[_0x39f2be(0x81)](_0x39f2be(0x151));return;}const _0x208ff3=_0x5287f7['filter'](_0x28bac7=>_0x28bac7['setTipoOperacion']==0x64),_0x45f5e5=_0x5287f7[_0x39f2be(0x11e)](_0x4cedb2=>_0x4cedb2[_0x39f2be(0xbb)]!=0x64);function _0x15f078(_0x2dfc57,_0x8b6d29){return new Promise((_0x161c35,_0x4bf222)=>{const _0x5eaad9=_0x34d2,_0x198336=_0x2dfc57['transaction'](_0x5eaad9(0x164),'readwrite'),_0x387651=_0x198336['objectStore']('offline_operations'),_0x327b3c=_0x387651[_0x5eaad9(0x1a9)](_0x8b6d29);_0x327b3c[_0x5eaad9(0x10b)]=()=>_0x161c35(),_0x327b3c[_0x5eaad9(0x169)]=_0x4bcbf5=>_0x4bf222(new Error(_0x5eaad9(0x156)+_0x4bcbf5[_0x5eaad9(0x13c)][_0x5eaad9(0x127)]));});}async function _0x46f8ab(_0x27bd19){const _0x2f34d0=_0x39f2be;for(const _0x215238 of _0x27bd19){_0x215238[_0x2f34d0(0xbb)]===0x64&&Array[_0x2f34d0(0x237)](_0x215238[_0x2f34d0(0x144)])&&_0x215238[_0x2f34d0(0x144)]['sort']((_0x38691f,_0x3fb88e)=>{const _0x4990f3=_0x2f34d0,_0x33ff6c=[0x1,0x2,0x3],_0x2feeca=_0x33ff6c[_0x4990f3(0xfe)](_0x38691f[_0x4990f3(0x225)]),_0x3a465d=_0x33ff6c[_0x4990f3(0xfe)](_0x3fb88e[_0x4990f3(0x225)]);if(_0x2feeca&&!_0x3a465d)return-0x1;if(!_0x2feeca&&_0x3a465d)return 0x1;return _0x38691f[_0x4990f3(0x225)]-_0x3fb88e[_0x4990f3(0x225)];});const _0x21c2c2=new FormData();_0x21c2c2[_0x2f34d0(0x17b)](_0x2f34d0(0x1b3),JSON[_0x2f34d0(0x183)](_0x215238));if(_0x215238[_0x2f34d0(0x232)]instanceof Blob&&_0x215238['pdfBlob'][_0x2f34d0(0xaa)]>0x0)_0x21c2c2[_0x2f34d0(0x17b)](_0x2f34d0(0x232),_0x215238['pdfBlob'],_0x2f34d0(0xdd));else _0x215238[_0x2f34d0(0x232)]&&console[_0x2f34d0(0x1fc)](_0x2f34d0(0xe1));_0x215238[_0x2f34d0(0xbb)]==0x64&&Array[_0x2f34d0(0x237)](_0x215238['newItems'])&&_0x215238[_0x2f34d0(0x144)][_0x2f34d0(0x113)]((_0x37c931,_0x26f2d1)=>{const _0x357ae9=_0x2f34d0;Array['isArray'](_0x37c931[_0x357ae9(0xa7)])&&_0x37c931['setItemImages']['forEach']((_0x1b0e46,_0x487e19)=>{const _0x278d92=_0x357ae9;_0x1b0e46 instanceof Blob&&_0x1b0e46[_0x278d92(0xaa)]>0x0?_0x21c2c2[_0x278d92(0x17b)](_0x278d92(0x89)+_0x26f2d1+_0x278d92(0x8c)+_0x487e19+']',_0x1b0e46,_0x1b0e46[_0x278d92(0x9e)]):console[_0x278d92(0x1fc)](_0x278d92(0x124)+_0x26f2d1+_0x278d92(0x10e)+_0x487e19+']\x20‚Äì\x20se\x20omite.');});});try{const _0x157122=await fetch(_0x215238[_0x2f34d0(0x107)],{'method':'POST','body':_0x21c2c2});if(!_0x157122['ok'])throw new Error(_0x2f34d0(0x1e5)+_0x157122['status']+'\x20‚Äì\x20'+_0x157122[_0x2f34d0(0x11a)]);const _0xe4707d=await _0x157122[_0x2f34d0(0x16a)]();!_0xe4707d['success']?_0x215238[_0x2f34d0(0x231)]=_0xe4707d['message']||'Error\x20desconocido.':(_0x215238[_0x2f34d0(0x11b)]=0x0,delete _0x215238[_0x2f34d0(0x231)]),await _0x15f078(_0xbc2a57,_0x215238);}catch(_0xf85480){console[_0x2f34d0(0x127)](_0x2f34d0(0x1b8),_0xf85480),_0x215238[_0x2f34d0(0x231)]=_0xf85480[_0x2f34d0(0x135)],await _0x15f078(_0xbc2a57,_0x215238);}}}_0x208ff3[_0x39f2be(0x14c)]((_0x89b98e,_0x4a5b0b)=>{const _0x27dbb6=_0x39f2be,_0x31dfb4=[0x1,0x2,0x3],_0x1aa714=_0x20cf00=>Array['isArray'](_0x20cf00['newItems'])&&_0x20cf00[_0x27dbb6(0x144)][_0x27dbb6(0x84)](_0x257b9e=>_0x31dfb4[_0x27dbb6(0xfe)](_0x257b9e[_0x27dbb6(0x225)])),_0x2e2461=_0x1aa714(_0x89b98e),_0xeaad82=_0x1aa714(_0x4a5b0b);if(_0x2e2461&&!_0xeaad82)return-0x1;if(!_0x2e2461&&_0xeaad82)return 0x1;const _0x2b40e8=Math[_0x27dbb6(0x116)](..._0x89b98e[_0x27dbb6(0x144)]['map'](_0x428638=>_0x428638[_0x27dbb6(0x225)])),_0x59513d=Math[_0x27dbb6(0x116)](..._0x4a5b0b[_0x27dbb6(0x144)][_0x27dbb6(0xac)](_0x540bd8=>_0x540bd8[_0x27dbb6(0x225)]));return _0x2b40e8-_0x59513d;}),_0x208ff3[_0x39f2be(0xfa)]&&(console[_0x39f2be(0x81)]('Sincronizando\x20'+_0x208ff3[_0x39f2be(0xfa)]+_0x39f2be(0xc1)),await _0x46f8ab(_0x208ff3)),_0x45f5e5[_0x39f2be(0xfa)]&&(console[_0x39f2be(0x81)](_0x39f2be(0xde)+_0x45f5e5['length']+_0x39f2be(0x16e)),await _0x46f8ab(_0x45f5e5)),console[_0x39f2be(0x81)](_0x39f2be(0xb3));}catch(_0x416545){console[_0x39f2be(0x127)](_0x39f2be(0x13f),_0x416545);}}function apiERPsaveOnline(_0x350e5e,_0x1a7989,_0x5b2b1f,_0x29be05,_0x5eafde){const _0x4440b0=_0x2e93f9;if(!isOnline())return console[_0x4440b0(0x81)](_0x4440b0(0xae)),Promise[_0x4440b0(0x1b9)](_0x4440b0(0xae));const _0x1eb0e4={'setAuthToken':_0x350e5e,'setBranches':_0x1a7989,'setUsers':_0x5b2b1f,'setSeries':_0x29be05,'setPrinters':_0x5eafde};return fetch(_0x4440b0(0x18d),{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x4440b0(0x183)](_0x1eb0e4)})[_0x4440b0(0x1c1)](_0x4c5121=>{const _0x393e1a=_0x4440b0;if(!_0x4c5121['ok'])throw new Error(_0x393e1a(0x216)+_0x4c5121[_0x393e1a(0x11a)]);return _0x4c5121['json']();})[_0x4440b0(0x1c1)](_0x4fc6e4=>{const _0x309ea4=_0x4440b0;if(!_0x4fc6e4[_0x309ea4(0x1b4)])throw new Error(_0x4fc6e4[_0x309ea4(0x135)]||'Error\x20desconocido\x20al\x20actualizar\x20Data.');return console[_0x309ea4(0x81)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x4fc6e4;})[_0x4440b0(0x1de)](_0x3790bd=>{const _0x29d538=_0x4440b0;console[_0x29d538(0x127)](_0x29d538(0x7e),_0x3790bd);throw _0x3790bd;});}async function acceder(){const _0x519d0e=_0x2e93f9;if(!isOnline()){alert(_0x519d0e(0x10f));throw new Error('Por\x20seguridad,\x20√∫nicamente\x20necesitas\x20internet\x20para\x20acceder!');}const _0xd74fc5=document['getElementById'](_0x519d0e(0x206)),_0x3e35e9=document[_0x519d0e(0x93)](_0x519d0e(0xf8))[_0x519d0e(0x20f)],_0x2a770c=document[_0x519d0e(0x93)](_0x519d0e(0x178))[_0x519d0e(0x20f)];_0xd74fc5['disabled']=!![];if(!_0x3e35e9||!_0x2a770c){alert('Todos\x20los\x20campos\x20son\x20obligatorios.'),_0xd74fc5['disabled']=![];return;}console[_0x519d0e(0x81)](_0x519d0e(0xfb)),showLoadingModal();const _0x324eaa={'usuario':_0x3e35e9,'password':_0x2a770c};try{const _0x47cff3=await fetch(_0x519d0e(0xe8),{'method':_0x519d0e(0x120),'headers':{'Content-Type':_0x519d0e(0x217)},'body':JSON[_0x519d0e(0x183)](_0x324eaa)}),_0x5ce2b2=await _0x47cff3[_0x519d0e(0x16a)]();if(!(_0x5ce2b2[_0x519d0e(0x1b4)]&&Array[_0x519d0e(0x237)](_0x5ce2b2[_0x519d0e(0x135)]))){alert(_0x5ce2b2[_0x519d0e(0x135)]),_0xd74fc5['disabled']=![],hideLoadingModal();throw new Error(_0x5ce2b2['message']);}const _0x56426e=document['getElementById'](_0x519d0e(0x146));_0x56426e[_0x519d0e(0xca)]=_0x519d0e(0x13a);const _0x1d61d5=_0x5ce2b2[_0x519d0e(0x135)],{setApiEndPoint:_0x5d6ec7,setAuthToken:_0x4e66d4,setUser_Local:_0x22e4cf}=_0x1d61d5[0x0],_0x4ddbe2={'apiPOS_getAccessData':0x1,'setToken':_0x4e66d4,'setUserLocalUserName':_0x22e4cf[_0x519d0e(0x1aa)]},_0x3b37b1=await fetch(_0x5d6ec7,{'method':_0x519d0e(0x120),'headers':{'Content-Type':_0x519d0e(0x1c8)},'body':JSON['stringify'](_0x4ddbe2)}),_0x43df83=await _0x3b37b1['json']();if(!(_0x43df83['success']===!![])){_0x56426e[_0x519d0e(0xca)]=_0x519d0e(0x223)+_0x43df83[_0x519d0e(0x135)]+_0x519d0e(0x207),setTimeout(()=>location['reload'](),0x1388);return;}_0x56426e[_0x519d0e(0xca)]='Procesamiento\x20de\x20datos\x20exitoso\x20...';const _0x1bff4b=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x1c7)]['map'](_0x2513d1=>{const _0x39d743=_0x519d0e,_0xa90d77=_0x2513d1[_0x39d743(0xea)]||'',_0x2c69db=_0x2513d1['setIdProducto']||'',_0xe7f3f1=_0x2513d1[_0x39d743(0x149)]||'',_0x999359=_0x2513d1[_0x39d743(0x94)]||'',_0x1c9437=_0x2513d1[_0x39d743(0x13d)]||'',_0x632391=_0x2513d1['setItemDescription']||'',_0x196a35=_0x2513d1['setUnidadCodigo']||'',_0x2ff528=_0x2513d1[_0x39d743(0x131)]||'',_0x16db32=_0x2513d1['setTaxId']||'',_0x233948=_0x2513d1[_0x39d743(0x119)]||'10',_0x409aee=_0x1d61d5[0x0]['setImpuestos'][_0x39d743(0x1ed)](_0xefdc77=>_0xefdc77['setTaxId']==_0x16db32)?.[_0x39d743(0xb7)]||0x0,_0x311a56=parseFloat(_0x2513d1['setInventariable'])||0x1,_0x49639c=_0x2513d1[_0x39d743(0x1cb)]||'',_0x2889f8=_0x2513d1[_0x39d743(0x1ab)]||'',_0x516ca4=_0x2513d1[_0x39d743(0x1dd)]||'./img/product.png',_0x498573=_0x2513d1[_0x39d743(0x22d)]||0x1,_0x16c5ae=_0x2513d1[_0x39d743(0x1da)]||'',_0x3490b1=_0x2513d1['setBatchExpirationDate']||'',_0x216967=(_0x2513d1['currency_data']||[])[_0x39d743(0xac)](_0x936c18=>{const _0x94ad0b=_0x39d743,_0x5eec76=parseFloat(_0x936c18[_0x94ad0b(0x8f)])||0x0,_0x8d69f6=parseFloat(_0x936c18[_0x94ad0b(0x224)])||0x0,_0x1f323c=parseFloat(_0x936c18['setMtoValorCostoUnitario'])||0x0,_0x376cf9=parseFloat(_0x936c18[_0x94ad0b(0x195)])||0x0,_0x5d1b82=_0x936c18[_0x94ad0b(0xef)]||[];let _0x35911a=0x0,_0x314559=0x0;if(_0x5eec76>0x0)_0x35911a=_0x5eec76,_0x314559=setTipAfeImpGravados[_0x94ad0b(0x84)](_0x6c92fc=>_0x6c92fc==_0x233948)?_0x5eec76+_0x5eec76*_0x409aee/0x64:_0x5eec76;else _0x8d69f6>0x0&&(_0x314559=_0x8d69f6,_0x35911a=setTipAfeImpGravados['some'](_0x58a0ed=>_0x58a0ed==_0x233948)?_0x8d69f6/(0x1+_0x409aee/0x64):_0x8d69f6);let _0x5733e3=0x0,_0x1ab264=0x0;if(_0x1f323c>0x0)_0x5733e3=_0x1f323c,_0x1ab264=setTipAfeImpGravados['some'](_0x3b4f42=>_0x3b4f42==_0x233948)?_0x1f323c+_0x1f323c*_0x409aee/0x64:_0x1f323c;else _0x376cf9>0x0&&(_0x1ab264=_0x376cf9,_0x5733e3=setTipAfeImpGravados[_0x94ad0b(0x84)](_0x385127=>_0x385127==_0x233948)?_0x376cf9/(0x1+_0x409aee/0x64):_0x376cf9);return{'currency':_0x936c18['currency'],'setMtoValorUnitario':_0x35911a,'setMtoPrecioUnitario':_0x314559,'setMtoValorCostoUnitario':_0x5733e3,'setMtoPrecioCostoUnitario':_0x1ab264,'setPriceLists':_0x5d1b82};});if(_0x16db32!==''&&_0xa90d77!==''&&_0xe7f3f1!==''&&_0x1c9437!=='')return{'id':_0xa90d77,'setIdProducto':_0x2c69db,'setCodProducto':_0xe7f3f1,'setItemBarCode':_0x999359,'setDescripcion':_0x1c9437,'setItemDescription':_0x632391,'setUnidadCodigo':_0x196a35,'setUnidad':_0x2ff528,'setPorcentajeIgv':_0x409aee,'setTaxId':_0x16db32,'setTipAfeIgv':_0x233948,'setInventariable':_0x311a56,'setCategoria':_0x49639c,'setMarca':_0x2889f8,'setImg':_0x516ca4,'setConversionFactor':_0x498573,'setBatchName':_0x16c5ae,'setBatchExpirationDate':_0x3490b1,'setItemIsBought':_0x2513d1[_0x39d743(0x153)],'setItemIsSold':_0x2513d1['setItemIsSold'],'sucursales':_0x2513d1[_0x39d743(0x21d)]||[],'setPrinters':_0x2513d1[_0x39d743(0xda)]||[],'currency_data':_0x216967,'setImages':_0x2513d1[_0x39d743(0xc0)]||[]};return null;})[_0x519d0e(0x11e)](Boolean);_0x1d61d5[0x0][_0x519d0e(0x1ae)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x1ae)],_0x1d61d5[0x0][_0x519d0e(0x139)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x139)],_0x1d61d5[0x0][_0x519d0e(0x19e)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x19e)],_0x1d61d5[0x0]['setCompanyNameTrade']=_0x43df83['message'][_0x519d0e(0xec)],_0x1d61d5[0x0][_0x519d0e(0xe6)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0xe6)],_0x1d61d5[0x0][_0x519d0e(0x148)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x148)],_0x1d61d5[0x0]['setCompanyEmail']=_0x43df83['message'][_0x519d0e(0x1ba)],_0x1d61d5[0x0][_0x519d0e(0x227)]=_0x43df83[_0x519d0e(0x135)]['setCompanyWebsite'],_0x1d61d5[0x0][_0x519d0e(0x1d8)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x1d8)],_0x1d61d5[0x0]['setUsuarios']=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x17e)],_0x1d61d5[0x0]['setSeries']=_0x43df83['message']['setSeries'],_0x1d61d5[0x0][_0x519d0e(0xda)]=_0x43df83[_0x519d0e(0x135)]['setPrinters'],_0x1d61d5[0x0][_0x519d0e(0x1f8)]=_0x43df83[_0x519d0e(0x135)]['setCurrencyDefault'],_0x1d61d5[0x0][_0x519d0e(0x90)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x90)],_0x1d61d5[0x0][_0x519d0e(0x1df)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x1df)],_0x1d61d5[0x0][_0x519d0e(0x132)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x132)],_0x1d61d5[0x0][_0x519d0e(0xa4)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0xa4)],_0x1d61d5[0x0][_0x519d0e(0x205)]=_0x43df83[_0x519d0e(0x135)][_0x519d0e(0x205)],_0x56426e[_0x519d0e(0xca)]=_0x519d0e(0x1ec);const _0x33d69f=await createCartStore('');await clearAndStore(_0x33d69f,'products',_0x1bff4b),await clearAndStore(_0x33d69f,_0x519d0e(0xbe),[{'id':_0x519d0e(0x122),..._0x1d61d5[0x0][_0x519d0e(0xc6)]}]),await apiERPsaveOnline(_0x4e66d4,_0x1d61d5[0x0][_0x519d0e(0x1d8)],_0x1d61d5[0x0]['setUsuarios'],_0x1d61d5[0x0][_0x519d0e(0xc2)],_0x1d61d5[0x0][_0x519d0e(0xda)]);const _0x41feb0=await fetch('https://apierp.dev/api/apiPOS/get/',{'method':'POST','headers':{'Content-Type':_0x519d0e(0x1c8)},'body':JSON[_0x519d0e(0x183)]({'setAuthToken':_0x4e66d4})}),_0x4748ac=await _0x41feb0[_0x519d0e(0x16a)]();if(_0x4748ac[_0x519d0e(0x1b4)])_0x1d61d5[0x0][_0x519d0e(0x1e9)]=_0x4748ac[_0x519d0e(0x135)][_0x519d0e(0x1e9)],_0x1d61d5[0x0][_0x519d0e(0x1ac)]=_0x4748ac['message'][_0x519d0e(0x1ac)],_0x1d61d5[0x0]['setPrinters']=_0x4748ac['message'][_0x519d0e(0xda)];else{console[_0x519d0e(0x127)](_0x519d0e(0xd5),_0x4748ac[_0x519d0e(0x135)]);return;}await saveCompanyToIndexedDB(_0x1d61d5,_0x33d69f);if(!_0x1d61d5[0x0][_0x519d0e(0x1e9)]||_0x1d61d5[0x0]['setWindows']['length']===0x0){console[_0x519d0e(0x127)](_0x519d0e(0x196));return;}for(const _0x577a6c of _0x1d61d5[0x0]['setWindows']){await new Promise(_0x43e4c8=>setTimeout(_0x43e4c8,0x12c)),await createCartStore(_0x577a6c['setWindowId']),_0x56426e[_0x519d0e(0xca)]=_0x519d0e(0x160)+_0x577a6c[_0x519d0e(0xbd)]+_0x519d0e(0x207);}_0x56426e[_0x519d0e(0xca)]='Bienvenido(a)\x20'+_0x22e4cf[_0x519d0e(0x235)]+_0x519d0e(0x207),setTimeout(()=>location['reload'](),0x7d0);}catch(_0x3472e4){console[_0x519d0e(0x127)](_0x519d0e(0x1a8),_0x3472e4),_0xd74fc5['disabled']=![],hideLoadingModal(),alert(_0x3472e4);throw _0x3472e4;}}function clearAndStore(_0x253ca4,_0x1f7631,_0x790e24){return new Promise((_0xcc58d7,_0x1d236d)=>{const _0x331f9e=_0x34d2,_0x4ede2e=_0x253ca4[_0x331f9e(0x9c)](_0x1f7631,_0x331f9e(0x111)),_0x5415de=_0x4ede2e[_0x331f9e(0x21e)](_0x1f7631),_0x2b2673=_0x5415de[_0x331f9e(0x1a5)]();_0x2b2673[_0x331f9e(0x10b)]=()=>{const _0x5929c0=_0x331f9e;_0x790e24[_0x5929c0(0x113)](_0x192b1e=>_0x5415de[_0x5929c0(0x1a9)](_0x192b1e));},_0x4ede2e['oncomplete']=()=>_0xcc58d7(),_0x4ede2e['onerror']=()=>_0x1d236d(new Error(_0x331f9e(0x172)+_0x1f7631+'!'));});}async function logoutReload(_0x371723=0x0,_0x279cc4){const _0x4b9fb6=_0x2e93f9;if(_0x371723!=0x1){showLoadingModal();const _0x3f33f1=document[_0x4b9fb6(0x93)]('infoLoadingModal');_0x3f33f1[_0x4b9fb6(0xca)]='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesi√≥n\x20...</span>';}_0x279cc4==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x4b9fb6(0x1b2)]();}function registerServiceWorker(_0x2956bc,_0x2c5fcd){const _0x385459=_0x2e93f9;_0x385459(0x1f0)in navigator&&navigator['serviceWorker']['register'](_0x2956bc)[_0x385459(0x1c1)](_0x30ef86=>{const _0x11ac93=_0x385459;console[_0x11ac93(0x81)](_0x11ac93(0xb6)),_0x30ef86[_0x11ac93(0x1cf)]=()=>{const _0x2db1be=_0x11ac93,_0xfe6dca=_0x30ef86[_0x2db1be(0xd6)];_0xfe6dca[_0x2db1be(0xba)]=()=>{const _0x56b5af=_0x2db1be;_0xfe6dca[_0x56b5af(0x22e)]==_0x56b5af(0x1e8)&&navigator[_0x56b5af(0x1f0)][_0x56b5af(0x1d5)]&&console[_0x56b5af(0x81)](_0x56b5af(0x134));};},navigator['serviceWorker']['addEventListener'](_0x11ac93(0xb5),()=>{const _0x1b0f8c=_0x11ac93;showLoadingModal();const _0x416242=document[_0x1b0f8c(0x93)](_0x1b0f8c(0x146));_0x416242['innerHTML']=_0x1b0f8c(0xd3),logoutReload(0x1,_0x2c5fcd);});})[_0x385459(0x1de)](_0x4e9077=>console[_0x385459(0x127)](_0x385459(0x1bd),_0x4e9077));}function isLoggedIn(_0x1a67bd){return _0x1a67bd&&_0x1a67bd[0x0]&&_0x1a67bd[0x0]['setUser_Local'];}function apiERPShowContent(){const _0x23f138=_0x2e93f9;document['getElementById'](_0x23f138(0xdb))['classList'][_0x23f138(0x152)]('hidden'),document['getElementById'](_0x23f138(0x1a2))['classList'][_0x23f138(0x152)]('hidden'),document[_0x23f138(0x93)](_0x23f138(0x10d))['classList'][_0x23f138(0x143)](_0x23f138(0x22a));const _0xa31ebb=document[_0x23f138(0x93)](_0x23f138(0x171));_0xa31ebb&&_0xa31ebb['classList']['remove'](_0x23f138(0x22a));}function x64ctotalcal(){const _0x50800d=_0x2e93f9;return window[_0x50800d(0xe0)][_0x50800d(0xc4)];}function x64btsparamnumber(_0x276134){const _0x4beff0=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x276134==_0x4beff0;}function x32btsfirefoxcalc(_0x286da7){const _0x33274c=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x286da7==_0x33274c;}function x64bitsdescitem(_0x31b951){const _0x40a640=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x31b951==_0x40a640;}function x43bitsdescglobal(_0x381327){const _0x41e4df=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x381327==_0x41e4df;}function x32bitsCompanyTkn(_0x4fa3bc){const _0x4166da=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x4fa3bc==_0x4166da;}function x64bitsparamnumber(_0x291e43,_0x288a70){const _0x56dfdc=_0x288a70;return _0x291e43==_0x56dfdc;}function activarRender(_0x49254e){const _0x5e7f19=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x49254e)];return _0x5e7f19['includes'](!![]);}function saveCompanyToIndexedDB(_0x537035,_0x209374){return new Promise((_0x42cca7,_0x3edac8)=>{const _0x51cc40=_0x34d2,_0x5b56dd=_0x209374[_0x51cc40(0x9c)](_0x51cc40(0x1c9),_0x51cc40(0x111)),_0x253653=_0x5b56dd['objectStore'](_0x51cc40(0x1c9));_0x253653[_0x51cc40(0x1a5)](),_0x537035[_0x51cc40(0x113)](_0x3242d4=>_0x253653[_0x51cc40(0x1a9)](_0x3242d4)),_0x5b56dd[_0x51cc40(0x199)]=()=>_0x42cca7(),_0x5b56dd[_0x51cc40(0x169)]=_0x3577a7=>_0x3edac8(_0x3577a7[_0x51cc40(0x13c)]['error']);});}function loadCompanyFromIndexedDB(_0x5d3e0d){return new Promise((_0x165d56,_0x494e18)=>{const _0xb93563=_0x34d2,_0x47600a=_0x5d3e0d[_0xb93563(0x9c)]('company',_0xb93563(0x1bf)),_0xaac193=_0x47600a[_0xb93563(0x21e)](_0xb93563(0x1c9)),_0x1e9469=_0xaac193[_0xb93563(0xf3)]();_0x1e9469[_0xb93563(0x10b)]=()=>_0x165d56(_0x1e9469['result']),_0x1e9469[_0xb93563(0x169)]=_0x34879e=>_0x494e18(_0x34879e[_0xb93563(0x13c)][_0xb93563(0x127)]);});}async function initializeCompany(_0x172d7b){const _0x289ba0=_0x2e93f9;try{const _0x6d6b89=await loadCompanyFromIndexedDB(_0x172d7b);company=_0x6d6b89,company['length']>0x0?(console['log'](_0x289ba0(0x211)),myCompany=company[0x0]):console[_0x289ba0(0x81)](_0x289ba0(0xb8));}catch(_0xa776bf){console[_0x289ba0(0x127)](_0x289ba0(0x138),_0xa776bf);}}function loadProductsFromIndexedDB(_0x5b9e36){return new Promise((_0x369857,_0x36a041)=>{const _0x3a462c=_0x34d2,_0x25f9e1=_0x5b9e36['transaction'](_0x3a462c(0x1e6),'readonly'),_0x2dd5e9=_0x25f9e1[_0x3a462c(0x21e)](_0x3a462c(0x1e6)),_0x47d58b=_0x2dd5e9[_0x3a462c(0xf3)]();_0x47d58b[_0x3a462c(0x10b)]=()=>_0x369857(_0x47d58b[_0x3a462c(0x1b1)]),_0x47d58b[_0x3a462c(0x169)]=_0x4a264d=>_0x36a041(_0x4a264d[_0x3a462c(0x13c)][_0x3a462c(0x127)]);});}async function initializeProducts(_0x569c0f){const _0x49c913=_0x2e93f9;try{const _0x50daf5=await loadProductsFromIndexedDB(_0x569c0f);products=_0x50daf5,products['length']>0x0?console[_0x49c913(0x81)](_0x49c913(0x103)):console[_0x49c913(0x81)](_0x49c913(0x204));}catch(_0x4c7881){console[_0x49c913(0x127)](_0x49c913(0xbc),_0x4c7881);}}async function validateAccess(_0x35a179){const _0x115fe3=_0x2e93f9;await initializeCompany(_0x35a179);if(!isLoggedIn(company))throw new Error(_0x115fe3(0xcf));if(!activarRender(company[0x0][_0x115fe3(0x177)])){alert(_0x115fe3(0x7f));throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}function getCredentialsApiWAChat(_0x4f982a){const _0x95a90e=_0x2e93f9;return myCompany[_0x95a90e(0x221)]['find'](_0x2aac05=>_0x2aac05[_0x95a90e(0xb2)]==_0x4f982a)||null;}async function sendMessageApiWAChat(_0x2098d2,_0x164562,_0x15936f,_0xc5f569,_0xf9bd4){const _0x4faf8d=_0x2e93f9,_0x1a5871=getCredentialsApiWAChat(_0x2098d2);if(!_0x1a5871)return Promise[_0x4faf8d(0x1b9)](new Error(_0x4faf8d(0x19c)));const _0x34dfbd=_0x1a5871[_0x4faf8d(0x166)],_0x26aa95=_0x1a5871['setCredentialsApiWAChatPort'],_0x271b7c={'type':_0x15936f,'content':_0xc5f569};if(_0xf9bd4)_0x271b7c['caption']=_0xf9bd4;const _0x4039a7=_0x4faf8d(0x129)+_0x34dfbd+_0x4faf8d(0xff)+_0x26aa95+'/send',_0x20f625=await fetch(_0x4039a7,{'method':_0x4faf8d(0x120),'headers':{'Content-Type':_0x4faf8d(0x217),'x-auth-token':myCompany[_0x4faf8d(0x219)]},'body':JSON[_0x4faf8d(0x183)]({'to':_0x164562,'payload':_0x271b7c})});if(!_0x20f625['ok']){const _0xd517c3=await _0x20f625['json']()[_0x4faf8d(0x1de)](()=>({}));throw new Error(_0xd517c3[_0x4faf8d(0x127)]||_0x4faf8d(0xcb)+_0x20f625[_0x4faf8d(0x214)]);}return _0x20f625[_0x4faf8d(0x16a)]();}async function loadCart(_0x48214f){const _0x17af78=_0x2e93f9;try{const _0x256596=await createCartStore(''),_0x2aac70=[];await validateAccess(_0x256596);const _0x55caf2=company[0x0]['setUser_Local'],_0x19fb2b=company[0x0][_0x17af78(0x1ac)]['find'](_0x34bea3=>_0x34bea3[_0x17af78(0x220)]==_0x55caf2[_0x17af78(0x1aa)]),_0x701d29=company[0x0][_0x17af78(0x1d8)],_0x40bdea=document[_0x17af78(0x93)](_0x17af78(0x157));_0x40bdea[_0x17af78(0xca)]='';if(_0x19fb2b&&_0x19fb2b[_0x17af78(0x1d8)]){const _0x382741=_0x701d29[_0x17af78(0x11e)](_0x579181=>_0x19fb2b[_0x17af78(0x1d8)][_0x17af78(0x84)](_0x197c14=>_0x197c14[_0x17af78(0x157)]==_0x579181[_0x17af78(0x157)]));_0x382741[_0x17af78(0x113)](_0x945f53=>{const _0x5ea5bf=_0x17af78,_0xa3e521=document['createElement'](_0x5ea5bf(0x1a3));_0xa3e521['value']=_0x945f53[_0x5ea5bf(0x157)],_0xa3e521[_0x5ea5bf(0x96)]=_0x945f53['setBranchName'],_0x40bdea['appendChild'](_0xa3e521);});}if(_0x48214f==0x1){const _0x31e360=document['getElementById'](_0x17af78(0x20b));_0x31e360[_0x17af78(0xca)]='';if(_0x19fb2b){const _0x491572=document[_0x17af78(0xdc)](_0x17af78(0x1a3));_0x491572[_0x17af78(0x20f)]=_0x19fb2b[_0x17af78(0xb0)],_0x491572[_0x17af78(0x96)]=_0x19fb2b['setUserFullName'],_0x31e360[_0x17af78(0x128)](_0x491572);}const _0x1ae9f0=Array[_0x17af78(0x228)](_0x256596[_0x17af78(0x80)])[_0x17af78(0x11e)](_0x163494=>_0x163494[_0x17af78(0xf7)](_0x17af78(0x1fb)))[_0x17af78(0xac)](_0x549261=>{const _0x4e4101=_0x17af78,_0x1bab78=_0x549261[_0x4e4101(0xd7)]('_');return _0x1bab78[_0x4e4101(0xfa)]>=0x3?_0x1bab78[0x2]:null;})[_0x17af78(0x11e)](_0x28fc4f=>_0x28fc4f!==null);console['log']('windowIds\x20previamente\x20creados:',_0x1ae9f0);const _0x1e944d=Array[_0x17af78(0x228)](_0x256596['objectStoreNames'])[_0x17af78(0x11e)](_0x37b160=>_0x37b160['startsWith'](_0x17af78(0x1fb)))[_0x17af78(0x14c)]((_0x1895e2,_0x51acfa)=>{const _0x2725b9=_0x17af78,_0x1bfdd5=parseInt(_0x1895e2[_0x2725b9(0xd7)]('_')[_0x2725b9(0x236)](),0xa),_0x404e37=parseInt(_0x51acfa[_0x2725b9(0xd7)]('_')[_0x2725b9(0x236)](),0xa);return _0x1bfdd5-_0x404e37;});for(const _0x22d009 of _0x1e944d){const _0x315f6a=_0x22d009[_0x17af78(0xd7)]('_');if(_0x315f6a[_0x17af78(0xfa)]<0x3){console[_0x17af78(0x127)](_0x17af78(0x8b)+_0x22d009);continue;}const _0x12836c=_0x315f6a[0x2];if(_0x1ae9f0['includes'](_0x12836c)){const _0x9323cc=new Promise((_0x407a11,_0x5763fc)=>{const _0x5632a7=_0x17af78,_0x1c0b8c=_0x256596[_0x5632a7(0x9c)]([_0x22d009],_0x5632a7(0x1bf)),_0x5dcba5=_0x1c0b8c[_0x5632a7(0x21e)](_0x22d009),_0x5b5a77=_0x5dcba5[_0x5632a7(0x155)](_0x12836c);_0x5b5a77['onsuccess']=function(_0x2682e9){const _0x136235=_0x5632a7,_0x3a6034=_0x2682e9[_0x136235(0x13c)][_0x136235(0x1b1)];window_options[_0x12836c]={},_0x3a6034&&(window_options[_0x12836c]={'setTipoOperacionInvoice':_0x3a6034[_0x136235(0xa8)],'setTipoOperacion':_0x3a6034[_0x136235(0xbb)],'setSerie':_0x3a6034[_0x136235(0x19a)],'setCorrelativo':_0x3a6034['setCorrelativo'],'setMoneda':_0x3a6034[_0x136235(0x1b6)],'setClienteTipoDoc':_0x3a6034[_0x136235(0x102)],'setClienteNumDoc':_0x3a6034['setClienteNumDoc'],'setClienteDenominacion':_0x3a6034['setClienteDenominacion'],'setClienteDireccion':_0x3a6034[_0x136235(0x145)],'setCustomerPhone':_0x3a6034['setCustomerPhone'],'setCustomerEmail':_0x3a6034['setCustomerEmail'],'setFechaHora':_0x3a6034[_0x136235(0x112)],'setSellerId':_0x3a6034[_0x136235(0x14b)],'setSellerName':_0x3a6034[_0x136235(0xd4)],'setDespacho':_0x3a6034[_0x136235(0x104)],'setObservacion':_0x3a6034[_0x136235(0x162)],'setDescuentoGlobal_Monto':_0x3a6034[_0x136235(0x1be)],'setAttachEdit':_0x3a6034[_0x136235(0x95)]},console[_0x136235(0x81)](_0x136235(0x12e)+_0x12836c+':',_0x3a6034)),Promise[_0x136235(0x8e)](updateTab(_0x12836c))['then'](_0x407a11)['catch'](_0x3b22bc=>{const _0x1965df=_0x136235;console[_0x1965df(0x127)](_0x1965df(0xce),_0x3b22bc),_0x5763fc(_0x3b22bc);});},_0x5b5a77[_0x5632a7(0x169)]=function(_0x108827){const _0x26d59a=_0x5632a7;console[_0x26d59a(0x127)](_0x26d59a(0x106)+_0x12836c+'.',_0x108827[_0x26d59a(0x13c)][_0x26d59a(0x127)]),_0x5763fc(_0x108827[_0x26d59a(0x13c)][_0x26d59a(0x127)]);};});_0x2aac70[_0x17af78(0xb1)](_0x9323cc);}}const _0x4f8888=Array[_0x17af78(0x228)](_0x256596[_0x17af78(0x80)])[_0x17af78(0x11e)](_0x2a7e82=>_0x2a7e82[_0x17af78(0xf7)](_0x17af78(0x201)))['sort']((_0x5e93d1,_0xf8642a)=>{const _0x15e390=_0x17af78,_0x37d3cf=parseInt(_0x5e93d1[_0x15e390(0xd7)]('_')[_0x15e390(0x236)](),0xa),_0x52bb30=parseInt(_0xf8642a[_0x15e390(0xd7)]('_')[_0x15e390(0x236)](),0xa);return _0x37d3cf-_0x52bb30;});for(const _0x56b07e of _0x4f8888){const _0x174f28=_0x56b07e[_0x17af78(0xd7)]('_')[0x1];!carts[_0x174f28]&&(carts[_0x174f28]=[]);const _0x19fce8=new Promise((_0x32f8a6,_0x2d4960)=>{const _0x117cf3=_0x17af78,_0x22ab23=_0x256596[_0x117cf3(0x9c)]([_0x56b07e],_0x117cf3(0x1bf)),_0x324856=_0x22ab23[_0x117cf3(0x21e)](_0x56b07e),_0x174879=_0x324856[_0x117cf3(0xf3)]();_0x174879[_0x117cf3(0x10b)]=function(_0x3144e5){const _0x4e0b0c=_0x117cf3,_0x17d000=_0x3144e5[_0x4e0b0c(0x13c)][_0x4e0b0c(0x1b1)];carts[_0x174f28][_0x4e0b0c(0xfa)]=0x0,_0x17d000[_0x4e0b0c(0x113)](_0x20882c=>carts[_0x174f28][_0x4e0b0c(0xb1)](_0x20882c)),renderCart(_0x174f28),_0x32f8a6();},_0x174879[_0x117cf3(0x169)]=function(_0x12e2fe){const _0x560fe1=_0x117cf3;console[_0x560fe1(0x127)](_0x560fe1(0x188)+_0x174f28+'.',_0x12e2fe['target'][_0x560fe1(0x127)]),_0x2d4960(_0x12e2fe[_0x560fe1(0x13c)][_0x560fe1(0x127)]);};});_0x2aac70[_0x17af78(0xb1)](_0x19fce8);}}if(_0x48214f==0x2||_0x48214f==0x3||_0x48214f==0x4){const _0x422c57=document[_0x17af78(0x93)](_0x17af78(0x1cd)),_0x261695=document['getElementById']('setCashierName');_0x422c57['innerHTML']='',_0x261695[_0x17af78(0xca)]='',_0x19fb2b&&(_0x422c57['innerHTML']=_0x17af78(0x18a),_0x261695[_0x17af78(0xca)]=_0x19fb2b[_0x17af78(0x1ff)]);}if(_0x48214f==0x4){const _0x24a45d=myCompany[_0x17af78(0x221)],_0x3a197b=document[_0x17af78(0x93)](_0x17af78(0x221));_0x3a197b[_0x17af78(0xca)]='',_0x24a45d[_0x17af78(0x113)](_0x20c290=>{const _0x2cafb2=_0x17af78,_0xfef32c=document[_0x2cafb2(0xdc)](_0x2cafb2(0x1a3));_0xfef32c[_0x2cafb2(0x20f)]=_0x20c290['setCredentialsApiWAChatId'],_0xfef32c['textContent']=_0x20c290[_0x2cafb2(0xe4)]??_0x20c290[_0x2cafb2(0xc9)],_0x3a197b[_0x2cafb2(0x128)](_0xfef32c);}),myCompany?.[_0x17af78(0x190)]&&(_0x3a197b['value']=myCompany[_0x17af78(0x190)]);}return await Promise[_0x17af78(0xad)](_0x2aac70),myCompany?.[_0x17af78(0x21a)]&&(document[_0x17af78(0x93)]('setBranchId')[_0x17af78(0x20f)]=company[0x0]['setBranchDefault']),document[_0x17af78(0x93)](_0x17af78(0x157))[_0x17af78(0x121)](new Event(_0x17af78(0x229))),_0x48214f==0x1&&(tabCount=getMaxWindowId(carts),console[_0x17af78(0x81)](_0x17af78(0x176)+tabCount)),_0x48214f==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable()),_0x256596;}catch(_0x59c476){throw _0x59c476;}}function loadCartAndSetTabCount(_0x79e906){const _0x51dbf7=_0x2e93f9;loadCart(_0x79e906)['then'](async _0x43c7f2=>{const _0x54e555=_0x34d2;await initializeProducts(_0x43c7f2);if(_0x79e906==0x1){if(isLoggedIn(company)){const _0x4fc6c9=document[_0x54e555(0x93)](_0x54e555(0xd1))[_0x54e555(0x20f)];parseFloat(_0x4fc6c9)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab('ambientes'),document['addEventListener'](_0x54e555(0x1f5),function(_0x50d0b9){const _0x356a21=_0x54e555,_0x45484b=document['getElementById']('windowId')[_0x356a21(0x20f)],_0x25c5f3=document[_0x356a21(0x93)](_0x356a21(0x12d)),_0x2ee3d8=document[_0x356a21(0x218)](_0x356a21(0x226)),_0x210fc9=document[_0x356a21(0x93)](_0x356a21(0x16b)+_0x45484b),_0x493aa3=document[_0x356a21(0x93)]('btnSaveOperacion-'+_0x45484b),_0x12fb16=document[_0x356a21(0x93)]('detalleModalPay');function _0x2a5da3(_0x15cca9){const _0x16cfc0=_0x356a21;return _0x15cca9&&(_0x15cca9[_0x16cfc0(0x20a)]>0x0||_0x15cca9[_0x16cfc0(0xb9)]>0x0||_0x15cca9[_0x16cfc0(0x1af)]()[_0x16cfc0(0xfa)]);}let _0x5769d9=[];if(_0x12fb16&&_0x12fb16[_0x356a21(0xf4)][_0x356a21(0x1a4)](_0x356a21(0x1b5))){const _0x55d257=_0x12fb16[_0x356a21(0x218)]('.payment-option');_0x55d257['forEach'](_0x4acdb7=>{const _0x5de687=_0x356a21;_0x2a5da3(_0x4acdb7)&&!_0x4acdb7[_0x5de687(0xf4)][_0x5de687(0x1a4)]('d-none')&&_0x5769d9[_0x5de687(0xb1)](_0x4acdb7);});const _0x147d60=_0x12fb16[_0x356a21(0x21f)](_0x356a21(0x186)+_0x45484b);if(_0x147d60){const _0x29bde7=_0x147d60[_0x356a21(0x218)](_0x356a21(0x200));_0x29bde7[_0x356a21(0x113)](_0x289cc0=>{const _0x4b0cec=_0x356a21;_0x2a5da3(_0x289cc0)&&!_0x289cc0[_0x4b0cec(0xf4)]['contains'](_0x4b0cec(0x115))&&_0x5769d9[_0x4b0cec(0xb1)](_0x289cc0);});}_0x493aa3&&_0x2a5da3(_0x493aa3)&&!_0x493aa3[_0x356a21(0xf4)][_0x356a21(0x1a4)]('d-none')&&(!_0x5769d9['includes'](_0x493aa3)&&_0x5769d9[_0x356a21(0xb1)](_0x493aa3));}else{_0x5769d9=[_0x25c5f3,..._0x2ee3d8];if(_0x210fc9)_0x5769d9[_0x356a21(0xb1)](_0x210fc9);}const _0x31bf47=document['activeElement'],_0x12284f=_0x31bf47&&(_0x31bf47[_0x356a21(0xa9)]==_0x356a21(0x1a0)||_0x31bf47[_0x356a21(0xa9)]==_0x356a21(0x1c0));if(_0x12fb16&&_0x12fb16['classList'][_0x356a21(0x1a4)](_0x356a21(0x1b5))&&_0x50d0b9[_0x356a21(0xfd)]==_0x356a21(0xc7)){if(_0x31bf47&&_0x31bf47[_0x356a21(0xf4)][_0x356a21(0x1a4)](_0x356a21(0x1bb))){_0x50d0b9[_0x356a21(0x1e0)](),_0x31bf47[_0x356a21(0x165)]();return;}}if(_0x12fb16&&_0x12fb16[_0x356a21(0xf4)][_0x356a21(0x1a4)]('active')&&_0x50d0b9[_0x356a21(0xfd)]==_0x356a21(0x18f)&&!_0x12fb16[_0x356a21(0x1a4)](_0x31bf47)){_0x50d0b9[_0x356a21(0x1e0)]();_0x5769d9['length']>0x0&&_0x5769d9[0x0][_0x356a21(0x9b)]();return;}if(_0x50d0b9[_0x356a21(0xfd)]==_0x356a21(0x18f)){_0x50d0b9[_0x356a21(0x1e0)]();if(_0x5769d9[_0x356a21(0xfa)]==0x0)return;let _0x53d4f1=_0x5769d9['indexOf'](_0x31bf47);if(_0x53d4f1==-0x1)_0x53d4f1=-0x1;let _0x184f75;_0x50d0b9['shiftKey']?_0x184f75=_0x53d4f1<=0x0?_0x5769d9[_0x356a21(0xfa)]-0x1:_0x53d4f1-0x1:_0x184f75=_0x53d4f1==_0x5769d9[_0x356a21(0xfa)]-0x1?0x0:_0x53d4f1+0x1;_0x5769d9[_0x184f75][_0x356a21(0x9b)]();return;}(!_0x12fb16||!_0x12fb16[_0x356a21(0xf4)][_0x356a21(0x1a4)](_0x356a21(0x1b5)))&&!_0x12284f&&(_0x50d0b9[_0x356a21(0xfd)][_0x356a21(0xfa)]==0x1||_0x50d0b9[_0x356a21(0xfd)]==_0x356a21(0x180)||_0x50d0b9[_0x356a21(0xfd)]=='Delete')&&(_0x50d0b9[_0x356a21(0x1e0)](),_0x25c5f3['focus'](),_0x50d0b9[_0x356a21(0xfd)]==_0x356a21(0x180)||_0x50d0b9[_0x356a21(0xfd)]==_0x356a21(0x141)?_0x25c5f3[_0x356a21(0x20f)]=_0x25c5f3[_0x356a21(0x20f)][_0x356a21(0x11c)](0x0,-0x1):!_0x25c5f3[_0x356a21(0x20f)]?_0x25c5f3[_0x356a21(0x20f)]=_0x50d0b9['key']:_0x25c5f3[_0x356a21(0x20f)]+=_0x50d0b9[_0x356a21(0xfd)]);}),loadTaxData(),resetNewItemForm();}if(_0x79e906==0x3){const _0x5d9d28=document[_0x54e555(0x93)](_0x54e555(0x157))[_0x54e555(0x20f)];fil_BranchesId[_0x54e555(0xb1)](_0x5d9d28),updateDateRange(_0x54e555(0x1db));}_0x79e906==0x4&&init();})['catch'](_0x4fdbb0=>{const _0x555b80=_0x34d2;console[_0x555b80(0x127)](_0x4fdbb0);})[_0x51dbf7(0xe7)](()=>{const _0x1eea13=_0x51dbf7;_0x79e906==0x1&&updateInternetIcon();let _0x25b3e1;(_0x79e906==0x1||_0x79e906==0x2||_0x79e906==0x3||_0x79e906==0x4)&&(_0x25b3e1=_0x1eea13(0x17d)),registerServiceWorker(_0x25b3e1,_0x79e906);});}