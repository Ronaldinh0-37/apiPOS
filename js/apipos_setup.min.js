/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.4
*/

const _0x330953=_0x5c0d;(function(_0x5108d7,_0x12fa26){const _0x2e467a=_0x5c0d,_0x1ff7e7=_0x5108d7();while(!![]){try{const _0x41f76e=parseInt(_0x2e467a(0x22f))/0x1*(-parseInt(_0x2e467a(0x129))/0x2)+-parseInt(_0x2e467a(0x156))/0x3*(parseInt(_0x2e467a(0x1f6))/0x4)+-parseInt(_0x2e467a(0x80))/0x5+-parseInt(_0x2e467a(0x246))/0x6+parseInt(_0x2e467a(0xe2))/0x7+-parseInt(_0x2e467a(0x10a))/0x8*(-parseInt(_0x2e467a(0x21b))/0x9)+parseInt(_0x2e467a(0x13b))/0xa*(parseInt(_0x2e467a(0xdc))/0xb);if(_0x41f76e===_0x12fa26)break;else _0x1ff7e7['push'](_0x1ff7e7['shift']());}catch(_0x54ee53){_0x1ff7e7['push'](_0x1ff7e7['shift']());}}}(_0x1bba,0x9e41c));const _0x4769ab=(function(){let _0x5b5eaa=!![];return function(_0x5e6933,_0x5cdfc3){const _0xffbfc=_0x5b5eaa?function(){const _0x7deff2=_0x5c0d;if(_0x5cdfc3){const _0x1e7acc=_0x5cdfc3[_0x7deff2(0x223)](_0x5e6933,arguments);return _0x5cdfc3=null,_0x1e7acc;}}:function(){};return _0x5b5eaa=![],_0xffbfc;};}()),_0x5ccef6=_0x4769ab(this,function(){const _0x4776ce=_0x5c0d;return _0x5ccef6[_0x4776ce(0xb8)]()[_0x4776ce(0x18e)](_0x4776ce(0x17e))[_0x4776ce(0xb8)]()[_0x4776ce(0x11a)](_0x5ccef6)[_0x4776ce(0x18e)](_0x4776ce(0x17e));});_0x5ccef6();const _0x4a5d03=(function(){let _0x2a84fb=!![];return function(_0x692cd6,_0x7c4a22){const _0x27338b=_0x2a84fb?function(){const _0xf75caa=_0x5c0d;if(_0x7c4a22){const _0x1e268b=_0x7c4a22[_0xf75caa(0x223)](_0x692cd6,arguments);return _0x7c4a22=null,_0x1e268b;}}:function(){};return _0x2a84fb=![],_0x27338b;};}()),_0x24384b=_0x4a5d03(this,function(){const _0x2a7d81=_0x5c0d,_0x4aadd0=function(){const _0x1df946=_0x5c0d;let _0x46dab7;try{_0x46dab7=Function(_0x1df946(0x1c2)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x18998c){_0x46dab7=window;}return _0x46dab7;},_0x36bc96=_0x4aadd0(),_0xc977a2=_0x36bc96[_0x2a7d81(0x232)]=_0x36bc96[_0x2a7d81(0x232)]||{},_0xc8862d=[_0x2a7d81(0x163),_0x2a7d81(0x22c),_0x2a7d81(0x1be),_0x2a7d81(0x1b6),'exception','table',_0x2a7d81(0xc1)];for(let _0x4aa4c6=0x0;_0x4aa4c6<_0xc8862d['length'];_0x4aa4c6++){const _0x18bb5e=_0x4a5d03[_0x2a7d81(0x11a)]['prototype'][_0x2a7d81(0x237)](_0x4a5d03),_0x1107e6=_0xc8862d[_0x4aa4c6],_0x3e445f=_0xc977a2[_0x1107e6]||_0x18bb5e;_0x18bb5e['__proto__']=_0x4a5d03[_0x2a7d81(0x237)](_0x4a5d03),_0x18bb5e[_0x2a7d81(0xb8)]=_0x3e445f['toString'][_0x2a7d81(0x237)](_0x3e445f),_0xc977a2[_0x1107e6]=_0x18bb5e;}});_0x24384b();let myCompany,db=null,dbPromise=null,db_name=_0x330953(0x94),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0x330953(0xd8),_0x330953(0xa1),'marzo','abril',_0x330953(0xc3),_0x330953(0xa7),_0x330953(0x17b),_0x330953(0x1b7),_0x330953(0x142),_0x330953(0x11e),_0x330953(0xdb),_0x330953(0x1e6)],gdfg5g='f34f',x45fgd='x3',xjehd78=_0x330953(0xb6),cxkdj4=_0x330953(0x203),x87s8d=_0x330953(0x1c4),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x330953(0x19a),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0x330953(0x16e),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x330953(0x179),xg123f=_0x330953(0x187),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x330953(0x19e),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x330953(0x116),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x330953(0xdf),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0x330953(0x1f0),x78xh='r',px32b='o',x64x44x54=_0x330953(0x8a),x64x32x33=_0x330953(0x173),kkx12='s',ak47r='rgf4x32',d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc='pcrcl',p34d9='d',kx32h='v',yx34l='p',pltbr=_0x330953(0x16a),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10','S01',_0x330953(0x135),_0x330953(0x154),'mx08','ar21','ar10.5',_0x330953(0x137),'co19',_0x330953(0xf5),_0x330953(0x21f),_0x330953(0x1e0)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos['concat'](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x330953(0xca),_0x330953(0x219),_0x330953(0xa0),_0x330953(0x1df),_0x330953(0xf2),'UY0'],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0x330953(0xe6)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x330953(0xe6)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders['concat'](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0x344bc4){const _0x3c51e6=_0x330953,_0x534e76=new URLSearchParams(window[_0x3c51e6(0x11d)][_0x3c51e6(0x18e)]);return _0x534e76[_0x3c51e6(0x1cf)](_0x344bc4);}function setUserNameGet(){const _0x5b4315=_0x330953,_0x747298=getQueryParam('username'),_0x4758e7=document[_0x5b4315(0xf7)]('usuario');_0x747298&&_0x4758e7&&(_0x4758e7[_0x5b4315(0x215)]=_0x747298);}function generateUniqId(){const _0x29cfa4=_0x330953;return Date[_0x29cfa4(0xa2)]()+'_'+Math[_0x29cfa4(0x1c1)]()['toString'](0x24)['substr'](0x2,0x9);}function generateNumericUniqId(){const _0x312a4e=_0x330953,_0x31f482=Date[_0x312a4e(0xa2)]()*0x3e8,_0x3de3f7=Math[_0x312a4e(0x184)](Math['random']()*0x3e8);return _0x31f482+_0x3de3f7;}function blobAStringBase64(_0x9dbda){return new Promise((_0x3901d4,_0xa5d720)=>{const _0x2e9f11=_0x5c0d,_0x1499e5=new FileReader();_0x1499e5['onloadend']=()=>{const _0x3e601f=_0x5c0d,_0x1af0c8=_0x1499e5[_0x3e601f(0x14f)],_0x31aba9=_0x1af0c8[_0x3e601f(0x128)](',');if(_0x31aba9[_0x3e601f(0x1e9)]!==0x2)return _0xa5d720(new Error('Formato\x20inesperado\x20en\x20base64'));_0x3901d4(_0x31aba9[0x1]);},_0x1499e5[_0x2e9f11(0x1ba)]=_0xb29bae=>_0xa5d720(_0xb29bae),_0x1499e5['readAsDataURL'](_0x9dbda);});}async function generarBarcodeDataURL(_0x2af6fc,_0x223fa1){return new Promise((_0x405261,_0x415f8e)=>{const _0x57ba1=_0x5c0d,_0x5882a8=myCompany[_0x57ba1(0x1e3)][_0x57ba1(0xfb)](_0x3c7049=>_0x3c7049[_0x57ba1(0x19f)]==_0x2af6fc),_0x18a5ef=_0x5882a8?_0x5882a8[_0x57ba1(0x209)]:'CODE128',_0x257d64=document[_0x57ba1(0x216)]('http://www.w3.org/2000/svg',_0x57ba1(0x1f7));JsBarcode(_0x257d64,_0x223fa1,{'format':_0x18a5ef,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x4fb030=new XMLSerializer()[_0x57ba1(0x198)](_0x257d64),_0x426a4b=btoa(_0x4fb030),_0x53b189=_0x57ba1(0x181)+_0x426a4b,_0x394516=new Image();_0x394516[_0x57ba1(0x81)]=()=>{const _0x3b3240=_0x57ba1,_0x43e09e=document[_0x3b3240(0x9f)](_0x3b3240(0x108));_0x43e09e[_0x3b3240(0xd3)]=_0x394516[_0x3b3240(0xd3)],_0x43e09e['height']=_0x394516[_0x3b3240(0x1b0)];const _0x552c0c=_0x43e09e['getContext']('2d');_0x552c0c[_0x3b3240(0x171)](_0x394516,0x0,0x0);const _0x4f037e=_0x43e09e[_0x3b3240(0x245)]('image/png');_0x405261(_0x4f037e);},_0x394516[_0x57ba1(0x1ba)]=_0x345033=>_0x415f8e(_0x345033),_0x394516[_0x57ba1(0x23f)]=_0x53b189;});}async function generarStickersPDF(_0x4f5985,_0x341878,_0x1da5aa){const _0x1957cb=_0x330953,{PDFDocument:_0x5687d9,StandardFonts:_0x5c6d83,rgb:_0x4abd62}=PDFLib,_0x12e364=products[_0x1957cb(0xfb)](_0x543f83=>_0x543f83['id']==_0x1da5aa);if(!_0x12e364){console[_0x1957cb(0x1b6)]('Producto\x20con\x20id\x20'+_0x1da5aa+_0x1957cb(0x16f));return;}const _0x14e64c=_0x12e364[_0x1957cb(0x9b)][_0x1957cb(0x23c)](),_0xe13542=document[_0x1957cb(0xf7)]('windowId')['value'],_0x51c3c2=document[_0x1957cb(0xf7)](_0x1957cb(0x151)+_0xe13542)[_0x1957cb(0x215)],_0x186a0d=(_0x12e364[_0x1957cb(0x248)]||[])[_0x1957cb(0xfb)](_0x348896=>_0x348896[_0x1957cb(0x19b)]==_0x51c3c2)||{},_0x4397fd=_0x186a0d[_0x1957cb(0x91)]||0x0,_0x2bdbc6=getCurrencySymbol(_0xe13542),_0x451a69=Number(_0x4397fd)||0x0,_0x3b3926=_0x2bdbc6+'\x20'+_0x451a69[_0x1957cb(0x11f)](0x2),_0x483d32=await _0x5687d9[_0x1957cb(0x208)](),_0x1036b6=_0x1a70c9=>_0x1a70c9*2.83465,_0x46a80d=_0x1036b6(0x70*0x2),_0x494564=_0x1036b6(40.8),_0xa14e97=_0x483d32[_0x1957cb(0x106)]([_0x46a80d,_0x494564]),_0x498610=await _0x483d32[_0x1957cb(0x195)](_0x5c6d83[_0x1957cb(0x1f8)]),_0x54dfe7=Array(0x2)['fill'](_0x341878),_0x21bb99=0x2,_0x15a622=0x1,_0x4b5af9=0xc,_0x564fc3=_0x46a80d/_0x21bb99,_0x302ef9=_0x494564/_0x15a622;for(let _0x142a16=0x0;_0x142a16<0x2;_0x142a16++){const _0x1ca746=_0x54dfe7[_0x142a16],_0x127407=await generarBarcodeDataURL(_0x4f5985,_0x1ca746),_0x4c2a6b=_0x127407[_0x1957cb(0x128)](',')[0x1],_0x2a5d48=Uint8Array[_0x1957cb(0x225)](atob(_0x4c2a6b),_0x49dc04=>_0x49dc04['charCodeAt'](0x0));let _0x15da39;try{_0x15da39=await _0x483d32[_0x1957cb(0x1ea)](_0x2a5d48);}catch{_0x15da39=await _0x483d32['embedJpg'](_0x2a5d48);}const _0x278853=0x5,_0x296a64=_0x4b5af9+0x4,_0x342419=_0x4b5af9*0x2+0x4,_0x1e9633=_0x14e64c,_0x52ad22=_0x3b3926,_0x5321d3=_0x142a16%_0x21bb99,_0x354bf1=_0x498610['widthOfTextAtSize'](_0x1e9633,_0x4b5af9),_0x28295b=_0x498610['widthOfTextAtSize'](_0x52ad22,_0x4b5af9),_0x2e7880=_0x5321d3*_0x564fc3+(_0x564fc3-_0x354bf1)/0x2,_0x6f0bf4=_0x5321d3*_0x564fc3+(_0x564fc3-_0x28295b)/0x2,_0x5a91e2=_0x302ef9-_0x278853-_0x4b5af9,_0x16cc71=_0x5a91e2-_0x4b5af9-0x2;_0xa14e97[_0x1957cb(0x85)](_0x1e9633,{'x':_0x2e7880,'y':_0x5a91e2,'size':_0x4b5af9,'font':_0x498610,'color':_0x4abd62(0x0,0x0,0x0)}),_0xa14e97['drawText'](_0x52ad22,{'x':_0x6f0bf4,'y':_0x16cc71,'size':_0x4b5af9,'font':_0x498610,'color':_0x4abd62(0x0,0x0,0x0)});const _0x1f7274=_0x564fc3-_0x278853*0x2,_0x37b280=_0x302ef9-_0x278853*0x2-_0x342419-_0x296a64,_0x201b23=_0x15da39['width'],_0x2ff625=_0x15da39[_0x1957cb(0x1b0)],_0x1c38f8=Math[_0x1957cb(0x157)](_0x1f7274/_0x201b23,_0x37b280/_0x2ff625,0x1),_0x226276=_0x15da39[_0x1957cb(0x102)](_0x1c38f8),_0x4a1b08=_0x5321d3*_0x564fc3+(_0x564fc3-_0x226276[_0x1957cb(0xd3)])/0x2,_0x32442b=_0x16cc71-_0x226276[_0x1957cb(0x1b0)]-0x4;_0xa14e97[_0x1957cb(0x171)](_0x15da39,{'x':_0x4a1b08,'y':_0x32442b,'width':_0x226276[_0x1957cb(0xd3)],'height':_0x226276[_0x1957cb(0x1b0)]});const _0x465af2=_0x498610['widthOfTextAtSize'](_0x1ca746,_0x4b5af9),_0x48aed0=_0x5321d3*_0x564fc3+(_0x564fc3-_0x465af2)/0x2,_0x5390a9=_0x32442b-_0x4b5af9-0x2;_0xa14e97['drawText'](_0x1ca746,{'x':_0x48aed0,'y':_0x5390a9,'size':_0x4b5af9,'font':_0x498610,'color':_0x4abd62(0x0,0x0,0x0)});}const _0x227aa9=await _0x483d32[_0x1957cb(0x14a)](),_0x2cefbb=new Blob([_0x227aa9],{'type':_0x1957cb(0x1fa)}),_0x56a7b3=URL[_0x1957cb(0x146)](_0x2cefbb);window[_0x1957cb(0x21d)](_0x56a7b3);}async function sendEmail(_0x221fb8,_0x5bbf43,_0x657c9d,_0x4c506f,_0x1eb8ce,_0x80a747,_0x5422d6,_0x35c634,_0x7ae864,_0xf49b48){const _0x3cea9e=_0x330953;if(isOnline()){const _0x10528a={'setAuthToken':_0x221fb8,'senderName':_0x5bbf43,'senderEmail':_0x657c9d,'senderPassword':_0x4c506f,'smtpHost':_0x1eb8ce,'smtpPort':_0x80a747,'emailsDestination':_0x5422d6,'subject':_0x35c634,'message':_0x7ae864,'attachFiles':_0xf49b48};try{const _0xa0bd8d=await fetch(_0x3cea9e(0x188),{'method':_0x3cea9e(0x114),'headers':{'Content-Type':_0x3cea9e(0x86)},'body':JSON['stringify'](_0x10528a)}),_0x3522bc=await _0xa0bd8d[_0x3cea9e(0x1e4)]();if(!_0xa0bd8d['ok']||!_0x3522bc[_0x3cea9e(0x125)]){console[_0x3cea9e(0x1b6)](_0x3cea9e(0x217),_0x3522bc),ntfShow(_0x3cea9e(0x20d));return;}}catch(_0x1f16e7){console[_0x3cea9e(0x1b6)](_0x3cea9e(0x1ac),_0x1f16e7);}}}function loadLoginContent(_0x10fb08){const _0x4814e1=_0x330953,_0x4cfa19=document[_0x4814e1(0xf7)](_0x4814e1(0x107));_0x4cfa19[_0x4814e1(0x1af)]=_0x4814e1(0x124)+_0x10fb08+_0x4814e1(0x105);}function addNumber(_0x4870d5){const _0xc9b3e4=_0x330953;document['getElementById'](_0xc9b3e4(0x206))[_0xc9b3e4(0x215)]+=_0x4870d5;}function deleteNumber(){const _0x38fc0c=_0x330953;let _0x267241=document[_0x38fc0c(0xf7)](_0x38fc0c(0x206));_0x267241[_0x38fc0c(0x215)]=_0x267241[_0x38fc0c(0x215)][_0x38fc0c(0x1d4)](0x0,-0x1);}function togglePassword(){const _0x430ade=_0x330953;let _0x187a28=document[_0x430ade(0xf7)]('password');_0x187a28[_0x430ade(0xf8)]=_0x187a28[_0x430ade(0xf8)]==_0x430ade(0x206)?_0x430ade(0x1bc):_0x430ade(0x206);}function setEventBtnAccess(){const _0x18f48d=_0x330953,_0x28e435=document[_0x18f48d(0xf7)](_0x18f48d(0x222));_0x28e435['onclick']=function(){acceder();};}function isOnline(){const _0x30b1e2=_0x330953;return window[_0x30b1e2(0x83)]['onLine'];}function showLoadingModal(){const _0x5881e7=_0x330953,_0x4e05ad=document[_0x5881e7(0x9f)](_0x5881e7(0x10f));_0x4e05ad['id']=_0x5881e7(0x228),_0x4e05ad[_0x5881e7(0x87)]['position']=_0x5881e7(0x185),_0x4e05ad['style'][_0x5881e7(0x104)]='0',_0x4e05ad[_0x5881e7(0x87)]['left']='0',_0x4e05ad['style'][_0x5881e7(0xd3)]=_0x5881e7(0x21c),_0x4e05ad['style'][_0x5881e7(0x1b0)]=_0x5881e7(0x21c),_0x4e05ad['style']['backgroundColor']='rgba(0,\x200,\x200,\x200.5)',_0x4e05ad[_0x5881e7(0x87)][_0x5881e7(0xa9)]=_0x5881e7(0x1fc),_0x4e05ad[_0x5881e7(0x87)]['justifyContent']=_0x5881e7(0x8b),_0x4e05ad[_0x5881e7(0x87)][_0x5881e7(0x17c)]=_0x5881e7(0x8b),_0x4e05ad[_0x5881e7(0x87)]['zIndex']=_0x5881e7(0xbc),_0x4e05ad[_0x5881e7(0x87)][_0x5881e7(0x213)]='1',_0x4e05ad[_0x5881e7(0x87)][_0x5881e7(0x160)]='none',_0x4e05ad[_0x5881e7(0x1af)]=_0x5881e7(0x1c0),document[_0x5881e7(0x1f5)][_0x5881e7(0x170)](_0x4e05ad);}function hideLoadingModal(){const _0x3e482a=_0x330953,_0x10daa1=document['getElementById'](_0x3e482a(0x228));_0x10daa1&&(_0x10daa1['style'][_0x3e482a(0x213)]='0',_0x10daa1[_0x3e482a(0xe8)]());}function cargarAlmacenes(_0x10964c){const _0x133aa4=_0x330953,_0x5ebc77=document[_0x133aa4(0xf7)](_0x133aa4(0x96));_0x5ebc77[_0x133aa4(0x1af)]='';const _0x5d7dd3=company[0x0][_0x133aa4(0x176)][_0x133aa4(0xfb)](_0x583a8f=>_0x583a8f[_0x133aa4(0x1f2)]==_0x10964c);_0x5d7dd3&&_0x5d7dd3['setWarehouses'][_0x133aa4(0x1e9)]>0x0&&_0x5d7dd3[_0x133aa4(0x20e)][_0x133aa4(0xce)](_0x327992=>{const _0x5ef95c=_0x133aa4;let _0x13af0b=document[_0x5ef95c(0x9f)](_0x5ef95c(0x1d5));_0x13af0b[_0x5ef95c(0x215)]=_0x327992[_0x5ef95c(0x96)],_0x13af0b[_0x5ef95c(0x238)]=_0x327992[_0x5ef95c(0xa3)],_0x5ebc77['appendChild'](_0x13af0b);});}function getAllWarehouses(){const _0xa1dde0=_0x330953,_0x45582a=company[0x0][_0xa1dde0(0x176)]||[],_0x544d17=new Map();return _0x45582a[_0xa1dde0(0xce)](_0x2168a2=>{const _0x529458=_0xa1dde0;(_0x2168a2[_0x529458(0x20e)]||[])[_0x529458(0xce)](_0x480d9e=>{const _0x400b62=_0x529458;!_0x544d17['has'](_0x480d9e[_0x400b62(0x96)])&&_0x544d17[_0x400b62(0xd0)](_0x480d9e[_0x400b62(0x96)],{'setWarehouseId':_0x480d9e[_0x400b62(0x96)],'setWarehouseName':_0x480d9e[_0x400b62(0xa3)]+'\x20('+_0x2168a2['setBranchName']+')'});});}),Array[_0xa1dde0(0x225)](_0x544d17[_0xa1dde0(0xea)]());}function cargarPisos(_0x3d68e3){const _0x4ff58c=_0x330953,_0x5a4b5f=company[0x0][_0x4ff58c(0x194)][_0x4ff58c(0xbe)](_0x396cb9=>_0x396cb9['setBranchId']==_0x3d68e3),_0x154b5f={};_0x5a4b5f[_0x4ff58c(0xce)](_0x24b3d5=>{const _0x56444e=_0x4ff58c;_0x154b5f[_0x24b3d5[_0x56444e(0x1c9)]]=_0x24b3d5[_0x56444e(0x140)];});const _0x508253=document['getElementById'](_0x4ff58c(0x1c9));_0x508253[_0x4ff58c(0x1af)]='';for(const _0x187cbf in _0x154b5f){const _0x548b6b=document[_0x4ff58c(0x9f)](_0x4ff58c(0x1d5));_0x548b6b['value']=_0x187cbf,_0x548b6b[_0x4ff58c(0x238)]=_0x154b5f[_0x187cbf],_0x508253['appendChild'](_0x548b6b);}}function _0x5c0d(_0x4d2175,_0x240d1b){const _0x4f0600=_0x1bba();return _0x5c0d=function(_0x24384b,_0x4a5d03){_0x24384b=_0x24384b-0x7f;let _0x328ae9=_0x4f0600[_0x24384b];return _0x328ae9;},_0x5c0d(_0x4d2175,_0x240d1b);}document[_0x330953(0xf7)](_0x330953(0xe9))[_0x330953(0x1cc)]('click',()=>{const _0x4b408f=_0x330953,_0xf8aba2=document['documentElement'],_0x1e4658=document[_0x4b408f(0x167)]||document[_0x4b408f(0xec)]||document[_0x4b408f(0xc6)]||document[_0x4b408f(0x1b5)];if(!_0x1e4658){if(_0xf8aba2['requestFullscreen'])_0xf8aba2[_0x4b408f(0x1f4)]();else{if(_0xf8aba2[_0x4b408f(0x113)])_0xf8aba2[_0x4b408f(0x113)]();else{if(_0xf8aba2[_0x4b408f(0x1a6)])_0xf8aba2[_0x4b408f(0x1a6)]();else _0xf8aba2[_0x4b408f(0xb7)]&&_0xf8aba2[_0x4b408f(0xb7)]();}}}else{if(document['exitFullscreen'])document['exitFullscreen']();else{if(document[_0x4b408f(0x1a2)])document[_0x4b408f(0x1a2)]();else{if(document[_0x4b408f(0x196)])document[_0x4b408f(0x196)]();else document['msExitFullscreen']&&document[_0x4b408f(0x12c)]();}}}});function ntf_formatDateDMY(_0x507404){const _0x573b5f=_0x330953;var _0x41aae4=new Date(_0x507404),_0x716e13=_0x41aae4[_0x573b5f(0xd2)](),_0x438a78=_0x41aae4[_0x573b5f(0x165)](),_0x31f9dd=monthsEspanish[_0x41aae4[_0x573b5f(0x1ab)]()];return _0x716e13+_0x573b5f(0xc9)+_0x31f9dd+_0x573b5f(0x123)+_0x438a78;}function ntf_groupBy(_0x1cca02,_0xea038b){const _0x38e120=_0x330953;return _0x1cca02[_0x38e120(0x9e)](function(_0x375dd0,_0x5ce458){var _0x2b4a6b=_0x5ce458[_0xea038b];return _0x375dd0[_0x2b4a6b]=_0x375dd0[_0x2b4a6b]||[],_0x375dd0[_0x2b4a6b]['push'](_0x5ce458),_0x375dd0;},{});}function ntf_isExpired(_0x1b11a0){const _0x5c99fa=_0x330953;if(!_0x1b11a0)return![];var _0x3cc086=new Date();return _0x3cc086[_0x5c99fa(0x1f9)](0x0,0x0,0x0,0x0),new Date(_0x1b11a0)<=_0x3cc086;}function ntf_getNotifications(){const _0x1f1a79=_0x330953;var _0x22a4fd=parseInt(document[_0x1f1a79(0xf7)](_0x1f1a79(0x96))['value'],0xa),_0x2c473d=ntf_groupBy(products,_0x1f1a79(0x127)),_0xa0aa4c=[];return Object['keys'](_0x2c473d)['forEach'](function(_0x580aa1){const _0x5ce6c1=_0x1f1a79;var _0x52ea2d=_0x2c473d[_0x580aa1],_0x867735=_0x52ea2d[0x0],_0x47797a=(_0x867735['sucursales']||[])[_0x5ce6c1(0xfb)](function(_0x51d2e4){const _0x37dbe9=_0x5ce6c1;return _0x51d2e4[_0x37dbe9(0xb9)]==_0x22a4fd;});if(!_0x47797a)return;var _0x9f4ed5=parseFloat(_0x47797a[_0x5ce6c1(0xdd)]),_0x4624d2=parseFloat(_0x47797a[_0x5ce6c1(0x243)]);_0x867735[_0x5ce6c1(0xaf)]==0x1&&_0x9f4ed5<=_0x4624d2&&_0xa0aa4c[_0x5ce6c1(0x7f)]({'type':0x1,'id_registro':_0x867735['id'],'title':_0x5ce6c1(0x15a)+_0x867735['setDescripcion'],'message':_0x5ce6c1(0x1ed)+_0x867735['setDescripcion']+'\x22\x20lleg√≥\x20al\x20stock\x20m√≠nimo.<br>\x0aStock\x20M√≠nimo:\x20'+_0x4624d2[_0x5ce6c1(0x11f)](0x3)+_0x5ce6c1(0xaa)+_0x9f4ed5[_0x5ce6c1(0x11f)](0x3)+'\x0a','data':{'producto':_0x867735,'stock':_0x9f4ed5,'minStock':_0x4624d2}}),_0x867735['setBatchExpirationDate']&&ntf_isExpired(_0x867735['setBatchExpirationDate'])&&_0xa0aa4c[_0x5ce6c1(0x7f)]({'type':0x2,'id_registro':_0x867735['id'],'title':_0x5ce6c1(0xd1)+_0x867735[_0x5ce6c1(0x9b)],'message':'El\x20producto\x20\x22'+_0x867735[_0x5ce6c1(0x9b)]+_0x5ce6c1(0x244)+ntf_formatDateDMY(_0x867735[_0x5ce6c1(0x150)])+_0x5ce6c1(0xf6)+_0x5ce6c1(0x130)+_0x9f4ed5[_0x5ce6c1(0x11f)](0x3),'data':{'producto':_0x867735,'expiration':_0x867735[_0x5ce6c1(0x150)]}});}),_0xa0aa4c;}function ntf_renderNotifications(){const _0xe0afa8=_0x330953;var _0x1e54b3=ntf_getNotifications(),_0x115fa7=document[_0xe0afa8(0xf7)]('ntf-notifications-list'),_0x23e457=document['getElementById']('ntf-notif-count');_0x115fa7[_0xe0afa8(0x1af)]='',_0x23e457[_0xe0afa8(0x238)]=_0x1e54b3['length'];if(_0x1e54b3[_0xe0afa8(0x1e9)]===0x0){var _0x131055=document[_0xe0afa8(0x9f)]('li');_0x131055[_0xe0afa8(0x238)]=_0xe0afa8(0x136),_0x115fa7[_0xe0afa8(0x170)](_0x131055);return;}_0x1e54b3['forEach'](function(_0xe4f681,_0x22acd3){const _0x4710dd=_0xe0afa8;var _0x1bdd1d=document[_0x4710dd(0x9f)]('li');_0x1bdd1d['textContent']=_0xe4f681[_0x4710dd(0x111)],_0x1bdd1d[_0x4710dd(0x112)](_0x4710dd(0xb0),_0x22acd3),_0x115fa7[_0x4710dd(0x170)](_0x1bdd1d);});}function ntf_openModal(_0x842401){const _0x1d968e=_0x330953;var _0x3c6043=document[_0x1d968e(0xf7)]('ntf-modal-body'),_0xe4796b=document[_0x1d968e(0xf7)](_0x1d968e(0x177)),_0x29cd2f=document[_0x1d968e(0xf7)](_0x1d968e(0x110));_0x3c6043[_0x1d968e(0x1af)]=_0x1d968e(0x178)+_0x842401[_0x1d968e(0x111)]+_0x1d968e(0xc5)+_0x842401['message']+'</p>',_0xe4796b[_0x1d968e(0x1af)]='';if(_0x842401['type']===0x1)[_0x1d968e(0x16d),_0x1d968e(0x1e2),_0x1d968e(0x186)]['forEach'](function(_0x254d6c){const _0x2412ea=_0x1d968e;var _0x10e7c3=document[_0x2412ea(0x9f)](_0x2412ea(0x152));_0x10e7c3[_0x2412ea(0x238)]=_0x254d6c,_0x10e7c3[_0x2412ea(0x1cc)](_0x2412ea(0xa8),function(){const _0x61a57=_0x2412ea;console[_0x61a57(0x163)](_0x61a57(0x191)+_0x254d6c+_0x61a57(0xd7)+_0x842401[_0x61a57(0x20b)]);}),_0xe4796b[_0x2412ea(0x170)](_0x10e7c3);});else _0x842401['type']===0x2&&['Revisar\x20lote','Eliminar\x20producto'][_0x1d968e(0xce)](function(_0x242c84){const _0x3bce6e=_0x1d968e;var _0x2c9a3b=document[_0x3bce6e(0x9f)](_0x3bce6e(0x152));_0x2c9a3b[_0x3bce6e(0x238)]=_0x242c84,_0x2c9a3b[_0x3bce6e(0x1cc)](_0x3bce6e(0xa8),function(){const _0x5656ea=_0x3bce6e;console[_0x5656ea(0x163)](_0x5656ea(0x191)+_0x242c84+_0x5656ea(0xd7)+_0x842401['id_registro']);}),_0xe4796b['appendChild'](_0x2c9a3b);});_0x29cd2f['classList'][_0x1d968e(0xe8)](_0x1d968e(0x1bd));}function ntf_closeModal(){const _0x2a5a07=_0x330953;document[_0x2a5a07(0xf7)](_0x2a5a07(0x110))['classList'][_0x2a5a07(0x158)](_0x2a5a07(0x1bd));}document['getElementById'](_0x330953(0x138))[_0x330953(0x1cc)](_0x330953(0xa8),function(){const _0x524927=_0x330953;document['getElementById'](_0x524927(0x1da))[_0x524927(0x235)][_0x524927(0x234)](_0x524927(0x1bd)),ntf_renderNotifications();}),document['getElementById'](_0x330953(0x98))[_0x330953(0x1cc)]('click',function(_0x1d97bc){const _0x4f94ab=_0x330953,_0x592d7c=_0x1d97bc[_0x4f94ab(0x118)][_0x4f94ab(0x147)]('li');if(!_0x592d7c||!_0x592d7c[_0x4f94ab(0xc0)][_0x4f94ab(0x16b)])return;const _0x3e0c20=ntf_getNotifications()[_0x592d7c[_0x4f94ab(0xc0)][_0x4f94ab(0x16b)]];document[_0x4f94ab(0xf7)](_0x4f94ab(0x138))['click'](),ntf_openModal(_0x3e0c20);}),document['getElementById'](_0x330953(0x15f))[_0x330953(0x1cc)](_0x330953(0xa8),ntf_closeModal),document['getElementById']('ntf-notification-modal')[_0x330953(0x1cc)](_0x330953(0xa8),function(_0x7b7101){const _0x463300=_0x330953;if(_0x7b7101['target']===document['getElementById'](_0x463300(0x110)))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x42c4e9,_0x436ecb=0x3,_0x150935=0x1){const _0x189fce=_0x330953,_0x249794=document[_0x189fce(0xf7)](_0x189fce(0x143)),_0x5a2651=document[_0x189fce(0x9f)](_0x189fce(0x10f));let _0x5e1aeb;if(_0x436ecb==0x1)_0x5e1aeb=_0x189fce(0x240);else _0x436ecb==0x2?_0x5e1aeb=_0x189fce(0x214):_0x5e1aeb=_0x189fce(0xf3);let _0x3e084d;_0x150935==0x1?(_0x3e084d=_0x189fce(0x1ad),_0x249794['classList'][_0x189fce(0x158)](_0x189fce(0x15d)),_0x249794['classList'][_0x189fce(0xe8)](_0x189fce(0x1a5))):(_0x3e084d='ntf-flotante-bottom',_0x249794[_0x189fce(0x235)][_0x189fce(0x158)](_0x189fce(0x1a5)),_0x249794[_0x189fce(0x235)][_0x189fce(0xe8)](_0x189fce(0x15d))),_0x5a2651[_0x189fce(0x23d)]=_0x189fce(0xb5)+_0x5e1aeb+'\x20'+_0x3e084d,_0x5a2651[_0x189fce(0x238)]=_0x42c4e9,_0x249794[_0x189fce(0x170)](_0x5a2651),_0x5a2651['addEventListener'](_0x189fce(0x1b4),()=>{const _0x46bb8d=_0x189fce;_0x5a2651[_0x46bb8d(0xe8)]();});}function openDatabase(){const _0x19c760=_0x330953;if(db)return Promise[_0x19c760(0x1f1)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x52ee4d,_0x43b3b2)=>{const _0xb35b29=_0x19c760,_0x21b99a=indexedDB[_0xb35b29(0x21d)](db_name);_0x21b99a['onupgradeneeded']=function(_0x1c73e8){const _0x16da4f=_0xb35b29;db=_0x1c73e8[_0x16da4f(0x118)][_0x16da4f(0x14f)],console[_0x16da4f(0x163)](_0x16da4f(0xeb));},_0x21b99a['onsuccess']=function(_0xb4324){const _0x5a63db=_0xb35b29;db=_0xb4324[_0x5a63db(0x118)][_0x5a63db(0x14f)],console[_0x5a63db(0x163)](_0x5a63db(0x1a1)),_0x52ee4d(db),dbPromise=null;},_0x21b99a[_0xb35b29(0x1ba)]=function(_0xf48a34){const _0x55186a=_0xb35b29;console['error'](_0x55186a(0x145),_0xf48a34[_0x55186a(0x118)][_0x55186a(0x1b6)]),_0x43b3b2(_0xf48a34['target'][_0x55186a(0x1b6)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x12538a,_0x382674=![]){const _0xe6dad=_0x330953;if(dbOperationInProgress)return Promise['reject'](_0xe6dad(0xab));return dbOperationInProgress=!![],openDatabase()['then'](_0x12ebc5=>{const _0x3923b3=_0xe6dad,_0xfa95b1=_0x3923b3(0x1a8),_0x29b4ad=_0x3923b3(0x10d),_0x464c07=_0x3923b3(0x12f),_0x279b18=_0x3923b3(0x13d),_0x456343=_0x12538a?_0x3923b3(0x18c)+_0x12538a:null,_0x3f49be=_0x12538a?_0x3923b3(0x90)+_0x12538a:null,_0x221ab0=_0x382674||!_0x12ebc5[_0x3923b3(0x122)][_0x3923b3(0x15c)](_0xfa95b1)||!_0x12ebc5[_0x3923b3(0x122)]['contains'](_0x29b4ad)||!_0x12ebc5[_0x3923b3(0x122)][_0x3923b3(0x15c)](_0x464c07)||!_0x12ebc5[_0x3923b3(0x122)][_0x3923b3(0x15c)](_0x279b18)||_0x12538a&&(!_0x12ebc5[_0x3923b3(0x122)][_0x3923b3(0x15c)](_0x456343)||!_0x12ebc5['objectStoreNames']['contains'](_0x3f49be));if(!_0x221ab0)return dbOperationInProgress=![],Promise[_0x3923b3(0x1f1)](_0x12ebc5);const _0xce2abc=_0x12ebc5[_0x3923b3(0x101)]+0x1;return _0x12ebc5['close'](),new Promise((_0x31552e,_0x330713)=>{const _0x43c164=_0x3923b3,_0x2fdd55=indexedDB['open'](db_name,_0xce2abc);_0x2fdd55[_0x43c164(0x134)]=function(_0x33ee13){const _0x318d6b=_0x43c164;db=_0x33ee13[_0x318d6b(0x118)][_0x318d6b(0x14f)];if(_0x382674)Array['from'](db[_0x318d6b(0x122)])[_0x318d6b(0xce)](_0x5e5bbe=>{const _0x15648b=_0x318d6b;_0x5e5bbe!==_0x464c07&&(db[_0x15648b(0xcb)](_0x5e5bbe),console['log'](_0x15648b(0x204)+_0x5e5bbe+_0x15648b(0xcd)));}),console[_0x318d6b(0x163)](_0x318d6b(0x9d));else{!db['objectStoreNames']['contains'](_0xfa95b1)&&(db[_0x318d6b(0x1a0)](_0xfa95b1,{'keyPath':'id'}),console[_0x318d6b(0x163)]('ObjectStore\x20\x27'+_0xfa95b1+_0x318d6b(0x159)));!db['objectStoreNames'][_0x318d6b(0x15c)](_0x29b4ad)&&(db['createObjectStore'](_0x29b4ad,{'keyPath':'id','autoIncrement':!![]}),console[_0x318d6b(0x163)](_0x318d6b(0x204)+_0x29b4ad+_0x318d6b(0x159)));!db[_0x318d6b(0x122)]['contains'](_0x464c07)&&(db['createObjectStore'](_0x464c07,{'keyPath':'id','autoIncrement':!![]}),console[_0x318d6b(0x163)](_0x318d6b(0x204)+_0x464c07+_0x318d6b(0x159)));!db[_0x318d6b(0x122)]['contains'](_0x279b18)&&(db['createObjectStore'](_0x279b18,{'keyPath':'id'}),console['log'](_0x318d6b(0x204)+_0x279b18+'\x27\x20creado\x20correctamente.'));if(_0x12538a){if(!db[_0x318d6b(0x122)][_0x318d6b(0x15c)](_0x456343)){const _0xe3586a=db[_0x318d6b(0x1a0)](_0x456343,{'keyPath':'id','autoIncrement':!![]});_0xe3586a['createIndex'](_0x318d6b(0x212),_0x318d6b(0x212),{'unique':!![]}),console['log'](_0x318d6b(0x204)+_0x456343+_0x318d6b(0x159));}!db['objectStoreNames'][_0x318d6b(0x15c)](_0x3f49be)&&(db['createObjectStore'](_0x3f49be,{'keyPath':'id','autoIncrement':!![]}),console[_0x318d6b(0x163)](_0x318d6b(0x204)+_0x3f49be+'\x27\x20creado\x20correctamente.'));}}},_0x2fdd55[_0x43c164(0x1eb)]=function(_0x5a8af8){const _0x5d2854=_0x43c164;db=_0x5a8af8['target'][_0x5d2854(0x14f)],dbOperationInProgress=![],console[_0x5d2854(0x163)](_0x5d2854(0x201)),_0x31552e(db);},_0x2fdd55[_0x43c164(0x1ba)]=function(_0x3932d8){const _0x39be6c=_0x43c164;console[_0x39be6c(0x1b6)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:',_0x3932d8[_0x39be6c(0x118)][_0x39be6c(0x1b6)]),dbOperationInProgress=![],_0x330713(_0x3932d8['target'][_0x39be6c(0x1b6)]);};});})[_0xe6dad(0x1e8)](_0x69f7b9=>{const _0x1c458f=_0xe6dad;throw new Error(_0x1c458f(0x1a3));})[_0xe6dad(0xa4)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x126d73=_0x330953;if(!isOnline())return Promise[_0x126d73(0x1f1)]();try{const _0x2a4a70=await createCartStore(''),_0x56c1c1=_0x2a4a70['transaction'](_0x126d73(0x12f),_0x126d73(0x192)),_0x400c76=_0x56c1c1[_0x126d73(0xd5)](_0x126d73(0x12f)),_0x51d3aa=await new Promise((_0xc70cd0,_0x54bed3)=>{const _0x4d0735=_0x126d73,_0x1ef4fd=_0x400c76[_0x4d0735(0x1ae)]();_0x1ef4fd['onsuccess']=()=>_0xc70cd0(_0x1ef4fd[_0x4d0735(0x14f)]),_0x1ef4fd[_0x4d0735(0x1ba)]=()=>_0x54bed3(new Error(_0x4d0735(0x139)+_0x1ef4fd[_0x4d0735(0x1b6)]));}),_0x3a435b=_0x51d3aa[_0x126d73(0xbe)](_0x19b1c3=>_0x19b1c3[_0x126d73(0xde)]==0x1);if(_0x3a435b[_0x126d73(0x1e9)]===0x0){console['log'](_0x126d73(0x13e));return;}const _0x4f37e0=_0x3a435b[_0x126d73(0xbe)](_0x3fd20b=>_0x3fd20b[_0x126d73(0xda)]==0x64),_0x43725d=_0x3a435b['filter'](_0x14fa84=>_0x14fa84[_0x126d73(0xda)]!=0x64);function _0x3bfac3(_0x51f27c,_0x183968){return new Promise((_0x5db119,_0x1693bc)=>{const _0x590daf=_0x5c0d,_0x2bcd3e=_0x51f27c[_0x590daf(0x97)](_0x590daf(0x12f),_0x590daf(0x169)),_0x1f3575=_0x2bcd3e['objectStore'](_0x590daf(0x12f)),_0x383656=_0x1f3575[_0x590daf(0x84)](_0x183968);_0x383656[_0x590daf(0x1eb)]=()=>_0x5db119(),_0x383656[_0x590daf(0x1ba)]=_0x5569e4=>_0x1693bc(new Error('Error\x20guardando\x20operaci√≥n:\x20'+_0x5569e4[_0x590daf(0x118)]['error']));});}async function _0x14dc7c(_0x4efacc){const _0x1d4151=_0x126d73;for(const _0x5cd3a9 of _0x4efacc){_0x5cd3a9['setTipoOperacion']===0x64&&Array['isArray'](_0x5cd3a9['newItems'])&&_0x5cd3a9[_0x1d4151(0x21a)][_0x1d4151(0xc8)]((_0x49ce8c,_0x3ab651)=>{const _0x883881=_0x1d4151,_0x5426a9=[0x1,0x2,0x3],_0x2f9754=_0x5426a9['includes'](_0x49ce8c[_0x883881(0xf1)]),_0x297562=_0x5426a9['includes'](_0x3ab651[_0x883881(0xf1)]);if(_0x2f9754&&!_0x297562)return-0x1;if(!_0x2f9754&&_0x297562)return 0x1;return _0x49ce8c[_0x883881(0xf1)]-_0x3ab651[_0x883881(0xf1)];});const _0x1e8220=new FormData();_0x1e8220['append'](_0x1d4151(0x95),JSON[_0x1d4151(0x200)](_0x5cd3a9));if(_0x5cd3a9[_0x1d4151(0x172)]instanceof Blob&&_0x5cd3a9[_0x1d4151(0x172)]['size']>0x0)_0x1e8220['append']('pdfBlob',_0x5cd3a9['pdfBlob'],_0x1d4151(0xc7));else _0x5cd3a9['pdfBlob']&&console['warn']('PDF\x20no\x20v√°lido\x20o\x20vac√≠o\x20‚Äì\x20se\x20omite\x20y\x20se\x20env√≠a\x20la\x20operaci√≥n\x20sin\x20√©l.');_0x5cd3a9[_0x1d4151(0xda)]==0x64&&Array[_0x1d4151(0x8e)](_0x5cd3a9['newItems'])&&_0x5cd3a9['newItems'][_0x1d4151(0xce)]((_0x356b2b,_0x27a6ed)=>{const _0x5e7a51=_0x1d4151;Array[_0x5e7a51(0x8e)](_0x356b2b[_0x5e7a51(0x1b8)])&&_0x356b2b[_0x5e7a51(0x1b8)][_0x5e7a51(0xce)]((_0x5d51cb,_0x4c405c)=>{const _0x3f1365=_0x5e7a51;_0x5d51cb instanceof Blob&&_0x5d51cb['size']>0x0?_0x1e8220[_0x3f1365(0x155)](_0x3f1365(0x1d8)+_0x27a6ed+'][setItemImages]['+_0x4c405c+']',_0x5d51cb,_0x5d51cb[_0x3f1365(0xe4)]):console[_0x3f1365(0x22c)](_0x3f1365(0x1ce)+_0x27a6ed+_0x3f1365(0x12e)+_0x4c405c+_0x3f1365(0x162));});});try{const _0x334f28=await fetch(_0x5cd3a9[_0x1d4151(0xff)],{'method':_0x1d4151(0x114),'body':_0x1e8220});if(!_0x334f28['ok'])throw new Error(_0x1d4151(0xe5)+_0x334f28['status']+_0x1d4151(0x1b9)+_0x334f28[_0x1d4151(0x120)]);const _0x4fb690=await _0x334f28[_0x1d4151(0x1e4)]();!_0x4fb690[_0x1d4151(0x125)]?_0x5cd3a9['setMessage']=_0x4fb690[_0x1d4151(0x100)]||_0x1d4151(0x220):(_0x5cd3a9[_0x1d4151(0xde)]=0x0,delete _0x5cd3a9[_0x1d4151(0x1dd)]),await _0x3bfac3(_0x2a4a70,_0x5cd3a9);}catch(_0x33189c){console[_0x1d4151(0x1b6)]('Error\x20al\x20enviar\x20operaci√≥n\x20offline:',_0x33189c),_0x5cd3a9['setMessage']=_0x33189c[_0x1d4151(0x100)],await _0x3bfac3(_0x2a4a70,_0x5cd3a9);}}}_0x4f37e0['sort']((_0x80ff66,_0x53e22c)=>{const _0x4d4a58=_0x126d73,_0x6126c7=[0x1,0x2,0x3],_0x3ad57f=_0x239296=>Array['isArray'](_0x239296[_0x4d4a58(0x21a)])&&_0x239296['newItems'][_0x4d4a58(0x17a)](_0x6b2c24=>_0x6126c7[_0x4d4a58(0x21e)](_0x6b2c24['setItemType'])),_0x25db7a=_0x3ad57f(_0x80ff66),_0x4fb44a=_0x3ad57f(_0x53e22c);if(_0x25db7a&&!_0x4fb44a)return-0x1;if(!_0x25db7a&&_0x4fb44a)return 0x1;const _0x207c15=Math[_0x4d4a58(0x157)](..._0x80ff66[_0x4d4a58(0x21a)]['map'](_0x249e48=>_0x249e48[_0x4d4a58(0xf1)])),_0x45ef2c=Math['min'](..._0x53e22c['newItems'][_0x4d4a58(0x23b)](_0x29f4bd=>_0x29f4bd[_0x4d4a58(0xf1)]));return _0x207c15-_0x45ef2c;}),_0x4f37e0['length']&&(console[_0x126d73(0x163)](_0x126d73(0x231)+_0x4f37e0['length']+_0x126d73(0x233)),await _0x14dc7c(_0x4f37e0)),_0x43725d[_0x126d73(0x1e9)]&&(console[_0x126d73(0x163)](_0x126d73(0x231)+_0x43725d[_0x126d73(0x1e9)]+_0x126d73(0x190)),await _0x14dc7c(_0x43725d)),console['log'](_0x126d73(0x11b));}catch(_0x18def7){console[_0x126d73(0x1b6)]('Error\x20al\x20procesar\x20operaciones\x20offline:',_0x18def7);}}function apiERPsaveOnline(_0x34dc64,_0x4be2ea,_0x2c0dfe,_0x3e7fa8,_0x517e4f){const _0x208b89=_0x330953;if(!isOnline())return console[_0x208b89(0x163)](_0x208b89(0x199)),Promise[_0x208b89(0x103)](_0x208b89(0x199));const _0x218283={'setAuthToken':_0x34dc64,'setBranches':_0x4be2ea,'setUsers':_0x2c0dfe,'setSeries':_0x3e7fa8,'setPrinters':_0x517e4f};return fetch(_0x208b89(0xd6),{'method':'POST','headers':{'Content-Type':_0x208b89(0xfe)},'body':JSON[_0x208b89(0x200)](_0x218283)})[_0x208b89(0x229)](_0x32e601=>{const _0x3d9d03=_0x208b89;if(!_0x32e601['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x32e601[_0x3d9d03(0x120)]);return _0x32e601['json']();})[_0x208b89(0x229)](_0x434d2e=>{const _0x295d43=_0x208b89;if(!_0x434d2e[_0x295d43(0x125)])throw new Error(_0x434d2e[_0x295d43(0x100)]||'Error\x20desconocido\x20al\x20actualizar\x20Data.');return console[_0x295d43(0x163)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x434d2e;})['catch'](_0x2ae20c=>{const _0x31666c=_0x208b89;console[_0x31666c(0x1b6)](_0x31666c(0xb3),_0x2ae20c);throw _0x2ae20c;});}async function acceder(){const _0x24d681=_0x330953;if(!isOnline()){alert(_0x24d681(0xe0));throw new Error(_0x24d681(0xef));}const _0x320bb6=document[_0x24d681(0xf7)](_0x24d681(0x222)),_0x467003=document['getElementById'](_0x24d681(0x18d))['value'],_0xc1c6a7=document[_0x24d681(0xf7)](_0x24d681(0x206))[_0x24d681(0x215)];_0x320bb6[_0x24d681(0x180)]=!![];if(!_0x467003||!_0xc1c6a7){alert(_0x24d681(0x99)),_0x320bb6[_0x24d681(0x180)]=![];return;}console[_0x24d681(0x163)](_0x24d681(0x230)),showLoadingModal();const _0x5b3a25={'usuario':_0x467003,'password':_0xc1c6a7};try{const _0x59d18e=await fetch(_0x24d681(0x236),{'method':_0x24d681(0x114),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x5b3a25)}),_0xc748dc=await _0x59d18e['json']();if(!(_0xc748dc[_0x24d681(0x125)]&&Array[_0x24d681(0x8e)](_0xc748dc['message']))){alert(_0xc748dc[_0x24d681(0x100)]),_0x320bb6[_0x24d681(0x180)]=![],hideLoadingModal();throw new Error(_0xc748dc[_0x24d681(0x100)]);}const _0x684047=document[_0x24d681(0xf7)]('infoLoadingModal');_0x684047['innerHTML']=_0x24d681(0x1cd);const _0x481446=_0xc748dc[_0x24d681(0x100)],{setApiEndPoint:_0x4afe09,setAuthToken:_0x2cd058,setUser_Local:_0x22c8ff}=_0x481446[0x0],_0x4f2c05={'apiPOS_getAccessData':0x1,'setToken':_0x2cd058,'setUserLocalUserName':_0x22c8ff[_0x24d681(0x1b1)]},_0x563101=await fetch(_0x4afe09,{'method':'POST','headers':{'Content-Type':_0x24d681(0x86)},'body':JSON[_0x24d681(0x200)](_0x4f2c05)}),_0x487f60=await _0x563101[_0x24d681(0x1e4)]();if(!(_0x487f60['success']===!![])){_0x684047[_0x24d681(0x1af)]=_0x24d681(0x189)+_0x487f60['message']+_0x24d681(0xfc),setTimeout(()=>location['reload'](),0x1388);return;}_0x684047[_0x24d681(0x1af)]=_0x24d681(0x149);const _0x14c3d4=_0x487f60['message'][_0x24d681(0x197)][_0x24d681(0x23b)](_0x2f054d=>{const _0x56a730=_0x24d681,_0x51d232=_0x2f054d[_0x56a730(0x1e1)]||'',_0x25ca3c=_0x2f054d[_0x56a730(0x127)]||'',_0x1ca70d=_0x2f054d[_0x56a730(0xbf)]||'',_0x1138bd=_0x2f054d['setItemBarCode']||'',_0x467e1d=_0x2f054d[_0x56a730(0x9b)]||'',_0x248753=_0x2f054d[_0x56a730(0xf4)]||'',_0x3de0b8=_0x2f054d[_0x56a730(0x1c7)]||'',_0x5898c2=_0x2f054d['setUnidad']||'',_0x164545=_0x2f054d[_0x56a730(0x22a)]||'',_0x54e331=_0x2f054d[_0x56a730(0xb1)]||'10',_0x5c7a6f=_0x481446[0x0][_0x56a730(0xd9)][_0x56a730(0xfb)](_0x468145=>_0x468145['setTaxId']==_0x164545)?.['setImpuestoValue']||0x0,_0x4e57b7=parseFloat(_0x2f054d[_0x56a730(0xaf)])||0x1,_0x61ee3f=_0x2f054d[_0x56a730(0x133)]||'',_0x1dc66c=_0x2f054d[_0x56a730(0xc4)]||'',_0x14739e=_0x2f054d[_0x56a730(0x168)]||'./img/product.png',_0x41bacf=_0x2f054d[_0x56a730(0x1c5)]||0x1,_0x5a7944=_0x2f054d[_0x56a730(0x1e5)]||'',_0x264e26=_0x2f054d[_0x56a730(0x150)]||'',_0xb307f5=(_0x2f054d[_0x56a730(0x248)]||[])[_0x56a730(0x23b)](_0x4221c7=>{const _0x3ef8d6=_0x56a730,_0x351409=parseFloat(_0x4221c7[_0x3ef8d6(0x12b)])||0x0,_0x1bac43=parseFloat(_0x4221c7['setMtoPrecioUnitario'])||0x0,_0x12a6c5=parseFloat(_0x4221c7['setMtoValorCostoUnitario'])||0x0,_0x2bd9db=parseFloat(_0x4221c7[_0x3ef8d6(0x91)])||0x0,_0x575b8c=_0x4221c7[_0x3ef8d6(0x1c6)]||[];let _0x31934f=0x0,_0x960a74=0x0;if(_0x351409>0x0)_0x31934f=_0x351409,_0x960a74=setTipAfeImpGravados['some'](_0x16eb16=>_0x16eb16==_0x54e331)?_0x351409+_0x351409*_0x5c7a6f/0x64:_0x351409;else _0x1bac43>0x0&&(_0x960a74=_0x1bac43,_0x31934f=setTipAfeImpGravados['some'](_0x552348=>_0x552348==_0x54e331)?_0x1bac43/(0x1+_0x5c7a6f/0x64):_0x1bac43);let _0x14b453=0x0,_0xf67b1f=0x0;if(_0x12a6c5>0x0)_0x14b453=_0x12a6c5,_0xf67b1f=setTipAfeImpGravados[_0x3ef8d6(0x17a)](_0x112a4e=>_0x112a4e==_0x54e331)?_0x12a6c5+_0x12a6c5*_0x5c7a6f/0x64:_0x12a6c5;else _0x2bd9db>0x0&&(_0xf67b1f=_0x2bd9db,_0x14b453=setTipAfeImpGravados[_0x3ef8d6(0x17a)](_0x212088=>_0x212088==_0x54e331)?_0x2bd9db/(0x1+_0x5c7a6f/0x64):_0x2bd9db);return{'currency':_0x4221c7[_0x3ef8d6(0x19b)],'setMtoValorUnitario':_0x31934f,'setMtoPrecioUnitario':_0x960a74,'setMtoValorCostoUnitario':_0x14b453,'setMtoPrecioCostoUnitario':_0xf67b1f,'setPriceLists':_0x575b8c};});if(_0x164545!==''&&_0x51d232!==''&&_0x1ca70d!==''&&_0x467e1d!=='')return{'id':_0x51d232,'setIdProducto':_0x25ca3c,'setCodProducto':_0x1ca70d,'setItemBarCode':_0x1138bd,'setDescripcion':_0x467e1d,'setItemDescription':_0x248753,'setUnidadCodigo':_0x3de0b8,'setUnidad':_0x5898c2,'setPorcentajeIgv':_0x5c7a6f,'setTaxId':_0x164545,'setTipAfeIgv':_0x54e331,'setInventariable':_0x4e57b7,'setCategoria':_0x61ee3f,'setMarca':_0x1dc66c,'setImg':_0x14739e,'setConversionFactor':_0x41bacf,'setBatchName':_0x5a7944,'setBatchExpirationDate':_0x264e26,'setItemIsBought':_0x2f054d[_0x56a730(0x14d)],'setItemIsSold':_0x2f054d[_0x56a730(0xe3)],'sucursales':_0x2f054d['sucursales']||[],'setPrinters':_0x2f054d[_0x56a730(0x115)]||[],'currency_data':_0xb307f5,'setImages':_0x2f054d[_0x56a730(0x1bb)]||[]};return null;})[_0x24d681(0xbe)](Boolean);_0x481446[0x0][_0x24d681(0xf0)]=_0x487f60[_0x24d681(0x100)][_0x24d681(0xf0)],_0x481446[0x0][_0x24d681(0x193)]=_0x487f60['message'][_0x24d681(0x193)],_0x481446[0x0][_0x24d681(0x117)]=_0x487f60[_0x24d681(0x100)][_0x24d681(0x117)],_0x481446[0x0][_0x24d681(0x218)]=_0x487f60['message'][_0x24d681(0x218)],_0x481446[0x0]['setCompanyAddress']=_0x487f60[_0x24d681(0x100)][_0x24d681(0x14e)],_0x481446[0x0][_0x24d681(0x1a7)]=_0x487f60[_0x24d681(0x100)]['setCompanyPhone'],_0x481446[0x0][_0x24d681(0xcf)]=_0x487f60[_0x24d681(0x100)][_0x24d681(0xcf)],_0x481446[0x0]['setCompanyWebsite']=_0x487f60[_0x24d681(0x100)][_0x24d681(0x239)],_0x481446[0x0]['setBranches']=_0x487f60[_0x24d681(0x100)]['setBranches'],_0x481446[0x0][_0x24d681(0x13c)]=_0x487f60[_0x24d681(0x100)][_0x24d681(0x13c)],_0x481446[0x0][_0x24d681(0x144)]=_0x487f60['message'][_0x24d681(0x144)],_0x481446[0x0][_0x24d681(0x115)]=_0x487f60['message'][_0x24d681(0x115)],_0x481446[0x0][_0x24d681(0x183)]=_0x487f60[_0x24d681(0x100)]['setCurrencyDefault'],_0x481446[0x0][_0x24d681(0x132)]=_0x487f60[_0x24d681(0x100)][_0x24d681(0x132)],_0x481446[0x0][_0x24d681(0x211)]=_0x487f60[_0x24d681(0x100)][_0x24d681(0x211)],_0x481446[0x0][_0x24d681(0x12d)]=_0x487f60[_0x24d681(0x100)]['setSuppliers'],_0x481446[0x0][_0x24d681(0x20a)]=_0x487f60['message'][_0x24d681(0x20a)],_0x481446[0x0][_0x24d681(0xe1)]=_0x487f60['message'][_0x24d681(0xe1)],_0x684047[_0x24d681(0x1af)]='Sincronizando\x20...';const _0x3ee760=await createCartStore('');await clearAndStore(_0x3ee760,_0x24d681(0x1a8),_0x14c3d4),await clearAndStore(_0x3ee760,_0x24d681(0x13d),[{'id':_0x24d681(0xb2),..._0x481446[0x0][_0x24d681(0x141)]}]),await apiERPsaveOnline(_0x2cd058,_0x481446[0x0]['setBranches'],_0x481446[0x0][_0x24d681(0x13c)],_0x481446[0x0][_0x24d681(0x144)],_0x481446[0x0][_0x24d681(0x115)]);const _0xfc73e2=await fetch(_0x24d681(0x1d2),{'method':_0x24d681(0x114),'headers':{'Content-Type':_0x24d681(0x86)},'body':JSON[_0x24d681(0x200)]({'setAuthToken':_0x2cd058})}),_0xa968ed=await _0xfc73e2['json']();if(_0xa968ed[_0x24d681(0x125)])_0x481446[0x0][_0x24d681(0x194)]=_0xa968ed[_0x24d681(0x100)][_0x24d681(0x194)],_0x481446[0x0][_0x24d681(0xe7)]=_0xa968ed[_0x24d681(0x100)][_0x24d681(0xe7)],_0x481446[0x0][_0x24d681(0x115)]=_0xa968ed['message'][_0x24d681(0x115)];else{console['error'](_0x24d681(0x13a),_0xa968ed[_0x24d681(0x100)]);return;}await saveCompanyToIndexedDB(_0x481446,_0x3ee760);if(!_0x481446[0x0][_0x24d681(0x194)]||_0x481446[0x0][_0x24d681(0x194)][_0x24d681(0x1e9)]===0x0){console[_0x24d681(0x1b6)](_0x24d681(0x1de));return;}for(const _0x89ea68 of _0x481446[0x0][_0x24d681(0x194)]){await new Promise(_0x376a13=>setTimeout(_0x376a13,0x12c)),await createCartStore(_0x89ea68[_0x24d681(0x207)]),_0x684047[_0x24d681(0x1af)]=_0x24d681(0xf9)+_0x89ea68['setWindowName']+'\x20...';}_0x684047[_0x24d681(0x1af)]=_0x24d681(0x19c)+_0x22c8ff['setUserNombres']+_0x24d681(0xfc),setTimeout(()=>location[_0x24d681(0x249)](),0x7d0);}catch(_0x1c3d1d){console['error']('Error\x20en\x20la\x20solicitud:',_0x1c3d1d),_0x320bb6[_0x24d681(0x180)]=![],hideLoadingModal(),alert(_0x1c3d1d);throw _0x1c3d1d;}}function clearAndStore(_0x473886,_0x334614,_0x4b0d40){return new Promise((_0x5113ba,_0x24f8ff)=>{const _0x18df45=_0x5c0d,_0xedcb9f=_0x473886['transaction'](_0x334614,_0x18df45(0x169)),_0x53b064=_0xedcb9f['objectStore'](_0x334614),_0xb8ca7d=_0x53b064[_0x18df45(0x175)]();_0xb8ca7d[_0x18df45(0x1eb)]=()=>{_0x4b0d40['forEach'](_0x2843fe=>_0x53b064['put'](_0x2843fe));},_0xedcb9f[_0x18df45(0x241)]=()=>_0x5113ba(),_0xedcb9f['onerror']=()=>_0x24f8ff(new Error('Error\x20in\x20saving\x20to\x20store\x20'+_0x334614+'!'));});}async function logoutReload(_0x468188=0x0,_0x57ea54){const _0x23ded6=_0x330953;if(_0x468188!=0x1){showLoadingModal();const _0x459dfd=document[_0x23ded6(0xf7)](_0x23ded6(0x153));_0x459dfd[_0x23ded6(0x1af)]=_0x23ded6(0xbb);}_0x57ea54==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location['reload']();}function registerServiceWorker(_0x1651cc,_0xfba827){const _0x3f15c6=_0x330953;_0x3f15c6(0x1ec)in navigator&&navigator[_0x3f15c6(0x1ec)][_0x3f15c6(0xcc)](_0x1651cc)[_0x3f15c6(0x229)](_0x58975b=>{const _0x66310e=_0x3f15c6;console[_0x66310e(0x163)]('SW\x20Success'),_0x58975b['onupdatefound']=()=>{const _0x10e7ca=_0x66310e,_0x3f4e85=_0x58975b[_0x10e7ca(0x247)];_0x3f4e85[_0x10e7ca(0x1aa)]=()=>{const _0x35616c=_0x10e7ca;_0x3f4e85[_0x35616c(0x18f)]=='installed'&&navigator[_0x35616c(0x1ec)]['controller']&&console[_0x35616c(0x163)](_0x35616c(0x89));};},navigator[_0x66310e(0x1ec)][_0x66310e(0x1cc)](_0x66310e(0x1fb),()=>{const _0x36da0d=_0x66310e;showLoadingModal();const _0x3926ec=document[_0x36da0d(0xf7)](_0x36da0d(0x153));_0x3926ec['innerHTML']=_0x36da0d(0x1c8),logoutReload(0x1,_0xfba827);});})['catch'](_0x262468=>console[_0x3f15c6(0x1b6)](_0x3f15c6(0xd4),_0x262468));}function isLoggedIn(_0xfec93){return _0xfec93&&_0xfec93[0x0]&&_0xfec93[0x0]['setUser_Local'];}function apiERPShowContent(){const _0x91466b=_0x330953;document['getElementById'](_0x91466b(0x226))[_0x91466b(0x235)][_0x91466b(0xe8)](_0x91466b(0x1d9)),document['getElementById'](_0x91466b(0x22e))['classList']['remove'](_0x91466b(0x1d9)),document['getElementById'](_0x91466b(0x107))[_0x91466b(0x235)][_0x91466b(0x158)](_0x91466b(0x1d9));const _0x1d33df=document[_0x91466b(0xf7)]('topbar');_0x1d33df&&_0x1d33df[_0x91466b(0x235)][_0x91466b(0xe8)](_0x91466b(0x1d9));}function x64ctotalcal(){const _0x200722=_0x330953;return window[_0x200722(0x11d)][_0x200722(0x14b)];}function x64btsparamnumber(_0x4cc862){const _0x577a19=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x4cc862==_0x577a19;}function x32btsfirefoxcalc(_0x57948c){const _0x2b933a=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x57948c==_0x2b933a;}function x64bitsdescitem(_0x53a602){const _0x2d90dd=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x53a602==_0x2d90dd;}function x43bitsdescglobal(_0x49351d){const _0x1f9a05=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x49351d==_0x1f9a05;}function _0x1bba(){const _0x25c1cc=['createElement','AR0','febrero','now','setWarehouseName','finally','block','tagName','junio','click','display','<br>\x0aStock\x20Actual:\x20','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','Company\x20Load.','Arrays\x20actualizados\x20para\x20windowId\x20','selectedCode','setInventariable','data-ntf-index','setTipAfeIgv','layout','Error\x20al\x20actualizar\x20data\x20online:','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','ntf-flotante-message\x20','xpos','msRequestFullscreen','toString','setIdSucursal','User\x20no\x20Logged!','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesi√≥n\x20...</span>','9999','#container-section-pay-','filter','setCodProducto','dataset','trace','setPlanName','mayo','setMarca','</h2><p>','mozFullScreenElement','documento.pdf','sort','\x20de\x20','E01','deleteObjectStore','register','\x27\x20eliminada.','forEach','setCompanyEmail','set','Producto\x20vencido:\x20','getDate','width','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','objectStore','https://apierp.dev/api/apiPOS/update/','\x22\x20para\x20registro\x20#','enero','setImpuestos','setTipoOperacion','noviembre','7645Xhspak','setSucursalStock','apiPOSsendOffline','port','Solo\x20necesitas\x20internet\x20para\x20acceder!','setCollaborators','1026179grfjAX','setItemIsSold','name','HTTP\x20','concat','setUsers','remove','fullscreen-btn','values','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','webkitFullscreenElement','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','setUserFullName','Por\x20seguridad,\x20√∫nicamente\x20necesitas\x20internet\x20para\x20acceder!','setCompanyLogo','setItemType','CO0','ntf-flotante-blue','setItemDescription','co5','.<br>','getElementById','type','Generando\x20','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','find','\x20...','querySelector','application/json','setWebhook','message','version','scale','reject','top','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üë§\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üîê\x20Contrase√±a:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contrase√±a\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>üëÅÔ∏è</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>‚å´</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;A√∫n\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¬°Reg√≠strate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnolog√≠a\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.1.4\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','addPage','login','canvas','dispatchEvent','104LEYtOF','payment-option','setCredentialsApiWAChat','company','startsWith','div','ntf-notification-modal','title','setAttribute','webkitRequestFullscreen','POST','setPrinters','64system','setCompanyName','target','querySelectorAll','constructor','Sincronizaci√≥n\x20completada\x20correctamente.','Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.','location','octubre','toFixed','statusText','preventDefault','objectStoreNames','\x20del\x20','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','success','d-none','setIdProducto','split','2CdFhVy','Plan\x20Impulsa','setMtoValorUnitario','msExitFullscreen','setSuppliers','].setItemImages[','offline_operations','Stock\x20Actual:\x20','setAuthToken','setBankAccounts','setCategoria','onupgradeneeded','S02','No\x20hay\x20notificaciones','cl19','tabs-notifications','Error\x20al\x20obtener\x20las\x20operaciones:\x20','Error\x20Update:','26540JHvAsu','setUsuarios','layoutState','No\x20hay\x20operaciones\x20para\x20sincronizar.','key','setFloorName','setLayout','septiembre','ntf-flotante-container','setSeries','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','createObjectURL','closest','stopPropagation','Procesamiento\x20de\x20datos\x20exitoso\x20...','save','hostname','setFechaHora','setItemIsBought','setCompanyAddress','result','setBatchExpirationDate','setMoneda-','button','infoLoadingModal','mx16','append','6FXUctR','min','add','\x27\x20creado\x20correctamente.','Stock\x20m√≠nimo:\x20','setTipoOperacionInvoice','contains','ntf-flotante-container-top','.select-button-pais-flag','ntf-modal-close','transition','.dropdown-list-pais-flag',']\x20‚Äì\x20se\x20omite.','log','setClienteDireccion','getFullYear','offsetWidth','fullscreenElement','setImg','readwrite','lbtom','ntfIndex','setCredentialsApiWAChatPort','Generar\x20Orden\x20de\x20Compra','x64c','\x20no\x20encontrado\x20en\x20products.','appendChild','drawImage','pdfBlob','64x32xsystem','setCredentialsApiWAChatId','clear','setBranches','ntf-modal-actions','<h2>','x63s','some','julio','alignItems','Company\x20Load\x20Error:','(((.+)+)+)+$','indexOf','disabled','data:image/svg+xml;base64,','Tab\x20count\x20inicializado\x20en:\x20','setCurrencyDefault','floor','fixed','Ver\x20movimientos','45x','https://apierp.dev/api/email/send/','Error:\x20','none','setUserEmail','cart_','usuario','search','state','\x20operaciones\x20restantes...','Acci√≥n\x20\x22','readonly','setCompanyDoc','setWindows','embedFont','mozCancelFullScreen','setProductos','serializeToString','Error\x20Network.','32system','currency','Bienvenido(a)\x20','focus','xtt3','setCodeBarTypeId','createObjectStore','Base\x20de\x20datos\x20abierta\x20correctamente.','webkitExitFullscreen','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','setCustomerPhone','ntf-flotante-container-bottom','mozRequestFullScreen','setCompanyPhone','products','Tab','onstatechange','getMonth','Error\x20en\x20la\x20solicitud:','ntf-flotante-top','getAll','innerHTML','height','setUserName','Enter','Backspace','animationend','msFullscreenElement','error','agosto','setItemImages','\x20‚Äì\x20','onerror','setImages','text','ntf-hidden','info','setBranchDefault','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','random','return\x20(function()\x20','setClienteNumDoc','x32','setConversionFactor','setPriceLists','setUnidadCodigo','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.1.4\x20...</span>','setFloorId','input,\x20select,\x20button,\x20a:not(.payment-option)','setObservacion','addEventListener','Inicio\x20de\x20sesi√≥n\x20exitoso\x20...','Imagen\x20inv√°lida\x20en\x20newItems[','get','keydown','Error:\x20Domain\x20not\x20registered.','https://apierp.dev/api/apiPOS/get/','getClientRects','slice','option','TEXTAREA','pop','newItems[','hidden','ntf-notification-dropdown','mimetype','setClienteDenominacion','setMessage','Error:\x20No\x20hay\x20ventanas\x20disponibles.','CL0','uy10','setId','Registrar\x20movimiento','setCodeBarTypes','json','setBatchName','diciembre','setDespacho','catch','length','embedPng','onsuccess','serviceWorker','\x0aEl\x20producto\x20\x22','resize','.payment-option','ltop','resolve','setBranchId','/wa/','requestFullscreen','body','1304992FELhPL','svg','Helvetica','setHours','application/pdf','controllerchange','flex','Products\x20Empty.','./app.js?v=4.1.4','Error\x20','stringify','Base\x20de\x20datos\x20abierta\x20correctamente\x20despu√©s\x20de\x20agregar\x20ObjectStores.','status','x64','ObjectStore\x20\x27','https://','password','setWindowId','create','setCodeBarTypeName','setShifts','id_registro','setCartTmpInitial','Ocurri√≥\x20un\x20error\x20al\x20enviar\x20el\x20correo.','setWarehouses','setUser_Local','setCustomerEmail','setCustomers','cartId','opacity','ntf-flotante-orange','value','createElementNS','Error\x20al\x20enviar\x20correo:','setCompanyNameTrade','MX20','newItems','760383VtQhBi','100%','open','includes','uy22','Error\x20desconocido.','setAttachEdit','btn-access-login','apply','ambientes','from','header','windowIds\x20previamente\x20creados:','loadingModal','then','setTaxId','all','warn','setCredentialsApiWAChatIdDefault','pos','1243003qOVEOR','Modo\x20online\x20...','Sincronizando\x20','console','\x20operaciones\x20de\x20productos...','toggle','classList','https://apierp.dev/api/company/get/','bind','textContent','setCompanyWebsite','detalleModalPay','map','trim','className','Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:','src','ntf-flotante-green','oncomplete','setMoneda','setWarehouseStockMin','\x22\x20expir√≥\x20el\x20','toDataURL','1320576ZzfdJp','installing','currency_data','reload','push','1628215CjWyQX','onload','setCredentialsApiWAChatSubdomain','navigator','put','drawText','application/json;\x20charset=utf-8','style','setSellerName','SW\x20New\x20Version','33x54xsystem','center','Products\x20Load\x20Error:','change','isArray','Company\x20Empty.','window_options_','setMtoPrecioCostoUnitario','active','.dropdown-item-pais-flag','apiERP','invoice','setWarehouseId','transaction','ntf-notifications-list','Todos\x20los\x20campos\x20son\x20obligatorios.','Delete','setDescripcion','setBranchName','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','reduce'];_0x1bba=function(){return _0x25c1cc;};return _0x1bba();}function x32bitsCompanyTkn(_0x23ec97){const _0xd70324=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x23ec97==_0xd70324;}function x64bitsparamnumber(_0x10b744,_0x2766c7){const _0x24294e=_0x2766c7;return _0x10b744==_0x24294e;}function activarRender(_0x59b5d5){const _0x36d1f8=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x59b5d5)];return _0x36d1f8['includes'](!![]);}function saveCompanyToIndexedDB(_0x52c952,_0x150517){return new Promise((_0x397688,_0x1123ef)=>{const _0x143b0e=_0x5c0d,_0x3adfcd=_0x150517[_0x143b0e(0x97)](_0x143b0e(0x10d),_0x143b0e(0x169)),_0x4d3ae0=_0x3adfcd['objectStore'](_0x143b0e(0x10d));_0x4d3ae0['clear'](),_0x52c952[_0x143b0e(0xce)](_0x3215bf=>_0x4d3ae0[_0x143b0e(0x84)](_0x3215bf)),_0x3adfcd['oncomplete']=()=>_0x397688(),_0x3adfcd[_0x143b0e(0x1ba)]=_0x548c17=>_0x1123ef(_0x548c17[_0x143b0e(0x118)][_0x143b0e(0x1b6)]);});}function loadCompanyFromIndexedDB(_0x18fa77){return new Promise((_0x45bae4,_0x4e7483)=>{const _0x49c2b3=_0x5c0d,_0x6a95e7=_0x18fa77[_0x49c2b3(0x97)]('company','readonly'),_0x34b42f=_0x6a95e7[_0x49c2b3(0xd5)]('company'),_0x197aac=_0x34b42f[_0x49c2b3(0x1ae)]();_0x197aac[_0x49c2b3(0x1eb)]=()=>_0x45bae4(_0x197aac[_0x49c2b3(0x14f)]),_0x197aac[_0x49c2b3(0x1ba)]=_0x1d8072=>_0x4e7483(_0x1d8072[_0x49c2b3(0x118)][_0x49c2b3(0x1b6)]);});}async function initializeCompany(_0x3cdf90){const _0x3fbafa=_0x330953;try{const _0x5e13bd=await loadCompanyFromIndexedDB(_0x3cdf90);company=_0x5e13bd,company['length']>0x0?(console[_0x3fbafa(0x163)](_0x3fbafa(0xac)),myCompany=company[0x0]):console[_0x3fbafa(0x163)](_0x3fbafa(0x8f));}catch(_0x4e8df7){console[_0x3fbafa(0x1b6)](_0x3fbafa(0x17d),_0x4e8df7);}}function loadProductsFromIndexedDB(_0x3c10ae){return new Promise((_0x5463c4,_0x104aa1)=>{const _0x20a8c9=_0x5c0d,_0x47aeb9=_0x3c10ae[_0x20a8c9(0x97)](_0x20a8c9(0x1a8),_0x20a8c9(0x192)),_0x95500f=_0x47aeb9[_0x20a8c9(0xd5)](_0x20a8c9(0x1a8)),_0x16631c=_0x95500f[_0x20a8c9(0x1ae)]();_0x16631c['onsuccess']=()=>_0x5463c4(_0x16631c[_0x20a8c9(0x14f)]),_0x16631c[_0x20a8c9(0x1ba)]=_0x31d835=>_0x104aa1(_0x31d835[_0x20a8c9(0x118)][_0x20a8c9(0x1b6)]);});}async function initializeProducts(_0x384843){const _0x6b87d7=_0x330953;try{const _0x3cb785=await loadProductsFromIndexedDB(_0x384843);products=_0x3cb785,products[_0x6b87d7(0x1e9)]>0x0?console[_0x6b87d7(0x163)]('Products\x20Load.'):console[_0x6b87d7(0x163)](_0x6b87d7(0x1fd));}catch(_0x1cd05d){console['error'](_0x6b87d7(0x8c),_0x1cd05d);}}async function validateAccess(_0x21a87e){const _0x3f0a34=_0x330953;await initializeCompany(_0x21a87e);if(!isLoggedIn(company))throw new Error(_0x3f0a34(0xba));if(!activarRender(company[0x0]['setEmpresaDomainWork'])){alert(_0x3f0a34(0x1d1));throw new Error(_0x3f0a34(0x1d1));}apiERPShowContent();}function initCountrySelector(_0x4a680e){const _0xafa7f1=_0x330953,_0x41a6c3=_0x4a680e[_0xafa7f1(0xfd)](_0xafa7f1(0x15e)),_0x2d5afb=_0x4a680e[_0xafa7f1(0xfd)](_0xafa7f1(0x161));let _0x467b86=_0x41a6c3[_0xafa7f1(0xc0)]['selectedCode']||'51';function _0x4240a6(){const _0x247c6d=_0xafa7f1;_0x2d5afb[_0x247c6d(0x87)][_0x247c6d(0xd3)]=_0x41a6c3[_0x247c6d(0x166)]+'px';}_0x4240a6(),window[_0xafa7f1(0x1cc)](_0xafa7f1(0x1ee),_0x4240a6),_0x41a6c3[_0xafa7f1(0x1cc)](_0xafa7f1(0xa8),function(_0xca6f8a){const _0x390b2e=_0xafa7f1;_0xca6f8a[_0x390b2e(0x148)](),_0x4240a6();const _0x415f8f=_0x2d5afb[_0x390b2e(0x87)][_0x390b2e(0xa9)]===_0x390b2e(0xa5);document[_0x390b2e(0x119)]('.dropdown-list-pais-flag')['forEach'](_0x4afc4c=>{const _0xa710cb=_0x390b2e;if(_0x4afc4c!==_0x2d5afb)_0x4afc4c[_0xa710cb(0x87)][_0xa710cb(0xa9)]=_0xa710cb(0x18a);}),_0x2d5afb[_0x390b2e(0x87)][_0x390b2e(0xa9)]=_0x415f8f?_0x390b2e(0x18a):_0x390b2e(0xa5);}),_0x2d5afb[_0xafa7f1(0x119)](_0xafa7f1(0x93))[_0xafa7f1(0xce)](_0x544ab4=>{const _0x33ae46=_0xafa7f1;_0x544ab4['addEventListener'](_0x33ae46(0xa8),function(_0x45b062){const _0x1c317e=_0x33ae46;_0x45b062[_0x1c317e(0x148)](),_0x467b86=this['dataset']['code'],_0x41a6c3[_0x1c317e(0xc0)][_0x1c317e(0xae)]=_0x467b86,_0x41a6c3[_0x1c317e(0x1af)]=this[_0x1c317e(0x1af)],_0x2d5afb[_0x1c317e(0x87)][_0x1c317e(0xa9)]=_0x1c317e(0x18a);});}),document['addEventListener']('click',function(_0x3f6a6d){const _0x20a7f5=_0xafa7f1;!_0x41a6c3['contains'](_0x3f6a6d[_0x20a7f5(0x118)])&&!_0x2d5afb['contains'](_0x3f6a6d['target'])&&(_0x2d5afb[_0x20a7f5(0x87)][_0x20a7f5(0xa9)]=_0x20a7f5(0x18a));});}function getCredentialsApiWAChat(_0x3bde7e){const _0x3dae59=_0x330953;return myCompany[_0x3dae59(0x10c)]['find'](_0x32cbc8=>_0x32cbc8['setCredentialsApiWAChatId']==_0x3bde7e)||null;}async function sendMessageApiWAChat(_0x1c7d85,_0x1813f6,_0x8e10c9,_0x192eb7,_0x1addd2,_0x39127a,_0xddee22){const _0x24e4ef=_0x330953,_0x100121=getCredentialsApiWAChat(_0x1c7d85);if(!_0x100121)return Promise[_0x24e4ef(0x103)](new Error('Credenciales\x20no\x20encontradas'));const _0xa8c825=_0x100121[_0x24e4ef(0x82)],_0x4ade0f=_0x100121[_0x24e4ef(0x16c)],_0x13f88e={'type':_0x8e10c9,'content':_0x192eb7};if(_0x1addd2)_0x13f88e['caption']=_0x1addd2;_0x39127a&&(_0x13f88e['filename']=_0x39127a);_0xddee22&&(_0x13f88e[_0x24e4ef(0x1db)]=_0xddee22);const _0x27cd1d=_0x24e4ef(0x205)+_0xa8c825+_0x24e4ef(0x1f3)+_0x4ade0f+'/send',_0x326767=await fetch(_0x27cd1d,{'method':_0x24e4ef(0x114),'headers':{'Content-Type':_0x24e4ef(0xfe),'x-auth-token':myCompany[_0x24e4ef(0x131)]},'body':JSON[_0x24e4ef(0x200)]({'to':_0x1813f6,'payload':_0x13f88e})});if(!_0x326767['ok']){const _0x412127=await _0x326767[_0x24e4ef(0x1e4)]()['catch'](()=>({}));throw new Error(_0x412127['error']||_0x24e4ef(0x1ff)+_0x326767[_0x24e4ef(0x202)]);}return _0x326767[_0x24e4ef(0x1e4)]();}async function saveCredentialsApiWAChatInCompany(){const _0x26db7d=_0x330953,_0x20348b=document['getElementById'](_0x26db7d(0x10c)),_0x1bca98=_0x20348b['value'],_0x2c26aa=getCredentialsApiWAChat(_0x1bca98);_0x2c26aa&&(myCompany['setCredentialsApiWAChatIdDefault']=_0x2c26aa[_0x26db7d(0x174)]);}async function loadCart(_0x454230){const _0x653520=_0x330953;try{const _0x50712a=await createCartStore(''),_0x41459e=[];await validateAccess(_0x50712a);const _0x45ddcd=company[0x0][_0x653520(0x20f)],_0x227e38=company[0x0]['setUsers'][_0x653520(0xfb)](_0x174907=>_0x174907[_0x653520(0x18b)]==_0x45ddcd[_0x653520(0x1b1)]),_0x111f98=company[0x0][_0x653520(0x176)],_0x15ad94=document[_0x653520(0xf7)]('setBranchId');_0x15ad94[_0x653520(0x1af)]='';if(_0x227e38&&_0x227e38[_0x653520(0x176)]){const _0x2c0909=_0x111f98[_0x653520(0xbe)](_0x23c113=>_0x227e38[_0x653520(0x176)][_0x653520(0x17a)](_0x171bd9=>_0x171bd9[_0x653520(0x1f2)]==_0x23c113[_0x653520(0x1f2)]));_0x2c0909[_0x653520(0xce)](_0x35dc55=>{const _0xed461a=_0x653520,_0x14cd4d=document['createElement'](_0xed461a(0x1d5));_0x14cd4d['value']=_0x35dc55[_0xed461a(0x1f2)],_0x14cd4d[_0xed461a(0x238)]=_0x35dc55[_0xed461a(0x9c)],_0x15ad94[_0xed461a(0x170)](_0x14cd4d);});}if(_0x454230==0x1){const _0x62d433=document[_0x653520(0xf7)]('setCajeroCodigo');_0x62d433[_0x653520(0x1af)]='';if(_0x227e38){const _0x531030=document['createElement']('option');_0x531030[_0x653520(0x215)]=_0x227e38['setUserCode'],_0x531030[_0x653520(0x238)]=_0x227e38['setUserFullName'],_0x62d433[_0x653520(0x170)](_0x531030);}const _0x1045be=Array['from'](_0x50712a[_0x653520(0x122)])[_0x653520(0xbe)](_0x5a2e91=>_0x5a2e91[_0x653520(0x10e)](_0x653520(0x90)))[_0x653520(0x23b)](_0x126b72=>{const _0x7adf82=_0x653520,_0xd2493b=_0x126b72[_0x7adf82(0x128)]('_');return _0xd2493b[_0x7adf82(0x1e9)]>=0x3?_0xd2493b[0x2]:null;})[_0x653520(0xbe)](_0xe81ae0=>_0xe81ae0!==null);console[_0x653520(0x163)](_0x653520(0x227),_0x1045be);const _0x24679c=Array[_0x653520(0x225)](_0x50712a[_0x653520(0x122)])[_0x653520(0xbe)](_0x54b8d4=>_0x54b8d4[_0x653520(0x10e)](_0x653520(0x90)))[_0x653520(0xc8)]((_0x425a12,_0x7749ab)=>{const _0x38c2da=_0x653520,_0x3576a9=parseInt(_0x425a12[_0x38c2da(0x128)]('_')[_0x38c2da(0x1d7)](),0xa),_0x3ed5de=parseInt(_0x7749ab[_0x38c2da(0x128)]('_')[_0x38c2da(0x1d7)](),0xa);return _0x3576a9-_0x3ed5de;});for(const _0x4cf484 of _0x24679c){const _0x27f0a4=_0x4cf484[_0x653520(0x128)]('_');if(_0x27f0a4[_0x653520(0x1e9)]<0x3){console['error']('Nombre\x20de\x20store\x20no\x20v√°lido:\x20'+_0x4cf484);continue;}const _0x5ab706=_0x27f0a4[0x2];if(_0x1045be[_0x653520(0x21e)](_0x5ab706)){const _0x46e408=new Promise((_0x4f0e96,_0x4ea5f8)=>{const _0x3899cf=_0x653520,_0x4fb16f=_0x50712a[_0x3899cf(0x97)]([_0x4cf484],_0x3899cf(0x192)),_0x29cf73=_0x4fb16f['objectStore'](_0x4cf484),_0x5b77dc=_0x29cf73[_0x3899cf(0x1cf)](_0x5ab706);_0x5b77dc[_0x3899cf(0x1eb)]=function(_0x5d23d5){const _0x467b6f=_0x3899cf,_0x173d2c=_0x5d23d5['target'][_0x467b6f(0x14f)];window_options[_0x5ab706]={},_0x173d2c&&(window_options[_0x5ab706]={'setTipoOperacionInvoice':_0x173d2c[_0x467b6f(0x15b)],'setTipoOperacion':_0x173d2c[_0x467b6f(0xda)],'setSerie':_0x173d2c['setSerie'],'setCorrelativo':_0x173d2c['setCorrelativo'],'setMoneda':_0x173d2c[_0x467b6f(0x242)],'setClienteTipoDoc':_0x173d2c['setClienteTipoDoc'],'setClienteNumDoc':_0x173d2c[_0x467b6f(0x1c3)],'setClienteDenominacion':_0x173d2c[_0x467b6f(0x1dc)],'setClienteDireccion':_0x173d2c[_0x467b6f(0x164)],'setCustomerPhone':_0x173d2c[_0x467b6f(0x1a4)],'setCustomerEmail':_0x173d2c[_0x467b6f(0x210)],'setFechaHora':_0x173d2c[_0x467b6f(0x14c)],'setSellerId':_0x173d2c['setSellerId'],'setSellerName':_0x173d2c[_0x467b6f(0x88)],'setDespacho':_0x173d2c[_0x467b6f(0x1e7)],'setObservacion':_0x173d2c[_0x467b6f(0x1cb)],'setDescuentoGlobal_Monto':_0x173d2c['setDescuentoGlobal_Monto'],'setAttachEdit':_0x173d2c[_0x467b6f(0x221)]},console[_0x467b6f(0x163)](_0x467b6f(0xad)+_0x5ab706+':',_0x173d2c)),Promise[_0x467b6f(0x1f1)](updateTab(_0x5ab706))['then'](_0x4f0e96)[_0x467b6f(0x1e8)](_0x2cc8f3=>{const _0x3f6508=_0x467b6f;console[_0x3f6508(0x1b6)](_0x3f6508(0xed),_0x2cc8f3),_0x4ea5f8(_0x2cc8f3);});},_0x5b77dc['onerror']=function(_0x4d8859){const _0x43eace=_0x3899cf;console['error'](_0x43eace(0xb4)+_0x5ab706+'.',_0x4d8859[_0x43eace(0x118)][_0x43eace(0x1b6)]),_0x4ea5f8(_0x4d8859[_0x43eace(0x118)][_0x43eace(0x1b6)]);};});_0x41459e[_0x653520(0x7f)](_0x46e408);}}const _0x2b630d=Array['from'](_0x50712a[_0x653520(0x122)])[_0x653520(0xbe)](_0x52bfea=>_0x52bfea[_0x653520(0x10e)](_0x653520(0x18c)))[_0x653520(0xc8)]((_0x8ba46c,_0x87fb52)=>{const _0x5b1886=_0x653520,_0x4e3bfd=parseInt(_0x8ba46c[_0x5b1886(0x128)]('_')[_0x5b1886(0x1d7)](),0xa),_0x3cf0c7=parseInt(_0x87fb52['split']('_')[_0x5b1886(0x1d7)](),0xa);return _0x4e3bfd-_0x3cf0c7;});for(const _0x496db9 of _0x2b630d){const _0x339a80=_0x496db9['split']('_')[0x1];!carts[_0x339a80]&&(carts[_0x339a80]=[]);const _0x41623f=new Promise((_0x438781,_0x2b4ee4)=>{const _0x237062=_0x653520,_0x4180b0=_0x50712a['transaction']([_0x496db9],_0x237062(0x192)),_0x1ac0da=_0x4180b0[_0x237062(0xd5)](_0x496db9),_0x5d3721=_0x1ac0da[_0x237062(0x1ae)]();_0x5d3721[_0x237062(0x1eb)]=async function(_0x1278df){const _0x34f4bd=_0x237062,_0x3e96c1=_0x1278df[_0x34f4bd(0x118)][_0x34f4bd(0x14f)];carts[_0x339a80][_0x34f4bd(0x1e9)]=0x0,_0x3e96c1[_0x34f4bd(0xce)](_0xbb0503=>carts[_0x339a80][_0x34f4bd(0x7f)](_0xbb0503));const _0x4753c3=myCompany[_0x34f4bd(0x194)][_0x34f4bd(0xfb)](_0x1d3cc0=>_0x1d3cc0[_0x34f4bd(0x207)]==_0x339a80),_0x200245=Array[_0x34f4bd(0x8e)](_0x4753c3[_0x34f4bd(0x20c)])?[..._0x4753c3[_0x34f4bd(0x20c)]]:[];if(_0x200245[_0x34f4bd(0x1e9)]>0x0){carts[_0x339a80]=_0x200245,_0x4753c3['setCartTmp']=_0x200245,_0x4753c3[_0x34f4bd(0x20c)]=[];try{const _0x4d9149=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4d9149),await saveCart(_0x339a80),console[_0x34f4bd(0x163)](_0x34f4bd(0x11c));}catch(_0x649720){console['error'](_0x34f4bd(0x23e),_0x649720);}}renderCart(_0x339a80),_0x438781();},_0x5d3721[_0x237062(0x1ba)]=function(_0x1f11bf){const _0xbaaf11=_0x237062;console['error'](_0xbaaf11(0xfa)+_0x339a80+'.',_0x1f11bf[_0xbaaf11(0x118)][_0xbaaf11(0x1b6)]),_0x2b4ee4(_0x1f11bf[_0xbaaf11(0x118)][_0xbaaf11(0x1b6)]);};});_0x41459e[_0x653520(0x7f)](_0x41623f);}}if(_0x454230==0x2||_0x454230==0x3||_0x454230==0x4){const _0x464418=document['getElementById'](_0x653520(0xc2)),_0x5e7b4b=document[_0x653520(0xf7)]('setCashierName');_0x464418[_0x653520(0x1af)]='',_0x5e7b4b[_0x653520(0x1af)]='',_0x227e38&&(_0x464418['innerHTML']=_0x653520(0x12a),_0x5e7b4b[_0x653520(0x1af)]=_0x227e38[_0x653520(0xee)]);}if(_0x454230==0x1||_0x454230==0x4){const _0x75d4d6=myCompany[_0x653520(0x10c)],_0x3aef39=document[_0x653520(0xf7)](_0x653520(0x10c));_0x3aef39[_0x653520(0x1af)]='',_0x75d4d6['forEach'](_0x25ddbf=>{const _0x34ea9d=_0x653520,_0x2c5363=document[_0x34ea9d(0x9f)](_0x34ea9d(0x1d5));_0x2c5363[_0x34ea9d(0x215)]=_0x25ddbf['setCredentialsApiWAChatId'],_0x2c5363[_0x34ea9d(0x238)]=_0x25ddbf['setCredentialsApiWAChatAlias']??_0x25ddbf[_0x34ea9d(0x16c)],_0x3aef39[_0x34ea9d(0x170)](_0x2c5363);}),myCompany?.[_0x653520(0x22d)]&&(_0x3aef39['value']=myCompany[_0x653520(0x22d)]);}return await Promise[_0x653520(0x22b)](_0x41459e),myCompany?.[_0x653520(0x1bf)]&&(document[_0x653520(0xf7)](_0x653520(0x1f2))[_0x653520(0x215)]=company[0x0]['setBranchDefault']),document['getElementById'](_0x653520(0x1f2))[_0x653520(0x109)](new Event(_0x653520(0x8d))),_0x454230==0x1&&(tabCount=getMaxWindowId(carts),console['log'](_0x653520(0x182)+tabCount)),_0x50712a;}catch(_0x7dbaec){throw _0x7dbaec;}}function loadCartAndSetTabCount(_0x3a4623){const _0x3893ba=_0x330953;loadCart(_0x3a4623)['then'](async _0x3dc2b7=>{const _0x15e5f7=_0x5c0d;await initializeProducts(_0x3dc2b7);if(_0x3a4623==0x1){if(isLoggedIn(company)){const _0x29e9ef=document[_0x15e5f7(0xf7)]('windowId')[_0x15e5f7(0x215)];parseFloat(_0x29e9ef)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0x15e5f7(0x224)),document[_0x15e5f7(0x1cc)](_0x15e5f7(0x1d0),function(_0x30ae48){const _0x531fe1=_0x15e5f7,_0x58ea99=document[_0x531fe1(0xf7)]('windowId')[_0x531fe1(0x215)],_0x3fd738=document[_0x531fe1(0xf7)]('searchInput'),_0x547620=document[_0x531fe1(0x119)]('.product[tabindex=\x270\x27]'),_0x1fe0c5=document[_0x531fe1(0xf7)]('checkout-btn-'+_0x58ea99),_0xb6ac77=document[_0x531fe1(0xf7)]('btnSaveOperacion-'+_0x58ea99),_0x3ef2de=document['getElementById'](_0x531fe1(0x23a));function _0x1816a0(_0x2df7f){const _0x28b385=_0x531fe1;return _0x2df7f&&(_0x2df7f[_0x28b385(0x166)]>0x0||_0x2df7f['offsetHeight']>0x0||_0x2df7f[_0x28b385(0x1d3)]()[_0x28b385(0x1e9)]);}let _0x8ba912=[];if(_0x3ef2de&&_0x3ef2de[_0x531fe1(0x235)][_0x531fe1(0x15c)](_0x531fe1(0x92))){const _0x5da23a=_0x3ef2de['querySelectorAll'](_0x531fe1(0x1ef));_0x5da23a[_0x531fe1(0xce)](_0x312840=>{const _0x4b4620=_0x531fe1;_0x1816a0(_0x312840)&&!_0x312840['classList'][_0x4b4620(0x15c)](_0x4b4620(0x126))&&_0x8ba912['push'](_0x312840);});const _0x17eacc=_0x3ef2de[_0x531fe1(0xfd)](_0x531fe1(0xbd)+_0x58ea99);if(_0x17eacc){const _0x57898c=_0x17eacc[_0x531fe1(0x119)](_0x531fe1(0x1ca));_0x57898c[_0x531fe1(0xce)](_0x3f4e20=>{const _0x10a9d4=_0x531fe1;_0x1816a0(_0x3f4e20)&&!_0x3f4e20[_0x10a9d4(0x235)][_0x10a9d4(0x15c)](_0x10a9d4(0x126))&&_0x8ba912['push'](_0x3f4e20);});}_0xb6ac77&&_0x1816a0(_0xb6ac77)&&!_0xb6ac77['classList']['contains']('d-none')&&(!_0x8ba912[_0x531fe1(0x21e)](_0xb6ac77)&&_0x8ba912[_0x531fe1(0x7f)](_0xb6ac77));}else{_0x8ba912=[_0x3fd738,..._0x547620];if(_0x1fe0c5)_0x8ba912[_0x531fe1(0x7f)](_0x1fe0c5);}const _0x26f622=document['activeElement'],_0x31f4f9=_0x26f622&&(_0x26f622[_0x531fe1(0xa6)]=='INPUT'||_0x26f622[_0x531fe1(0xa6)]==_0x531fe1(0x1d6));if(_0x3ef2de&&_0x3ef2de[_0x531fe1(0x235)][_0x531fe1(0x15c)]('active')&&_0x30ae48[_0x531fe1(0x13f)]==_0x531fe1(0x1b2)){if(_0x26f622&&_0x26f622[_0x531fe1(0x235)][_0x531fe1(0x15c)](_0x531fe1(0x10b))){_0x30ae48['preventDefault'](),_0x26f622[_0x531fe1(0xa8)]();return;}}if(_0x3ef2de&&_0x3ef2de[_0x531fe1(0x235)][_0x531fe1(0x15c)](_0x531fe1(0x92))&&_0x30ae48[_0x531fe1(0x13f)]==_0x531fe1(0x1a9)&&!_0x3ef2de['contains'](_0x26f622)){_0x30ae48[_0x531fe1(0x121)]();_0x8ba912[_0x531fe1(0x1e9)]>0x0&&_0x8ba912[0x0][_0x531fe1(0x19d)]();return;}if(_0x30ae48[_0x531fe1(0x13f)]==_0x531fe1(0x1a9)){_0x30ae48[_0x531fe1(0x121)]();if(_0x8ba912['length']==0x0)return;let _0x57ec97=_0x8ba912[_0x531fe1(0x17f)](_0x26f622);if(_0x57ec97==-0x1)_0x57ec97=-0x1;let _0xf94213;_0x30ae48['shiftKey']?_0xf94213=_0x57ec97<=0x0?_0x8ba912[_0x531fe1(0x1e9)]-0x1:_0x57ec97-0x1:_0xf94213=_0x57ec97==_0x8ba912[_0x531fe1(0x1e9)]-0x1?0x0:_0x57ec97+0x1;_0x8ba912[_0xf94213]['focus']();return;}(!_0x3ef2de||!_0x3ef2de[_0x531fe1(0x235)][_0x531fe1(0x15c)]('active'))&&!_0x31f4f9&&(_0x30ae48[_0x531fe1(0x13f)][_0x531fe1(0x1e9)]==0x1||_0x30ae48[_0x531fe1(0x13f)]=='Backspace'||_0x30ae48[_0x531fe1(0x13f)]=='Delete')&&(_0x30ae48['preventDefault'](),_0x3fd738[_0x531fe1(0x19d)](),_0x30ae48[_0x531fe1(0x13f)]==_0x531fe1(0x1b3)||_0x30ae48[_0x531fe1(0x13f)]==_0x531fe1(0x9a)?_0x3fd738[_0x531fe1(0x215)]=_0x3fd738[_0x531fe1(0x215)][_0x531fe1(0x1d4)](0x0,-0x1):!_0x3fd738['value']?_0x3fd738['value']=_0x30ae48[_0x531fe1(0x13f)]:_0x3fd738['value']+=_0x30ae48[_0x531fe1(0x13f)]);}),loadTaxData(),resetNewItemForm();}_0x3a4623==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x3a4623==0x3){const _0x3df4a6=document[_0x15e5f7(0xf7)]('setBranchId')['value'];fil_BranchesId[_0x15e5f7(0x7f)](_0x3df4a6),updateDateRange('day');}_0x3a4623==0x4&&init();})[_0x3893ba(0x1e8)](_0x291821=>{const _0x5f59c9=_0x3893ba;console[_0x5f59c9(0x1b6)](_0x291821);})[_0x3893ba(0xa4)](()=>{const _0x55398b=_0x3893ba;_0x3a4623==0x1&&updateInternetIcon();let _0x17446c;(_0x3a4623==0x1||_0x3a4623==0x2||_0x3a4623==0x3||_0x3a4623==0x4)&&(_0x17446c=_0x55398b(0x1fe)),registerServiceWorker(_0x17446c,_0x3a4623);});}