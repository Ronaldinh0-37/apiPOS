/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.8
*/

const _0x122a75=_0x227a;(function(_0x39fabc,_0xc91e5){const _0xe8a6d0=_0x227a,_0x46ed43=_0x39fabc();while(!![]){try{const _0x435c77=-parseInt(_0xe8a6d0(0x1c8))/0x1*(-parseInt(_0xe8a6d0(0x19d))/0x2)+parseInt(_0xe8a6d0(0x185))/0x3*(-parseInt(_0xe8a6d0(0x1ab))/0x4)+-parseInt(_0xe8a6d0(0x21f))/0x5+parseInt(_0xe8a6d0(0x1a5))/0x6*(-parseInt(_0xe8a6d0(0x196))/0x7)+-parseInt(_0xe8a6d0(0x211))/0x8*(-parseInt(_0xe8a6d0(0x1bc))/0x9)+parseInt(_0xe8a6d0(0x197))/0xa*(-parseInt(_0xe8a6d0(0x1c1))/0xb)+parseInt(_0xe8a6d0(0x1e0))/0xc;if(_0x435c77===_0xc91e5)break;else _0x46ed43['push'](_0x46ed43['shift']());}catch(_0x35f467){_0x46ed43['push'](_0x46ed43['shift']());}}}(_0x154a,0x1a82a));const _0x568ad7=(function(){let _0x380ffc=!![];return function(_0x25fae7,_0x1800c0){const _0x3e156f=_0x380ffc?function(){const _0x2a3ae9=_0x227a;if(_0x1800c0){const _0x2bc06f=_0x1800c0[_0x2a3ae9(0x1e2)](_0x25fae7,arguments);return _0x1800c0=null,_0x2bc06f;}}:function(){};return _0x380ffc=![],_0x3e156f;};}()),_0x47da63=_0x568ad7(this,function(){const _0x455fd0=_0x227a;return _0x47da63[_0x455fd0(0x1a3)]()[_0x455fd0(0x1f4)](_0x455fd0(0x192))[_0x455fd0(0x1a3)]()[_0x455fd0(0x178)](_0x47da63)['search'](_0x455fd0(0x192));});_0x47da63();const _0x2b2fd4=(function(){let _0x464f4e=!![];return function(_0xb37832,_0xed1c89){const _0x87031a=_0x464f4e?function(){if(_0xed1c89){const _0x392fa4=_0xed1c89['apply'](_0xb37832,arguments);return _0xed1c89=null,_0x392fa4;}}:function(){};return _0x464f4e=![],_0x87031a;};}()),_0x1098ba=_0x2b2fd4(this,function(){const _0x3bca75=_0x227a;let _0x10dcad;try{const _0x4b48a3=Function(_0x3bca75(0x1b1)+_0x3bca75(0x176)+');');_0x10dcad=_0x4b48a3();}catch(_0x7a59bd){_0x10dcad=window;}const _0x57f7dd=_0x10dcad['console']=_0x10dcad[_0x3bca75(0x1ca)]||{},_0x1147e7=[_0x3bca75(0x1d5),'warn',_0x3bca75(0x1f7),_0x3bca75(0x1d8),_0x3bca75(0x1b2),'table','trace'];for(let _0x32c4bf=0x0;_0x32c4bf<_0x1147e7[_0x3bca75(0x1eb)];_0x32c4bf++){const _0x3ae5fc=_0x2b2fd4['constructor'][_0x3bca75(0x1c5)][_0x3bca75(0x1d4)](_0x2b2fd4),_0x3e1f94=_0x1147e7[_0x32c4bf],_0x25410f=_0x57f7dd[_0x3e1f94]||_0x3ae5fc;_0x3ae5fc['__proto__']=_0x2b2fd4[_0x3bca75(0x1d4)](_0x2b2fd4),_0x3ae5fc[_0x3bca75(0x1a3)]=_0x25410f[_0x3bca75(0x1a3)]['bind'](_0x25410f),_0x57f7dd[_0x3e1f94]=_0x3ae5fc;}});_0x1098ba();const fil_init_dates=document[_0x122a75(0x212)](_0x122a75(0x1e8)),label=document['getElementById']('date-range-label'),options=document[_0x122a75(0x212)](_0x122a75(0x21c));document[_0x122a75(0x212)](_0x122a75(0x18a))[_0x122a75(0x1f6)]('click',_0x50a334=>{showModalOptions();});function showModalOptions(){const _0x32648b=_0x122a75,_0x2a4422=document[_0x32648b(0x212)]('detalleModalOptions'),_0xbd9eb9=document[_0x32648b(0x212)](_0x32648b(0x1df));_0x2a4422[_0x32648b(0x1d2)]['add'](_0x32648b(0x1f8)),_0xbd9eb9[_0x32648b(0x20b)][_0x32648b(0x219)]='block';}function hideModalOptions(){const _0x320594=_0x122a75,_0xe51bad=document[_0x320594(0x212)](_0x320594(0x20f)),_0x716d18=document[_0x320594(0x212)](_0x320594(0x1df));_0xe51bad['classList'][_0x320594(0x1e9)](_0x320594(0x1f8)),_0x716d18[_0x320594(0x20b)][_0x320594(0x219)]=_0x320594(0x1b7);}document[_0x122a75(0x212)](_0x122a75(0x186))['addEventListener'](_0x122a75(0x203),hideModalOptions),document[_0x122a75(0x212)](_0x122a75(0x1df))[_0x122a75(0x1f6)](_0x122a75(0x203),_0x3d7a8c=>{const _0x52625d=_0x122a75;_0x3d7a8c[_0x52625d(0x215)]==_0x3d7a8c[_0x52625d(0x193)]&&_0x3d7a8c[_0x52625d(0x1c6)]();});function fill_initMultiSelect({containerSelector:_0x1dd784,dataSource:_0x136cea,mapItem:_0xbaead4,filterArray:_0x405fa3}){const _0x30c5cd=_0x122a75,_0x139043=document[_0x30c5cd(0x1ed)](_0x1dd784),_0x23e1a6=_0x139043['querySelector']('.fill_ms-input'),_0x59bb5e=_0x139043[_0x30c5cd(0x1ed)]('.fill_ms-suggestions'),_0x4d54d5=_0x139043[_0x30c5cd(0x1ed)](_0x30c5cd(0x204));function _0xaad2f8(){const _0x367578=_0x30c5cd,_0x512e00=_0x23e1a6[_0x367578(0x17e)]['trim']()[_0x367578(0x1f5)]();_0x59bb5e['innerHTML']='';if(!_0x512e00)return;const _0x24bdec=_0x136cea[_0x367578(0x1fb)](_0x2d091a=>{const _0x42d7db=_0x367578,{id:_0x3462ed,text:_0x4f492f}=_0xbaead4(_0x2d091a);return _0x4f492f[_0x42d7db(0x1f5)]()[_0x42d7db(0x191)](_0x512e00)&&!_0x405fa3['includes'](_0x3462ed);})[_0x367578(0x19b)](0x0,0xa);_0x24bdec['forEach'](_0x127f31=>{const _0x500082=_0x367578,{id:_0x33426b,text:_0x3d3fcb}=_0xbaead4(_0x127f31),_0x3500e7=document[_0x500082(0x1f1)]('li');_0x3500e7[_0x500082(0x19a)]=_0x3d3fcb,_0x3500e7['dataset']['id']=_0x33426b,_0x59bb5e[_0x500082(0x1a4)](_0x3500e7);});}function _0x11b57d(_0x3751ae,_0x4042f8){const _0x2976fc=_0x30c5cd;_0x405fa3['push'](_0x3751ae);const _0x144022=document[_0x2976fc(0x1f1)]('span');_0x144022[_0x2976fc(0x20c)]=_0x2976fc(0x21a),_0x144022[_0x2976fc(0x19f)]=_0x4042f8+_0x2976fc(0x20e)+_0x3751ae+_0x2976fc(0x21b),_0x4d54d5['appendChild'](_0x144022);}_0x59bb5e[_0x30c5cd(0x1f6)]('mousedown',_0x2b574c=>{const _0x5d9d44=_0x30c5cd;if(_0x2b574c[_0x5d9d44(0x215)][_0x5d9d44(0x1c0)]!=='LI')return;const _0x543173=Number(_0x2b574c[_0x5d9d44(0x215)][_0x5d9d44(0x1ce)]['id']),_0x3d0dae=_0x2b574c[_0x5d9d44(0x215)][_0x5d9d44(0x19a)];_0x11b57d(_0x543173,_0x3d0dae),_0x23e1a6[_0x5d9d44(0x17e)]='',_0x59bb5e[_0x5d9d44(0x19f)]='',_0x2b574c['preventDefault']();}),_0x4d54d5['addEventListener'](_0x30c5cd(0x203),_0x2a1b28=>{const _0x17525d=_0x30c5cd;if(!_0x2a1b28[_0x17525d(0x215)][_0x17525d(0x1d2)][_0x17525d(0x218)]('fill_remove-tag'))return;const _0x15c56f=parseInt(_0x2a1b28[_0x17525d(0x215)]['dataset']['id'],0xa),_0x51bc40=_0x405fa3['indexOf'](_0x15c56f);if(_0x51bc40>-0x1)_0x405fa3[_0x17525d(0x205)](_0x51bc40,0x1);_0x2a1b28['target'][_0x17525d(0x18b)][_0x17525d(0x1e9)]();}),_0x23e1a6[_0x30c5cd(0x1f6)]('input',_0xaad2f8),_0x23e1a6['addEventListener'](_0x30c5cd(0x1ac),()=>{setTimeout(()=>{const _0x474179=_0x227a;!_0x139043[_0x474179(0x218)](document[_0x474179(0x221)])&&(_0x59bb5e[_0x474179(0x19f)]='');},0x64);});}function _0x154a(){const _0x588604=['Modo\x20de\x20exportación\x20desconocido:','readAsDataURL','createElement','getMonth','createObjectURL','search','toLowerCase','addEventListener','info','active','luispurizaca.1908@gmail.com','setPorcentajeDesc','filter','setMtoValorUnitario_input','\x2023:59:59','toTimeString','1.5','setMtoPrecioUnitario','revokeObjectURL','toISOString','click','.fill_ms-selected-tags','splice','WarehouseChangeComplete','Error\x20WA:','month','Error\x20al\x20exportar.','dispatchEvent','style','className','setOperationDateTime','\x20<span\x20class=\x22fill_remove-tag\x22\x20data-id=\x22','detalleModalOptions','setMtoValorCostoUnitario_input','40QEgzjt','getElementById','setAccountingAccountCode','setOperationCurrency','target','setIdProducto','cartId','contains','display','fill_ms-tag','\x22>&times;</span>','date-range-options','51954738620','setInventariable','287855eIIZYX','setTotalImpuestos','activeElement','smtp.miempresa.com','\x20-\x20','document','Mi\x20Empresa','Invalid\x20range\x20type','exportReport','{}.constructor(\x22return\x20this\x22)(\x20)','onmessage','constructor','result','setDescuento','isArray','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','setTaxId','value','exportDone','setDescripcion','setTotal','\x20al\x20','href','setUnidad','82047SlrtYz','closeModalOptions','Error\x20al\x20enviar\x20por\x20WhatsApp.','OperationsType:','setItemFree','btn-filter-modal','parentElement','filter-start','Reporte\x20','no-reply@miempresa.com','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','setIgv','includes','(((.+)+)+)+$','currentTarget','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','Export\x20WK\x20Error:','12411FUvMct','10xjSdYu','setBranchDefault','setMtoPrecioCostoUnitario_input','textContent','slice','setNotas','2HJJjZk','btnExport','innerHTML','setAccountingAccountType','PLE_Ventas','BranchChangeComplete','toString','appendChild','330AKEEYh','then','.btn-logout','split','./js/apierp_export_wk.min.js','EnvironmentChangeComplete','4RFHDSo','blur','setCantidad','\x20no\x20encontrada.','setMtoValorUnitario_final','Error\x20generando\x20PDF:','return\x20(function()\x20','exception','Operación\x20con\x20ID\x20','getMinutes','.xlsx','setMtoValorVenta','none','setFloorId','push','pdfCanvas','download','83214rimhbq','application/octet-stream','getAttribute','./img/apiPOS.png','tagName','684266yrtLkA','getDay','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','setWarehouseId','prototype','stopPropagation','setCodProducto','171515nuEdcZ','setMarca','console','Selecciona\x20ambas\x20fechas','catch','setAccountingAccountName','dataset','setOrderId','map','change','classList','padStart','bind','log','day','getDate','error','email','getFullYear','year','data-value','filtrar','setMtoBaseIgv','modalOverlayOptions','1625784WSOrFH','setItemDescription','apply','both','YOUR_WA_CRED_ID','YOUR_EMAIL_AUTH_TOKEN','setChecked','onload','date-range-label-icon','remove','setBranchId','length','setMtoValorUnitario','querySelector','CustomersId:'];_0x154a=function(){return _0x588604;};return _0x154a();}document[_0x122a75(0x212)]('fill-apply-filter')['addEventListener'](_0x122a75(0x203),async()=>{const _0x42d790=_0x122a75,_0x46c77d=document[_0x42d790(0x212)](_0x42d790(0x18c))['value'],_0x5d7587=document[_0x42d790(0x212)]('filter-end')[_0x42d790(0x17e)];if(!_0x46c77d||!_0x5d7587)return alert(_0x42d790(0x1cb));hideModalOptions(),fil_date_start=_0x46c77d+'\x2000:00:00',fil_date_end=_0x5d7587+_0x42d790(0x1fd),console[_0x42d790(0x1d5)](_0x42d790(0x1ee),fil_CustomersId),console[_0x42d790(0x1d5)](_0x42d790(0x188),fil_OperationsType),console[_0x42d790(0x1d5)]('BranchesId:',fil_BranchesId),consultIncomeReport();}),label['addEventListener']('click',()=>{const _0x11fd59=_0x122a75;options['style'][_0x11fd59(0x219)]=options[_0x11fd59(0x20b)][_0x11fd59(0x219)]==='none'?'block':_0x11fd59(0x1b7);}),options[_0x122a75(0x1f6)](_0x122a75(0x203),_0x115907=>{const _0x2d6484=_0x122a75;if(_0x115907['target']&&_0x115907[_0x2d6484(0x215)][_0x2d6484(0x1c0)]==='LI'){const _0x43f4e7=_0x115907[_0x2d6484(0x215)][_0x2d6484(0x1be)](_0x2d6484(0x1dc));updateDateRange(_0x43f4e7),options[_0x2d6484(0x20b)][_0x2d6484(0x219)]=_0x2d6484(0x1b7);}}),document[_0x122a75(0x1f6)](_0x122a75(0x203),_0x9d9f93=>{const _0x4035a8=_0x122a75;!label['contains'](_0x9d9f93['target'])&&!options[_0x4035a8(0x218)](_0x9d9f93['target'])&&(options[_0x4035a8(0x20b)][_0x4035a8(0x219)]='none');});function _0x227a(_0x4f455b,_0x3ae559){const _0x6b7d81=_0x154a();return _0x227a=function(_0x1098ba,_0x2b2fd4){_0x1098ba=_0x1098ba-0x173;let _0x9b0941=_0x6b7d81[_0x1098ba];return _0x9b0941;},_0x227a(_0x4f455b,_0x3ae559);}function formatDateToYmdHis(_0x3b9433){const _0x6052a7=_0x122a75,_0x72eaf8=_0x3b9433[_0x6052a7(0x1da)](),_0x4a289d=String(_0x3b9433[_0x6052a7(0x1f2)]()+0x1)['padStart'](0x2,'0'),_0x38d384=String(_0x3b9433[_0x6052a7(0x1d7)]())['padStart'](0x2,'0'),_0x54957b=String(_0x3b9433['getHours']())[_0x6052a7(0x1d3)](0x2,'0'),_0x568993=String(_0x3b9433[_0x6052a7(0x1b4)]())[_0x6052a7(0x1d3)](0x2,'0'),_0x5916fd=String(_0x3b9433['getSeconds']())[_0x6052a7(0x1d3)](0x2,'0');return _0x72eaf8+'-'+_0x4a289d+'-'+_0x38d384+'\x20'+_0x54957b+':'+_0x568993+':'+_0x5916fd;}function getDateRange(_0x1d9f49){const _0x4893f0=_0x122a75,_0x3cc3fc=new Date();let _0x151041,_0x3032b4;switch(_0x1d9f49){case _0x4893f0(0x1d6):_0x151041=new Date(_0x3cc3fc['getFullYear'](),_0x3cc3fc[_0x4893f0(0x1f2)](),_0x3cc3fc[_0x4893f0(0x1d7)](),0x0,0x0,0x0),_0x3032b4=new Date(_0x3cc3fc[_0x4893f0(0x1da)](),_0x3cc3fc[_0x4893f0(0x1f2)](),_0x3cc3fc[_0x4893f0(0x1d7)](),0x17,0x3b,0x3b),label[_0x4893f0(0x19f)]='del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case'week':const _0x3ea038=_0x3cc3fc[_0x4893f0(0x1c2)](),_0x47ae59=new Date(_0x3cc3fc);_0x47ae59['setDate'](_0x3cc3fc[_0x4893f0(0x1d7)]()-_0x3ea038+(_0x3ea038===0x0?-0x6:0x1));const _0x25c402=new Date(_0x47ae59);_0x25c402['setDate'](_0x47ae59[_0x4893f0(0x1d7)]()+0x6),_0x151041=new Date(_0x47ae59[_0x4893f0(0x1da)](),_0x47ae59[_0x4893f0(0x1f2)](),_0x47ae59[_0x4893f0(0x1d7)](),0x0,0x0,0x0),_0x3032b4=new Date(_0x25c402[_0x4893f0(0x1da)](),_0x25c402[_0x4893f0(0x1f2)](),_0x25c402[_0x4893f0(0x1d7)](),0x17,0x3b,0x3b),label['innerHTML']=_0x4893f0(0x194);break;case _0x4893f0(0x208):_0x151041=new Date(_0x3cc3fc['getFullYear'](),_0x3cc3fc[_0x4893f0(0x1f2)](),0x1,0x0,0x0,0x0),_0x3032b4=new Date(_0x3cc3fc[_0x4893f0(0x1da)](),_0x3cc3fc[_0x4893f0(0x1f2)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0x4893f0(0x19f)]='del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0x4893f0(0x1db):_0x151041=new Date(_0x3cc3fc[_0x4893f0(0x1da)](),0x0,0x1,0x0,0x0,0x0),_0x3032b4=new Date(_0x3cc3fc[_0x4893f0(0x1da)](),0xb,0x1f,0x17,0x3b,0x3b),label[_0x4893f0(0x19f)]=_0x4893f0(0x18f);break;default:label[_0x4893f0(0x19f)]='';throw new Error(_0x4893f0(0x174));}return{'startDateFormatted':formatDateToYmdHis(_0x151041),'endDateFormatted':formatDateToYmdHis(_0x3032b4)};}function updateDateRange(_0xa93aad=_0x122a75(0x1d6)){const _0x4791c4=_0x122a75;if(_0xa93aad==_0x4791c4(0x1dd)){}else{const {startDateFormatted:_0x3d4cd0,endDateFormatted:_0x267bdb}=getDateRange(_0xa93aad);fil_date_start=_0x3d4cd0,fil_date_end=_0x267bdb,consultIncomeReport();}}async function setOptionsReport(_0x47e868){const _0x43d4ed=_0x122a75,_0xa1097e=arrayIncomes['find'](_0x1777ba=>_0x1777ba['setOperationId']==_0x47e868);if(!_0xa1097e){console[_0x43d4ed(0x1d8)](_0x43d4ed(0x1b3)+_0x47e868+_0x43d4ed(0x1ae));return;}const [_0x369b62]=buildIncomePayloads([_0xa1097e]);console[_0x43d4ed(0x1d5)](_0x369b62);try{const {pdfBlob:_0x3f4961,pdfName:_0x26df98}=await generatePdf(_0x369b62,'tk',_0x43d4ed(0x1ba),_0x43d4ed(0x1ff)),_0x9c15dc=0x1;setLastOperationGlobalData(_0x9c15dc,{'pdfGlobalPayload':_0x369b62,'pdfGlobalBlob':_0x3f4961,'pdfGlobalName':_0x26df98}),showModal();}catch(_0x388ab7){console['error'](_0x43d4ed(0x1b0),_0x388ab7);}}function buildIncomePayloads(_0x43b3ac){const _0xb1e997=_0x122a75;return _0x43b3ac[_0xb1e997(0x1d0)](_0x2960cf=>{const _0x589556=_0xb1e997,{setOperationId:_0x42e714,setOperationDateTime:_0xa096ba,setOperationType:_0x59e8bd,setOperationSeries:_0x5c642e,setOperationTotal:_0x2a3aec,setOperationCurrency:_0x44e7d3,setOperationCustomerName:_0x1fc907,setOperationPaymentStatusName:_0x225742,setOperationPaymentStatusColor:_0x361506,setOperationItems:setOperationItems=[]}=_0x2960cf,_0x443144=new Date(_0xa096ba),_0x5bea25=_0x443144[_0x589556(0x202)]()[_0x589556(0x1a8)]('T')[0x0],_0x192990=_0x443144[_0x589556(0x1fe)]()[_0x589556(0x1a8)]('\x20')[0x0],[_0x4d56cd,_0x378d9d]=(_0x5c642e||'')[_0x589556(0x1a8)]('-'),_0x5600fb=Number(_0x378d9d)||0x0,_0x35e03e=setOperationItems['map'](_0x49d19d=>({'cartId':_0x49d19d[_0x589556(0x217)]||'','id':_0x49d19d['id']||0x0,'setAccountingAccountCode':_0x49d19d[_0x589556(0x213)]||'','setAccountingAccountId':_0x49d19d['setAccountingAccountId']||0x0,'setAccountingAccountName':_0x49d19d[_0x589556(0x1cd)]||'','setAccountingAccountType':_0x49d19d[_0x589556(0x1a0)]||0x0,'setCantidad':_0x49d19d[_0x589556(0x1ad)]||0x0,'setChecked':_0x49d19d[_0x589556(0x1e6)]||0x0,'setCodProducto':_0x49d19d[_0x589556(0x1c7)]||'','setDescripcion':_0x49d19d[_0x589556(0x180)]||'','setDescuento':{'setCodTipo':_0x49d19d['setDescuento']&&_0x49d19d[_0x589556(0x17a)]['setCodTipo']||'','setPorcentajeDesc':_0x49d19d[_0x589556(0x17a)]&&_0x49d19d['setDescuento'][_0x589556(0x1fa)]||0x0},'setIdProducto':_0x49d19d[_0x589556(0x216)]||0x0,'setIgv':_0x49d19d[_0x589556(0x190)]||0x0,'setInventariable':_0x49d19d[_0x589556(0x21e)]||0x0,'setItemDescription':_0x49d19d[_0x589556(0x1e1)]||'','setItemFree':_0x49d19d[_0x589556(0x189)]||0x0,'setMarca':_0x49d19d[_0x589556(0x1c9)]||'','setMtoBaseIgv':_0x49d19d[_0x589556(0x1de)]||0x0,'setMtoPrecioCostoUnitario_input':_0x49d19d[_0x589556(0x199)]||0x0,'setMtoPrecioUnitario':_0x49d19d[_0x589556(0x200)]||0x0,'setMtoPrecioUnitario_final':_0x49d19d['setMtoPrecioUnitario_final']||0x0,'setMtoPrecioUnitario_input':_0x49d19d['setMtoPrecioUnitario_input']||'','setMtoValorCostoUnitario_input':_0x49d19d[_0x589556(0x210)]||0x0,'setMtoValorGratuito':_0x49d19d['setMtoValorGratuito']||0x0,'setMtoValorUnitario':_0x49d19d[_0x589556(0x1ec)]||0x0,'setMtoValorUnitario_final':_0x49d19d[_0x589556(0x1af)]||0x0,'setMtoValorUnitario_input':_0x49d19d[_0x589556(0x1fc)]||'','setMtoValorVenta':_0x49d19d[_0x589556(0x1b6)]||0x0,'setNotas':_0x49d19d[_0x589556(0x19c)]||'','setOrderId':_0x49d19d[_0x589556(0x1cf)]||'','setPorcentajeIgv':_0x49d19d['setPorcentajeIgv']||0x0,'setTaxId':_0x49d19d[_0x589556(0x17d)]||0x0,'setTipAfeIgv':_0x49d19d['setTipAfeIgv']||'','setTotal':_0x49d19d[_0x589556(0x181)]||0x0,'setTotalImpuestos':_0x49d19d[_0x589556(0x220)]||0x0,'setUnidad':_0x49d19d[_0x589556(0x184)]||'','setVisible':_0x49d19d['setVisible']||0x0,'setWindowShiftId':_0x49d19d['setWindowShiftId']||''}));return{'apiPOSsendOffline':0x0,'id':_0x42e714,'setAttachEdit':'1','setBranchAddress':'','setCashierId':'','setCashierName':'','setClientSupplierDistrict':'','setClienteDenominacion':_0x1fc907||'','setClienteDireccion':'','setClienteNumDoc':'','setClienteTipoDoc':'','setSerie':_0x4d56cd||'','setCorrelativo':_0x5600fb,'setCurrencyName':_0x44e7d3||'','setCurrencySymbol':'','setCustomerEmail':'','setCustomerPhone':'','setDescuentoGlobal_Monto':'','setDespacho':'','setDetraccion':'','setDetraccionCodigo':'','setDetraccionCodigoName':'','setDetraccionPorcentaje':'','setDetraccionTotal':'','setDocumentType':_0x59e8bd||'','setEnvironmentName':'','setFechaHora':_0x5bea25+'T'+_0x192990,'setFechaHoraReadonly':'','setIdOperation':'','setLastFechaHora':new Date(),'setMedioPago':{'contado':{'data':{},'status':![]},'credito':{'data':null,'status':![]},'mixto':{'data':null,'status':![]}},'setMoneda':_0x44e7d3||'','setMtoDescItems':0x0,'setMtoDescItems_precio':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setMtoImpVenta':_0x2a3aec||0x0,'setMtoOperExoneradas':0x0,'setMtoOperGratuitas':0x0,'setMtoOperGravadas':0x0,'setMtoOperInafectas':0x0,'setObservacion':'','setOperationDateExpiration':'','setOperationDateTransfer':'','setOperationDriverCertificate':'','setOperationDriverDocNumber':'','setOperationDriverDocType':'','setOperationDriverId':'','setOperationDriverLicense':'','setOperationDriverName':'','setOperationMaintenanceNextDate':'','setOperationMileage':'','setOperationOrderType':'','setOperationPlaceArrivalAddress':'','setOperationPlaceArrivalCode':'','setOperationPlaceArrivalDistrict':'','setOperationPlaceArrivalId':'','setOperationPlaceStartAddress':'','setOperationPlaceStartCode':'','setOperationPlaceStartDistrict':'','setOperationPlaceStartId':'','setOperationTransferReason':'','setOperationTransportationMode':'','setOperationVehicleBrand':'','setOperationVehicleId':'','setOperationVehicleName':'','setOperationVehiclePlate':'','setPercepcion':'','setPercepcionPorcentaje':'','setPercepcionTotal':'','setProductos':_0x35e03e,'setRetencion':'','setRetencionPorcentaje':'','setRetencionTotal':'','setSellerId':'','setSellerName':'','setShiftId':'','setSubTotal':0x0,'setSucursalCodigo':'','setSucursalNombre':'','setTipoOperacion':'2','setTipoOperacionInvoice':'1','setToken':'','setTotalImpuestos':0x0,'setValorVenta':0x0,'setWarehouseId':'','setWarehouseName':'','setWebhook':'','setWindowName':'','setWindowShiftId':'','setWindowType':'','windowId':'1'};});}let currentExportMode=_0x122a75(0x1bb);const WA_CRED_ID=_0x122a75(0x1e4),WA_DEST_NUMBER=_0x122a75(0x21d),EMAIL_AUTH_TOKEN=_0x122a75(0x1e5),EMAIL_SENDER_NAME=_0x122a75(0x173),EMAIL_SENDER_ADDR=_0x122a75(0x18e),EMAIL_SENDER_PASS='PASSWORD123',EMAIL_SMTP_HOST=_0x122a75(0x222),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=[_0x122a75(0x1f9)],reportWorker=new Worker(_0x122a75(0x1a9));reportWorker[_0x122a75(0x177)]=({data:_0x20ec4a})=>{const _0x20316b=_0x122a75,{type:_0x1633af,payload:_0x109987,reportType:_0x2e3069}=_0x20ec4a;if(_0x1633af===_0x20316b(0x17f)){const _0x557796=new Blob([_0x109987],{'type':_0x20316b(0x1bd)}),_0x30f41b=new Date()[_0x20316b(0x202)]()['slice'](0x0,0xa),_0x5c09b2=_0x2e3069+'_'+_0x30f41b+_0x20316b(0x1b5),_0x3dab92=_0x5d34be=>new Promise((_0x2faaba,_0x423e42)=>{const _0x59d681=_0x20316b,_0x407007=new FileReader();_0x407007['onerror']=()=>_0x423e42(_0x407007[_0x59d681(0x1d8)]),_0x407007[_0x59d681(0x1e7)]=()=>_0x2faaba(_0x407007[_0x59d681(0x179)]['split'](',')[0x1]),_0x407007[_0x59d681(0x1f0)](_0x5d34be);});switch(currentExportMode){case'download':{const _0x20e2c0=URL[_0x20316b(0x1f3)](_0x557796),_0x31c74e=document[_0x20316b(0x1f1)]('a');_0x31c74e[_0x20316b(0x183)]=_0x20e2c0,_0x31c74e['download']=_0x5c09b2,_0x31c74e[_0x20316b(0x203)](),URL[_0x20316b(0x201)](_0x20e2c0);}break;case'whatsapp':{_0x3dab92(_0x557796)['then'](_0xe235f2=>{const _0x344183=_0x20316b;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x344183(0x224),_0xe235f2,_0x344183(0x18d)+_0x2e3069+'\x20al\x20'+_0x30f41b,_0x5c09b2,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')[_0x344183(0x1cc)](_0x258bf6=>{const _0x4e611c=_0x344183;console[_0x4e611c(0x1d8)]('Error\x20WA:',_0x258bf6),ntfShow(_0x4e611c(0x187));});});}break;case _0x20316b(0x1d9):{_0x3dab92(_0x557796)[_0x20316b(0x1a6)](_0x33a6cc=>{const _0x51b00a=_0x20316b;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,'Reporte\x20'+_0x2e3069+'\x20-\x20'+_0x30f41b,_0x51b00a(0x1c3),[{'filename':_0x5c09b2,'content':_0x33a6cc,'mimetype':_0x51b00a(0x17c)}]);});}break;case _0x20316b(0x1e3):{_0x3dab92(_0x557796)[_0x20316b(0x1a6)](_0x7b4d10=>{const _0xf94080=_0x20316b;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,'document',_0x7b4d10,'Reporte\x20'+_0x2e3069+_0xf94080(0x182)+_0x30f41b,_0x5c09b2,_0xf94080(0x17c))[_0xf94080(0x1cc)](_0x4ecb77=>console[_0xf94080(0x1d8)](_0xf94080(0x207),_0x4ecb77)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0xf94080(0x18d)+_0x2e3069+_0xf94080(0x223)+_0x30f41b,_0xf94080(0x1c3),[{'filename':_0x5c09b2,'content':_0x7b4d10,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;default:console[_0x20316b(0x1d8)](_0x20316b(0x1ef),currentExportMode);}}_0x1633af===_0x20316b(0x1d8)&&(console[_0x20316b(0x1d8)](_0x20316b(0x195),_0x109987),ntfShow(_0x20316b(0x209)));},document[_0x122a75(0x212)](_0x122a75(0x19e))[_0x122a75(0x1f6)]('click',()=>{onClickExport('download');});function onClickExport(_0x17ca7b=_0x122a75(0x1bb)){const _0xff319b=_0x122a75;if(!Array[_0xff319b(0x17b)](arrayIncomes)||!arrayIncomes['length'])return ntfShow('No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.');currentExportMode=_0x17ca7b;const _0x409762=arrayIncomes[_0xff319b(0x1d0)](_0xa9ffd8=>{const _0x87e73b=_0xff319b,[_0x46e3c3]=_0xa9ffd8[_0x87e73b(0x20d)][_0x87e73b(0x1a8)]('\x20'),[_0x202c71,_0x1a8d21,_0x33ef9a]=_0x46e3c3[_0x87e73b(0x1a8)]('-');return{'Periodo':''+_0x202c71+_0x1a8d21,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x33ef9a+'/'+_0x1a8d21+'/'+_0x202c71,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0xa9ffd8[_0x87e73b(0x214)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker['postMessage']({'action':_0xff319b(0x175),'reportType':_0xff319b(0x1a1),'report':_0x409762});}window[_0x122a75(0x1e7)]=function(){const _0x32d87e=_0x122a75,_0x5d21e3=0x3;loadLoginContent(_0x32d87e(0x1bf)),setUserNameGet(),setEventBtnAccess();const _0x793b8d=document[_0x32d87e(0x1ed)](_0x32d87e(0x1a7));_0x793b8d&&_0x793b8d[_0x32d87e(0x1f6)](_0x32d87e(0x203),function(){logoutReload(0x0,_0x5d21e3);}),document[_0x32d87e(0x212)](_0x32d87e(0x1ea))[_0x32d87e(0x1f6)](_0x32d87e(0x1d1),async function(){const _0x5909f3=_0x32d87e,_0x390919=parseInt(this[_0x5909f3(0x17e)]);myCompany[_0x5909f3(0x198)]=_0x390919;const _0x52f11e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x52f11e),await cargarPisos(_0x390919),await waitForEvent(_0x5909f3(0x1b8),_0x5909f3(0x1aa)),await cargarAlmacenes(_0x390919),await waitForEvent(_0x5909f3(0x1c4),_0x5909f3(0x206)),document['dispatchEvent'](new Event(_0x5909f3(0x1a2))),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x5909f3(0x1b9)](_0x390919),consultIncomeReport();}),document['getElementById']('setWarehouseId')[_0x32d87e(0x1f6)](_0x32d87e(0x1d1),async function(){const _0x57a9a7=_0x32d87e;document[_0x57a9a7(0x20a)](new Event(_0x57a9a7(0x206)));}),document[_0x32d87e(0x212)](_0x32d87e(0x1b8))[_0x32d87e(0x1f6)](_0x32d87e(0x1d1),async function(_0x5ba5fd){const _0x28220c=_0x32d87e;document[_0x28220c(0x20a)](new Event(_0x28220c(0x1aa)));}),loadCartAndSetTabCount(_0x5d21e3);};