/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.0
*/

const _0x4fec9b=_0x3e44;(function(_0x4ab682,_0x3b70a9){const _0x511c72=_0x3e44,_0x2bc6cd=_0x4ab682();while(!![]){try{const _0x7b03cf=-parseInt(_0x511c72(0x15c))/0x1+parseInt(_0x511c72(0x155))/0x2+parseInt(_0x511c72(0x1d8))/0x3*(parseInt(_0x511c72(0x18e))/0x4)+parseInt(_0x511c72(0x1d1))/0x5+parseInt(_0x511c72(0x121))/0x6+parseInt(_0x511c72(0xfe))/0x7+-parseInt(_0x511c72(0x1e8))/0x8*(parseInt(_0x511c72(0x1ba))/0x9);if(_0x7b03cf===_0x3b70a9)break;else _0x2bc6cd['push'](_0x2bc6cd['shift']());}catch(_0xe23d06){_0x2bc6cd['push'](_0x2bc6cd['shift']());}}}(_0x3b42,0x7c572));const _0x24b32b=(function(){let _0xb42103=!![];return function(_0x5818d6,_0x2268de){const _0x517d73=_0xb42103?function(){if(_0x2268de){const _0xdc4dbe=_0x2268de['apply'](_0x5818d6,arguments);return _0x2268de=null,_0xdc4dbe;}}:function(){};return _0xb42103=![],_0x517d73;};}()),_0x58399f=_0x24b32b(this,function(){const _0xdf431d=_0x3e44;return _0x58399f[_0xdf431d(0x118)]()[_0xdf431d(0x218)]('(((.+)+)+)+$')[_0xdf431d(0x118)]()['constructor'](_0x58399f)[_0xdf431d(0x218)](_0xdf431d(0x123));});_0x58399f();const _0x303ef6=(function(){let _0x538816=!![];return function(_0x1a67e5,_0x5bc9b9){const _0x451902=_0x538816?function(){if(_0x5bc9b9){const _0x3ab686=_0x5bc9b9['apply'](_0x1a67e5,arguments);return _0x5bc9b9=null,_0x3ab686;}}:function(){};return _0x538816=![],_0x451902;};}()),_0x21fdd6=_0x303ef6(this,function(){const _0x3d2b3c=_0x3e44;let _0x44021f;try{const _0x4b853a=Function(_0x3d2b3c(0x1a8)+_0x3d2b3c(0x131)+');');_0x44021f=_0x4b853a();}catch(_0x3023b8){_0x44021f=window;}const _0x554c8c=_0x44021f['console']=_0x44021f['console']||{},_0x34c470=['log',_0x3d2b3c(0x13f),'info',_0x3d2b3c(0x20d),_0x3d2b3c(0x169),'table','trace'];for(let _0x3d35f4=0x0;_0x3d35f4<_0x34c470['length'];_0x3d35f4++){const _0x324457=_0x303ef6[_0x3d2b3c(0x196)][_0x3d2b3c(0x18a)][_0x3d2b3c(0x1c8)](_0x303ef6),_0x503f80=_0x34c470[_0x3d35f4],_0x186f75=_0x554c8c[_0x503f80]||_0x324457;_0x324457['__proto__']=_0x303ef6[_0x3d2b3c(0x1c8)](_0x303ef6),_0x324457['toString']=_0x186f75[_0x3d2b3c(0x118)][_0x3d2b3c(0x1c8)](_0x186f75),_0x554c8c[_0x503f80]=_0x324457;}});_0x21fdd6();function _0x3e44(_0x408755,_0x288f45){const _0x45d72b=_0x3b42();return _0x3e44=function(_0x21fdd6,_0x303ef6){_0x21fdd6=_0x21fdd6-0xed;let _0x1cb34c=_0x45d72b[_0x21fdd6];return _0x1cb34c;},_0x3e44(_0x408755,_0x288f45);}let arrayIncomes;const fil_init_dates=document[_0x4fec9b(0x1c5)](_0x4fec9b(0x1a9)),label=document[_0x4fec9b(0x1c5)](_0x4fec9b(0x1b0)),options=document[_0x4fec9b(0x1c5)](_0x4fec9b(0x158)),divChartIncome=document[_0x4fec9b(0x1c5)](_0x4fec9b(0x1b5)),divChartItem=document[_0x4fec9b(0x1c5)](_0x4fec9b(0x210)),divChartCustomer=document[_0x4fec9b(0x1c5)]('divChartCustomer');let currentPage=0x1;const per_page=0x14;let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;function _0x3b42(){const _0x6ea83c=['btn-outline','setOrderId','setApiEndPoint','getFullYear','Siguiente\x20&raquo;','setNotas','setPorcentajeIgv','dispatchEvent','{b}:\x20{d}%','Operación\x20con\x20ID\x20','tagName','category','\x22>\x0a','Pendiente','onerror','split','setOperationId','Reporte\x20','blur','href','toISOString','getDay','error','setOperationCustomerName','100%','divChartItem','btn-filter-modal','setOperationCustomerId','factura','.fill_ms-selected-tags','productName','querySelectorAll','modalOverlayOptions','search','values','splice','setOperationDetailUnitCost','No\x20se\x20encontró\x20información\x20de\x20ingresos','postMessage','#080060','catch','innerHTML','btnExport','Ventas\x20por\x20Cliente','setOperationTypeSpan','change','setWindowShiftId','round','Selecciona\x20ambas\x20fechas','filter-end','entries','500px','setMtoPrecioUnitario_final','):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','additionalFilters','354501dluNAP','fill_remove-tag','email','setMtoPrecioUnitario_input','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','mousedown','\x20-\x20','setCustomerName','map','week','smtp.miempresa.com','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','revokeObjectURL','Invalid\x20range\x20type','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22setOptionsReport(','Total','day','createObjectURL','bar','label','#00AEEF','classList','getDate',';\x22>\x0a','data-value','middle','toString','year','includes','Error\x20generando\x20PDF:','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','appendChild','substring','#FF5900','preventDefault','3504018XvUmHy','getHours','(((.+)+)+)+$','setVisible','init','stringify','textContent','setOption','getAttribute','find','WarehouseChangeComplete','products','setPorcentajeDesc','.btn-logout','whatsapp','setOperationSeries','{}.constructor(\x22return\x20this\x22)(\x20)','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','\x0a</td>\x0a','addEventListener','#reporte-income-customers','top','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>','month','dataset_','setOperationTotal','querySelector','dataset_raw','.fill_ms-suggestions','#pagination-products','warn','both','push','customers','setIgv','toFixed','setOperationDetailTotal','fill_ms-tag','pedido','setCodTipo','\x20al\x20','currency','getMonth','value','setCodProducto','setSerie','contains','btn\x20btn-sm\x20btn-outline\x20me-2','Ventas\x20por\x20Producto','width','mouseleave','setOperationType','21118XXFNEX','padStart','isArray','date-range-options','setOperationDetailQuantity','setOperationDateTime','name','143172tCXJPZ','remove','getSeconds','onload','length','slice','50%','incomes','EnvironmentChangeComplete','OperationsType:','valueDesc','mousemove','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','exception','createElement','#pagination-income','setTipoOperacionCodigo','recibo','setMtoPrecioUnitario','filtrar','scrollLeft','flatMap','setDescuento','block','400px','forEach','getMinutes','Error\x20al\x20solicitar\x20reporte','Costo','setAuthToken','setMtoValorCostoUnitario_input','setTipoOperacionName','download','closeModalOptions','setOperationPaymentStatus','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','application/json;\x20charset=utf-8','Contenedor\x20','setCustomers','Ganancia','readAsDataURL','fechaISO','\x20no\x20existe','divChartCustomer','setOperationPaymentStatusColor','bottom','prototype','reduce','./img/apiPOS.png','&laquo;\x20Anterior','12yfxuXP','concat','span','\x2000:00:00','cost','assign','data','stopPropagation','constructor','setAccountingAccountType','dispose','Ventas','YOUR_WA_CRED_ID',';\x20color:\x20','customerName','target','PASSWORD123','\x0a<td\x20class=\x22td-bg-none\x22>','offsetLeft','style','toLowerCase','setDate','setSeries','luispurizaca.1908@gmail.com','item','Evolución\x20de\x20Ventas','return\x20(function()\x20','date-range-label-icon','from','ID_SERIE','#00bb2d','setTipoOperaciones','filter','input','date-range-label','...','dataset','./js/apierp_export_wk.min.js','then','divChartIncome','setOperationItems','\x22>&times;</span>','.xlsx','height','27eTvAEi','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','click','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','setFloorId','Pagado','setItemFree','setCustomerId','setMtoValorUnitario_final','document','active','getElementById','\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','setBranchDefault','bind','indexOf','filter-start','axis','activeElement','Modo\x20de\x20exportación\x20desconocido:','BranchChangeComplete','setMtoValorGratuito','no-reply@miempresa.com','4932865oxqbGh','setInventariable','setOperationPaymentStatusName','pdfCanvas','</td>\x0a<td>','setAccountingAccountName','setWarehouseId','749829vdBNsC','profit','setOperationCurrency','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','Mi\x20Empresa','setTotal','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','log','ceil','pageX','setOperationNumber','json','sales','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','setTaxId','none','4611032crLyFU','\x22\x20no\x20existe.','\x0a</td>\x0a<td></td>\x0a','Error\x20al\x20exportar.','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','display','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','className','cartId','boleta','\x20tbody','setMarca','fill-apply-filter','setTipoComprobante','btn-outline-primary'];_0x3b42=function(){return _0x6ea83c;};return _0x3b42();}const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0x4f1141){const _0x5acdbf=_0x4fec9b,{containerId:_0x4967a3,rawData:_0x9c6481,groupField:_0x52e8d8,groupValues:_0x51d7a9,seriesType:seriesType='line',chartType:chartType=seriesType,encode:_0x553205,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x5acdbf(0x166),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x2bfc4b,height:_0x34c567}=_0x4f1141,_0x4d0aae=document['getElementById'](_0x4967a3);if(!_0x4d0aae){console[_0x5acdbf(0x20d)]('El\x20contenedor\x20con\x20id\x20\x22'+_0x4967a3+_0x5acdbf(0x1e9));return;}_0x4d0aae[_0x5acdbf(0xf0)]='',echarts['dispose'](_0x4d0aae);if(_0x2bfc4b)_0x4d0aae[_0x5acdbf(0x1a1)][_0x5acdbf(0x152)]=_0x2bfc4b;if(_0x34c567)_0x4d0aae[_0x5acdbf(0x1a1)][_0x5acdbf(0x1b9)]=_0x34c567;const _0x23769f=echarts[_0x5acdbf(0x125)](_0x4d0aae),_0x15fe24=[],_0x3444b9=[];_0x51d7a9[_0x5acdbf(0x175)]((_0xc6f4cb,_0x3d0493)=>{const _0x370cd1=_0x5acdbf,_0x15a91c=_0x370cd1(0x139)+_0xc6f4cb,_0x4bff1c=(_0x4f1141[_0x370cd1(0xfd)]||[])[_0x370cd1(0x18f)]([{'dimension':_0x52e8d8,'=':_0xc6f4cb}]);_0x15fe24['push']({'id':_0x15a91c,'fromDatasetId':_0x370cd1(0x13c),'transform':{'type':_0x370cd1(0x1ae),'config':{'and':_0x4bff1c}}}),_0x3444b9[_0x370cd1(0x141)]({'type':chartType,'datasetId':_0x15a91c,'name':_0xc6f4cb,...chartType===_0x370cd1(0x110)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x3d0493]||undefined},...chartType==='line'&&{'showSymbol':![]},'encode':_0x553205});});const _0x404d56={'animationDuration':animationDuration,'dataset':[{'id':'dataset_raw','source':_0x9c6481},..._0x15fe24],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x5acdbf(0x1cb)},'xAxis':Object[_0x5acdbf(0x193)]({'type':'category','nameLocation':_0x5acdbf(0x117)},xAxisConfig),'yAxis':Object['assign']({'name':_0x553205['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x3444b9};_0x23769f['setOption'](_0x404d56);}function generatePieChart({containerId:_0x3a1bbe,data:_0x4e67ac,nameField:_0x541530,valueField:_0x25c534,title:title='',titlePosition:titlePosition=_0x4fec9b(0x136),showTitle:showTitle=!![],width:_0x4b8385,height:_0x48f267}){const _0x490311=_0x4fec9b,_0x2f50c5=document[_0x490311(0x1c5)](_0x3a1bbe);if(!_0x2f50c5)return console[_0x490311(0x20d)](_0x490311(0x181)+_0x3a1bbe+_0x490311(0x186));_0x2f50c5[_0x490311(0xf0)]='',echarts[_0x490311(0x198)](_0x2f50c5);if(_0x4b8385)_0x2f50c5['style'][_0x490311(0x152)]=_0x4b8385;if(_0x48f267)_0x2f50c5[_0x490311(0x1a1)][_0x490311(0x1b9)]=_0x48f267;const _0x23881a=echarts[_0x490311(0x125)](_0x2f50c5),_0x4610a0=_0x4e67ac['reduce']((_0x1474b6,_0x165f99)=>{const _0x2d4b24=_0x490311,_0x563b89=_0x165f99[_0x541530],_0x222970=_0x165f99[_0x25c534];let _0x54e46a=_0x1474b6['find'](_0x57d097=>_0x57d097[_0x2d4b24(0x15b)]===_0x563b89);return!_0x54e46a&&(_0x54e46a={'name':_0x563b89,'value':0x0},_0x1474b6[_0x2d4b24(0x141)](_0x54e46a)),_0x54e46a[_0x2d4b24(0x14c)]+=_0x222970,_0x1474b6;},[]);let _0x2957d0;showTitle?(_0x2957d0={'text':title,'left':'center'},titlePosition===_0x490311(0x189)?_0x2957d0[_0x490311(0x189)]=0x0:_0x2957d0[_0x490311(0x136)]=0x0):_0x2957d0={'show':![]};const _0x26d389={'title':_0x2957d0,'tooltip':{'trigger':_0x490311(0x1a6)},'series':[{'type':'pie','radius':_0x490311(0x162),'data':_0x4610a0,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x490311(0x1ff)}}]};_0x23881a['setOption'](_0x26d389);}function generateHorizontalBarChart({containerId:_0x358468,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x4fec9b(0x136),showTitle:showTitle=!![],colors:colors=[],width:_0x3e814e,height:_0x520f6d,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={},defaultSelected:defaultSelected=null}){const _0x114fe3=_0x4fec9b,_0x270641=document[_0x114fe3(0x1c5)](_0x358468);if(!_0x270641)return console[_0x114fe3(0x20d)](_0x114fe3(0x181)+_0x358468+_0x114fe3(0x186));_0x270641[_0x114fe3(0xf0)]='',echarts[_0x114fe3(0x198)](_0x270641);if(_0x3e814e)_0x270641[_0x114fe3(0x1a1)]['width']=_0x3e814e;if(_0x520f6d)_0x270641[_0x114fe3(0x1a1)][_0x114fe3(0x1b9)]=_0x520f6d;const _0x2b815e=echarts[_0x114fe3(0x125)](_0x270641);let _0x240678={};Array['isArray'](defaultSelected)&&(_0x240678['selected']=series['reduce']((_0x5076fa,_0x500760)=>{const _0x5e0015=_0x114fe3;return _0x5076fa[_0x500760[_0x5e0015(0x15b)]]=defaultSelected['length']?defaultSelected[_0x5e0015(0x11a)](_0x500760[_0x5e0015(0x15b)]):!![],_0x5076fa;},{}));const _0x11d067=showTitle?{'text':title,'left':'center',...titlePosition===_0x114fe3(0x189)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x114fe3(0x189)?_0x11d067[_0x114fe3(0x189)]=0x0:_0x11d067[_0x114fe3(0x136)]=0x0;const _0x215500={'title':_0x11d067,'tooltip':{'trigger':_0x114fe3(0x1cb),'axisPointer':{'type':'shadow'}},'legend':_0x240678,'grid':Object[_0x114fe3(0x193)]({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x114fe3(0x193)]({'type':'value','boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0x114fe3(0x193)]({'type':_0x114fe3(0x202),'data':categories},yAxisConfig),'series':series[_0x114fe3(0x106)]((_0x58b92e,_0x3995d6)=>({'type':'bar','name':_0x58b92e[_0x114fe3(0x15b)],'data':_0x58b92e[_0x114fe3(0x194)],'itemStyle':{'color':colors[_0x3995d6]||undefined}}))};_0x2b815e[_0x114fe3(0x128)](_0x215500);}document[_0x4fec9b(0x1c5)](_0x4fec9b(0x211))['addEventListener']('click',_0x277f58=>{showModalOptions();});function showModalOptions(){const _0x7bdd86=_0x4fec9b,_0xab1333=document[_0x7bdd86(0x1c5)]('detalleModalOptions'),_0x3d120e=document[_0x7bdd86(0x1c5)](_0x7bdd86(0x217));_0xab1333[_0x7bdd86(0x113)]['add'](_0x7bdd86(0x1c4)),_0x3d120e[_0x7bdd86(0x1a1)][_0x7bdd86(0x1ed)]=_0x7bdd86(0x173);}function hideModalOptions(){const _0x4d5aaf=_0x4fec9b,_0x2d9a21=document[_0x4d5aaf(0x1c5)]('detalleModalOptions'),_0x18c154=document[_0x4d5aaf(0x1c5)]('modalOverlayOptions');_0x2d9a21['classList']['remove'](_0x4d5aaf(0x1c4)),_0x18c154['style'][_0x4d5aaf(0x1ed)]=_0x4d5aaf(0x1e7);}document[_0x4fec9b(0x1c5)](_0x4fec9b(0x17d))['addEventListener'](_0x4fec9b(0x1bc),hideModalOptions),document['getElementById'](_0x4fec9b(0x217))['addEventListener'](_0x4fec9b(0x1bc),_0x7c97d1=>{const _0x5da021=_0x4fec9b;_0x7c97d1['target']==_0x7c97d1['currentTarget']&&_0x7c97d1[_0x5da021(0x195)]();});function fill_initMultiSelect({containerSelector:_0x399e7a,dataSource:_0x1340dd,mapItem:_0x339c39,filterArray:_0x45968d}){const _0x313cab=_0x4fec9b,_0x55227c=document[_0x313cab(0x13b)](_0x399e7a),_0x4155a4=_0x55227c['querySelector']('.fill_ms-input'),_0x50fe17=_0x55227c[_0x313cab(0x13b)](_0x313cab(0x13d)),_0x3c6c5d=_0x55227c[_0x313cab(0x13b)](_0x313cab(0x214));function _0x491e53(){const _0x23dd35=_0x313cab,_0xe0186c=_0x4155a4['value']['trim']()[_0x23dd35(0x1a2)]();_0x50fe17[_0x23dd35(0xf0)]='';if(!_0xe0186c)return;const _0x36f310=_0x1340dd[_0x23dd35(0x1ae)](_0x4cc9ac=>{const _0x1d78f3=_0x23dd35,{id:_0x1790fc,text:_0x40fabf}=_0x339c39(_0x4cc9ac);return _0x40fabf[_0x1d78f3(0x1a2)]()['includes'](_0xe0186c)&&!_0x45968d[_0x1d78f3(0x11a)](_0x1790fc);})[_0x23dd35(0x161)](0x0,0xa);_0x36f310['forEach'](_0x470110=>{const _0x3f49e4=_0x23dd35,{id:_0x80e973,text:_0x2473f1}=_0x339c39(_0x470110),_0x458953=document[_0x3f49e4(0x16a)]('li');_0x458953[_0x3f49e4(0x127)]=_0x2473f1,_0x458953['dataset']['id']=_0x80e973,_0x50fe17[_0x3f49e4(0x11d)](_0x458953);});}function _0x526d6a(_0x4cbf3e,_0x99a8e6){const _0x46995b=_0x313cab;_0x45968d[_0x46995b(0x141)](_0x4cbf3e);const _0x594f07=document[_0x46995b(0x16a)](_0x46995b(0x190));_0x594f07['className']=_0x46995b(0x146),_0x594f07[_0x46995b(0xf0)]=_0x99a8e6+'\x20<span\x20class=\x22fill_remove-tag\x22\x20data-id=\x22'+_0x4cbf3e+_0x46995b(0x1b7),_0x3c6c5d[_0x46995b(0x11d)](_0x594f07);}_0x50fe17[_0x313cab(0x134)](_0x313cab(0x103),_0x2338e4=>{const _0x28931e=_0x313cab;if(_0x2338e4['target'][_0x28931e(0x201)]!=='LI')return;const _0x26b290=Number(_0x2338e4[_0x28931e(0x19d)][_0x28931e(0x1b2)]['id']),_0x45b656=_0x2338e4[_0x28931e(0x19d)][_0x28931e(0x127)];_0x526d6a(_0x26b290,_0x45b656),_0x4155a4[_0x28931e(0x14c)]='',_0x50fe17[_0x28931e(0xf0)]='',_0x2338e4['preventDefault']();}),_0x3c6c5d[_0x313cab(0x134)](_0x313cab(0x1bc),_0xdcb0e5=>{const _0x6e15e4=_0x313cab;if(!_0xdcb0e5['target'][_0x6e15e4(0x113)][_0x6e15e4(0x14f)](_0x6e15e4(0xff)))return;const _0x20cb05=parseInt(_0xdcb0e5[_0x6e15e4(0x19d)][_0x6e15e4(0x1b2)]['id'],0xa),_0x4c72c8=_0x45968d[_0x6e15e4(0x1c9)](_0x20cb05);if(_0x4c72c8>-0x1)_0x45968d[_0x6e15e4(0x21a)](_0x4c72c8,0x1);_0xdcb0e5['target']['parentElement'][_0x6e15e4(0x15d)]();}),_0x4155a4[_0x313cab(0x134)](_0x313cab(0x1af),_0x491e53),_0x4155a4[_0x313cab(0x134)](_0x313cab(0x209),()=>{setTimeout(()=>{const _0x1e68f8=_0x3e44;!_0x55227c[_0x1e68f8(0x14f)](document[_0x1e68f8(0x1cc)])&&(_0x50fe17[_0x1e68f8(0xf0)]='');},0x64);});}document[_0x4fec9b(0x1c5)](_0x4fec9b(0x1f4))[_0x4fec9b(0x134)](_0x4fec9b(0x1bc),async()=>{const _0x5e9e99=_0x4fec9b,_0xb61599=document[_0x5e9e99(0x1c5)](_0x5e9e99(0x1ca))[_0x5e9e99(0x14c)],_0xd899f5=document[_0x5e9e99(0x1c5)](_0x5e9e99(0xf8))[_0x5e9e99(0x14c)];if(!_0xb61599||!_0xd899f5)return alert(_0x5e9e99(0xf7));hideModalOptions(),fil_date_start=_0xb61599+_0x5e9e99(0x191),fil_date_end=_0xd899f5+'\x2023:59:59',console[_0x5e9e99(0x1df)]('CustomersId:',fil_CustomersId),console[_0x5e9e99(0x1df)](_0x5e9e99(0x165),fil_OperationsType),console[_0x5e9e99(0x1df)]('BranchesId:',fil_BranchesId),consultIncomeReport();}),label[_0x4fec9b(0x134)]('click',()=>{const _0x22acb6=_0x4fec9b;options[_0x22acb6(0x1a1)]['display']=options[_0x22acb6(0x1a1)][_0x22acb6(0x1ed)]===_0x22acb6(0x1e7)?_0x22acb6(0x173):_0x22acb6(0x1e7);}),options[_0x4fec9b(0x134)](_0x4fec9b(0x1bc),_0xa58a5a=>{const _0x199080=_0x4fec9b;if(_0xa58a5a['target']&&_0xa58a5a['target'][_0x199080(0x201)]==='LI'){const _0x1b1054=_0xa58a5a[_0x199080(0x19d)][_0x199080(0x129)](_0x199080(0x116));updateDateRange(_0x1b1054),options[_0x199080(0x1a1)][_0x199080(0x1ed)]=_0x199080(0x1e7);}}),document[_0x4fec9b(0x134)](_0x4fec9b(0x1bc),_0x17db04=>{const _0x5723cb=_0x4fec9b;!label['contains'](_0x17db04[_0x5723cb(0x19d)])&&!options[_0x5723cb(0x14f)](_0x17db04[_0x5723cb(0x19d)])&&(options[_0x5723cb(0x1a1)]['display']='none');});function formatDateToYmdHis(_0x2e21a2){const _0x19be2f=_0x4fec9b,_0x10f44c=_0x2e21a2[_0x19be2f(0x1fa)](),_0x40cdd1=String(_0x2e21a2[_0x19be2f(0x14b)]()+0x1)[_0x19be2f(0x156)](0x2,'0'),_0x96dbc1=String(_0x2e21a2['getDate']())[_0x19be2f(0x156)](0x2,'0'),_0x12418d=String(_0x2e21a2[_0x19be2f(0x122)]())['padStart'](0x2,'0'),_0x19f53c=String(_0x2e21a2[_0x19be2f(0x176)]())[_0x19be2f(0x156)](0x2,'0'),_0x1f5f6b=String(_0x2e21a2[_0x19be2f(0x15e)]())['padStart'](0x2,'0');return _0x10f44c+'-'+_0x40cdd1+'-'+_0x96dbc1+'\x20'+_0x12418d+':'+_0x19f53c+':'+_0x1f5f6b;}function getDateRange(_0x2278ea){const _0x289c65=_0x4fec9b,_0x4cdb29=new Date();let _0x59ae0c,_0x54ea47;switch(_0x2278ea){case _0x289c65(0x10e):_0x59ae0c=new Date(_0x4cdb29[_0x289c65(0x1fa)](),_0x4cdb29[_0x289c65(0x14b)](),_0x4cdb29[_0x289c65(0x114)](),0x0,0x0,0x0),_0x54ea47=new Date(_0x4cdb29['getFullYear'](),_0x4cdb29[_0x289c65(0x14b)](),_0x4cdb29[_0x289c65(0x114)](),0x17,0x3b,0x3b),label[_0x289c65(0xf0)]='del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0x289c65(0x107):const _0x40f266=_0x4cdb29[_0x289c65(0x20c)](),_0x16768e=new Date(_0x4cdb29);_0x16768e[_0x289c65(0x1a3)](_0x4cdb29[_0x289c65(0x114)]()-_0x40f266+(_0x40f266===0x0?-0x6:0x1));const _0x138aa9=new Date(_0x16768e);_0x138aa9['setDate'](_0x16768e[_0x289c65(0x114)]()+0x6),_0x59ae0c=new Date(_0x16768e['getFullYear'](),_0x16768e[_0x289c65(0x14b)](),_0x16768e[_0x289c65(0x114)](),0x0,0x0,0x0),_0x54ea47=new Date(_0x138aa9[_0x289c65(0x1fa)](),_0x138aa9[_0x289c65(0x14b)](),_0x138aa9[_0x289c65(0x114)](),0x17,0x3b,0x3b),label[_0x289c65(0xf0)]=_0x289c65(0x17f);break;case _0x289c65(0x138):_0x59ae0c=new Date(_0x4cdb29[_0x289c65(0x1fa)](),_0x4cdb29[_0x289c65(0x14b)](),0x1,0x0,0x0,0x0),_0x54ea47=new Date(_0x4cdb29[_0x289c65(0x1fa)](),_0x4cdb29['getMonth']()+0x1,0x0,0x17,0x3b,0x3b),label[_0x289c65(0xf0)]=_0x289c65(0x132);break;case _0x289c65(0x119):_0x59ae0c=new Date(_0x4cdb29[_0x289c65(0x1fa)](),0x0,0x1,0x0,0x0,0x0),_0x54ea47=new Date(_0x4cdb29['getFullYear'](),0xb,0x1f,0x17,0x3b,0x3b),label[_0x289c65(0xf0)]=_0x289c65(0x1ee);break;default:label[_0x289c65(0xf0)]='';throw new Error(_0x289c65(0x10b));}return{'startDateFormatted':formatDateToYmdHis(_0x59ae0c),'endDateFormatted':formatDateToYmdHis(_0x54ea47)};}function updateDateRange(_0x17634c=_0x4fec9b(0x10e)){const _0x46509f=_0x4fec9b;if(_0x17634c==_0x46509f(0x16f)){}else{const {startDateFormatted:_0x3472f6,endDateFormatted:_0x54ddbb}=getDateRange(_0x17634c);fil_date_start=_0x3472f6,fil_date_end=_0x54ddbb,consultIncomeReport();}}const tableWrappers=document[_0x4fec9b(0x216)]('.table-wrapper');tableWrappers[_0x4fec9b(0x175)](_0x323587=>{const _0x588d50=_0x4fec9b;let _0x24b5f1=![],_0x16be3f,_0x2feb4a;_0x323587[_0x588d50(0x134)]('mousedown',_0x4a1cf9=>{const _0x3cc51b=_0x588d50;_0x24b5f1=!![],_0x16be3f=_0x4a1cf9[_0x3cc51b(0x1e1)]-_0x323587[_0x3cc51b(0x1a0)],_0x2feb4a=_0x323587[_0x3cc51b(0x170)];}),_0x323587[_0x588d50(0x134)](_0x588d50(0x153),()=>{_0x24b5f1=![];}),_0x323587[_0x588d50(0x134)]('mouseup',()=>{_0x24b5f1=![];}),_0x323587['addEventListener'](_0x588d50(0x167),_0x14fa01=>{const _0x1ca914=_0x588d50;if(!_0x24b5f1)return;_0x14fa01[_0x1ca914(0x120)]();const _0x2397a9=_0x14fa01[_0x1ca914(0x1e1)]-_0x323587[_0x1ca914(0x1a0)],_0x2dd15c=(_0x2397a9-_0x16be3f)*0x2;_0x323587[_0x1ca914(0x170)]=_0x2feb4a-_0x2dd15c;});});async function consultIncomeReport(){const _0x52da8a=_0x4fec9b;showLoadingModal();const _0x488a74={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x52da8a(0x179)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x5d04fb=await fetch(myCompany[_0x52da8a(0x1f9)],{'method':'POST','headers':{'Content-Type':_0x52da8a(0x180)},'body':JSON[_0x52da8a(0x126)](_0x488a74)}),{success:_0x53e9e7,message:_0x38a538}=await _0x5d04fb[_0x52da8a(0x1e3)]();if(!_0x53e9e7||!Array[_0x52da8a(0x157)](_0x38a538['incomes'])){ntfShow(_0x52da8a(0x21c)),console['log'](_0x38a538);return;}const _0x599437=_0x38a538[_0x52da8a(0x163)],_0xd45f03=myCompany[_0x52da8a(0x182)][_0x52da8a(0x18b)]((_0x175cee,_0x5e20a6)=>(_0x175cee[_0x5e20a6[_0x52da8a(0x1c1)]]=_0x5e20a6[_0x52da8a(0x105)],_0x175cee),{}),_0xda1888=myCompany[_0x52da8a(0x1ad)][_0x52da8a(0x18b)]((_0xd7ad3e,_0x50e45a)=>(_0xd7ad3e[_0x50e45a[_0x52da8a(0x16c)]]=_0x50e45a[_0x52da8a(0x17b)],_0xd7ad3e),{}),_0x12dd98=myCompany[_0x52da8a(0x1a4)]['reduce']((_0x32f3c0,_0x443f1e)=>(_0x32f3c0[_0x443f1e[_0x52da8a(0x1ab)]]=_0x443f1e[_0x52da8a(0x14e)],_0x32f3c0),{});arrayIncomes=_0x599437[_0x52da8a(0x106)](_0x1b61b1=>{const _0x19893e=_0x52da8a,_0x31b53c=_0x1b61b1[_0x19893e(0x1b6)][_0x19893e(0x18b)]((_0x517d78,_0x128882)=>_0x517d78+Number(_0x128882[_0x19893e(0x145)]),0x0),_0x41587e=_0xda1888[_0x1b61b1['setOperationType']]||_0x1b61b1[_0x19893e(0x154)],_0x18f6e1=_0x12dd98[_0x1b61b1[_0x19893e(0x130)]]||_0x1b61b1[_0x19893e(0x130)],_0x265775=_0xd45f03[_0x1b61b1[_0x19893e(0x212)]]||_0x1b61b1[_0x19893e(0x212)],_0x4f860a=_0x1b61b1[_0x19893e(0x17e)]==0x1?_0x19893e(0x1ac):_0x19893e(0x11f),_0x40cba7=_0x1b61b1['setOperationPaymentStatus']==0x1?_0x19893e(0x1bf):_0x19893e(0x204),_0xf9eb4d=_0x1b61b1[_0x19893e(0x154)]==0x1?_0x19893e(0x147):_0x1b61b1[_0x19893e(0x154)]==0x2?_0x19893e(0x16d):_0x1b61b1[_0x19893e(0x154)]==0x3?_0x19893e(0x1f1):_0x1b61b1[_0x19893e(0x154)]==0x4?_0x19893e(0x213):_0x19893e(0x16d);return{'setOperationId':_0x1b61b1['setOperationId'],'setOperationType':_0x41587e,'setOperationTypeSpan':_0xf9eb4d,'setOperationSeries':_0x18f6e1+'-'+_0x1b61b1[_0x19893e(0x1e2)],'setOperationCustomerName':_0x265775,'setOperationDateTime':_0x1b61b1[_0x19893e(0x15a)],'setOperationPaymentStatusColor':_0x4f860a,'setOperationPaymentStatusName':_0x40cba7,'setOperationCurrency':_0x1b61b1[_0x19893e(0x1da)],'setOperationTotal':_0x31b53c,'setOperationItems':_0x1b61b1[_0x19893e(0x1b6)]};});const _0x3769a6=_0x599437[_0x52da8a(0x171)](_0x23fc5e=>_0x23fc5e[_0x52da8a(0x1b6)][_0x52da8a(0x106)](_0x34bfe8=>({'item':_0x34bfe8,'moneda':_0x23fc5e[_0x52da8a(0x1da)]})))[_0x52da8a(0x18b)]((_0x2100c8,{item:_0x139fe2,moneda:_0x10a265})=>{const _0x323685=_0x52da8a,_0x22fc63=products[_0x323685(0x12a)](_0x1b0b28=>_0x1b0b28['id']==_0x139fe2['setOperationDetailUnitPresentationId']),_0x2baa76=_0x22fc63?_0x22fc63['setDescripcion']:'Sin\x20descripción',_0x46053e=_0x2baa76+'|'+_0x10a265,_0x33b7d0=Number(_0x139fe2[_0x323685(0x145)]),_0x30cad1=Number(_0x139fe2[_0x323685(0x21b)])*Number(_0x139fe2[_0x323685(0x159)]);return!_0x2100c8[_0x46053e]&&(_0x2100c8[_0x46053e]={'productName':_0x2baa76,'currency':_0x10a265,'sales':0x0,'cost':0x0}),_0x2100c8[_0x46053e][_0x323685(0x1e4)]+=_0x33b7d0,_0x2100c8[_0x46053e][_0x323685(0x192)]+=_0x30cad1,_0x2100c8;},{}),_0x367fe8=Object['values'](_0x3769a6)[_0x52da8a(0x106)](_0x300b0c=>({'productName':_0x300b0c[_0x52da8a(0x215)],'currency':_0x300b0c[_0x52da8a(0x14a)],'sales':Math[_0x52da8a(0xf6)](_0x300b0c[_0x52da8a(0x1e4)]*0x64)/0x64,'cost':Math[_0x52da8a(0xf6)](_0x300b0c['cost']*0x64)/0x64,'profit':Math[_0x52da8a(0xf6)]((_0x300b0c['sales']-_0x300b0c['cost'])*0x64)/0x64})),_0x2fd2b1=_0x599437[_0x52da8a(0x18b)]((_0x3826ed,_0x4d5371)=>{const _0x536dc6=_0x52da8a,_0x4f50b1=_0x4d5371[_0x536dc6(0x212)],_0x447370=!_0x4f50b1||_0x4f50b1===0x0?'Cliente\x20Genérico':_0xd45f03[_0x4f50b1]||_0x4f50b1,_0x4a357b=_0x4d5371['setOperationCurrency'],_0x5104eb=_0x447370+'|'+_0x4a357b,_0x400673=_0x4d5371[_0x536dc6(0x1b6)]['reduce']((_0x341b11,_0x4713b0)=>_0x341b11+Number(_0x4713b0[_0x536dc6(0x145)]),0x0),_0x2907bb=_0x4d5371[_0x536dc6(0x1b6)]['reduce']((_0x1f0e8e,_0x58a28c)=>_0x1f0e8e+Number(_0x58a28c[_0x536dc6(0x21b)])*Number(_0x58a28c[_0x536dc6(0x159)]),0x0);return!_0x3826ed[_0x5104eb]&&(_0x3826ed[_0x5104eb]={'customerName':_0x447370,'currency':_0x4a357b,'sales':0x0,'cost':0x0}),_0x3826ed[_0x5104eb][_0x536dc6(0x1e4)]+=_0x400673,_0x3826ed[_0x5104eb][_0x536dc6(0x192)]+=_0x2907bb,_0x3826ed;},{}),_0x35c98b=Object[_0x52da8a(0x219)](_0x2fd2b1)[_0x52da8a(0x106)](_0x194b48=>({'customerName':_0x194b48[_0x52da8a(0x19c)],'currency':_0x194b48['currency'],'sales':Math[_0x52da8a(0xf6)](_0x194b48['sales']*0x64)/0x64,'cost':Math[_0x52da8a(0xf6)](_0x194b48[_0x52da8a(0x192)]*0x64)/0x64,'profit':Math[_0x52da8a(0xf6)]((_0x194b48[_0x52da8a(0x1e4)]-_0x194b48['cost'])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x52da8a(0x163)),renderTable(_0x367fe8,currentPageProducts,'products'),renderTable(_0x35c98b,currentPageCustomers,_0x52da8a(0x142));const _0x5f28c4=arrayIncomes[_0x52da8a(0x106)](_0x52a8e8=>({'fechaISO':_0x52a8e8[_0x52da8a(0x15a)][_0x52da8a(0x206)]('\x20')[0x0],'setTipoComprobante':_0x52a8e8['setOperationType'],'setOperationCurrency':_0x52a8e8[_0x52da8a(0x1da)],'Total':Math[_0x52da8a(0xf6)](_0x52a8e8[_0x52da8a(0x13a)]*0x64)/0x64})),_0x9de8ab=_0x5f28c4[_0x52da8a(0x18b)]((_0x377fa8,_0x296fa0)=>{const _0x294a42=_0x52da8a,_0x441e90=_0x296fa0['fechaISO']+'|'+_0x296fa0[_0x294a42(0x1f5)]+'|'+_0x296fa0['setOperationCurrency'];if(!_0x377fa8[_0x441e90])_0x377fa8[_0x441e90]={..._0x296fa0,'Total':0x0};return _0x377fa8[_0x441e90][_0x294a42(0x10d)]+=_0x296fa0['Total'],_0x377fa8;},{}),_0x91fd96=Object[_0x52da8a(0x219)](_0x9de8ab)[_0x52da8a(0x106)](_0x4dfb04=>({'fechaISO':_0x4dfb04['fechaISO'],'setTipoComprobante':_0x4dfb04[_0x52da8a(0x1f5)]+'\x20('+_0x4dfb04[_0x52da8a(0x1da)]+')','Total':Math[_0x52da8a(0xf6)](_0x4dfb04[_0x52da8a(0x10d)]*0x64)/0x64})),_0x4c7032=[...new Set(_0x91fd96[_0x52da8a(0x106)](_0x9f7444=>_0x9f7444[_0x52da8a(0x1f5)]))],_0x344ec5=Array[_0x52da8a(0x1aa)](new Set(_0x91fd96[_0x52da8a(0x106)](_0x479d7e=>_0x479d7e[_0x52da8a(0x185)])))['sort']((_0x5f00f4,_0x4c5f87)=>new Date(_0x5f00f4)-new Date(_0x4c5f87));_0x91fd96[_0x52da8a(0x160)]>0x0?generateFilterTransformChart({'containerId':_0x52da8a(0x1b5),'rawData':_0x91fd96,'groupField':_0x52da8a(0x1f5),'groupValues':_0x4c7032,'seriesType':_0x52da8a(0x110),'chartType':'bar','colors':[_0x52da8a(0x11f),_0x52da8a(0xee)],'encode':{'x':_0x52da8a(0x185),'y':_0x52da8a(0x10d),'label':['setTipoComprobante',_0x52da8a(0x10d)],'itemName':'fechaISO','tooltip':[_0x52da8a(0x10d)]},'xAxisConfig':{'type':_0x52da8a(0x202),'data':_0x344ec5,'axisLabel':{'formatter':_0x48ed29=>{const _0x27128b=_0x52da8a,[_0x366d27,_0x5439c2,_0x40354b]=_0x48ed29[_0x27128b(0x206)]('-');return _0x40354b+'/'+_0x5439c2+'/'+_0x366d27;}}},'title':_0x52da8a(0x1a7),'width':_0x52da8a(0x20f),'height':_0x52da8a(0xfa)}):divChartIncome[_0x52da8a(0xf0)]='';_0x367fe8[_0x52da8a(0x160)]>0x0?generateHorizontalBarChart({'containerId':_0x52da8a(0x210),'categories':_0x367fe8[_0x52da8a(0x106)](_0x450c70=>{const _0x551532=_0x52da8a,_0x9b1814='('+_0x450c70[_0x551532(0x14a)]+')\x20'+_0x450c70[_0x551532(0x215)];return _0x9b1814['length']>0xf?_0x9b1814[_0x551532(0x11e)](0x0,0xf)+_0x551532(0x1b1):_0x9b1814;}),'series':[{'name':'Ventas','data':_0x367fe8[_0x52da8a(0x106)](_0x5dc825=>_0x5dc825[_0x52da8a(0x1e4)])},{'name':_0x52da8a(0x178),'data':_0x367fe8[_0x52da8a(0x106)](_0xce7882=>_0xce7882[_0x52da8a(0x192)])},{'name':_0x52da8a(0x183),'data':_0x367fe8[_0x52da8a(0x106)](_0x4d8ae3=>_0x4d8ae3[_0x52da8a(0x1d9)])}],'title':_0x52da8a(0x151),'titlePosition':_0x52da8a(0x189),'showTitle':![],'colors':['#FF5900',_0x52da8a(0xee),_0x52da8a(0x112)],'width':_0x52da8a(0x20f),'height':_0x52da8a(0x174),'defaultSelected':[_0x52da8a(0x199)]}):divChartItem[_0x52da8a(0xf0)]='';if(_0x35c98b[_0x52da8a(0x160)]>0x0){const _0xc67db3=_0x35c98b[_0x52da8a(0x106)](_0x49a894=>({'label':_0x49a894[_0x52da8a(0x19c)]+'\x20('+_0x49a894['currency']+')','sales':_0x49a894[_0x52da8a(0x1e4)]}));generatePieChart({'containerId':_0x52da8a(0x187),'data':_0xc67db3,'nameField':_0x52da8a(0x111),'valueField':_0x52da8a(0x1e4),'title':_0x52da8a(0xf2),'titlePosition':'top','showTitle':![],'width':'500px','height':_0x52da8a(0xfa)});}else divChartCustomer[_0x52da8a(0xf0)]='';}catch(_0x37ad64){ntfShow(_0x52da8a(0x177)),console[_0x52da8a(0x20d)](_0x37ad64);}finally{hideLoadingModal();}}function renderTable(_0x3c7aa4,_0x2ef3a7=0x1,_0x3c8af7=_0x4fec9b(0x163)){const _0x1361e8=_0x4fec9b;currentPage=_0x2ef3a7;const _0x313fef=_0x3c8af7===_0x1361e8(0x163)?'#reporte-income':_0x3c8af7==='products'?'#reporte-income-products':_0x1361e8(0x135),_0x21db41=_0x3c8af7===_0x1361e8(0x163)?per_page:_0x3c8af7===_0x1361e8(0x12c)?per_page_products:per_page_customers,_0x18e416=document[_0x1361e8(0x13b)](_0x313fef+_0x1361e8(0x1f2));_0x18e416['innerHTML']='';const _0xf94387=(_0x2ef3a7-0x1)*_0x21db41,_0xc3a6ba=_0x3c7aa4[_0x1361e8(0x161)](_0xf94387,_0xf94387+_0x21db41);if(_0x3c8af7==='incomes'){_0xc3a6ba[_0x1361e8(0x175)](_0x5f4378=>{const _0x179a37=_0x1361e8,_0x2d70dc=document[_0x179a37(0x16a)]('tr');_0x2d70dc['innerHTML']=_0x179a37(0x109)+_0x5f4378[_0x179a37(0xf3)]+_0x179a37(0x203)+_0x5f4378[_0x179a37(0x154)]+_0x179a37(0x168)+(_0x5f4378[_0x179a37(0x130)]||'')+_0x179a37(0x1d5)+(_0x5f4378[_0x179a37(0x20e)]||'')+_0x179a37(0x11c)+_0x5f4378['setOperationDateTime']+_0x179a37(0x102)+_0x5f4378[_0x179a37(0x188)]+_0x179a37(0x19b)+_0x5f4378[_0x179a37(0x188)]+_0x179a37(0x115)+_0x5f4378[_0x179a37(0x1d3)]+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a'+_0x5f4378[_0x179a37(0x1da)]+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'+_0x5f4378[_0x179a37(0x13a)][_0x179a37(0x144)](0x2)+_0x179a37(0x10c)+_0x5f4378[_0x179a37(0x207)]+')\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a',_0x18e416[_0x179a37(0x11d)](_0x2d70dc);});const _0x54e591=_0x3c7aa4[_0x1361e8(0x18b)]((_0xe2a257,_0x516be9)=>{const _0x3c0abe=_0x1361e8,_0x3f3e17=_0x516be9[_0x3c0abe(0x1da)];return _0xe2a257[_0x3f3e17]=(_0xe2a257[_0x3f3e17]||0x0)+Number(_0x516be9['setOperationTotal']),_0xe2a257;},{});Object[_0x1361e8(0xf9)](_0x54e591)['forEach'](([_0x530766,_0x3c5cbd])=>{const _0x4e54c8=_0x1361e8,_0x153cfe=document[_0x4e54c8(0x16a)]('tr');_0x153cfe[_0x4e54c8(0xf0)]=_0x4e54c8(0x1bb)+_0x530766+'):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x4e54c8(0xf6)](_0x3c5cbd*0x64)/0x64)[_0x4e54c8(0x144)](0x2)+_0x4e54c8(0x1ea),_0x18e416['appendChild'](_0x153cfe);}),renderPagination(_0x3c7aa4,_0x2ef3a7,_0x3c8af7);}if(_0x3c8af7===_0x1361e8(0x12c)){_0xc3a6ba[_0x1361e8(0x175)](_0x217793=>{const _0x311904=_0x1361e8,_0x1f0666=document[_0x311904(0x16a)]('tr');_0x1f0666['innerHTML']=_0x311904(0x19f)+_0x217793['productName']+_0x311904(0x137)+_0x217793[_0x311904(0x14a)]+_0x311904(0x1bd)+_0x217793['sales'][_0x311904(0x144)](0x2)+_0x311904(0x1bd)+_0x217793['cost'][_0x311904(0x144)](0x2)+_0x311904(0x1bd)+_0x217793[_0x311904(0x1d9)][_0x311904(0x144)](0x2)+'</td>\x0a',_0x18e416[_0x311904(0x11d)](_0x1f0666);});const _0x3edcb5=_0x3c7aa4[_0x1361e8(0x18b)]((_0x5e0e69,_0x48e2f5)=>{const _0x5bbf01=_0x1361e8,_0x5351b8=_0x48e2f5[_0x5bbf01(0x14a)];if(!_0x5e0e69[_0x5351b8])_0x5e0e69[_0x5351b8]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x5e0e69[_0x5351b8][_0x5bbf01(0x1e4)]+=_0x48e2f5[_0x5bbf01(0x1e4)],_0x5e0e69[_0x5351b8]['cost']+=_0x48e2f5[_0x5bbf01(0x192)],_0x5e0e69[_0x5351b8][_0x5bbf01(0x1d9)]+=_0x48e2f5['profit'],_0x5e0e69;},{});Object[_0x1361e8(0xf9)](_0x3edcb5)[_0x1361e8(0x175)](([_0x16ab39,_0x38e4b7])=>{const _0x49dc8d=_0x1361e8,_0x33f771=document[_0x49dc8d(0x16a)]('tr');_0x33f771[_0x49dc8d(0xf0)]=_0x49dc8d(0x1c6)+_0x16ab39+_0x49dc8d(0xfc)+(Math[_0x49dc8d(0xf6)](_0x38e4b7[_0x49dc8d(0x1e4)]*0x64)/0x64)[_0x49dc8d(0x144)](0x2)+_0x49dc8d(0x1de)+(Math['round'](_0x38e4b7[_0x49dc8d(0x192)]*0x64)/0x64)[_0x49dc8d(0x144)](0x2)+_0x49dc8d(0x1de)+(Math['round'](_0x38e4b7['profit']*0x64)/0x64)[_0x49dc8d(0x144)](0x2)+_0x49dc8d(0x133),_0x18e416[_0x49dc8d(0x11d)](_0x33f771);}),renderPagination(_0x3c7aa4,_0x2ef3a7,_0x3c8af7);}if(_0x3c8af7===_0x1361e8(0x142)){_0xc3a6ba[_0x1361e8(0x175)](_0xc4dd89=>{const _0x2432c1=_0x1361e8,_0x7efdf0=document[_0x2432c1(0x16a)]('tr');_0x7efdf0[_0x2432c1(0xf0)]='\x0a<td\x20class=\x22td-bg-none\x22>'+_0xc4dd89[_0x2432c1(0x19c)]+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>'+_0xc4dd89[_0x2432c1(0x14a)]+_0x2432c1(0x1bd)+_0xc4dd89[_0x2432c1(0x1e4)][_0x2432c1(0x144)](0x2)+_0x2432c1(0x1bd)+_0xc4dd89[_0x2432c1(0x192)]['toFixed'](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0xc4dd89['profit'][_0x2432c1(0x144)](0x2)+'</td>\x0a',_0x18e416[_0x2432c1(0x11d)](_0x7efdf0);});const _0x58a2a5=_0x3c7aa4['reduce']((_0x141826,_0x3ef111)=>{const _0x58c494=_0x1361e8,_0x36ed04=_0x3ef111[_0x58c494(0x14a)];return!_0x141826[_0x36ed04]&&(_0x141826[_0x36ed04]={'sales':0x0,'cost':0x0,'profit':0x0}),_0x141826[_0x36ed04]['sales']+=_0x3ef111[_0x58c494(0x1e4)],_0x141826[_0x36ed04][_0x58c494(0x192)]+=_0x3ef111['cost'],_0x141826[_0x36ed04]['profit']+=_0x3ef111['profit'],_0x141826;},{});Object['entries'](_0x58a2a5)['forEach'](([_0x4f33b5,_0x1372ca])=>{const _0x5d8e98=_0x1361e8,_0x48906d=document['createElement']('tr');_0x48906d['innerHTML']='\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x4f33b5+'):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x5d8e98(0xf6)](_0x1372ca[_0x5d8e98(0x1e4)]*0x64)/0x64)[_0x5d8e98(0x144)](0x2)+_0x5d8e98(0x1de)+(Math['round'](_0x1372ca[_0x5d8e98(0x192)]*0x64)/0x64)[_0x5d8e98(0x144)](0x2)+_0x5d8e98(0x1de)+(Math[_0x5d8e98(0xf6)](_0x1372ca[_0x5d8e98(0x1d9)]*0x64)/0x64)[_0x5d8e98(0x144)](0x2)+_0x5d8e98(0x133),_0x18e416['appendChild'](_0x48906d);}),renderPagination(_0x3c7aa4,_0x2ef3a7,_0x3c8af7);}}function renderPagination(_0x4c255c,_0x296fa5,_0x3c1c0a=_0x4fec9b(0x163)){const _0x34cf2b=_0x4fec9b,_0x10de5a=_0x3c1c0a===_0x34cf2b(0x163)?document[_0x34cf2b(0x13b)](_0x34cf2b(0x16b)):_0x3c1c0a==='products'?document['querySelector'](_0x34cf2b(0x13e)):document['querySelector']('#pagination-customers'),_0x4aa607=_0x3c1c0a===_0x34cf2b(0x163)?per_page:_0x3c1c0a===_0x34cf2b(0x12c)?per_page_products:per_page_customers;_0x10de5a[_0x34cf2b(0xf0)]='';const _0x18f4df=Math[_0x34cf2b(0x1e0)](_0x4c255c['length']/_0x4aa607),_0x44a3ae=document[_0x34cf2b(0x16a)]('a');_0x44a3ae['href']='#',_0x44a3ae[_0x34cf2b(0x1ef)]=_0x34cf2b(0x150),_0x44a3ae['innerHTML']=_0x34cf2b(0x18d),_0x44a3ae['onclick']=_0x22d787=>{_0x22d787['preventDefault']();if(_0x296fa5>0x1)renderTable(_0x4c255c,_0x296fa5-0x1,_0x3c1c0a);},_0x10de5a[_0x34cf2b(0x11d)](_0x44a3ae);for(let _0x223378=0x1;_0x223378<=_0x18f4df;_0x223378++){const _0x178e4f=document['createElement']('a');_0x178e4f[_0x34cf2b(0x20a)]='#',_0x178e4f[_0x34cf2b(0x1ef)]='btn\x20btn-sm\x20'+(_0x223378===_0x296fa5?_0x34cf2b(0x1f6):_0x34cf2b(0x1f7)),_0x178e4f[_0x34cf2b(0x127)]=_0x223378,_0x178e4f['onclick']=_0x43dfef=>{const _0x59ea52=_0x34cf2b;_0x43dfef[_0x59ea52(0x120)](),renderTable(_0x4c255c,_0x223378,_0x3c1c0a);},_0x10de5a['appendChild'](_0x178e4f);}const _0x41dcbf=document[_0x34cf2b(0x16a)]('a');_0x41dcbf[_0x34cf2b(0x20a)]='#',_0x41dcbf['className']='btn\x20btn-sm\x20btn-outline\x20ms-2',_0x41dcbf['innerHTML']=_0x34cf2b(0x1fb),_0x41dcbf['onclick']=_0x3ffda0=>{const _0x5dc86b=_0x34cf2b;_0x3ffda0[_0x5dc86b(0x120)]();if(_0x296fa5<_0x18f4df)renderTable(_0x4c255c,_0x296fa5+0x1,_0x3c1c0a);},_0x10de5a[_0x34cf2b(0x11d)](_0x41dcbf);}async function setOptionsReport(_0x4fab51){const _0x2bb40a=_0x4fec9b,_0x117b92=arrayIncomes[_0x2bb40a(0x12a)](_0x596371=>_0x596371['setOperationId']==_0x4fab51);if(!_0x117b92){console[_0x2bb40a(0x20d)](_0x2bb40a(0x200)+_0x4fab51+'\x20no\x20encontrada.');return;}const [_0xa9e052]=buildIncomePayloads([_0x117b92]);console['log'](_0xa9e052);try{const {pdfBlob:_0x2ef824,pdfName:_0x497664}=await generatePdf(_0xa9e052,'tk',_0x2bb40a(0x1d4),'1.5'),_0x2bc0e5=0x1;setLastOperationGlobalData(_0x2bc0e5,{'pdfGlobalPayload':_0xa9e052,'pdfGlobalBlob':_0x2ef824,'pdfGlobalName':_0x497664}),showModal();}catch(_0x18a190){console[_0x2bb40a(0x20d)](_0x2bb40a(0x11b),_0x18a190);}}function buildIncomePayloads(_0x1e0c2d){return _0x1e0c2d['map'](_0x2e00b9=>{const _0x3207dd=_0x3e44,{setOperationId:_0x5eeb80,setOperationDateTime:_0xb3b82b,setOperationType:_0x4b785d,setOperationSeries:_0x3c8184,setOperationTotal:_0x108015,setOperationCurrency:_0x378205,setOperationCustomerName:_0x3bd8dd,setOperationPaymentStatusName:_0x4beec1,setOperationPaymentStatusColor:_0x2661dd,setOperationItems:setOperationItems=[]}=_0x2e00b9,_0x4ee4a5=new Date(_0xb3b82b),_0x3f5fa3=_0x4ee4a5[_0x3207dd(0x20b)]()[_0x3207dd(0x206)]('T')[0x0],_0x45449d=_0x4ee4a5['toTimeString']()[_0x3207dd(0x206)]('\x20')[0x0],[_0x3f7797,_0x1d5109]=(_0x3c8184||'')['split']('-'),_0x3d8f2b=Number(_0x1d5109)||0x0,_0x5ac101=setOperationItems[_0x3207dd(0x106)](_0x2240a4=>({'cartId':_0x2240a4[_0x3207dd(0x1f0)]||'','id':_0x2240a4['id']||0x0,'setAccountingAccountCode':_0x2240a4['setAccountingAccountCode']||'','setAccountingAccountId':_0x2240a4['setAccountingAccountId']||0x0,'setAccountingAccountName':_0x2240a4[_0x3207dd(0x1d6)]||'','setAccountingAccountType':_0x2240a4[_0x3207dd(0x197)]||0x0,'setCantidad':_0x2240a4['setCantidad']||0x0,'setChecked':_0x2240a4['setChecked']||0x0,'setCodProducto':_0x2240a4[_0x3207dd(0x14d)]||'','setDescripcion':_0x2240a4['setDescripcion']||'','setDescuento':{'setCodTipo':_0x2240a4[_0x3207dd(0x172)]&&_0x2240a4[_0x3207dd(0x172)][_0x3207dd(0x148)]||'','setPorcentajeDesc':_0x2240a4['setDescuento']&&_0x2240a4[_0x3207dd(0x172)][_0x3207dd(0x12d)]||0x0},'setIdProducto':_0x2240a4['setIdProducto']||0x0,'setIgv':_0x2240a4[_0x3207dd(0x143)]||0x0,'setInventariable':_0x2240a4[_0x3207dd(0x1d2)]||0x0,'setItemDescription':_0x2240a4['setItemDescription']||'','setItemFree':_0x2240a4[_0x3207dd(0x1c0)]||0x0,'setMarca':_0x2240a4[_0x3207dd(0x1f3)]||'','setMtoBaseIgv':_0x2240a4['setMtoBaseIgv']||0x0,'setMtoPrecioCostoUnitario_input':_0x2240a4['setMtoPrecioCostoUnitario_input']||0x0,'setMtoPrecioUnitario':_0x2240a4[_0x3207dd(0x16e)]||0x0,'setMtoPrecioUnitario_final':_0x2240a4[_0x3207dd(0xfb)]||0x0,'setMtoPrecioUnitario_input':_0x2240a4[_0x3207dd(0x101)]||'','setMtoValorCostoUnitario_input':_0x2240a4[_0x3207dd(0x17a)]||0x0,'setMtoValorGratuito':_0x2240a4[_0x3207dd(0x1cf)]||0x0,'setMtoValorUnitario':_0x2240a4['setMtoValorUnitario']||0x0,'setMtoValorUnitario_final':_0x2240a4[_0x3207dd(0x1c2)]||0x0,'setMtoValorUnitario_input':_0x2240a4['setMtoValorUnitario_input']||'','setMtoValorVenta':_0x2240a4['setMtoValorVenta']||0x0,'setNotas':_0x2240a4[_0x3207dd(0x1fc)]||'','setOrderId':_0x2240a4[_0x3207dd(0x1f8)]||'','setPorcentajeIgv':_0x2240a4[_0x3207dd(0x1fd)]||0x0,'setTaxId':_0x2240a4[_0x3207dd(0x1e6)]||0x0,'setTipAfeIgv':_0x2240a4['setTipAfeIgv']||'','setTotal':_0x2240a4[_0x3207dd(0x1dd)]||0x0,'setTotalImpuestos':_0x2240a4['setTotalImpuestos']||0x0,'setUnidad':_0x2240a4['setUnidad']||'','setVisible':_0x2240a4[_0x3207dd(0x124)]||0x0,'setWindowShiftId':_0x2240a4[_0x3207dd(0xf5)]||''}));return{'apiPOSsendOffline':0x0,'id':_0x5eeb80,'setAttachEdit':'1','setBranchAddress':'','setCashierId':'','setCashierName':'','setClientSupplierDistrict':'','setClienteDenominacion':_0x3bd8dd||'','setClienteDireccion':'','setClienteNumDoc':'','setClienteTipoDoc':'','setSerie':_0x3f7797||'','setCorrelativo':_0x3d8f2b,'setCurrencyName':_0x378205||'','setCurrencySymbol':'','setCustomerEmail':'','setCustomerPhone':'','setDescuentoGlobal_Monto':'','setDespacho':'','setDetraccion':'','setDetraccionCodigo':'','setDetraccionCodigoName':'','setDetraccionPorcentaje':'','setDetraccionTotal':'','setDocumentType':_0x4b785d||'','setEnvironmentName':'','setFechaHora':_0x3f5fa3+'T'+_0x45449d,'setFechaHoraReadonly':'','setIdOperation':'','setLastFechaHora':new Date(),'setMedioPago':{'contado':{'data':{},'status':![]},'credito':{'data':null,'status':![]},'mixto':{'data':null,'status':![]}},'setMoneda':_0x378205||'','setMtoDescItems':0x0,'setMtoDescItems_precio':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setMtoImpVenta':_0x108015||0x0,'setMtoOperExoneradas':0x0,'setMtoOperGratuitas':0x0,'setMtoOperGravadas':0x0,'setMtoOperInafectas':0x0,'setObservacion':'','setOperationDateExpiration':'','setOperationDateTransfer':'','setOperationDriverCertificate':'','setOperationDriverDocNumber':'','setOperationDriverDocType':'','setOperationDriverId':'','setOperationDriverLicense':'','setOperationDriverName':'','setOperationMaintenanceNextDate':'','setOperationMileage':'','setOperationOrderType':'','setOperationPlaceArrivalAddress':'','setOperationPlaceArrivalCode':'','setOperationPlaceArrivalDistrict':'','setOperationPlaceArrivalId':'','setOperationPlaceStartAddress':'','setOperationPlaceStartCode':'','setOperationPlaceStartDistrict':'','setOperationPlaceStartId':'','setOperationTransferReason':'','setOperationTransportationMode':'','setOperationVehicleBrand':'','setOperationVehicleId':'','setOperationVehicleName':'','setOperationVehiclePlate':'','setPercepcion':'','setPercepcionPorcentaje':'','setPercepcionTotal':'','setProductos':_0x5ac101,'setRetencion':'','setRetencionPorcentaje':'','setRetencionTotal':'','setSellerId':'','setSellerName':'','setShiftId':'','setSubTotal':0x0,'setSucursalCodigo':'','setSucursalNombre':'','setTipoOperacion':'2','setTipoOperacionInvoice':'1','setToken':'','setTotalImpuestos':0x0,'setValorVenta':0x0,'setWarehouseId':'','setWarehouseName':'','setWebhook':'','setWindowName':'','setWindowShiftId':'','setWindowType':'','windowId':'1'};});}let currentExportMode=_0x4fec9b(0x17c);const WA_CRED_ID=_0x4fec9b(0x19a),WA_DEST_NUMBER='51954738620',EMAIL_AUTH_TOKEN='YOUR_EMAIL_AUTH_TOKEN',EMAIL_SENDER_NAME=_0x4fec9b(0x1dc),EMAIL_SENDER_ADDR=_0x4fec9b(0x1d0),EMAIL_SENDER_PASS=_0x4fec9b(0x19e),EMAIL_SMTP_HOST=_0x4fec9b(0x108),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=[_0x4fec9b(0x1a5)],reportWorker=new Worker(_0x4fec9b(0x1b3));reportWorker['onmessage']=({data:_0x5a8e64})=>{const _0x2a60cf=_0x4fec9b,{type:_0x43ac2d,payload:_0x46a119,reportType:_0x318855}=_0x5a8e64;if(_0x43ac2d==='exportDone'){const _0x209a25=new Blob([_0x46a119],{'type':'application/octet-stream'}),_0x20e86b=new Date()[_0x2a60cf(0x20b)]()['slice'](0x0,0xa),_0x4418ab=_0x318855+'_'+_0x20e86b+_0x2a60cf(0x1b8),_0x281aa4=_0x38f0e2=>new Promise((_0x2359c3,_0x5362b6)=>{const _0x22078d=_0x2a60cf,_0x3d22a4=new FileReader();_0x3d22a4[_0x22078d(0x205)]=()=>_0x5362b6(_0x3d22a4[_0x22078d(0x20d)]),_0x3d22a4[_0x22078d(0x15f)]=()=>_0x2359c3(_0x3d22a4['result'][_0x22078d(0x206)](',')[0x1]),_0x3d22a4[_0x22078d(0x184)](_0x38f0e2);});switch(currentExportMode){case _0x2a60cf(0x17c):{const _0x2bc634=URL[_0x2a60cf(0x10f)](_0x209a25),_0x44301f=document[_0x2a60cf(0x16a)]('a');_0x44301f[_0x2a60cf(0x20a)]=_0x2bc634,_0x44301f[_0x2a60cf(0x17c)]=_0x4418ab,_0x44301f[_0x2a60cf(0x1bc)](),URL[_0x2a60cf(0x10a)](_0x2bc634);}break;case _0x2a60cf(0x12f):{_0x281aa4(_0x209a25)[_0x2a60cf(0x1b4)](_0x3faeed=>{const _0x21a3cc=_0x2a60cf;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x21a3cc(0x1c3),_0x3faeed,'Reporte\x20'+_0x318855+'\x20al\x20'+_0x20e86b,_0x4418ab,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')[_0x21a3cc(0xef)](_0x2d1897=>{console['error']('Error\x20WA:',_0x2d1897),ntfShow('Error\x20al\x20enviar\x20por\x20WhatsApp.');});});}break;case _0x2a60cf(0x100):{_0x281aa4(_0x209a25)['then'](_0x2a2948=>{const _0x3d755c=_0x2a60cf;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,'Reporte\x20'+_0x318855+_0x3d755c(0x104)+_0x20e86b,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x4418ab,'content':_0x2a2948,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;case _0x2a60cf(0x140):{_0x281aa4(_0x209a25)[_0x2a60cf(0x1b4)](_0xec9be6=>{const _0x2b9dfe=_0x2a60cf;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x2b9dfe(0x1c3),_0xec9be6,_0x2b9dfe(0x208)+_0x318855+_0x2b9dfe(0x149)+_0x20e86b,_0x4418ab,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')[_0x2b9dfe(0xef)](_0x103f9f=>console[_0x2b9dfe(0x20d)]('Error\x20WA:',_0x103f9f)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x2b9dfe(0x208)+_0x318855+'\x20-\x20'+_0x20e86b,_0x2b9dfe(0x1ec),[{'filename':_0x4418ab,'content':_0xec9be6,'mimetype':_0x2b9dfe(0x1e5)}]);});}break;default:console[_0x2a60cf(0x20d)](_0x2a60cf(0x1cd),currentExportMode);}}_0x43ac2d===_0x2a60cf(0x20d)&&(console[_0x2a60cf(0x20d)]('Export\x20WK\x20Error:',_0x46a119),ntfShow(_0x2a60cf(0x1eb)));},document[_0x4fec9b(0x1c5)](_0x4fec9b(0xf1))[_0x4fec9b(0x134)](_0x4fec9b(0x1bc),()=>{const _0xe34895=_0x4fec9b;onClickExport(_0xe34895(0x17c));});function onClickExport(_0x5e5454='download'){const _0x51a493=_0x4fec9b;if(!Array[_0x51a493(0x157)](arrayIncomes)||!arrayIncomes[_0x51a493(0x160)])return ntfShow(_0x51a493(0x1db));currentExportMode=_0x5e5454;const _0x1f4325=arrayIncomes[_0x51a493(0x106)](_0x391ae6=>{const _0xc96b90=_0x51a493,[_0xf19170]=_0x391ae6[_0xc96b90(0x15a)]['split']('\x20'),[_0x1a6d18,_0x3f2fc2,_0x376d26]=_0xf19170[_0xc96b90(0x206)]('-');return{'Periodo':''+_0x1a6d18+_0x3f2fc2,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x376d26+'/'+_0x3f2fc2+'/'+_0x1a6d18,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x391ae6['setOperationCurrency'],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0x51a493(0xed)]({'action':'exportReport','reportType':'PLE_Ventas','report':_0x1f4325});}window['onload']=function(){const _0x51010e=_0x4fec9b,_0x2c31b6=0x3;loadLoginContent(_0x51010e(0x18c)),setUserNameGet(),setEventBtnAccess();const _0x47dd28=document['querySelector'](_0x51010e(0x12e));_0x47dd28&&_0x47dd28[_0x51010e(0x134)]('click',function(){logoutReload(0x0,_0x2c31b6);}),document['getElementById']('setBranchId')[_0x51010e(0x134)]('change',async function(){const _0x2e13ba=_0x51010e,_0x196410=parseInt(this['value']);myCompany[_0x2e13ba(0x1c7)]=_0x196410;const _0x13ed96=await createCartStore('');await saveCompanyToIndexedDB(company,_0x13ed96),await cargarPisos(_0x196410),await waitForEvent(_0x2e13ba(0x1be),'EnvironmentChangeComplete'),await cargarAlmacenes(_0x196410),await waitForEvent(_0x2e13ba(0x1d7),_0x2e13ba(0x12b)),document[_0x2e13ba(0x1fe)](new Event(_0x2e13ba(0x1ce))),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x2e13ba(0x141)](_0x196410),consultIncomeReport();}),document[_0x51010e(0x1c5)]('setWarehouseId')['addEventListener'](_0x51010e(0xf4),async function(){const _0x32a874=_0x51010e;document['dispatchEvent'](new Event(_0x32a874(0x12b)));}),document[_0x51010e(0x1c5)]('setFloorId')[_0x51010e(0x134)](_0x51010e(0xf4),async function(_0x5487b6){const _0x27b8a3=_0x51010e;document[_0x27b8a3(0x1fe)](new Event(_0x27b8a3(0x164)));}),loadCartAndSetTabCount(_0x2c31b6);};