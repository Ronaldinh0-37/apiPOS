/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.6
*/

var _0x3bfe46=_0x2c80;(function(_0x4e4ebf,_0x5d6fc1){var _0x4290eb=_0x2c80,_0x2e9b57=_0x4e4ebf();while(!![]){try{var _0x1cc222=-parseInt(_0x4290eb(0x195))/0x1*(-parseInt(_0x4290eb(0x1bc))/0x2)+parseInt(_0x4290eb(0x250))/0x3+-parseInt(_0x4290eb(0x1e8))/0x4+-parseInt(_0x4290eb(0x1f2))/0x5+parseInt(_0x4290eb(0x19f))/0x6*(parseInt(_0x4290eb(0x181))/0x7)+-parseInt(_0x4290eb(0x226))/0x8*(-parseInt(_0x4290eb(0x261))/0x9)+-parseInt(_0x4290eb(0x1e9))/0xa*(parseInt(_0x4290eb(0x189))/0xb);if(_0x1cc222===_0x5d6fc1)break;else _0x2e9b57['push'](_0x2e9b57['shift']());}catch(_0xdb714){_0x2e9b57['push'](_0x2e9b57['shift']());}}}(_0x64b7,0xd4d90));var _0x467a73=(function(){var _0x1905ff=!![];return function(_0x3290f8,_0x43f7fe){var _0x6690d0=_0x1905ff?function(){var _0x1990e5=_0x2c80;if(_0x43f7fe){var _0x22a2af=_0x43f7fe[_0x1990e5(0x1ad)](_0x3290f8,arguments);return _0x43f7fe=null,_0x22a2af;}}:function(){};return _0x1905ff=![],_0x6690d0;};}()),_0x2612c5=_0x467a73(this,function(){var _0x3f6358=_0x2c80;return _0x2612c5['toString']()[_0x3f6358(0x1cc)](_0x3f6358(0x243))[_0x3f6358(0x1dc)]()['constructor'](_0x2612c5)[_0x3f6358(0x1cc)](_0x3f6358(0x243));});_0x2612c5();var _0x3c45f5=(function(){var _0x52690b=!![];return function(_0x309bbd,_0x265ba2){var _0x8642fb=_0x52690b?function(){var _0x11504d=_0x2c80;if(_0x265ba2){var _0xc5cc3c=_0x265ba2[_0x11504d(0x1ad)](_0x309bbd,arguments);return _0x265ba2=null,_0xc5cc3c;}}:function(){};return _0x52690b=![],_0x8642fb;};}()),_0x5d3a2f=_0x3c45f5(this,function(){var _0x31afc0=_0x2c80,_0x3e33df;try{var _0x4d2bb2=Function(_0x31afc0(0x287)+_0x31afc0(0x265)+');');_0x3e33df=_0x4d2bb2();}catch(_0x4ee8bb){_0x3e33df=window;}var _0x55dcbf=_0x3e33df[_0x31afc0(0x22d)]=_0x3e33df[_0x31afc0(0x22d)]||{},_0x8167c7=[_0x31afc0(0x24c),'warn',_0x31afc0(0x216),_0x31afc0(0x284),_0x31afc0(0x1e7),'table',_0x31afc0(0x27e)];for(var _0x4fed80=0x0;_0x4fed80<_0x8167c7['length'];_0x4fed80++){var _0x22d41e=_0x3c45f5[_0x31afc0(0x1ee)]['prototype'][_0x31afc0(0x17f)](_0x3c45f5),_0x41e0b0=_0x8167c7[_0x4fed80],_0x54c95c=_0x55dcbf[_0x41e0b0]||_0x22d41e;_0x22d41e['__proto__']=_0x3c45f5[_0x31afc0(0x17f)](_0x3c45f5),_0x22d41e[_0x31afc0(0x1dc)]=_0x54c95c[_0x31afc0(0x1dc)]['bind'](_0x54c95c),_0x55dcbf[_0x41e0b0]=_0x22d41e;}});_0x5d3a2f();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById']('newItem_images_container'),unitCount=0x0,branchesC=document[_0x3bfe46(0x294)](_0x3bfe46(0x248)),prodC=document[_0x3bfe46(0x294)](_0x3bfe46(0x25c)),vgCount=0x0,varContainer=document[_0x3bfe46(0x294)]('newItem_variants_forms'),vgC=document[_0x3bfe46(0x294)]('newItem_variant_groups');const fileInput=document[_0x3bfe46(0x294)](_0x3bfe46(0x180)),progressBar=document[_0x3bfe46(0x294)](_0x3bfe46(0x21e)),statusDiv=document[_0x3bfe46(0x294)]('status'),uploadBtn=document[_0x3bfe46(0x294)](_0x3bfe46(0x218));function _0x64b7(){var _0x3b9180=['setFactor','setItemBarCode','toString','setItemImages','Error\x20al\x20guardar\x20Producto\x20Offline:','setItemTaxValue','readAsDataURL','change','setMarca','#newItem_brands_select\x20.selected_tags','setName','from','.prodQty','exception','2728zohGfK','1720oftdsO','textContent','.variantExpiry','setItemVariantValues','dataset','constructor','setUnitCode','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','stopPropagation','784965WgtTYA','#newItem_categories_select\x20.options_list','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','files','setItemId','classList','Collator','dragover','dispatchEvent','postMessage','offline_operations','test','contains','setUnitPresentationId','message','inputItemTax','setAlias','_comp_container','Items\x20finales:','[data-idx=\x22','focus','setItemDescription','span','innerHTML','max','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','</div>','preventDefault','string','drop-zone','inputItemCode','.branchChk','drop','.prodInput','createElement','info','display','upload-btn','addEventListener','.drop-zone__prompt','<img\x20src=\x22','toLowerCase','productType1','progress','onload','objectStore','push','setItemIsBought','hidden','compare','name','8ruBOsb','newItem_title_table_cp','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','setWarehouseId','sort','inputItemDescription','newItem_btn_addVariantGroup','console','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','windowId','find','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','setItemTaxId','.unitSelect','parentNode','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','querySelectorAll','parse','.removeGroup','split','.branchMin','newItem_hidden','newItem_btn_addUnit','onerror','click','100','.variantCode','.prod_input_container','style','(((.+)+)+)+$','modalOverlayCreateItem','_branch_container','code','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','newItem_branches_container','items','setItemDateExpiry','setStockMinimum','log','newItem_addToCart','\x22\x20value=\x22','input','4458507OgOuZr','inputItemName','readwrite','unitSelect','setItemInventoriable','setImpuestoName','./js/apierp_item_wk.min.js','variantForm','setCode','target','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','setItemTaxCode','newItem_proditems_container','.removeProd','btnItemSave','some','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','15268140ssgNkh','Error\x20al\x20procesar\x20la\x20operaci贸n:','setItemCode','detalleModalCreateItem','{}.constructor(\x22return\x20this\x22)(\x20)','.addVariantUnit','.removeUnit','.branchInit','flatMap','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','join','length','currentTarget','map','inputItemType','now','remove','newItem_brands_select','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','newItem_chk_buy','.eqInput','option','./img/product.png','setDefault','splice','idx','vals','remove-tag','trace','setAuthToken','disabled','#newItem_units_container\x20>\x20div','.variantForm','setUnidad','error','.vgVals','div','return\x20(function()\x20','newItem_chk_sell','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','includes','inputItemDateExpiry','eqInput','setImpuestos','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','appendChild','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','keydown','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','priceInput','getElementById','remove-file','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','setTaxId','defineProperty','image/*','setDescripcion','base','setItemWarehouses','setImpuestoValue','undefined','setCodProducto','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','_units_container','dragenter','bind','file-input','60949eYMNRC','setItemCategories','true','Ingresa\x20el\x20nombre\x20del\x20item','newItem_categories_select','.unitAlias','setWarehouseCode','dragleave','223597HKitTE','blur','selectedItem','setImpuestoCode','newItem_units_container','indexOf','\x22\x20class=\x22branchChk\x22>\x20','setWarehouseName','setItemBrands','div[data-default=\x22true\x22]\x20.eqInput','image_box','querySelector','71oevcCK','setItemVariantName','.priceInput','active','setMoneda','stringify','setTaxIdDefault','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','.variantBarCode','setStockInitial','408IzmCNv','variant_','setCantidad','every','add','trim','file','setItemFree','.removeCombo','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','.costInput','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','newItem_btn_addProdItem','arrayBuffer','apply','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','.addVariantComp','filter','toggle','type','Nuevo\x20Producto','setItemName','assign','slice','match','隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!','className','value','forEach','21156QmgfbW','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','.vgName','selectionChange','block','Enter','Producto\x20Libre','children','closest','.selected_tags','setPrice','dataTransfer','setCost','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setItemIsSold','checked','search','setItemComponents','tag','setItemUnits','inputItemBarCode','oncomplete','default','none','onmessage','\x20items\x20procesados.','#newItem_branches_container\x20>\x20div','setWebhook','findIndex','\x22\x20class=\x22branchChk\x22\x20checked>\x20'];_0x64b7=function(){return _0x3b9180;};return _0x64b7();}let newItemsExcel=null;const itemWorker=new Worker(_0x3bfe46(0x256)),dropZone=document[_0x3bfe46(0x294)](_0x3bfe46(0x210)),removeBtn=document[_0x3bfe46(0x294)](_0x3bfe46(0x295));function showModalCreateItem(_0x18458f){var _0x1068b0=_0x3bfe46;const _0xda7b32=document['getElementById']('detalleModalCreateItem'),_0x16a7b3=document[_0x1068b0(0x294)](_0x1068b0(0x244));_0xda7b32['classList']['add'](_0x1068b0(0x198)),_0x16a7b3[_0x1068b0(0x242)]['display']=_0x1068b0(0x1c0);const _0xf9b658=document['getElementById'](_0x1068b0(0x1a6));_0xf9b658[_0x1068b0(0x1ba)]=parseInt(_0x18458f),baseItem[_0x1068b0(0x1a6)]=parseInt(_0x18458f);const _0x2b4ee4=document['getElementById']('modalProductNewTitle');_0x18458f==0x0&&(_0x2b4ee4[_0x1068b0(0x209)]=_0x1068b0(0x1b3));_0x18458f==0x1&&(_0x2b4ee4[_0x1068b0(0x209)]=_0x1068b0(0x1c2));const _0x45dae1=document['getElementsByClassName'](_0x1068b0(0x21d));for(let _0x5be866=0x0;_0x5be866<_0x45dae1[_0x1068b0(0x26d)];_0x5be866++){const _0x551dfa=_0x45dae1[_0x5be866];if(_0x18458f==0x0)_0x551dfa[_0x1068b0(0x1f7)][_0x1068b0(0x272)](_0x1068b0(0x223));else _0x18458f==0x1&&_0x551dfa[_0x1068b0(0x1f7)]['add'](_0x1068b0(0x223));}}function hideModalCreateItem(){var _0x3b778d=_0x3bfe46;const _0x4faa8f=document[_0x3b778d(0x294)](_0x3b778d(0x264)),_0x2cf9d4=document[_0x3b778d(0x294)](_0x3b778d(0x244));_0x4faa8f[_0x3b778d(0x1f7)][_0x3b778d(0x272)](_0x3b778d(0x198)),_0x2cf9d4[_0x3b778d(0x242)][_0x3b778d(0x217)]=_0x3b778d(0x1d3);}document[_0x3bfe46(0x294)]('closeModalCreateItem')[_0x3bfe46(0x219)](_0x3bfe46(0x23e),hideModalCreateItem),document[_0x3bfe46(0x294)](_0x3bfe46(0x244))[_0x3bfe46(0x219)](_0x3bfe46(0x23e),_0x45a454=>{var _0x530e18=_0x3bfe46;_0x45a454[_0x530e18(0x259)]==_0x45a454[_0x530e18(0x26e)]&&_0x45a454[_0x530e18(0x1f1)]();});function loadTaxData(){var _0x5c80a5=_0x3bfe46;const _0x1b40a6=document['getElementById'](_0x5c80a5(0x201));_0x1b40a6[_0x5c80a5(0x209)]='',company[0x0]['setImpuestos'][_0x5c80a5(0x1bb)](function(_0x3a255e){var _0x10cedb=_0x5c80a5;const _0x853091=document[_0x10cedb(0x215)](_0x10cedb(0x277));_0x853091[_0x10cedb(0x1ba)]=_0x3a255e[_0x10cedb(0x297)],_0x853091[_0x10cedb(0x209)]=_0x3a255e[_0x10cedb(0x255)]+'\x20('+_0x3a255e[_0x10cedb(0x179)]+'%)',_0x3a255e[_0x10cedb(0x297)]==company[0x0][_0x10cedb(0x19b)]&&(_0x853091['selected']=!![]),_0x1b40a6[_0x10cedb(0x28f)](_0x853091);});}function uniqueValuesArray(_0x48a5c5,_0x1c29df,_0x23e21c){var _0x40a5ad=_0x3bfe46;const _0x5f1b2f=Array['from'](new Set(_0x23e21c['map'](_0x26cab3=>{var _0x1d79e0=_0x2c80;const _0x24df7b=_0x26cab3[_0x48a5c5];return typeof _0x24df7b===_0x1d79e0(0x20f)?_0x24df7b[_0x1d79e0(0x1a4)]():_0x24df7b;})['filter'](_0xdaca02=>_0xdaca02!=null&&_0xdaca02!=='')));return _0x5f1b2f[_0x40a5ad(0x26f)](_0x57775c=>{var _0x2e9661=_0x40a5ad;const _0x4027d5=_0x23e21c['find'](_0x4ed532=>_0x4ed532[_0x48a5c5]===_0x57775c),_0x598d6c=_0x4027d5&&_0x4027d5[_0x1c29df]!=null?String(_0x4027d5[_0x1c29df])[_0x2e9661(0x1a4)]():_0x57775c;return{'setCode':_0x57775c,'setName':_0x598d6c};});}function fillSelect(_0x283160,_0x5ea40d,_0x2c1d2f,_0x518ab5){var _0x4882c4=_0x3bfe46;_0x283160[_0x4882c4(0x209)]='',_0x5ea40d[_0x4882c4(0x1bb)](function(_0x39faae){var _0x583607=new Option(_0x39faae[_0x518ab5],_0x39faae[_0x2c1d2f]);_0x283160['add'](_0x583607);});}function initMulti(_0x1611e8,_0x14f0da){var _0x531a8c=_0x3bfe46,_0x36bcc7=document[_0x531a8c(0x294)](_0x1611e8),_0x381976=_0x36bcc7[_0x531a8c(0x194)]('.ms_input'),_0x36edbf=_0x36bcc7[_0x531a8c(0x194)]('.options_list'),_0x1ef9ca=_0x36bcc7[_0x531a8c(0x194)](_0x531a8c(0x1c5)),_0x2eec1d=_0x14f0da[_0x531a8c(0x1b6)](),_0x14689b=[];function _0x4a15d0(){var _0x304bee=_0x531a8c;_0x36edbf[_0x304bee(0x209)]='',_0x2eec1d[_0x304bee(0x1b0)](function(_0x2716d2){var _0x3d3d89=_0x304bee;return _0x2716d2['setName']['toLowerCase']()[_0x3d3d89(0x18e)](_0x381976[_0x3d3d89(0x1ba)][_0x3d3d89(0x21c)]())!==-0x1;})[_0x304bee(0x1bb)](function(_0x5afb4e){var _0x577fb6=_0x304bee,_0x5b35c3=document['createElement'](_0x577fb6(0x286));_0x5b35c3['textContent']=_0x5afb4e[_0x577fb6(0x1e4)],_0x5b35c3[_0x577fb6(0x1ed)][_0x577fb6(0x246)]=_0x5afb4e[_0x577fb6(0x258)],_0x36edbf[_0x577fb6(0x28f)](_0x5b35c3),_0x5b35c3[_0x577fb6(0x219)](_0x577fb6(0x23e),function(){var _0x3ead09=_0x577fb6;_0x14689b[_0x3ead09(0x221)](_0x5afb4e),_0x2eec1d[_0x3ead09(0x27a)](_0x2eec1d['findIndex'](function(_0x37fa3b){var _0x20c9c4=_0x3ead09;return _0x37fa3b[_0x20c9c4(0x258)]===_0x5afb4e[_0x20c9c4(0x258)];}),0x1),_0x381976['value']='',_0x359089(),_0x4a15d0();});});}function _0x359089(){var _0x686ab4=_0x531a8c;_0x1ef9ca[_0x686ab4(0x209)]='',_0x14689b['forEach'](function(_0x450c08){var _0x2f2dfa=_0x686ab4,_0x1381a2=document[_0x2f2dfa(0x215)](_0x2f2dfa(0x286));_0x1381a2[_0x2f2dfa(0x1b9)]=_0x2f2dfa(0x1ce),_0x1381a2[_0x2f2dfa(0x1ea)]=_0x450c08[_0x2f2dfa(0x1e4)];var _0x42e2e8=document[_0x2f2dfa(0x215)](_0x2f2dfa(0x208));_0x42e2e8[_0x2f2dfa(0x1b9)]=_0x2f2dfa(0x27d),_0x42e2e8[_0x2f2dfa(0x1ea)]='',_0x42e2e8[_0x2f2dfa(0x219)]('click',function(){var _0x3122f3=_0x2f2dfa;_0x2eec1d[_0x3122f3(0x221)](_0x450c08);const _0x1ace1e=_0x14689b[_0x3122f3(0x1d8)](function(_0x42674a){var _0xd7f3ec=_0x3122f3;return _0x42674a[_0xd7f3ec(0x258)]===_0x450c08[_0xd7f3ec(0x258)];});if(_0x1ace1e>-0x1)_0x14689b['splice'](_0x1ace1e,0x1);_0x359089(),_0x4a15d0();}),_0x1381a2['appendChild'](_0x42e2e8),_0x1ef9ca[_0x2f2dfa(0x28f)](_0x1381a2);}),_0x36bcc7[_0x686ab4(0x1fa)](new CustomEvent(_0x686ab4(0x1bf),{'bubbles':!![]}));}return _0x381976['addEventListener']('focus',function(){var _0x502929=_0x531a8c;_0x36edbf['classList'][_0x502929(0x272)](_0x502929(0x23b));}),_0x381976[_0x531a8c(0x219)](_0x531a8c(0x24f),_0x4a15d0),_0x381976[_0x531a8c(0x219)](_0x531a8c(0x291),function(_0x5efe93){var _0x49f5ef=_0x531a8c;if(_0x5efe93['key']===_0x49f5ef(0x1c1)){_0x5efe93[_0x49f5ef(0x20e)]();const _0x173429=_0x381976[_0x49f5ef(0x1ba)][_0x49f5ef(0x1a4)]();if(!_0x173429)return;const _0x768f4f=_0x14689b[_0x49f5ef(0x25f)](_0x46ece2=>_0x46ece2[_0x49f5ef(0x1e4)]===_0x173429),_0x8b96e3=_0x2eec1d[_0x49f5ef(0x25f)](_0x371ffa=>_0x371ffa['setName']===_0x173429);if(!_0x768f4f&&!_0x8b96e3){const _0x28f208={'setCode':_0x173429,'setName':_0x173429};_0x14689b[_0x49f5ef(0x221)](_0x28f208),_0x359089(),_0x4a15d0();}_0x381976[_0x49f5ef(0x1ba)]='';}}),document[_0x531a8c(0x219)](_0x531a8c(0x23e),function(_0x5b329c){var _0x2d6c99=_0x531a8c;if(!_0x36bcc7[_0x2d6c99(0x1fe)](_0x5b329c['target']))_0x36edbf[_0x2d6c99(0x1f7)][_0x2d6c99(0x1a3)]('newItem_hidden');}),_0x4a15d0(),_0x14689b;}function getLastCode(_0x2bcdd5){var _0x280756=_0x3bfe46;const _0x2ac59e=_0x2bcdd5[_0x280756(0x26f)](_0x180718=>String(_0x180718[_0x280756(0x17b)])['trim']())['filter'](_0x36c66=>_0x36c66!=='');if(_0x2ac59e[_0x280756(0x26d)]===0x0)return'';const _0x58fd63=_0x2ac59e[_0x280756(0x1a2)](_0xd679c8=>/^\d+$/[_0x280756(0x1fd)](_0xd679c8));if(_0x58fd63){const _0x3a4efb=_0x2ac59e['map'](Number),_0xefc8d5=Math[_0x280756(0x20a)](..._0x3a4efb);return String(_0xefc8d5);}let _0x3b3a39;if(typeof Intl!==_0x280756(0x17a)&&Intl['Collator']){const _0x1d9017=new Intl[(_0x280756(0x1f8))](undefined,{'numeric':!![],'sensitivity':_0x280756(0x29b)});_0x3b3a39=_0x2ac59e[_0x280756(0x1b6)]()['sort'](_0x1d9017[_0x280756(0x224)]);}else{const _0x1a9996=_0x2ac59e['every'](_0x5f0e6b=>/^\d+$/[_0x280756(0x1fd)](_0x5f0e6b));_0x1a9996?_0x3b3a39=_0x2ac59e[_0x280756(0x26f)](Number)[_0x280756(0x22a)]((_0x49f372,_0x465e98)=>_0x49f372-_0x465e98)[_0x280756(0x26f)](String):_0x3b3a39=_0x2ac59e[_0x280756(0x1b6)]()[_0x280756(0x22a)]();}return _0x3b3a39[_0x3b3a39['length']-0x1];}function getNextCode(_0x2f4189){var _0x28e1fa=_0x3bfe46;const _0x1c84be=getLastCode(_0x2f4189);if(!_0x1c84be)return'';if(/^\d+$/['test'](_0x1c84be))return String(Number(_0x1c84be)+0x1);const _0x3c7940=_0x1c84be[_0x28e1fa(0x1b7)](/^([A-Za-z]*)(\d+)$/);if(_0x3c7940){const [,_0xf58314,_0x383899]=_0x3c7940,_0x2ff193=String(Number(_0x383899)+0x1)['padStart'](_0x383899[_0x28e1fa(0x26d)],'0');return _0xf58314+_0x2ff193;}return _0x1c84be;}document[_0x3bfe46(0x294)](_0x3bfe46(0x251))[_0x3bfe46(0x219)](_0x3bfe46(0x24f),function(_0x1a2458){var _0x429470=_0x3bfe46;baseItem[_0x429470(0x1b4)]=_0x1a2458[_0x429470(0x259)]['value'];}),document[_0x3bfe46(0x294)]('inputItemDescription')[_0x3bfe46(0x219)](_0x3bfe46(0x24f),function(_0x47f7f0){var _0x2d3819=_0x3bfe46;baseItem[_0x2d3819(0x207)]=_0x47f7f0[_0x2d3819(0x259)][_0x2d3819(0x1ba)];}),document[_0x3bfe46(0x294)](_0x3bfe46(0x28b))['addEventListener']('input',function(_0x287609){var _0x31acc3=_0x3bfe46;baseItem[_0x31acc3(0x24a)]=_0x287609[_0x31acc3(0x259)][_0x31acc3(0x1ba)];}),document['getElementById'](_0x3bfe46(0x270))[_0x3bfe46(0x219)](_0x3bfe46(0x1e1),function(_0x3784f4){var _0x252df3=_0x3bfe46;baseItem['setItemType']=_0x3784f4['target'][_0x252df3(0x1ba)];}),document[_0x3bfe46(0x294)]('inputItemTax')['addEventListener']('change',function(_0x452439){var _0x2b80df=_0x3bfe46;baseItem['setItemTaxId']=_0x452439['target']['value'];const _0x5aceb6=_0x452439['target']['value'],_0x4bdf63=company[0x0][_0x2b80df(0x28d)][_0x2b80df(0x230)](_0x508db2=>_0x508db2[_0x2b80df(0x297)]==_0x5aceb6)?.[_0x2b80df(0x18c)]||0x0,_0x12c54f=company[0x0][_0x2b80df(0x28d)][_0x2b80df(0x230)](_0x363d8a=>_0x363d8a['setTaxId']==_0x5aceb6)?.[_0x2b80df(0x179)]||0x0;baseItem['setItemTaxCode']=_0x4bdf63,baseItem['setItemTaxValue']=_0x12c54f;}),document[_0x3bfe46(0x294)](_0x3bfe46(0x275))[_0x3bfe46(0x219)]('change',function(_0x109ceb){var _0x3e5ef4=_0x3bfe46;baseItem['setItemIsBought']=_0x109ceb[_0x3e5ef4(0x259)][_0x3e5ef4(0x1cb)];}),document[_0x3bfe46(0x294)]('newItem_chk_sell')[_0x3bfe46(0x219)]('change',function(_0x1e2830){var _0x5314dc=_0x3bfe46;baseItem['setItemIsSold']=_0x1e2830[_0x5314dc(0x259)][_0x5314dc(0x1cb)];}),document[_0x3bfe46(0x294)]('inputItemCode')[_0x3bfe46(0x219)]('input',function(_0x3b1dc4){var _0xce063a=_0x3bfe46;baseItem[_0xce063a(0x263)]=_0x3b1dc4[_0xce063a(0x259)][_0xce063a(0x1ba)];}),document[_0x3bfe46(0x294)](_0x3bfe46(0x1d0))['addEventListener']('input',function(_0xe718b5){var _0x2de895=_0x3bfe46;baseItem[_0x2de895(0x1db)]=_0xe718b5[_0x2de895(0x259)][_0x2de895(0x1ba)];}),document['getElementById'](_0x3bfe46(0x23c))[_0x3bfe46(0x219)](_0x3bfe46(0x23e),function(){addUnit(),updateUnitsArray();}),document['getElementById'](_0x3bfe46(0x211))[_0x3bfe46(0x219)](_0x3bfe46(0x18a),function(){var _0x53de4a=_0x3bfe46;const _0x5e163d=this['value'][_0x53de4a(0x1a4)]();if(_0x5e163d==='')return;const _0x26908f=products[_0x53de4a(0x25f)](_0x1f69f5=>_0x1f69f5['setCodProducto']==_0x5e163d),_0x5f3a1e=getLastCode(products);_0x26908f?ntfShow(_0x53de4a(0x235)+_0x5f3a1e,0x2,0x1):ntfShow(_0x53de4a(0x1b8),0x1,0x1);});function removeImg(_0x313c3d){var _0x45dab9=_0x3bfe46;currentImages[_0x313c3d]=null;var _0x51abc9=imgC[_0x45dab9(0x194)](_0x45dab9(0x205)+_0x313c3d+'\x22]');_0x51abc9[_0x45dab9(0x209)]='';var _0x1ae7fb=document[_0x45dab9(0x215)](_0x45dab9(0x24f));_0x1ae7fb[_0x45dab9(0x1b2)]=_0x45dab9(0x1a5),_0x1ae7fb['accept']='image/*',_0x1ae7fb[_0x45dab9(0x242)][_0x45dab9(0x217)]=_0x45dab9(0x1d3);var _0x3e4bdd=document['createElement'](_0x45dab9(0x208));_0x3e4bdd[_0x45dab9(0x1ea)]='+',_0x51abc9[_0x45dab9(0x28f)](_0x1ae7fb),_0x51abc9[_0x45dab9(0x28f)](_0x3e4bdd),_0x51abc9[_0x45dab9(0x219)](_0x45dab9(0x23e),function(){var _0x559f3d=_0x45dab9;_0x1ae7fb[_0x559f3d(0x23e)]();}),baseItem['setItemImages']=currentImages[_0x45dab9(0x1b0)](function(_0x5597d6){return _0x5597d6;});}function addUnit(_0x5323b7,_0x57384e,_0x15cc0a,_0x326dca,_0x1d146a,_0x4d54f5,_0x1d384f){var _0x4e1703=_0x3bfe46,_0x290ec7=uniqueValuesArray(_0x4e1703(0x283),_0x4e1703(0x283),products);_0x5323b7=_0x5323b7||'',_0x57384e=_0x57384e||_0x290ec7[0x0]&&_0x290ec7[0x0]['setCode']||'',_0x15cc0a=_0x15cc0a!==undefined?_0x15cc0a:0x1,_0x326dca=!!_0x326dca,_0x1d146a=_0x1d146a||'',_0x4d54f5=_0x4d54f5||'';var _0x139c53=unitCount++,_0x28ff12=document[_0x4e1703(0x215)](_0x4e1703(0x286));_0x28ff12[_0x4e1703(0x1ed)][_0x4e1703(0x27b)]=_0x139c53,_0x28ff12['dataset'][_0x4e1703(0x1d2)]=_0x326dca,_0x28ff12[_0x4e1703(0x209)]=_0x4e1703(0x26b)+_0x139c53+_0x4e1703(0x24e)+_0x5323b7+_0x4e1703(0x247)+_0x139c53+_0x4e1703(0x20b)+_0x139c53+_0x4e1703(0x24e)+_0x15cc0a+'\x22\x20'+(_0x326dca?_0x4e1703(0x280):'')+'>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22'+_0x139c53+_0x4e1703(0x24e)+_0x1d146a+_0x4e1703(0x26a)+_0x139c53+_0x4e1703(0x24e)+_0x4d54f5+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x326dca?'style=\x22display:none\x22':'')+_0x4e1703(0x28e),fillSelect(_0x28ff12[_0x4e1703(0x194)](_0x4e1703(0x233)),_0x290ec7,_0x4e1703(0x258),_0x4e1703(0x1e4)),_0x28ff12['querySelector'](_0x4e1703(0x233))[_0x4e1703(0x1ba)]=_0x57384e,['unitAlias',_0x4e1703(0x253),_0x4e1703(0x28c),_0x4e1703(0x293),'costInput'][_0x4e1703(0x1bb)](function(_0x28681c){var _0x3713e1=_0x4e1703;_0x28ff12[_0x3713e1(0x194)]('.'+_0x28681c)[_0x3713e1(0x219)]('input',function(){var _0x3b2293=_0x3713e1,_0x111361=_0x1d384f?+_0x1d384f['id'][_0x3b2293(0x239)]('_')[0x1]:null;if(_0x1d384f)updateVariantUnits(_0x111361);else updateUnitsArray();});}),_0x28ff12[_0x4e1703(0x194)](_0x4e1703(0x267))[_0x4e1703(0x219)](_0x4e1703(0x23e),function(){_0x28ff12['remove']();var _0x349aca=_0x1d384f?+_0x1d384f['id']['split']('_')[0x1]:null;if(_0x1d384f)updateVariantUnits(_0x349aca);else updateUnitsArray();});var _0x45c0bc=_0x1d384f||document[_0x4e1703(0x294)](_0x4e1703(0x18d));_0x45c0bc[_0x4e1703(0x28f)](_0x28ff12);}function containerIdx(_0x1bf2b9){return+_0x1bf2b9['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x1b3fce=_0x3bfe46,_0x42e235=[],_0x1fe8aa=Array[_0x1b3fce(0x1e5)](document[_0x1b3fce(0x236)](_0x1b3fce(0x281))),_0x40090b=_0x1fe8aa[_0x1b3fce(0x230)](_0x45c4ac=>_0x45c4ac['dataset'][_0x1b3fce(0x1d2)]===_0x1b3fce(0x183)),_0x11903c=_0x40090b?+_0x40090b['querySelector']('.eqInput')[_0x1b3fce(0x1ba)]:0x1;_0x1fe8aa[_0x1b3fce(0x1bb)](function(_0xe61364){var _0x2a3ce4=_0x1b3fce,_0x3b5d97=+_0xe61364[_0x2a3ce4(0x194)](_0x2a3ce4(0x276))[_0x2a3ce4(0x1ba)]||0x0,_0x116da1=+_0xe61364[_0x2a3ce4(0x194)](_0x2a3ce4(0x197))[_0x2a3ce4(0x1ba)]||0x0,_0x3b9502=+_0xe61364['querySelector'](_0x2a3ce4(0x1a9))[_0x2a3ce4(0x1ba)]||0x0;_0x42e235[_0x2a3ce4(0x221)]({'setAlias':_0xe61364[_0x2a3ce4(0x194)](_0x2a3ce4(0x186))[_0x2a3ce4(0x1ba)][_0x2a3ce4(0x1a4)](),'setUnitCode':_0xe61364[_0x2a3ce4(0x194)]('.unitSelect')[_0x2a3ce4(0x1ba)],'setEquivalence':_0x3b5d97,'setFactor':_0xe61364['dataset'][_0x2a3ce4(0x1d2)]==='true'?0x1:_0x3b5d97==_0x11903c?0x1:_0x3b5d97<_0x11903c?_0x11903c/_0x3b5d97:_0x3b5d97/_0x11903c,'setPrice':_0x116da1,'setCost':_0x3b9502,'setDefault':_0xe61364[_0x2a3ce4(0x1ed)][_0x2a3ce4(0x1d2)]===_0x2a3ce4(0x183)?0x1:0x0});}),baseItem[_0x1b3fce(0x1cf)]=_0x42e235;}function updateBranches(){var _0x159f17=_0x3bfe46,_0x4abcf3=[];document[_0x159f17(0x236)](_0x159f17(0x1d6))[_0x159f17(0x1bb)](function(_0x17f7d0){var _0x85fb31=_0x159f17,_0x276ab2=_0x17f7d0[_0x85fb31(0x194)](_0x85fb31(0x212));if(_0x276ab2[_0x85fb31(0x1cb)]){var _0x333231=+_0x276ab2[_0x85fb31(0x1ed)]['id'],_0x2ed827=+_0x17f7d0[_0x85fb31(0x194)](_0x85fb31(0x268))[_0x85fb31(0x1ba)],_0x161406=+_0x17f7d0[_0x85fb31(0x194)](_0x85fb31(0x23a))[_0x85fb31(0x1ba)];_0x4abcf3['push']({'setWarehouseCode':_0x333231,'setStockInitial':_0x2ed827,'setStockMinimum':_0x161406});}}),baseItem[_0x159f17(0x29c)]=_0x4abcf3;}document['getElementById'](_0x3bfe46(0x1ab))['addEventListener'](_0x3bfe46(0x23e),function(){var _0x32bc71=_0x3bfe46,_0x2535bf=Date[_0x32bc71(0x271)](),_0x164df6=document['createElement'](_0x32bc71(0x286));_0x164df6[_0x32bc71(0x1ed)][_0x32bc71(0x27b)]=_0x2535bf,_0x164df6[_0x32bc71(0x209)]=_0x32bc71(0x19c)+_0x2535bf+_0x32bc71(0x17c)+_0x2535bf+_0x32bc71(0x292),prodC['appendChild'](_0x164df6),initProdSearch(_0x164df6[_0x32bc71(0x194)](_0x32bc71(0x241))),_0x164df6[_0x32bc71(0x194)](_0x32bc71(0x25d))[_0x32bc71(0x219)]('click',function(){var _0x154ba6=_0x32bc71;_0x164df6[_0x154ba6(0x272)](),updateProdItems();}),_0x164df6[_0x32bc71(0x194)](_0x32bc71(0x1e6))['addEventListener'](_0x32bc71(0x24f),updateProdItems),document[_0x32bc71(0x294)]('newItem_title_table_cp')[_0x32bc71(0x1f7)][_0x32bc71(0x1b1)]('newItem_title_table',!![]),document[_0x32bc71(0x294)](_0x32bc71(0x227))['classList'][_0x32bc71(0x1b1)](_0x32bc71(0x23b),![]);});function initProdSearch(_0x50950c,_0x4b333b){var _0x246a6e=_0x3bfe46,_0x1c054e=_0x50950c['querySelector'](_0x246a6e(0x214)),_0x40e4cd=_0x50950c[_0x246a6e(0x194)]('.options_list'),_0x4d9d3e=_0x4b333b||null;if(_0x4b333b)_0x1c054e[_0x246a6e(0x1ba)]=_0x4b333b[_0x246a6e(0x225)];_0x1c054e['addEventListener'](_0x246a6e(0x24f),function(){var _0x8b4314=_0x246a6e,_0x346ccc=_0x1c054e['value']['toLowerCase']()[_0x8b4314(0x1a4)]();_0x40e4cd['innerHTML']='';if(!_0x346ccc)return;products[_0x8b4314(0x1b0)](_0x51754e=>_0x51754e[_0x8b4314(0x29a)][_0x8b4314(0x21c)]()[_0x8b4314(0x28a)](_0x346ccc))[_0x8b4314(0x1b6)](0x0,0x14)['forEach'](function(_0xc3d094){var _0x3036a5=_0x8b4314,_0x464b04=document[_0x3036a5(0x215)](_0x3036a5(0x286));_0x464b04[_0x3036a5(0x1ea)]=_0xc3d094[_0x3036a5(0x29a)],_0x464b04[_0x3036a5(0x1ed)]['id']=_0xc3d094['id'],_0x464b04['dataset']['name']=_0xc3d094[_0x3036a5(0x29a)],_0x40e4cd[_0x3036a5(0x28f)](_0x464b04),_0x464b04[_0x3036a5(0x219)]('click',function(){var _0x20769a=_0x3036a5;_0x4d9d3e={'id':_0xc3d094['id'],'name':_0xc3d094[_0x20769a(0x29a)]},_0x1c054e[_0x20769a(0x1ba)]=_0xc3d094['setDescripcion'],_0x40e4cd[_0x20769a(0x209)]='';var _0x111ecb=_0x50950c[_0x20769a(0x1c4)]('[id$=\x22_comp_container\x22]');if(_0x111ecb){var _0x2dec69=+_0x111ecb['id']['split']('_')[0x1];updateVariantComponents(_0x2dec69);}else updateProdItems();});});}),_0x1c054e[_0x246a6e(0x219)](_0x246a6e(0x206),function(){var _0x33f3e6=_0x246a6e;_0x40e4cd[_0x33f3e6(0x1f7)][_0x33f3e6(0x272)]('newItem_hidden');}),document[_0x246a6e(0x219)]('click',function(_0xe567b3){var _0x393cdd=_0x246a6e;if(!_0x50950c[_0x393cdd(0x1fe)](_0xe567b3[_0x393cdd(0x259)]))_0x40e4cd[_0x393cdd(0x1f7)]['add'](_0x393cdd(0x23b));}),Object[_0x246a6e(0x298)](_0x50950c,_0x246a6e(0x18b),{'get':()=>_0x4d9d3e});}function updateProdItems(){var _0x251777=_0x3bfe46,_0x478bae=[];Array[_0x251777(0x1e5)](prodC[_0x251777(0x1c3)])['forEach'](function(_0x546130){var _0x3d8ca0=_0x251777,_0x5443f3=_0x546130[_0x3d8ca0(0x194)]('.prod_input_container');if(!_0x5443f3)return;var _0x27a0ca=_0x546130[_0x3d8ca0(0x194)]('.prodQty'),_0x1e77f2=_0x5443f3[_0x3d8ca0(0x18b)];_0x1e77f2&&_0x478bae['push']({'setItemId':_0x1e77f2['id'],'setDescripcion':_0x1e77f2[_0x3d8ca0(0x225)],'setCantidad':+_0x27a0ca[_0x3d8ca0(0x1ba)]});}),baseItem['setItemComponents']=_0x478bae,_0x478bae['length']===0x0&&(document[_0x251777(0x294)](_0x251777(0x227))[_0x251777(0x1f7)][_0x251777(0x1b1)]('newItem_title_table',![]),document['getElementById'](_0x251777(0x227))['classList'][_0x251777(0x1b1)](_0x251777(0x23b),!![]));}document[_0x3bfe46(0x294)](_0x3bfe46(0x22c))[_0x3bfe46(0x219)](_0x3bfe46(0x23e),function(){var _0x194b91=_0x3bfe46,_0x2748c5=vgCount++,_0x529aac=document['createElement']('div');_0x529aac[_0x194b91(0x1ed)][_0x194b91(0x27b)]=_0x2748c5,_0x529aac[_0x194b91(0x209)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x2748c5+'\x22>'+_0x194b91(0x1bd)+_0x2748c5+'\x22>'+_0x194b91(0x1aa),vgC['appendChild'](_0x529aac),_0x529aac['querySelector'](_0x194b91(0x1be))[_0x194b91(0x219)](_0x194b91(0x18a),generateVariants),_0x529aac[_0x194b91(0x194)]('.vgVals')[_0x194b91(0x219)](_0x194b91(0x18a),generateVariants),_0x529aac['querySelector'](_0x194b91(0x238))[_0x194b91(0x219)]('click',function(){var _0x1718d=_0x194b91;_0x529aac[_0x1718d(0x272)](),generateVariants();});});function generateVariants(){var _0x310163=_0x3bfe46,_0x4ce5dc=[];vgC[_0x310163(0x236)](_0x310163(0x286))[_0x310163(0x1bb)](function(_0x9c956a){var _0x489769=_0x310163,_0x499d0d=_0x9c956a[_0x489769(0x194)](_0x489769(0x1be))[_0x489769(0x1ba)]['trim'](),_0x3e0867=_0x9c956a['querySelector'](_0x489769(0x285))[_0x489769(0x1ba)][_0x489769(0x239)](',')['map'](_0x3b382c=>_0x3b382c[_0x489769(0x1a4)]())[_0x489769(0x1b0)](_0x38359f=>_0x38359f);if(_0x499d0d&&_0x3e0867['length'])_0x4ce5dc['push']({'name':_0x499d0d,'vals':_0x3e0867});});var _0x400821=[{}];_0x4ce5dc[_0x310163(0x1bb)](function(_0x80e8a6){var _0x57dc7c=_0x310163;_0x400821=_0x400821[_0x57dc7c(0x269)](function(_0x5e60d4){var _0x15e06a=_0x57dc7c;return _0x80e8a6[_0x15e06a(0x27c)][_0x15e06a(0x26f)](function(_0x221a0c){var _0x365381=_0x15e06a,_0x4bd904=Object[_0x365381(0x1b5)]({},_0x5e60d4);return _0x4bd904[_0x80e8a6[_0x365381(0x225)]]=_0x221a0c,_0x4bd904;});});}),newItems=[],varContainer[_0x310163(0x209)]='',_0x400821[_0x310163(0x1bb)](function(_0x445a02,_0x1c7413){var _0xf33548=_0x310163,_0x5709b2=JSON[_0xf33548(0x237)](JSON[_0xf33548(0x19a)](baseItem));_0x5709b2['setItemVariantValues']=_0x445a02,_0x5709b2[_0xf33548(0x196)]=baseItem['setItemName']+'\x20'+Object['entries'](_0x445a02)['map'](_0x36345e=>_0x36345e[0x0]+'\x20'+_0x36345e[0x1])[_0xf33548(0x26c)]('\x20'),newItems[_0xf33548(0x221)](_0x5709b2);var _0x3d53bd=document[_0xf33548(0x215)](_0xf33548(0x286));_0x3d53bd['classList']['add'](_0xf33548(0x257)),_0x3d53bd[_0xf33548(0x1ed)]['idx']=_0x1c7413,_0x3d53bd[_0xf33548(0x209)]=_0xf33548(0x228)+_0x5709b2[_0xf33548(0x196)]+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x5709b2[_0xf33548(0x263)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x5709b2[_0xf33548(0x1db)]+_0xf33548(0x289)+_0x5709b2[_0xf33548(0x24a)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x1c7413+_0xf33548(0x22e)+_0x1c7413+_0xf33548(0x1f4)+_0x1c7413+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer['appendChild'](_0x3d53bd),_0x3d53bd[_0xf33548(0x194)](_0xf33548(0x240))[_0xf33548(0x219)](_0xf33548(0x24f),_0x491e4e=>newItems[_0x1c7413][_0xf33548(0x263)]=_0x491e4e[_0xf33548(0x259)][_0xf33548(0x1ba)]),_0x3d53bd['querySelector'](_0xf33548(0x19d))[_0xf33548(0x219)](_0xf33548(0x24f),_0x3da7bd=>newItems[_0x1c7413][_0xf33548(0x1db)]=_0x3da7bd[_0xf33548(0x259)]['value']),_0x3d53bd[_0xf33548(0x194)](_0xf33548(0x1eb))[_0xf33548(0x219)]('change',_0x158143=>newItems[_0x1c7413][_0xf33548(0x24a)]=_0x158143['target'][_0xf33548(0x1ba)]),initVariantUnits(_0x1c7413),initVariantComponents(_0x1c7413),initVariantBranches(_0x1c7413),_0x3d53bd[_0xf33548(0x194)]('.removeVariant')[_0xf33548(0x219)](_0xf33548(0x23e),function(){var _0x5422dd=_0xf33548,_0x4ba93e=+_0x3d53bd['dataset'][_0x5422dd(0x27b)];newItems[_0x5422dd(0x27a)](_0x4ba93e,0x1),_0x3d53bd[_0x5422dd(0x272)](),document[_0x5422dd(0x236)](_0x5422dd(0x282))['forEach'](function(_0x45b5fd,_0x41eb02){var _0x3f29b6=_0x5422dd;_0x45b5fd[_0x3f29b6(0x1ed)][_0x3f29b6(0x27b)]=_0x41eb02;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x9229ef){var _0xbb5dda=_0x3bfe46,_0x34e34e=document[_0xbb5dda(0x294)](_0xbb5dda(0x1a0)+_0x9229ef+_0xbb5dda(0x17d)),_0x4ceb61=[];Array[_0xbb5dda(0x1e5)](_0x34e34e[_0xbb5dda(0x1c3)])[_0xbb5dda(0x1bb)](function(_0x3bd14e){var _0x1e1f88=_0xbb5dda,_0x2aea8a=+_0x3bd14e['querySelector'](_0x1e1f88(0x276))['value']||0x0,_0x4cf4a3=_0x3bd14e[_0x1e1f88(0x194)](_0x1e1f88(0x186))[_0x1e1f88(0x1ba)][_0x1e1f88(0x1a4)](),_0x44b0cf=_0x3bd14e[_0x1e1f88(0x194)](_0x1e1f88(0x233))['value'],_0x4ab7eb=+_0x3bd14e[_0x1e1f88(0x194)](_0x1e1f88(0x197))['value']||0x0,_0x212ea5=+_0x3bd14e[_0x1e1f88(0x194)](_0x1e1f88(0x1a9))[_0x1e1f88(0x1ba)]||0x0,_0x19632a=_0x3bd14e[_0x1e1f88(0x1ed)][_0x1e1f88(0x1d2)]===_0x1e1f88(0x183),_0x2a41f0=+_0x34e34e[_0x1e1f88(0x194)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x1e1f88(0x1ba)]||0x1,_0x45a48e=_0x19632a?0x1:_0x2aea8a==_0x2a41f0?0x1:_0x2aea8a<_0x2a41f0?_0x2a41f0/_0x2aea8a:_0x2aea8a/_0x2a41f0;_0x4ceb61['push']({'setAlias':_0x4cf4a3,'setUnitCode':_0x44b0cf,'setEquivalence':_0x2aea8a,'setFactor':_0x45a48e,'setPrice':_0x4ab7eb,'setCost':_0x212ea5,'setDefault':_0x19632a?0x1:0x0});}),newItems[_0x9229ef][_0xbb5dda(0x1cf)]=_0x4ceb61;}function initVariantUnits(_0x2cb1f0){var _0x17e4dc=_0x3bfe46,_0x2983e4=document[_0x17e4dc(0x294)](_0x17e4dc(0x1a0)+_0x2cb1f0+'_units_container');_0x2983e4[_0x17e4dc(0x209)]='',newItems[_0x2cb1f0][_0x17e4dc(0x1cf)][_0x17e4dc(0x1bb)](function(_0x500d6b){var _0x3e2948=_0x17e4dc;addUnit(_0x500d6b[_0x3e2948(0x202)],_0x500d6b['setUnitCode'],_0x500d6b['setEquivalence'],_0x500d6b[_0x3e2948(0x279)],_0x500d6b[_0x3e2948(0x1c6)],_0x500d6b[_0x3e2948(0x1c8)],_0x2983e4);}),_0x2983e4[_0x17e4dc(0x234)][_0x17e4dc(0x194)](_0x17e4dc(0x266))[_0x17e4dc(0x219)](_0x17e4dc(0x23e),function(){addUnit('','',0x1,![],'','',_0x2983e4),updateVariantUnits(_0x2cb1f0);});}function updateVariantUnits(_0x176374){var _0x5eca63=_0x3bfe46,_0x3f3392=document['getElementById']('variant_'+_0x176374+_0x5eca63(0x17d)),_0x473b8b=_0x3f3392[_0x5eca63(0x194)](_0x5eca63(0x192)),_0x786a8c=_0x473b8b?+_0x473b8b['value']:0x1,_0x48799d=Array[_0x5eca63(0x1e5)](_0x3f3392[_0x5eca63(0x1c3)])[_0x5eca63(0x26f)](function(_0x155642){var _0x301f26=_0x5eca63,_0x27de9a=_0x155642[_0x301f26(0x194)](_0x301f26(0x186))[_0x301f26(0x1ba)][_0x301f26(0x1a4)](),_0x21499c=_0x155642[_0x301f26(0x194)](_0x301f26(0x233))['value'],_0x2f7be3=+_0x155642[_0x301f26(0x194)](_0x301f26(0x276))['value']||0x0,_0x1de530=+_0x155642[_0x301f26(0x194)](_0x301f26(0x197))['value']||0x0,_0x1818dc=+_0x155642[_0x301f26(0x194)]('.costInput')[_0x301f26(0x1ba)]||0x0,_0x4a844f=_0x155642['dataset']['default']===_0x301f26(0x183);return{'setAlias':_0x27de9a,'setUnitCode':_0x21499c,'setEquivalence':_0x2f7be3,'setFactor':_0x4a844f?0x1:_0x2f7be3==_0x786a8c?0x1:_0x2f7be3<_0x786a8c?_0x786a8c/_0x2f7be3:_0x2f7be3/_0x786a8c,'setPrice':_0x1de530,'setCost':_0x1818dc,'setDefault':_0x4a844f?0x1:0x0};});newItems[_0x176374][_0x5eca63(0x1cf)]=_0x48799d;}function initVariantComponents(_0x3aa982){var _0x203010=_0x3bfe46,_0x101562=document[_0x203010(0x294)](_0x203010(0x1a0)+_0x3aa982+_0x203010(0x203));_0x101562[_0x203010(0x209)]='',newItems[_0x3aa982][_0x203010(0x1cd)][_0x203010(0x1bb)](function(_0x4e2ff8){var _0x34babd=_0x203010,_0x2b34f3=document[_0x34babd(0x215)](_0x34babd(0x286)),_0x1f83dd=Date[_0x34babd(0x271)]();_0x2b34f3['dataset'][_0x34babd(0x27b)]=_0x1f83dd,_0x2b34f3['innerHTML']='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x1f83dd+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x4e2ff8[_0x34babd(0x1a1)]+_0x34babd(0x290),_0x101562['appendChild'](_0x2b34f3),initProdSearch(_0x2b34f3[_0x34babd(0x194)](_0x34babd(0x241)),{'id':_0x4e2ff8[_0x34babd(0x1f6)],'name':_0x4e2ff8['setDescripcion']}),_0x2b34f3[_0x34babd(0x194)](_0x34babd(0x1e6))[_0x34babd(0x219)](_0x34babd(0x24f),function(){updateVariantComponents(_0x3aa982);}),_0x2b34f3['querySelector'](_0x34babd(0x1a7))['addEventListener'](_0x34babd(0x23e),function(){var _0x4a9ddf=_0x34babd;_0x2b34f3[_0x4a9ddf(0x272)](),updateVariantComponents(_0x3aa982);});}),_0x101562[_0x203010(0x234)]['querySelector'](_0x203010(0x1af))['addEventListener'](_0x203010(0x23e),function(){var _0x307ef9=_0x203010,_0x43b665=document['createElement'](_0x307ef9(0x286)),_0x5b9af2=Date[_0x307ef9(0x271)]();_0x43b665['dataset'][_0x307ef9(0x27b)]=_0x5b9af2,_0x43b665['innerHTML']=_0x307ef9(0x274)+_0x5b9af2+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x101562[_0x307ef9(0x28f)](_0x43b665),initProdSearch(_0x43b665['querySelector'](_0x307ef9(0x241))),_0x43b665[_0x307ef9(0x194)]('.prodQty')[_0x307ef9(0x219)](_0x307ef9(0x24f),function(){updateVariantComponents(_0x3aa982);}),_0x43b665['querySelector']('.removeCombo')[_0x307ef9(0x219)](_0x307ef9(0x23e),function(){_0x43b665['remove'](),updateVariantComponents(_0x3aa982);});});}function updateVariantComponents(_0xe94808){var _0x2a5b3c=_0x3bfe46,_0x18580d=document[_0x2a5b3c(0x294)](_0x2a5b3c(0x1a0)+_0xe94808+_0x2a5b3c(0x203)),_0x9c7a9e=Array[_0x2a5b3c(0x1e5)](_0x18580d[_0x2a5b3c(0x1c3)])['map'](function(_0x580639){var _0x25b7ee=_0x2a5b3c,_0x3d0d21=_0x580639[_0x25b7ee(0x194)](_0x25b7ee(0x241)),_0x194c43=_0x3d0d21[_0x25b7ee(0x18b)],_0x12e482=+_0x580639[_0x25b7ee(0x194)](_0x25b7ee(0x1e6))[_0x25b7ee(0x1ba)]||0x0;return _0x194c43?{'setItemId':_0x194c43['id'],'setDescripcion':_0x194c43['name'],'setCantidad':_0x12e482}:null;})[_0x2a5b3c(0x1b0)](_0x28e92b=>_0x28e92b);newItems[_0xe94808][_0x2a5b3c(0x1cd)]=_0x9c7a9e;}function initVariantBranches(_0x2cf1b1){var _0x415e05=_0x3bfe46;const _0x53a948=getAllWarehouses();var _0x4e54d2=document['getElementById']('variant_'+_0x2cf1b1+_0x415e05(0x245));_0x4e54d2[_0x415e05(0x209)]='',newItems[_0x2cf1b1]['setItemWarehouses']['forEach'](function(_0x388608){var _0x3514f0=_0x415e05,_0x29d36f=_0x53a948['find'](_0x23145c=>_0x23145c[_0x3514f0(0x229)]==_0x388608[_0x3514f0(0x187)]),_0xd32bc3=document['createElement']('div');_0xd32bc3[_0x3514f0(0x209)]=_0x3514f0(0x296)+_0x388608['setWarehouseCode']+_0x3514f0(0x1d9)+_0x29d36f[_0x3514f0(0x190)]+_0x3514f0(0x1c9)+_0x388608[_0x3514f0(0x187)]+_0x3514f0(0x24e)+_0x388608[_0x3514f0(0x19e)]+_0x3514f0(0x1a8)+_0x388608[_0x3514f0(0x187)]+'\x22\x20value=\x22'+_0x388608[_0x3514f0(0x24b)]+'\x22>',_0x4e54d2[_0x3514f0(0x28f)](_0xd32bc3),_0xd32bc3[_0x3514f0(0x236)](_0x3514f0(0x24f))[_0x3514f0(0x1bb)](function(_0x3d477d){var _0x1889a0=_0x3514f0;_0x3d477d[_0x1889a0(0x219)](_0x1889a0(0x24f),function(){updateVariantBranches(_0x2cf1b1);});});}),_0x53a948[_0x415e05(0x1bb)](function(_0x1fff1b){var _0x4836ca=_0x415e05;if(!newItems[_0x2cf1b1][_0x4836ca(0x29c)][_0x4836ca(0x230)](_0x312c0d=>_0x312c0d[_0x4836ca(0x187)]===_0x1fff1b[_0x4836ca(0x229)])){var _0x5673ee=document[_0x4836ca(0x215)](_0x4836ca(0x286));_0x5673ee[_0x4836ca(0x209)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x1fff1b[_0x4836ca(0x229)]+_0x4836ca(0x18f)+_0x1fff1b[_0x4836ca(0x190)]+_0x4836ca(0x1c9)+_0x1fff1b[_0x4836ca(0x229)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x1fff1b['setWarehouseId']+'\x22>',_0x4e54d2[_0x4836ca(0x28f)](_0x5673ee),_0x5673ee['querySelectorAll'](_0x4836ca(0x24f))[_0x4836ca(0x1bb)](function(_0x221b3a){var _0x472dc3=_0x4836ca;_0x221b3a[_0x472dc3(0x219)](_0x472dc3(0x24f),function(){updateVariantBranches(_0x2cf1b1);});});}});}function updateVariantBranches(_0x59e1ce){var _0xf3363a=_0x3bfe46,_0x1b064f=document[_0xf3363a(0x294)](_0xf3363a(0x1a0)+_0x59e1ce+_0xf3363a(0x245)),_0x169d54=[];_0x1b064f[_0xf3363a(0x236)](_0xf3363a(0x286))[_0xf3363a(0x1bb)](function(_0x4dca6d){var _0x477792=_0xf3363a,_0x33f450=_0x4dca6d['querySelector'](_0x477792(0x212));if(_0x33f450[_0x477792(0x1cb)]){var _0x5d1320=+_0x33f450['dataset']['id'],_0x5ce822=+_0x4dca6d[_0x477792(0x194)]('.branchInit')[_0x477792(0x1ba)]||0x0,_0x19a86a=+_0x4dca6d['querySelector'](_0x477792(0x23a))[_0x477792(0x1ba)]||0x0;_0x169d54[_0x477792(0x221)]({'setWarehouseCode':_0x5d1320,'setStockInitial':_0x5ce822,'setStockMinimum':_0x19a86a});}}),newItems[_0x59e1ce][_0xf3363a(0x29c)]=_0x169d54;}async function storeOfflineProduct(_0x175b50){var _0x5a9e27=_0x3bfe46;try{const _0x4fb968=await createCartStore(''),_0xe9521e=_0x4fb968['transaction'](_0x5a9e27(0x1fc),_0x5a9e27(0x252)),_0x498f6b=_0xe9521e[_0x5a9e27(0x220)](_0x5a9e27(0x1fc));_0x498f6b[_0x5a9e27(0x1a3)](_0x175b50),_0xe9521e[_0x5a9e27(0x1d1)]=()=>{var _0x53de16=_0x5a9e27;console[_0x53de16(0x24c)]('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0xe9521e[_0x5a9e27(0x23d)]=_0xbead81=>{var _0x33d2e6=_0x5a9e27;console[_0x33d2e6(0x284)](_0x33d2e6(0x1de),_0xbead81[_0x33d2e6(0x259)][_0x33d2e6(0x284)]);};}catch(_0xb3f370){console[_0x5a9e27(0x284)](_0x5a9e27(0x262),_0xb3f370);}}document[_0x3bfe46(0x294)](_0x3bfe46(0x25e))['addEventListener'](_0x3bfe46(0x23e),async function(_0x37a34e){var _0xee5f61=_0x3bfe46;_0x37a34e[_0xee5f61(0x20e)]();const _0x1d1954=document[_0xee5f61(0x294)]('inputItemCode'),_0x241b8a=document['getElementById'](_0xee5f61(0x1a6))[_0xee5f61(0x1ba)];if(!_0x1d1954['value']['trim']()&&_0x241b8a==0x0){ntfShow('Ingresa\x20el\x20c贸digo\x20del\x20item',0x2,0x1);return;}_0x241b8a==0x1&&(_0x1d1954[_0xee5f61(0x1ba)]='',baseItem[_0xee5f61(0x263)]='');const _0x2261d7=document['getElementById'](_0xee5f61(0x251));if(!_0x2261d7[_0xee5f61(0x1ba)][_0xee5f61(0x1a4)]()){ntfShow(_0xee5f61(0x184),0x2,0x1);return;}const _0x4bda18=document[_0xee5f61(0x294)](_0xee5f61(0x24d));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x4366e9=document['getElementById'](_0xee5f61(0x22f))['value'],_0x4dfc12=window_options[_0x4366e9]['setMoneda'];let _0x3c2e4d=generateNumericUniqId()*0x64+0x1f4,_0x1bb14d=generateNumericUniqId()*0xa;const _0x40f069=[];newItems[_0xee5f61(0x1bb)](_0x55a5da=>{var _0x4ff2eb=_0xee5f61;const _0x23deba=++_0x1bb14d;_0x55a5da[_0x4ff2eb(0x1cf)]['forEach'](_0x2f798f=>{var _0x445026=_0x4ff2eb;const _0x4895b4=++_0x3c2e4d;_0x2f798f[_0x445026(0x1ff)]=_0x4895b4;const _0x412ff5={'id':_0x4895b4,'setIdProducto':_0x23deba,'setCodProducto':_0x55a5da['setItemCode'],'setDescripcion':_0x55a5da[_0x445026(0x196)]!=''?_0x55a5da[_0x445026(0x196)]:_0x55a5da[_0x445026(0x1b4)],'setItemDescription':_0x55a5da['setItemDescription'],'setBatchExpirationDate':_0x55a5da[_0x445026(0x24a)],'setBatchName':'','setCategoria':_0x55a5da['setItemCategories'][0x0]||'','setMarca':_0x55a5da[_0x445026(0x191)][0x0]||'','setConversionFactor':parseFloat(_0x2f798f[_0x445026(0x1da)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x55a5da[_0x445026(0x222)]?0x1:0x0,'setItemIsSold':_0x55a5da['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x55a5da[_0x445026(0x1df)],'setPrinters':[],'setTaxId':_0x55a5da['setItemTaxId'],'setTipAfeIgv':_0x55a5da[_0x445026(0x25b)],'setUnidad':_0x2f798f['setUnitCode'],'setUnidadCodigo':_0x2f798f[_0x445026(0x1ef)],'currency_data':[{'currency':_0x4dfc12,'setMtoPrecioCostoUnitario':_0x2f798f[_0x445026(0x1c8)],'setMtoPrecioUnitario':_0x2f798f[_0x445026(0x1c6)],'setPriceLists':[]}],'sucursales':_0x55a5da[_0x445026(0x29c)][_0x445026(0x26f)](_0x1fdf05=>({'setIdSucursal':_0x1fdf05[_0x445026(0x187)],'setSucursalStock':_0x1fdf05[_0x445026(0x19e)][_0x445026(0x1dc)](),'setWarehouseStockMin':_0x1fdf05['setStockMinimum'][_0x445026(0x1dc)]()})),'setItemFree':_0x55a5da['setItemFree'],'setItemBarCode':_0x55a5da['setItemBarCode'],'setItemBrands':_0x55a5da[_0x445026(0x191)][_0x445026(0x1b6)](),'setItemCategories':_0x55a5da[_0x445026(0x182)][_0x445026(0x1b6)](),'setItemComponents':_0x55a5da[_0x445026(0x1cd)][_0x445026(0x26f)](_0x4e4935=>({..._0x4e4935})),'setItemImages':_0x55a5da[_0x445026(0x1dd)][_0x445026(0x1b6)](),'setItemVariantName':_0x55a5da[_0x445026(0x196)],'setItemVariantValues':{..._0x55a5da[_0x445026(0x1ec)]}};_0x40f069[_0x445026(0x221)](_0x412ff5),(_0x4bda18[_0x445026(0x1cb)]||_0x241b8a==0x1)&&addToCart(_0x412ff5);});}),console[_0xee5f61(0x24c)](_0xee5f61(0x204),newItems),await finalizeImport(_0x40f069,newItems,![]);}),[_0x3bfe46(0x17e),_0x3bfe46(0x1f9)][_0x3bfe46(0x1bb)](_0x276bae=>dropZone['addEventListener'](_0x276bae,_0x3e2e68=>{var _0x37219d=_0x3bfe46;_0x3e2e68[_0x37219d(0x20e)](),dropZone[_0x37219d(0x1f7)][_0x37219d(0x1a3)]('dragover');})),[_0x3bfe46(0x188),_0x3bfe46(0x213)]['forEach'](_0x58e421=>dropZone[_0x3bfe46(0x219)](_0x58e421,_0x3a12be=>{var _0x3dbb01=_0x3bfe46;_0x3a12be[_0x3dbb01(0x20e)](),dropZone[_0x3dbb01(0x1f7)][_0x3dbb01(0x272)](_0x3dbb01(0x1f9));})),dropZone[_0x3bfe46(0x219)]('drop',_0x4b85f2=>{var _0x5bac97=_0x3bfe46;const _0x54d0ab=_0x4b85f2[_0x5bac97(0x1c7)]['files'][0x0];if(!_0x54d0ab)return;fileInput[_0x5bac97(0x1f5)]=_0x4b85f2[_0x5bac97(0x1c7)][_0x5bac97(0x1f5)],dropZone[_0x5bac97(0x194)]('.drop-zone__prompt')[_0x5bac97(0x1ea)]=_0x54d0ab[_0x5bac97(0x225)],removeBtn[_0x5bac97(0x223)]=![],fileInput['dispatchEvent'](new Event(_0x5bac97(0x1e1)));}),removeBtn[_0x3bfe46(0x219)](_0x3bfe46(0x23e),()=>{var _0x347952=_0x3bfe46;fileInput['value']='',dropZone[_0x347952(0x194)](_0x347952(0x21a))['textContent']='Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x347952(0x223)]=!![],progressBar['style'][_0x347952(0x217)]='none',statusDiv['textContent']='',uploadBtn[_0x347952(0x280)]=!![];}),itemWorker[_0x3bfe46(0x1d4)]=({data:_0x168ee8})=>{var _0x2a53fd=_0x3bfe46;const {type:_0x343082,payload:_0x900de3}=_0x168ee8;_0x343082==='progress'&&(progressBar[_0x2a53fd(0x242)]['display']=_0x2a53fd(0x1c0),progressBar[_0x2a53fd(0x1ba)]=_0x900de3['percent'],statusDiv[_0x2a53fd(0x1ea)]=_0x900de3[_0x2a53fd(0x200)]),_0x343082==='done'&&(newItemsExcel=_0x900de3[_0x2a53fd(0x249)],statusDiv[_0x2a53fd(0x1ea)]='\x20'+newItemsExcel[_0x2a53fd(0x26d)]+_0x2a53fd(0x1d5),uploadBtn[_0x2a53fd(0x280)]=![],progressBar[_0x2a53fd(0x1ba)]=0x64,console[_0x2a53fd(0x24c)](newItemsExcel)),_0x343082===_0x2a53fd(0x284)&&(statusDiv[_0x2a53fd(0x1ea)]='\x20Error:\x20'+_0x900de3,progressBar['style'][_0x2a53fd(0x217)]='none');},fileInput[_0x3bfe46(0x219)](_0x3bfe46(0x1e1),async _0x5e3f08=>{var _0x151422=_0x3bfe46;const _0x5b9150=_0x5e3f08[_0x151422(0x259)][_0x151422(0x1f5)][0x0];if(!_0x5b9150)return;uploadBtn[_0x151422(0x280)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar[_0x151422(0x242)][_0x151422(0x217)]=_0x151422(0x1d3),dropZone[_0x151422(0x194)](_0x151422(0x21a))['textContent']=_0x5b9150[_0x151422(0x225)],removeBtn['hidden']=![];try{const _0x5aca36=await _0x5b9150[_0x151422(0x1ac)]();itemWorker[_0x151422(0x1fb)]({'buf':_0x5aca36,'maxRows':0x1388});}catch(_0x44ac01){statusDiv[_0x151422(0x1ea)]=_0x151422(0x260);}finally{fileInput[_0x151422(0x1ba)]='';}}),uploadBtn[_0x3bfe46(0x219)](_0x3bfe46(0x23e),async()=>{var _0x479ea3=_0x3bfe46;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x363b47=document['getElementById'](_0x479ea3(0x22f))[_0x479ea3(0x1ba)],_0x70a7e5=window_options[_0x363b47][_0x479ea3(0x199)],_0x2274c6=document['getElementById']('setWarehouseId')['value'];let _0x273e0f=generateNumericUniqId()*0x64+0x1f4,_0x76e6d2=generateNumericUniqId()*0xa;const _0x54ebeb=[];newItemsExcel[_0x479ea3(0x1bb)](_0x181b55=>{var _0x470f85=_0x479ea3;const _0x14012b=++_0x76e6d2;_0x181b55[_0x470f85(0x29c)]=[{'setStockInitial':_0x181b55[_0x470f85(0x19e)],'setStockMinimum':_0x181b55[_0x470f85(0x24b)],'setWarehouseCode':_0x2274c6}],_0x181b55[_0x470f85(0x1cf)][_0x470f85(0x1bb)](_0x5a09e1=>{var _0x55e002=_0x470f85;const _0x56aa48=++_0x273e0f;_0x5a09e1[_0x55e002(0x1ff)]=_0x56aa48;const _0x266ddf={'id':_0x56aa48,'setIdProducto':_0x14012b,'setCodProducto':_0x181b55['setItemCode'],'setDescripcion':_0x181b55[_0x55e002(0x196)]||_0x181b55[_0x55e002(0x1b4)],'setItemDescription':_0x181b55[_0x55e002(0x207)],'setBatchExpirationDate':_0x181b55[_0x55e002(0x24a)],'setBatchName':'','setCategoria':_0x181b55[_0x55e002(0x182)][0x0]||'','setMarca':_0x181b55[_0x55e002(0x191)][0x0]||'','setConversionFactor':parseFloat(_0x5a09e1[_0x55e002(0x1da)]),'setImages':[],'setImg':_0x55e002(0x278),'setInventariable':_0x181b55[_0x55e002(0x254)]?0x1:0x0,'setItemIsBought':_0x181b55[_0x55e002(0x222)]?0x1:0x0,'setItemIsSold':_0x181b55[_0x55e002(0x1ca)]?0x1:0x0,'setPorcentajeIgv':_0x181b55[_0x55e002(0x1df)],'setPrinters':[],'setTaxId':_0x181b55[_0x55e002(0x232)],'setTipAfeIgv':_0x181b55[_0x55e002(0x25b)],'setUnidad':_0x5a09e1['setUnitCode'],'setUnidadCodigo':_0x5a09e1['setUnitCode'],'currency_data':[{'currency':_0x70a7e5,'setMtoPrecioCostoUnitario':_0x5a09e1['setCost'],'setMtoPrecioUnitario':_0x5a09e1['setPrice'],'setPriceLists':[]}],'sucursales':_0x181b55[_0x55e002(0x29c)]['map'](_0x592fe1=>({'setIdSucursal':_0x592fe1[_0x55e002(0x187)],'setSucursalStock':_0x592fe1[_0x55e002(0x19e)]['toString'](),'setWarehouseStockMin':_0x592fe1[_0x55e002(0x24b)]['toString']()})),'setItemFree':_0x181b55['setItemFree'],'setItemBarCode':_0x181b55[_0x55e002(0x1db)],'setItemBrands':_0x181b55['setItemBrands'][_0x55e002(0x1b6)](),'setItemCategories':_0x181b55['setItemCategories'][_0x55e002(0x1b6)](),'setItemComponents':_0x181b55['setItemComponents'][_0x55e002(0x26f)](_0x365263=>({..._0x365263})),'setItemImages':_0x181b55['setItemImages'][_0x55e002(0x1b6)](),'setItemVariantName':_0x181b55[_0x55e002(0x196)],'setItemVariantValues':{..._0x181b55[_0x55e002(0x1ec)]}};_0x54ebeb['push'](_0x266ddf);});}),console[_0x479ea3(0x24c)](_0x479ea3(0x204),newItems),await finalizeImport(_0x54ebeb,newItemsExcel,!![]);});function initializeFormImages(){var _0x50d37=_0x3bfe46;currentImages=Array(MAX_IMAGES)['fill'](null),imgC['innerHTML']='',baseItem[_0x50d37(0x1dd)]=[];for(var _0x35c8d3=0x0;_0x35c8d3<MAX_IMAGES;_0x35c8d3++){(function(_0x52fbf3){var _0x53a8cd=_0x50d37,_0x52806f=document['createElement'](_0x53a8cd(0x286));_0x52806f[_0x53a8cd(0x1b9)]=_0x53a8cd(0x193),_0x52806f[_0x53a8cd(0x1ed)]['idx']=_0x52fbf3;var _0x4a22b1=document[_0x53a8cd(0x215)]('input');_0x4a22b1['type']=_0x53a8cd(0x1a5),_0x4a22b1['accept']=_0x53a8cd(0x299),_0x4a22b1[_0x53a8cd(0x242)][_0x53a8cd(0x217)]='none';var _0x33e758=document['createElement']('span');_0x33e758['textContent']='+',_0x52806f['appendChild'](_0x4a22b1),_0x52806f['appendChild'](_0x33e758),imgC[_0x53a8cd(0x28f)](_0x52806f),_0x52806f[_0x53a8cd(0x219)](_0x53a8cd(0x23e),function(){var _0x3ce7ff=_0x53a8cd;_0x4a22b1[_0x3ce7ff(0x23e)]();}),_0x4a22b1[_0x53a8cd(0x219)](_0x53a8cd(0x1e1),function(_0x1117bb){var _0x4d6b5f=_0x53a8cd,_0x1f026a=_0x1117bb[_0x4d6b5f(0x259)]['files'][0x0];if(!_0x1f026a)return removeImg(_0x52fbf3);var _0x12169b=new FileReader();_0x12169b[_0x4d6b5f(0x21f)]=function(_0x3246ca){var _0x1f451d=_0x4d6b5f;_0x52806f['innerHTML']=_0x1f451d(0x21b)+_0x3246ca[_0x1f451d(0x259)]['result']+'\x22>';var _0x55fea7=document['createElement']('span');_0x55fea7[_0x1f451d(0x1b9)]=_0x1f451d(0x272),_0x55fea7['textContent']='',_0x55fea7[_0x1f451d(0x219)](_0x1f451d(0x23e),function(_0x455c4e){var _0x12caa8=_0x1f451d;_0x455c4e[_0x12caa8(0x1f1)](),removeImg(_0x52fbf3);}),_0x52806f[_0x1f451d(0x28f)](_0x55fea7),currentImages[_0x52fbf3]=_0x1f026a,baseItem['setItemImages']=currentImages[_0x1f451d(0x1b0)](function(_0x411710){return _0x411710;});},_0x12169b[_0x4d6b5f(0x1e0)](_0x1f026a);});}(_0x35c8d3));}}function initializeFormIsSoldIsBought(){var _0x4f2a72=_0x3bfe46;document[_0x4f2a72(0x294)](_0x4f2a72(0x275))[_0x4f2a72(0x1cb)]=!![],document['getElementById'](_0x4f2a72(0x288))[_0x4f2a72(0x1cb)]=!![],baseItem[_0x4f2a72(0x222)]=!![],baseItem[_0x4f2a72(0x1ca)]=!![];}function initializeFormInputsBasic(){var _0x1e029f=_0x3bfe46;document[_0x1e029f(0x294)](_0x1e029f(0x270))[_0x1e029f(0x1ba)]='1',document[_0x1e029f(0x294)](_0x1e029f(0x211))[_0x1e029f(0x1ba)]=getNextCode(products),document[_0x1e029f(0x294)](_0x1e029f(0x251))['value']='',document['getElementById'](_0x1e029f(0x22b))[_0x1e029f(0x1ba)]='',document[_0x1e029f(0x294)](_0x1e029f(0x28b))[_0x1e029f(0x1ba)]='',document['getElementById'](_0x1e029f(0x1d0))[_0x1e029f(0x1ba)]='',baseItem['setItemType']='1',baseItem[_0x1e029f(0x263)]=getNextCode(products),baseItem['setItemName']='',baseItem['setItemDescription']='',baseItem[_0x1e029f(0x24a)]='',baseItem[_0x1e029f(0x1db)]='',document[_0x1e029f(0x294)](_0x1e029f(0x24d))[_0x1e029f(0x1cb)]=![];}function initializeFormTax(){var _0x2055dc=_0x3bfe46;const _0x4120ca=myCompany['setTaxIdDefault'],_0xfcc6dd=document[_0x2055dc(0x294)](_0x2055dc(0x201));_0xfcc6dd[_0x2055dc(0x1ba)]=_0x4120ca,baseItem[_0x2055dc(0x232)]=_0x4120ca;const _0x14075f=company[0x0][_0x2055dc(0x28d)]['find'](_0x368149=>_0x368149[_0x2055dc(0x297)]==_0x4120ca)?.[_0x2055dc(0x18c)]||0x0,_0x446263=company[0x0][_0x2055dc(0x28d)][_0x2055dc(0x230)](_0x2e7d1d=>_0x2e7d1d[_0x2055dc(0x297)]==_0x4120ca)?.[_0x2055dc(0x179)]||0x0;baseItem[_0x2055dc(0x25b)]=_0x14075f,baseItem['setItemTaxValue']=_0x446263;}function initializeFormCategoriesBrands(){var _0x763739=_0x3bfe46;baseItem[_0x763739(0x182)]=[],baseItem[_0x763739(0x191)]=[],document['querySelector']('#newItem_categories_select\x20.selected_tags')[_0x763739(0x209)]='',document[_0x763739(0x194)](_0x763739(0x1f3))[_0x763739(0x209)]='',document[_0x763739(0x194)](_0x763739(0x1e3))[_0x763739(0x209)]='',document[_0x763739(0x194)]('#newItem_brands_select\x20.options_list')['innerHTML']='';const _0x3198a1=uniqueValuesArray('setCategoria','setCategoria',products),_0x4efad7=uniqueValuesArray(_0x763739(0x1e2),_0x763739(0x1e2),products),_0x4c9613=initMulti(_0x763739(0x185),_0x3198a1),_0x27e411=initMulti('newItem_brands_select',_0x4efad7);document['getElementById'](_0x763739(0x185))[_0x763739(0x219)](_0x763739(0x1bf),function(_0x10231d){var _0x2d5518=_0x763739;baseItem[_0x2d5518(0x182)]=_0x4c9613[_0x2d5518(0x26f)](_0x53640a=>_0x53640a[_0x2d5518(0x258)]);}),document[_0x763739(0x294)](_0x763739(0x273))['addEventListener'](_0x763739(0x1bf),function(_0x133ea7){var _0x18597e=_0x763739;baseItem['setItemBrands']=_0x27e411[_0x18597e(0x26f)](_0x347be4=>_0x347be4['setCode']);});}function _0x2c80(_0x3d9ac4,_0x431d2d){var _0x1e14df=_0x64b7();return _0x2c80=function(_0x5d3a2f,_0x3c45f5){_0x5d3a2f=_0x5d3a2f-0x179;var _0x286254=_0x1e14df[_0x5d3a2f];return _0x286254;},_0x2c80(_0x3d9ac4,_0x431d2d);}function initializeFormUnits(){var _0x3bf6c0=_0x3bfe46;unitCount=0x0,document[_0x3bf6c0(0x294)](_0x3bf6c0(0x18d))[_0x3bf6c0(0x209)]='',baseItem[_0x3bf6c0(0x1cf)]=[];var _0x5461db=uniqueValuesArray('setUnidad',_0x3bf6c0(0x283),products);addUnit('',_0x5461db[0x0]&&_0x5461db[0x0][_0x3bf6c0(0x258)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x354347=_0x3bfe46;prodC[_0x354347(0x209)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x316a8d=_0x3bfe46;branchesC[_0x316a8d(0x209)]='',baseItem[_0x316a8d(0x29c)]=[];const _0x13ba6b=getAllWarehouses();_0x13ba6b[_0x316a8d(0x1bb)](function(_0x420cbf){var _0x4b3929=_0x316a8d,_0x378677=document['createElement']('div');_0x378677[_0x4b3929(0x209)]=_0x4b3929(0x231)+'<div\x20class=\x22newItem_col\x22>'+_0x4b3929(0x20c)+_0x420cbf[_0x4b3929(0x229)]+_0x4b3929(0x1d9)+_0x420cbf['setWarehouseName']+'</label>'+_0x4b3929(0x20d)+'<div\x20class=\x22newItem_col\x22>'+_0x4b3929(0x1ae)+_0x420cbf[_0x4b3929(0x229)]+'\x22>'+'</div>'+'<div\x20class=\x22newItem_col\x22>'+_0x4b3929(0x1f0)+_0x420cbf[_0x4b3929(0x229)]+'\x22>'+'</div>'+_0x4b3929(0x20d),branchesC[_0x4b3929(0x28f)](_0x378677),_0x378677['querySelectorAll'](_0x4b3929(0x24f))[_0x4b3929(0x1bb)](function(_0xe01a2){var _0x95fa54=_0x4b3929;_0xe01a2[_0x95fa54(0x219)](_0x95fa54(0x24f),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x41a817=_0x3bfe46;baseItem[_0x41a817(0x196)]='',baseItem[_0x41a817(0x1ec)]={},vgC[_0x41a817(0x209)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x3b53e2,_0x4f43e8,_0x1b964f=![]){var _0x15f66a=_0x3bfe46;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x15f66a(0x23f),'setToken':company[0x0][_0x15f66a(0x27f)],'setWebhook':company[0x0][_0x15f66a(0x1d7)],'newItems':_0x4f43e8}),products[_0x15f66a(0x221)](..._0x3b53e2),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x15f66a(0x25a)),_0x1b964f?(fileInput[_0x15f66a(0x1ba)]='',uploadBtn[_0x15f66a(0x280)]=!![],statusDiv[_0x15f66a(0x1ea)]='',progressBar['style']['display']=_0x15f66a(0x1d3),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}