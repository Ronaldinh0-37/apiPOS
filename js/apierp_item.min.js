/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.3
*/

var _0x4e0d13=_0x384a;function _0x1e71(){var _0x565391=['info','constructor','innerHTML','value','.branchMin','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','parse','\x20items.','setItemUnits','href','arrayBuffer','sucursales','\x22\x20value=\x22','setIdProducto','console','windowId','idx','No\x20hay\x20items\x20para\x20exportar.','result','preventDefault','onload','filter','.eqInput','setItemName','setMtoPrecioCostoUnitario','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','accept','inputItemType','readwrite','now','9569MhepZb','setItemTaxValue','.removeVariant','active','.removeCombo','search','base','revokeObjectURL','setItemId','forEach','every','split','download','setDefault','setItemFree','Generando\x20Excel...','div','7692FBXUpB','#newItem_branches_container\x20>\x20div','slice','newItem_brands_select','newItem_btn_addUnit','setItemTaxCode','.vgVals','toggle','newItem_btn_addProdItem','Enter','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','.prodInput','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','setCode','undefined','Collator','toISOString','4535yJNuCB','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','setItemWarehouses','contains','dataTransfer','done','setIdSucursal','setEquivalence','items','disabled','flatMap','test','.options_list\x20div','push','#newItem_categories_select\x20.options_list','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','closest','target','drop','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','newItem_title_table','setStockInitial','click','findIndex','setItemUnitAlias','code','style','./excel/Plantilla-Items.xlsx','closeModalCreateItem','.priceInput','隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!','.drop-zone__prompt','offline_operations','detalleModalCreateItem','find','setImpuestoCode','setItemIsSold','setCategoria','Error\x20al\x20procesar\x20la\x20operaci贸n:','setWarehouseCode','newItem_variants_forms','inputItemDateExpiry','splice','modalProductNewTitle','variant_','vals','setName','PEN','setFactor','./img/product.png','add','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','ERROR:\x20plainProducts\x20no\x20serializable:','#newItem_units_container\x20>\x20div','setItemComponents','dataset','display','setDescripcion','Ingresa\x20el\x20nombre\x20del\x20item','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','newItem_hidden','<div\x20class=\x22newItem_col\x22>','newItem_chk_buy','setItemBrandName','inputItemTax','setItemCategoryName','bind','error','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','percent','{}.constructor(\x22return\x20this\x22)(\x20)','reduce','(((.+)+)+)+$','application/octet-stream','.addVariantComp','stringify','file-input','file','.removeProd','setImpuestoName','setItemUnitId','setCost','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setUnitCode','assign','inputItemBarCode','Producto\x20Guardado\x20Offline\x20Correctamente.','.branchChk','max','prototype','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','name','setConversionFactor','currentTarget','toString','.variantForm','setAlias','costInput','appendChild','sort','_branch_container','[data-idx=\x22','newItem_addToCart','apply','key','\x20Error:\x20','</label>','upload-btn','isArray','</div>','querySelectorAll','.vgName','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','setBatchExpirationDate','some','newItem_units_container','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','.xlsx','querySelector','inputItemCode','.prodQty','.prod_input_container','setItemDateExpiry','div[data-default=\x22true\x22]\x20.eqInput','focus','true','.costInput','1168248xflYTJ','table','checked','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','includes','message','objectStore','.selected_tags','USD','\x22\x20class=\x22branchChk\x22\x20checked>\x20','detail','setTaxId','2JqsSCn','variantForm','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setMarca','setUnits','setItemBrands','setImpuestoValue','dragover','setWarehouseId','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','length','dispatchEvent','log','setItemTaxId','oncomplete','className','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','currency_data','from','block','mousedown','modalOverlayCreateItem','input','643317GOiLpN','setUnitName','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','currency','files','parentNode','.options_list','entries','setItemDescription','setCodProducto','defineProperty','default','getElementsByClassName','remove-file','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','classList','setItemImages','setTaxIdDefault','postMessage','5944afpqFg','trim','setUnidadCodigo','setMtoPrecioUnitario','_units_container','image_box','newItem_categories_select','setItemCode','remove','span','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','newItem_title_table_cp','newItem_variant_groups','compare','setCostUSD','setWarehouseName','change','tag','setItemCategories','dragenter','selectionChange','newItem_chk_sell','remove-tag','children','.unitSelect','createElement','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','__proto__','#newItem_categories_select\x20.selected_tags','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','setItemVariantName','setItemInventoriable','values','selectedItem','\x20items\x20procesados.','toLowerCase','inputItemDescription','newItem_btn_addVariantGroup','addEventListener','drop-zone','readAsDataURL','.unitAlias','style=\x22display:none\x22','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setCantidad','Ingresa\x20el\x20c贸digo\x20del\x20item','<img\x20src=\x22','status','setPriceUSD','setImpuestos','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','map','none','hidden','Error\x20al\x20obtener\x20la\x20plantilla:\x20','getElementById','image/*','setWebhook','fill','newItem_branches_container','7705953TWnWpp','textContent','9083730dNioqH','setSucursalStock','unitSelect','padStart','stopPropagation','createObjectURL','progress','import','setItemVariantValues','onmessage','warn','Error\x20al\x20guardar\x20Producto\x20Offline:','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','blur','setItemIsBought','4262920TRvfzz','setPrice','exportDone','inputItemName','setStockMinimum','setItemBarCode','.variantBarCode','transaction','Items\x20finales:','Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar','setInventariable','setItemType'];_0x1e71=function(){return _0x565391;};return _0x1e71();}(function(_0x11e06a,_0x54778b){var _0x451d53=_0x384a,_0x51fe1c=_0x11e06a();while(!![]){try{var _0x26e249=-parseInt(_0x451d53(0x185))/0x1+-parseInt(_0x451d53(0x16e))/0x2*(-parseInt(_0x451d53(0x162))/0x3)+parseInt(_0x451d53(0x1e7))/0x4+-parseInt(_0x451d53(0xe3))/0x5*(parseInt(_0x451d53(0x222))/0x6)+parseInt(_0x451d53(0x211))/0x7*(parseInt(_0x451d53(0x198))/0x8)+parseInt(_0x451d53(0x1d6))/0x9+-parseInt(_0x451d53(0x1d8))/0xa;if(_0x26e249===_0x54778b)break;else _0x51fe1c['push'](_0x51fe1c['shift']());}catch(_0x5f4097){_0x51fe1c['push'](_0x51fe1c['shift']());}}}(_0x1e71,0x958e4));var _0x206c91=(function(){var _0x56f21c=!![];return function(_0x212dd3,_0x10016d){var _0x570b1a=_0x56f21c?function(){if(_0x10016d){var _0x3a3f0f=_0x10016d['apply'](_0x212dd3,arguments);return _0x10016d=null,_0x3a3f0f;}}:function(){};return _0x56f21c=![],_0x570b1a;};}()),_0x22a454=_0x206c91(this,function(){var _0x386a76=_0x384a;return _0x22a454[_0x386a76(0x141)]()[_0x386a76(0x216)]('(((.+)+)+)+$')[_0x386a76(0x141)]()[_0x386a76(0x1f4)](_0x22a454)['search'](_0x386a76(0x12b));});_0x22a454();var _0x16699b=(function(){var _0x18b464=!![];return function(_0x361afc,_0x2dca7c){var _0x7600e4=_0x18b464?function(){var _0x5065d5=_0x384a;if(_0x2dca7c){var _0x5a9731=_0x2dca7c[_0x5065d5(0x14a)](_0x361afc,arguments);return _0x2dca7c=null,_0x5a9731;}}:function(){};return _0x18b464=![],_0x7600e4;};}()),_0x68594=_0x16699b(this,function(){var _0x460c17=_0x384a,_0x5ea19f;try{var _0x445a11=Function('return\x20(function()\x20'+_0x460c17(0x129)+');');_0x5ea19f=_0x445a11();}catch(_0x5f345e){_0x5ea19f=window;}var _0x2630f5=_0x5ea19f[_0x460c17(0x201)]=_0x5ea19f[_0x460c17(0x201)]||{},_0x24317c=['log',_0x460c17(0x1e2),_0x460c17(0x1f3),_0x460c17(0x126),'exception',_0x460c17(0x163),'trace'];for(var _0x1b5753=0x0;_0x1b5753<_0x24317c[_0x460c17(0x178)];_0x1b5753++){var _0x32c63a=_0x16699b[_0x460c17(0x1f4)][_0x460c17(0x13c)]['bind'](_0x16699b),_0x4ed7cd=_0x24317c[_0x1b5753],_0x938f4=_0x2630f5[_0x4ed7cd]||_0x32c63a;_0x32c63a[_0x460c17(0x1b4)]=_0x16699b[_0x460c17(0x125)](_0x16699b),_0x32c63a[_0x460c17(0x141)]=_0x938f4[_0x460c17(0x141)][_0x460c17(0x125)](_0x938f4),_0x2630f5[_0x4ed7cd]=_0x32c63a;}});_0x68594();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById']('newItem_images_container'),unitCount=0x0,branchesC=document['getElementById'](_0x4e0d13(0x1d5)),prodC=document[_0x4e0d13(0x1d1)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x4e0d13(0x1d1)](_0x4e0d13(0x10b)),vgC=document[_0x4e0d13(0x1d1)](_0x4e0d13(0x1a4));const fileInput=document[_0x4e0d13(0x1d1)](_0x4e0d13(0x12f)),progressBar=document[_0x4e0d13(0x1d1)](_0x4e0d13(0x1de)),statusDiv=document[_0x4e0d13(0x1d1)](_0x4e0d13(0x1c8)),uploadBtn=document[_0x4e0d13(0x1d1)](_0x4e0d13(0x14e));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x4e0d13(0x1d1)](_0x4e0d13(0x1c0)),removeBtn=document[_0x4e0d13(0x1d1)](_0x4e0d13(0x192));function showModalCreateItem(_0x1a338b){var _0x26fc95=_0x4e0d13;const _0x368e20=document[_0x26fc95(0x1d1)](_0x26fc95(0x104)),_0x43451e=document['getElementById']('modalOverlayCreateItem');_0x368e20[_0x26fc95(0x194)][_0x26fc95(0x115)]('active'),_0x43451e['style'][_0x26fc95(0x11b)]=_0x26fc95(0x181);const _0x4a47f4=document['getElementById']('setItemFree');_0x4a47f4['value']=parseInt(_0x1a338b),baseItem['setItemFree']=parseInt(_0x1a338b);const _0x64e0dc=document[_0x26fc95(0x1d1)](_0x26fc95(0x10e));_0x1a338b==0x0&&(_0x64e0dc[_0x26fc95(0x1f5)]='Nuevo\x20Producto');_0x1a338b==0x1&&(_0x64e0dc[_0x26fc95(0x1f5)]='Producto\x20Libre');const _0x15512f=document[_0x26fc95(0x191)]('productType1');for(let _0x4aac06=0x0;_0x4aac06<_0x15512f[_0x26fc95(0x178)];_0x4aac06++){const _0x27c230=_0x15512f[_0x4aac06];if(_0x1a338b==0x0)_0x27c230[_0x26fc95(0x194)][_0x26fc95(0x1a0)](_0x26fc95(0x1cf));else _0x1a338b==0x1&&_0x27c230[_0x26fc95(0x194)][_0x26fc95(0x115)]('hidden');}}function hideModalCreateItem(){var _0xd1d9dc=_0x4e0d13;const _0x3118e3=document[_0xd1d9dc(0x1d1)]('detalleModalCreateItem'),_0x43020f=document[_0xd1d9dc(0x1d1)](_0xd1d9dc(0x183));_0x3118e3[_0xd1d9dc(0x194)]['remove'](_0xd1d9dc(0x214)),_0x43020f['style'][_0xd1d9dc(0x11b)]=_0xd1d9dc(0x1ce);}document[_0x4e0d13(0x1d1)](_0x4e0d13(0xff))[_0x4e0d13(0x1bf)]('click',hideModalCreateItem),document[_0x4e0d13(0x1d1)](_0x4e0d13(0x183))[_0x4e0d13(0x1bf)](_0x4e0d13(0xf9),_0x4d0b90=>{var _0x45fda4=_0x4e0d13;_0x4d0b90[_0x45fda4(0xf4)]==_0x4d0b90[_0x45fda4(0x140)]&&_0x4d0b90['stopPropagation']();});function loadTaxData(){var _0x1bca51=_0x4e0d13;const _0x125fc4=document[_0x1bca51(0x1d1)](_0x1bca51(0x123));_0x125fc4['innerHTML']='',company[0x0]['setImpuestos'][_0x1bca51(0x21a)](function(_0x5c1dcc){var _0x481914=_0x1bca51;const _0x34db32=document[_0x481914(0x1b1)]('option');_0x34db32[_0x481914(0x1f6)]=_0x5c1dcc[_0x481914(0x16d)],_0x34db32['innerHTML']=_0x5c1dcc[_0x481914(0x132)]+'\x20('+_0x5c1dcc['setImpuestoValue']+'%)',_0x5c1dcc[_0x481914(0x16d)]==company[0x0][_0x481914(0x196)]&&(_0x34db32['selected']=!![]),_0x125fc4[_0x481914(0x145)](_0x34db32);});}function uniqueValuesArray(_0x4fb032,_0x26d633,_0x51beda){var _0x17ab20=_0x4e0d13;const _0x30e5bd=Array['from'](new Set(_0x51beda[_0x17ab20(0x1cd)](_0x1d5cbe=>{var _0x219744=_0x17ab20;const _0x4a9060=_0x1d5cbe[_0x4fb032];return typeof _0x4a9060==='string'?_0x4a9060[_0x219744(0x199)]():_0x4a9060;})['filter'](_0x37cd07=>_0x37cd07!=null&&_0x37cd07!=='')));return _0x30e5bd[_0x17ab20(0x1cd)](_0x1c507f=>{var _0x3f4af4=_0x17ab20;const _0x1794fe=_0x51beda[_0x3f4af4(0x105)](_0x2f3ef8=>_0x2f3ef8[_0x4fb032]===_0x1c507f),_0x2ee04f=_0x1794fe&&_0x1794fe[_0x26d633]!=null?String(_0x1794fe[_0x26d633])[_0x3f4af4(0x199)]():_0x1c507f;return{'setCode':_0x1c507f,'setName':_0x2ee04f};});}function fillSelect(_0x293700,_0x12d5f2,_0x1c512f,_0x3641c1){_0x293700['innerHTML']='',_0x12d5f2['forEach'](function(_0x3e9b0b){var _0x3d2fe1=_0x384a,_0x466791=new Option(_0x3e9b0b[_0x3641c1],_0x3e9b0b[_0x1c512f]);_0x293700[_0x3d2fe1(0x115)](_0x466791);});}function initMulti(_0x6c0756,_0x5b8810){var _0x5ea647=_0x4e0d13,_0x5f1e5c=document[_0x5ea647(0x1d1)](_0x6c0756),_0x1c01c6=_0x5f1e5c[_0x5ea647(0x159)]('.ms_input'),_0x404532=_0x5f1e5c[_0x5ea647(0x159)](_0x5ea647(0x18b)),_0x11f747=_0x5f1e5c[_0x5ea647(0x159)](_0x5ea647(0x169)),_0x41c265=_0x5b8810[_0x5ea647(0xd4)](),_0x38b16d=[];let _0x237fee=null,_0x8e926c=![];function _0x575284(){var _0x554c6a=_0x5ea647;const _0x10fc01=_0x1c01c6[_0x554c6a(0x1f6)]['trim']();if(!_0x10fc01)return;const _0x58bc4e=_0x41c265['find'](_0x287935=>_0x287935[_0x554c6a(0x111)]['toLowerCase']()===_0x10fc01[_0x554c6a(0x1bc)]());if(_0x58bc4e)_0x38b16d['push'](_0x58bc4e),_0x41c265[_0x554c6a(0x10d)](_0x41c265[_0x554c6a(0xfa)](_0x50238e=>_0x50238e[_0x554c6a(0xdf)]===_0x58bc4e[_0x554c6a(0xdf)]),0x1);else{const _0x7a6bb3=_0x38b16d['some'](_0x5491a4=>_0x5491a4['setName'][_0x554c6a(0x1bc)]()===_0x10fc01[_0x554c6a(0x1bc)]());!_0x7a6bb3&&_0x38b16d['push']({'setCode':_0x10fc01,'setName':_0x10fc01});}_0x48f972(),_0x4fd391(),_0x1c01c6[_0x554c6a(0x1f6)]='';}function _0x4fd391(){var _0x5bce79=_0x5ea647;_0x404532[_0x5bce79(0x1f5)]='',_0x41c265[_0x5bce79(0x208)](_0x26f183=>_0x26f183[_0x5bce79(0x111)][_0x5bce79(0x1bc)]()[_0x5bce79(0x166)](_0x1c01c6[_0x5bce79(0x1f6)]['toLowerCase']()))[_0x5bce79(0xd4)](0x0,0x14)[_0x5bce79(0x21a)](_0x3aee32=>{var _0x35c47e=_0x5bce79,_0x18a728=document[_0x35c47e(0x1b1)](_0x35c47e(0x221));_0x18a728[_0x35c47e(0x1d7)]=_0x3aee32[_0x35c47e(0x111)],_0x18a728['dataset'][_0x35c47e(0xfc)]=_0x3aee32[_0x35c47e(0xdf)],_0x404532[_0x35c47e(0x145)](_0x18a728),_0x18a728[_0x35c47e(0x1bf)](_0x35c47e(0x182),()=>_0x8e926c=!![]),_0x18a728[_0x35c47e(0x1bf)](_0x35c47e(0xf9),function(){var _0x43c5be=_0x35c47e;_0x8e926c=![],_0x38b16d[_0x43c5be(0xf0)](_0x3aee32),_0x41c265[_0x43c5be(0x10d)](_0x41c265[_0x43c5be(0xfa)](_0x164560=>_0x164560[_0x43c5be(0xdf)]===_0x3aee32[_0x43c5be(0xdf)]),0x1),_0x1c01c6[_0x43c5be(0x1f6)]='',_0x48f972(),_0x4fd391();});});}function _0x48f972(){var _0x860578=_0x5ea647;_0x11f747['innerHTML']='',_0x38b16d[_0x860578(0x21a)](_0x32f583=>{var _0x403763=_0x860578,_0x428770=document[_0x403763(0x1b1)](_0x403763(0x221));_0x428770[_0x403763(0x17d)]=_0x403763(0x1a9),_0x428770[_0x403763(0x1d7)]=_0x32f583['setName'];var _0x323084=document[_0x403763(0x1b1)]('span');_0x323084[_0x403763(0x17d)]=_0x403763(0x1ae),_0x323084['textContent']='',_0x323084[_0x403763(0x1bf)](_0x403763(0xf9),function(){var _0x48c1e5=_0x403763;_0x41c265[_0x48c1e5(0xf0)](_0x32f583);const _0x11cce1=_0x38b16d[_0x48c1e5(0xfa)](_0x3f6953=>_0x3f6953[_0x48c1e5(0xdf)]===_0x32f583[_0x48c1e5(0xdf)]);if(_0x11cce1>-0x1)_0x38b16d[_0x48c1e5(0x10d)](_0x11cce1,0x1);_0x48f972(),_0x4fd391();}),_0x428770[_0x403763(0x145)](_0x323084),_0x11f747[_0x403763(0x145)](_0x428770);}),_0x5f1e5c[_0x860578(0x179)](new CustomEvent('selectionChange',{'detail':_0x38b16d,'bubbles':!![]}));}return _0x1c01c6[_0x5ea647(0x1bf)](_0x5ea647(0x15f),function(){var _0x8f8331=_0x5ea647;_0x237fee&&(clearTimeout(_0x237fee),_0x237fee=null),_0x404532['classList'][_0x8f8331(0x1a0)](_0x8f8331(0x11f));}),_0x1c01c6[_0x5ea647(0x1bf)](_0x5ea647(0x184),_0x4fd391),_0x1c01c6[_0x5ea647(0x1bf)]('keydown',function(_0x27f419){var _0x504f8f=_0x5ea647;_0x27f419[_0x504f8f(0x14b)]===_0x504f8f(0xdb)&&(_0x27f419[_0x504f8f(0x206)](),_0x575284());}),_0x1c01c6[_0x5ea647(0x1bf)](_0x5ea647(0x1e5),function(){if(_0x8e926c)return;_0x237fee=setTimeout(()=>{_0x575284(),_0x237fee=null;},0xc8);}),document[_0x5ea647(0x1bf)](_0x5ea647(0xf9),function(_0x169b77){var _0x50841b=_0x5ea647;!_0x5f1e5c['contains'](_0x169b77[_0x50841b(0xf4)])&&_0x404532[_0x50841b(0x194)][_0x50841b(0x115)](_0x50841b(0x11f));}),_0x4fd391(),_0x38b16d;}function getLastCode(_0x369eb7){var _0x2c276f=_0x4e0d13;const _0x42e4a8=_0x369eb7[_0x2c276f(0x1cd)](_0x20d427=>String(_0x20d427['setCodProducto'])[_0x2c276f(0x199)]())[_0x2c276f(0x208)](_0x586257=>_0x586257!=='');if(_0x42e4a8[_0x2c276f(0x178)]===0x0)return'';const _0x7aabcc=_0x42e4a8[_0x2c276f(0x21b)](_0xf9289=>/^\d+$/['test'](_0xf9289));if(_0x7aabcc){const _0x4059c8=_0x42e4a8[_0x2c276f(0x1cd)](Number),_0x28a362=Math[_0x2c276f(0x13b)](..._0x4059c8);return String(_0x28a362);}let _0x5e202a;if(typeof Intl!==_0x2c276f(0xe0)&&Intl['Collator']){const _0x22719d=new Intl[(_0x2c276f(0xe1))](undefined,{'numeric':!![],'sensitivity':_0x2c276f(0x217)});_0x5e202a=_0x42e4a8[_0x2c276f(0xd4)]()[_0x2c276f(0x146)](_0x22719d[_0x2c276f(0x1a5)]);}else{const _0x316fd4=_0x42e4a8[_0x2c276f(0x21b)](_0x33eeae=>/^\d+$/[_0x2c276f(0xee)](_0x33eeae));_0x316fd4?_0x5e202a=_0x42e4a8[_0x2c276f(0x1cd)](Number)[_0x2c276f(0x146)]((_0x426e48,_0x5df7a4)=>_0x426e48-_0x5df7a4)[_0x2c276f(0x1cd)](String):_0x5e202a=_0x42e4a8[_0x2c276f(0xd4)]()[_0x2c276f(0x146)]();}return _0x5e202a[_0x5e202a[_0x2c276f(0x178)]-0x1];}function getNextCode(_0x47ea61){var _0x339a0c=_0x4e0d13;const _0x153d7e=getLastCode(_0x47ea61);if(!_0x153d7e)return'';if(/^\d+$/['test'](_0x153d7e))return String(Number(_0x153d7e)+0x1);const _0x593bd9=_0x153d7e['match'](/^([A-Za-z]*)(\d+)$/);if(_0x593bd9){const [,_0x18cfb4,_0x322546]=_0x593bd9,_0x31aaa4=String(Number(_0x322546)+0x1)[_0x339a0c(0x1db)](_0x322546['length'],'0');return _0x18cfb4+_0x31aaa4;}return _0x153d7e;}document[_0x4e0d13(0x1d1)](_0x4e0d13(0x1ea))[_0x4e0d13(0x1bf)]('input',function(_0x4dc2cd){var _0x2b1b12=_0x4e0d13;baseItem[_0x2b1b12(0x20a)]=_0x4dc2cd[_0x2b1b12(0xf4)][_0x2b1b12(0x1f6)];}),document[_0x4e0d13(0x1d1)](_0x4e0d13(0x1bd))[_0x4e0d13(0x1bf)](_0x4e0d13(0x184),function(_0x5465cc){var _0x1a9b47=_0x4e0d13;baseItem[_0x1a9b47(0x18d)]=_0x5465cc['target'][_0x1a9b47(0x1f6)];}),document[_0x4e0d13(0x1d1)]('inputItemDateExpiry')['addEventListener'](_0x4e0d13(0x184),function(_0x4ec7e9){var _0x1fba5b=_0x4e0d13;baseItem[_0x1fba5b(0x15d)]=_0x4ec7e9[_0x1fba5b(0xf4)]['value'];}),document[_0x4e0d13(0x1d1)]('inputItemType')[_0x4e0d13(0x1bf)](_0x4e0d13(0x1a8),function(_0x3b7e04){var _0x3b02bf=_0x4e0d13;baseItem[_0x3b02bf(0x1f2)]=_0x3b7e04['target'][_0x3b02bf(0x1f6)];}),document[_0x4e0d13(0x1d1)]('inputItemTax')[_0x4e0d13(0x1bf)](_0x4e0d13(0x1a8),function(_0x214a43){var _0x5ba1a0=_0x4e0d13;baseItem[_0x5ba1a0(0x17b)]=_0x214a43[_0x5ba1a0(0xf4)][_0x5ba1a0(0x1f6)];const _0x4555bf=_0x214a43['target'][_0x5ba1a0(0x1f6)],_0x507fc2=company[0x0]['setImpuestos'][_0x5ba1a0(0x105)](_0x775d50=>_0x775d50[_0x5ba1a0(0x16d)]==_0x4555bf)?.[_0x5ba1a0(0x106)]||0x0,_0x367dd9=company[0x0][_0x5ba1a0(0x1ca)][_0x5ba1a0(0x105)](_0x285d54=>_0x285d54[_0x5ba1a0(0x16d)]==_0x4555bf)?.[_0x5ba1a0(0x174)]||0x0;baseItem[_0x5ba1a0(0xd7)]=_0x507fc2,baseItem[_0x5ba1a0(0x212)]=_0x367dd9;}),document[_0x4e0d13(0x1d1)](_0x4e0d13(0x121))[_0x4e0d13(0x1bf)](_0x4e0d13(0x1a8),function(_0x83f267){var _0x37fdfb=_0x4e0d13;baseItem[_0x37fdfb(0x1e6)]=_0x83f267[_0x37fdfb(0xf4)][_0x37fdfb(0x164)];}),document[_0x4e0d13(0x1d1)](_0x4e0d13(0x1ad))['addEventListener'](_0x4e0d13(0x1a8),function(_0x2dafd5){var _0x136241=_0x4e0d13;baseItem[_0x136241(0x107)]=_0x2dafd5[_0x136241(0xf4)][_0x136241(0x164)];}),document[_0x4e0d13(0x1d1)](_0x4e0d13(0x15a))[_0x4e0d13(0x1bf)](_0x4e0d13(0x184),function(_0x2dd248){var _0x16aa0e=_0x4e0d13;baseItem[_0x16aa0e(0x19f)]=_0x2dd248[_0x16aa0e(0xf4)]['value'];}),document[_0x4e0d13(0x1d1)](_0x4e0d13(0x138))[_0x4e0d13(0x1bf)]('input',function(_0x211f8b){var _0x49be62=_0x4e0d13;baseItem[_0x49be62(0x1ec)]=_0x211f8b[_0x49be62(0xf4)][_0x49be62(0x1f6)];}),document['getElementById'](_0x4e0d13(0xd6))[_0x4e0d13(0x1bf)](_0x4e0d13(0xf9),function(){addUnit(),updateUnitsArray();}),document[_0x4e0d13(0x1d1)](_0x4e0d13(0x15a))[_0x4e0d13(0x1bf)]('blur',function(){var _0x45e543=_0x4e0d13;const _0x3cdd51=this[_0x45e543(0x1f6)]['trim']();if(_0x3cdd51==='')return;const _0x5d92ad=products[_0x45e543(0x155)](_0xdab1f2=>_0xdab1f2[_0x45e543(0x18e)]==_0x3cdd51),_0x9b638=getLastCode(products);_0x5d92ad?ntfShow('El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20'+_0x9b638,0x2,0x1):ntfShow(_0x45e543(0x101),0x1,0x1);});function removeImg(_0x40cf8b){var _0x4c94bc=_0x4e0d13;currentImages[_0x40cf8b]=null;var _0x39198c=imgC['querySelector'](_0x4c94bc(0x148)+_0x40cf8b+'\x22]');_0x39198c[_0x4c94bc(0x1f5)]='';var _0x2f59e3=document[_0x4c94bc(0x1b1)](_0x4c94bc(0x184));_0x2f59e3['type']=_0x4c94bc(0x130),_0x2f59e3['accept']=_0x4c94bc(0x1d2),_0x2f59e3[_0x4c94bc(0xfd)][_0x4c94bc(0x11b)]=_0x4c94bc(0x1ce);var _0x15ba0d=document['createElement'](_0x4c94bc(0x1a1));_0x15ba0d[_0x4c94bc(0x1d7)]='+',_0x39198c[_0x4c94bc(0x145)](_0x2f59e3),_0x39198c[_0x4c94bc(0x145)](_0x15ba0d),_0x39198c[_0x4c94bc(0x1bf)](_0x4c94bc(0xf9),function(){var _0x2402b7=_0x4c94bc;_0x2f59e3[_0x2402b7(0xf9)]();}),baseItem['setItemImages']=currentImages[_0x4c94bc(0x208)](function(_0x3dcb10){return _0x3dcb10;});}function addUnit(_0x36bb1d,_0xf5474d,_0x2bf150,_0xb0bf7d,_0x51f80b,_0x1d4c40,_0x327f38){var _0x372ffb=_0x4e0d13,_0x2c91ff=uniqueValuesArray(_0x372ffb(0x136),_0x372ffb(0x186),myCompany[_0x372ffb(0x172)]);_0x36bb1d=_0x36bb1d||'',_0xf5474d=_0xf5474d||_0x2c91ff[0x3a]&&_0x2c91ff[0x3a][_0x372ffb(0xdf)]||'',_0x2bf150=_0x2bf150!==undefined?_0x2bf150:0x1,_0xb0bf7d=!!_0xb0bf7d,_0x51f80b=_0x51f80b||'',_0x1d4c40=_0x1d4c40||'';var _0x1695fd=unitCount++,_0x54afff=document['createElement']('div');_0x54afff[_0x372ffb(0x11a)][_0x372ffb(0x203)]=_0x1695fd,_0x54afff[_0x372ffb(0x11a)]['default']=_0xb0bf7d,_0x54afff[_0x372ffb(0x1f5)]=_0x372ffb(0xf6)+_0x1695fd+_0x372ffb(0x1ff)+_0x36bb1d+_0x372ffb(0x11e)+_0x1695fd+_0x372ffb(0x1cc)+_0x1695fd+_0x372ffb(0x1ff)+_0x2bf150+'\x22\x20'+(_0xb0bf7d?_0x372ffb(0xec):'')+_0x372ffb(0x1b6)+_0x1695fd+_0x372ffb(0x1ff)+_0x51f80b+_0x372ffb(0x165)+_0x1695fd+'\x22\x20value=\x22'+_0x1d4c40+_0x372ffb(0x153)+(_0xb0bf7d?_0x372ffb(0x1c3):'')+_0x372ffb(0x1b2),fillSelect(_0x54afff['querySelector'](_0x372ffb(0x1b0)),_0x2c91ff,_0x372ffb(0xdf),_0x372ffb(0x111)),_0x54afff[_0x372ffb(0x159)](_0x372ffb(0x1b0))[_0x372ffb(0x1f6)]=_0xf5474d,['unitAlias',_0x372ffb(0x1da),'eqInput','priceInput',_0x372ffb(0x144)][_0x372ffb(0x21a)](function(_0xc9b9e2){var _0x49e0fe=_0x372ffb;_0x54afff[_0x49e0fe(0x159)]('.'+_0xc9b9e2)[_0x49e0fe(0x1bf)](_0x49e0fe(0x184),function(){var _0x8d0a1e=_0x49e0fe,_0xf73565=_0x327f38?+_0x327f38['id'][_0x8d0a1e(0x21c)]('_')[0x1]:null;if(_0x327f38)updateVariantUnits(_0xf73565);else updateUnitsArray();});}),_0x54afff['querySelector']('.removeUnit')[_0x372ffb(0x1bf)](_0x372ffb(0xf9),function(){_0x54afff['remove']();var _0x30a94f=_0x327f38?+_0x327f38['id']['split']('_')[0x1]:null;if(_0x327f38)updateVariantUnits(_0x30a94f);else updateUnitsArray();});var _0x5b71f4=_0x327f38||document[_0x372ffb(0x1d1)]('newItem_units_container');_0x5b71f4['appendChild'](_0x54afff);}function containerIdx(_0x142b1e){return+_0x142b1e['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x3d00f9=_0x4e0d13,_0x44604a=[],_0x233b4d=Array['from'](document['querySelectorAll'](_0x3d00f9(0x118))),_0x47e784=_0x233b4d[_0x3d00f9(0x105)](_0x5f57fc=>_0x5f57fc[_0x3d00f9(0x11a)]['default']===_0x3d00f9(0x160)),_0xbae4d1=_0x47e784?+_0x47e784[_0x3d00f9(0x159)](_0x3d00f9(0x209))['value']:0x1;_0x233b4d[_0x3d00f9(0x21a)](function(_0x233215){var _0x423d09=_0x3d00f9,_0x3d0756=+_0x233215[_0x423d09(0x159)](_0x423d09(0x209))['value']||0x0,_0x24485e=+_0x233215[_0x423d09(0x159)](_0x423d09(0x100))[_0x423d09(0x1f6)]||0x0,_0x37b405=+_0x233215['querySelector']('.costInput')[_0x423d09(0x1f6)]||0x0;_0x44604a[_0x423d09(0xf0)]({'setAlias':_0x233215['querySelector'](_0x423d09(0x1c2))['value'][_0x423d09(0x199)](),'setUnitCode':_0x233215['querySelector'](_0x423d09(0x1b0))[_0x423d09(0x1f6)],'setEquivalence':_0x3d0756,'setFactor':_0x233215[_0x423d09(0x11a)][_0x423d09(0x190)]==='true'?0x1:_0x3d0756==_0xbae4d1?0x1:_0x3d0756<_0xbae4d1?_0xbae4d1/_0x3d0756:_0x3d0756/_0xbae4d1,'setPrice':_0x24485e,'setCost':_0x37b405,'setDefault':_0x233215[_0x423d09(0x11a)][_0x423d09(0x190)]===_0x423d09(0x160)?0x1:0x0});}),baseItem[_0x3d00f9(0x1fb)]=_0x44604a;}function updateBranches(){var _0x546736=_0x4e0d13,_0x23c5c9=[];document[_0x546736(0x151)](_0x546736(0xd3))[_0x546736(0x21a)](function(_0x4c8477){var _0x878243=_0x546736,_0x5ec7fe=_0x4c8477[_0x878243(0x159)](_0x878243(0x13a));if(_0x5ec7fe[_0x878243(0x164)]){var _0x5cd31e=+_0x5ec7fe[_0x878243(0x11a)]['id'],_0x232c98=+_0x4c8477[_0x878243(0x159)]('.branchInit')[_0x878243(0x1f6)],_0x25cb2b=+_0x4c8477['querySelector'](_0x878243(0x1f7))['value'];_0x23c5c9[_0x878243(0xf0)]({'setWarehouseCode':_0x5cd31e,'setStockInitial':_0x232c98,'setStockMinimum':_0x25cb2b});}}),baseItem[_0x546736(0xe5)]=_0x23c5c9;}document[_0x4e0d13(0x1d1)](_0x4e0d13(0xda))[_0x4e0d13(0x1bf)](_0x4e0d13(0xf9),function(){var _0x592c7d=_0x4e0d13,_0x10833d=Date[_0x592c7d(0x210)](),_0x29d236=document['createElement'](_0x592c7d(0x221));_0x29d236[_0x592c7d(0x11a)][_0x592c7d(0x203)]=_0x10833d,_0x29d236['innerHTML']=_0x592c7d(0x1e4)+_0x10833d+_0x592c7d(0x193)+_0x10833d+_0x592c7d(0x170),prodC['appendChild'](_0x29d236),initProdSearch(_0x29d236[_0x592c7d(0x159)]('.prod_input_container')),_0x29d236['querySelector'](_0x592c7d(0x131))[_0x592c7d(0x1bf)](_0x592c7d(0xf9),function(){var _0x2340d0=_0x592c7d;_0x29d236[_0x2340d0(0x1a0)](),updateProdItems();}),_0x29d236['querySelector'](_0x592c7d(0x15b))[_0x592c7d(0x1bf)](_0x592c7d(0x184),updateProdItems),document['getElementById'](_0x592c7d(0x1a3))[_0x592c7d(0x194)][_0x592c7d(0xd9)](_0x592c7d(0xf7),!![]),document[_0x592c7d(0x1d1)](_0x592c7d(0x1a3))[_0x592c7d(0x194)][_0x592c7d(0xd9)](_0x592c7d(0x11f),![]);});function initProdSearch(_0x19ae33,_0x37d82c){var _0x161e70=_0x4e0d13,_0x16a851=_0x19ae33['querySelector'](_0x161e70(0xdd)),_0x4f8f5a=_0x19ae33[_0x161e70(0x159)](_0x161e70(0x18b)),_0x569a47=_0x37d82c||null;if(_0x37d82c)_0x16a851[_0x161e70(0x1f6)]=_0x37d82c[_0x161e70(0x13e)];_0x16a851[_0x161e70(0x1bf)](_0x161e70(0x184),function(){var _0x5666af=_0x161e70,_0x483b16=_0x16a851[_0x5666af(0x1f6)][_0x5666af(0x1bc)]()[_0x5666af(0x199)]();_0x4f8f5a['innerHTML']='';if(!_0x483b16)return;products['filter'](_0x5e6807=>_0x5e6807[_0x5666af(0x11c)][_0x5666af(0x1bc)]()[_0x5666af(0x166)](_0x483b16))[_0x5666af(0xd4)](0x0,0x14)[_0x5666af(0x21a)](function(_0x2dd8b7){var _0x35697f=_0x5666af,_0x13255c=document[_0x35697f(0x1b1)](_0x35697f(0x221));_0x13255c[_0x35697f(0x1d7)]=_0x2dd8b7[_0x35697f(0x11c)],_0x13255c[_0x35697f(0x11a)]['id']=_0x2dd8b7['id'],_0x13255c['dataset'][_0x35697f(0x13e)]=_0x2dd8b7[_0x35697f(0x11c)],_0x4f8f5a[_0x35697f(0x145)](_0x13255c),_0x13255c[_0x35697f(0x1bf)](_0x35697f(0xf9),function(){var _0x9ebb77=_0x35697f;_0x569a47={'id':_0x2dd8b7['id'],'name':_0x2dd8b7[_0x9ebb77(0x11c)]},_0x16a851[_0x9ebb77(0x1f6)]=_0x2dd8b7['setDescripcion'],_0x4f8f5a[_0x9ebb77(0x1f5)]='';var _0x58b619=_0x19ae33[_0x9ebb77(0xf3)]('[id$=\x22_comp_container\x22]');if(_0x58b619){var _0x29f4ac=+_0x58b619['id']['split']('_')[0x1];updateVariantComponents(_0x29f4ac);}else updateProdItems();});});}),_0x16a851[_0x161e70(0x1bf)](_0x161e70(0x15f),function(){var _0x2c3877=_0x161e70;_0x4f8f5a['classList'][_0x2c3877(0x1a0)]('newItem_hidden');}),document['addEventListener'](_0x161e70(0xf9),function(_0x4c0d8c){var _0x5e289e=_0x161e70;if(!_0x19ae33[_0x5e289e(0xe6)](_0x4c0d8c[_0x5e289e(0xf4)]))_0x4f8f5a[_0x5e289e(0x194)][_0x5e289e(0x115)](_0x5e289e(0x11f));}),Object[_0x161e70(0x18f)](_0x19ae33,'selectedItem',{'get':()=>_0x569a47});}function updateProdItems(){var _0x256b8c=_0x4e0d13,_0x4e1603=[];Array[_0x256b8c(0x180)](prodC[_0x256b8c(0x1af)])['forEach'](function(_0x28e27c){var _0x2a0540=_0x256b8c,_0x494a4d=_0x28e27c['querySelector']('.prod_input_container');if(!_0x494a4d)return;var _0x84f927=_0x28e27c['querySelector'](_0x2a0540(0x15b)),_0x44ff4f=_0x494a4d[_0x2a0540(0x1ba)];_0x44ff4f&&_0x4e1603['push']({'setItemId':_0x44ff4f['id'],'setDescripcion':_0x44ff4f['name'],'setCantidad':+_0x84f927[_0x2a0540(0x1f6)]});}),baseItem['setItemComponents']=_0x4e1603,_0x4e1603[_0x256b8c(0x178)]===0x0&&(document[_0x256b8c(0x1d1)](_0x256b8c(0x1a3))[_0x256b8c(0x194)][_0x256b8c(0xd9)](_0x256b8c(0xf7),![]),document[_0x256b8c(0x1d1)](_0x256b8c(0x1a3))[_0x256b8c(0x194)]['toggle']('newItem_hidden',!![]));}document[_0x4e0d13(0x1d1)](_0x4e0d13(0x1be))[_0x4e0d13(0x1bf)](_0x4e0d13(0xf9),function(){var _0x4610c6=_0x4e0d13,_0x3cbff7=vgCount++,_0x54ff60=document[_0x4610c6(0x1b1)]('div');_0x54ff60['dataset'][_0x4610c6(0x203)]=_0x3cbff7,_0x54ff60['innerHTML']='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x3cbff7+'\x22>'+_0x4610c6(0xf2)+_0x3cbff7+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x4610c6(0x145)](_0x54ff60),_0x54ff60['querySelector']('.vgName')[_0x4610c6(0x1bf)](_0x4610c6(0x1e5),generateVariants),_0x54ff60[_0x4610c6(0x159)](_0x4610c6(0xd8))[_0x4610c6(0x1bf)]('blur',generateVariants),_0x54ff60['querySelector']('.removeGroup')[_0x4610c6(0x1bf)](_0x4610c6(0xf9),function(){var _0x38c1f1=_0x4610c6;_0x54ff60[_0x38c1f1(0x1a0)](),generateVariants();});});function generateVariants(){var _0x3b57a0=_0x4e0d13,_0x156164=[];vgC[_0x3b57a0(0x151)]('div')['forEach'](function(_0x11f90e){var _0x3c0bb8=_0x3b57a0,_0xaf4379=_0x11f90e[_0x3c0bb8(0x159)](_0x3c0bb8(0x152))[_0x3c0bb8(0x1f6)][_0x3c0bb8(0x199)](),_0x26eaf7=_0x11f90e[_0x3c0bb8(0x159)]('.vgVals')[_0x3c0bb8(0x1f6)][_0x3c0bb8(0x21c)](',')[_0x3c0bb8(0x1cd)](_0x2760bf=>_0x2760bf[_0x3c0bb8(0x199)]())[_0x3c0bb8(0x208)](_0x204cdf=>_0x204cdf);if(_0xaf4379&&_0x26eaf7['length'])_0x156164[_0x3c0bb8(0xf0)]({'name':_0xaf4379,'vals':_0x26eaf7});});var _0xb85eb7=[{}];_0x156164['forEach'](function(_0x33b3f2){var _0x8e7c90=_0x3b57a0;_0xb85eb7=_0xb85eb7[_0x8e7c90(0xed)](function(_0x260215){var _0x5e37e1=_0x8e7c90;return _0x33b3f2[_0x5e37e1(0x110)][_0x5e37e1(0x1cd)](function(_0x1aa457){var _0x31e927=_0x5e37e1,_0x45c0b7=Object[_0x31e927(0x137)]({},_0x260215);return _0x45c0b7[_0x33b3f2[_0x31e927(0x13e)]]=_0x1aa457,_0x45c0b7;});});}),newItems=[],varContainer['innerHTML']='',_0xb85eb7[_0x3b57a0(0x21a)](function(_0x285303,_0x4573ff){var _0x305d8c=_0x3b57a0,_0x17643c=JSON[_0x305d8c(0x1f9)](JSON[_0x305d8c(0x12e)](baseItem));_0x17643c[_0x305d8c(0x1e0)]=_0x285303,_0x17643c[_0x305d8c(0x1b7)]=baseItem[_0x305d8c(0x20a)]+'\x20'+Object[_0x305d8c(0x18c)](_0x285303)[_0x305d8c(0x1cd)](_0x1f9d99=>_0x1f9d99[0x0]+'\x20'+_0x1f9d99[0x1])['join']('\x20'),newItems['push'](_0x17643c);var _0x41a741=document[_0x305d8c(0x1b1)]('div');_0x41a741['classList'][_0x305d8c(0x115)](_0x305d8c(0x16f)),_0x41a741[_0x305d8c(0x11a)]['idx']=_0x4573ff,_0x41a741[_0x305d8c(0x1f5)]=_0x305d8c(0x1f8)+_0x17643c['setItemVariantName']+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x17643c['setItemCode']+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x17643c['setItemBarCode']+_0x305d8c(0x157)+_0x17643c[_0x305d8c(0x15d)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x4573ff+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x4573ff+_0x305d8c(0x17e)+_0x4573ff+_0x305d8c(0x177),varContainer[_0x305d8c(0x145)](_0x41a741),_0x41a741[_0x305d8c(0x159)]('.variantCode')[_0x305d8c(0x1bf)](_0x305d8c(0x184),_0x409918=>newItems[_0x4573ff][_0x305d8c(0x19f)]=_0x409918[_0x305d8c(0xf4)]['value']),_0x41a741[_0x305d8c(0x159)](_0x305d8c(0x1ed))[_0x305d8c(0x1bf)]('input',_0x8473d7=>newItems[_0x4573ff]['setItemBarCode']=_0x8473d7[_0x305d8c(0xf4)][_0x305d8c(0x1f6)]),_0x41a741[_0x305d8c(0x159)]('.variantExpiry')[_0x305d8c(0x1bf)](_0x305d8c(0x1a8),_0x534b2=>newItems[_0x4573ff][_0x305d8c(0x15d)]=_0x534b2[_0x305d8c(0xf4)]['value']),initVariantUnits(_0x4573ff),initVariantComponents(_0x4573ff),initVariantBranches(_0x4573ff),_0x41a741[_0x305d8c(0x159)](_0x305d8c(0x213))['addEventListener'](_0x305d8c(0xf9),function(){var _0x28b032=_0x305d8c,_0x472385=+_0x41a741[_0x28b032(0x11a)][_0x28b032(0x203)];newItems['splice'](_0x472385,0x1),_0x41a741[_0x28b032(0x1a0)](),document[_0x28b032(0x151)](_0x28b032(0x142))[_0x28b032(0x21a)](function(_0x2dc74e,_0x1d52a7){var _0x47475d=_0x28b032;_0x2dc74e['dataset'][_0x47475d(0x203)]=_0x1d52a7;});});});if(newItems[_0x3b57a0(0x178)]===0x0)newItems=[baseItem];}function _0x384a(_0x2675a4,_0x4e6ea1){var _0x1e46f5=_0x1e71();return _0x384a=function(_0x68594,_0x16699b){_0x68594=_0x68594-0xd3;var _0x240eb5=_0x1e46f5[_0x68594];return _0x240eb5;},_0x384a(_0x2675a4,_0x4e6ea1);}function updateVariantUnits(_0x377e36){var _0x3bb1fa=_0x4e0d13,_0x86b735=document[_0x3bb1fa(0x1d1)](_0x3bb1fa(0x10f)+_0x377e36+'_units_container'),_0x4f25dd=[];Array[_0x3bb1fa(0x180)](_0x86b735['children'])[_0x3bb1fa(0x21a)](function(_0x2f15c4){var _0x1fd418=_0x3bb1fa,_0x50fdde=+_0x2f15c4[_0x1fd418(0x159)]('.eqInput')[_0x1fd418(0x1f6)]||0x0,_0x50ab98=_0x2f15c4[_0x1fd418(0x159)](_0x1fd418(0x1c2))[_0x1fd418(0x1f6)]['trim'](),_0x25173e=_0x2f15c4['querySelector'](_0x1fd418(0x1b0))[_0x1fd418(0x1f6)],_0x5e819a=+_0x2f15c4[_0x1fd418(0x159)](_0x1fd418(0x100))['value']||0x0,_0x14ac0a=+_0x2f15c4[_0x1fd418(0x159)](_0x1fd418(0x161))['value']||0x0,_0x35f4ef=_0x2f15c4[_0x1fd418(0x11a)][_0x1fd418(0x190)]===_0x1fd418(0x160),_0x6b3d96=+_0x86b735['querySelector'](_0x1fd418(0x15e))[_0x1fd418(0x1f6)]||0x1,_0x451c20=_0x35f4ef?0x1:_0x50fdde==_0x6b3d96?0x1:_0x50fdde<_0x6b3d96?_0x6b3d96/_0x50fdde:_0x50fdde/_0x6b3d96;_0x4f25dd['push']({'setAlias':_0x50ab98,'setUnitCode':_0x25173e,'setEquivalence':_0x50fdde,'setFactor':_0x451c20,'setPrice':_0x5e819a,'setCost':_0x14ac0a,'setDefault':_0x35f4ef?0x1:0x0});}),newItems[_0x377e36][_0x3bb1fa(0x1fb)]=_0x4f25dd;}function initVariantUnits(_0x587182){var _0x4f0c12=_0x4e0d13,_0x3e898a=document[_0x4f0c12(0x1d1)](_0x4f0c12(0x10f)+_0x587182+_0x4f0c12(0x19c));_0x3e898a[_0x4f0c12(0x1f5)]='',newItems[_0x587182]['setItemUnits'][_0x4f0c12(0x21a)](function(_0x248298){var _0x27a7a8=_0x4f0c12;addUnit(_0x248298[_0x27a7a8(0x143)],_0x248298[_0x27a7a8(0x136)],_0x248298[_0x27a7a8(0xea)],_0x248298[_0x27a7a8(0x21e)],_0x248298['setPrice'],_0x248298[_0x27a7a8(0x134)],_0x3e898a);}),_0x3e898a['parentNode'][_0x4f0c12(0x159)]('.addVariantUnit')[_0x4f0c12(0x1bf)](_0x4f0c12(0xf9),function(){addUnit('','',0x1,![],'','',_0x3e898a),updateVariantUnits(_0x587182);});}function updateVariantUnits(_0x3eadbd){var _0x12f445=_0x4e0d13,_0x4a5c2a=document[_0x12f445(0x1d1)]('variant_'+_0x3eadbd+_0x12f445(0x19c)),_0x29e406=_0x4a5c2a[_0x12f445(0x159)](_0x12f445(0x15e)),_0x9148d3=_0x29e406?+_0x29e406[_0x12f445(0x1f6)]:0x1,_0x1255a6=Array['from'](_0x4a5c2a[_0x12f445(0x1af)])[_0x12f445(0x1cd)](function(_0x307e5c){var _0x4a3933=_0x12f445,_0x2eacd7=_0x307e5c['querySelector']('.unitAlias')[_0x4a3933(0x1f6)][_0x4a3933(0x199)](),_0x1d6c89=_0x307e5c[_0x4a3933(0x159)](_0x4a3933(0x1b0))[_0x4a3933(0x1f6)],_0x5d5798=+_0x307e5c[_0x4a3933(0x159)](_0x4a3933(0x209))[_0x4a3933(0x1f6)]||0x0,_0x109cdc=+_0x307e5c[_0x4a3933(0x159)](_0x4a3933(0x100))[_0x4a3933(0x1f6)]||0x0,_0xa8f6f3=+_0x307e5c[_0x4a3933(0x159)](_0x4a3933(0x161))[_0x4a3933(0x1f6)]||0x0,_0x27d9fc=_0x307e5c[_0x4a3933(0x11a)][_0x4a3933(0x190)]===_0x4a3933(0x160);return{'setAlias':_0x2eacd7,'setUnitCode':_0x1d6c89,'setEquivalence':_0x5d5798,'setFactor':_0x27d9fc?0x1:_0x5d5798==_0x9148d3?0x1:_0x5d5798<_0x9148d3?_0x9148d3/_0x5d5798:_0x5d5798/_0x9148d3,'setPrice':_0x109cdc,'setCost':_0xa8f6f3,'setDefault':_0x27d9fc?0x1:0x0};});newItems[_0x3eadbd][_0x12f445(0x1fb)]=_0x1255a6;}function initVariantComponents(_0x2c3f46){var _0x174f41=_0x4e0d13,_0x27206e=document[_0x174f41(0x1d1)](_0x174f41(0x10f)+_0x2c3f46+'_comp_container');_0x27206e[_0x174f41(0x1f5)]='',newItems[_0x2c3f46]['setItemComponents'][_0x174f41(0x21a)](function(_0x4b1e7d){var _0x45d19f=_0x174f41,_0x3e97f9=document[_0x45d19f(0x1b1)]('div'),_0x29a8dd=Date[_0x45d19f(0x210)]();_0x3e97f9[_0x45d19f(0x11a)][_0x45d19f(0x203)]=_0x29a8dd,_0x3e97f9['innerHTML']=_0x45d19f(0x127)+_0x29a8dd+_0x45d19f(0xdc)+_0x4b1e7d[_0x45d19f(0x1c5)]+_0x45d19f(0x1cb),_0x27206e[_0x45d19f(0x145)](_0x3e97f9),initProdSearch(_0x3e97f9['querySelector'](_0x45d19f(0x15c)),{'id':_0x4b1e7d[_0x45d19f(0x219)],'name':_0x4b1e7d['setDescripcion']}),_0x3e97f9[_0x45d19f(0x159)]('.prodQty')['addEventListener'](_0x45d19f(0x184),function(){updateVariantComponents(_0x2c3f46);}),_0x3e97f9[_0x45d19f(0x159)](_0x45d19f(0x215))[_0x45d19f(0x1bf)](_0x45d19f(0xf9),function(){var _0x4e5825=_0x45d19f;_0x3e97f9[_0x4e5825(0x1a0)](),updateVariantComponents(_0x2c3f46);});}),_0x27206e[_0x174f41(0x18a)][_0x174f41(0x159)](_0x174f41(0x12d))['addEventListener'](_0x174f41(0xf9),function(){var _0x1df029=_0x174f41,_0x4f6291=document[_0x1df029(0x1b1)](_0x1df029(0x221)),_0x1cb103=Date[_0x1df029(0x210)]();_0x4f6291[_0x1df029(0x11a)][_0x1df029(0x203)]=_0x1cb103,_0x4f6291[_0x1df029(0x1f5)]=_0x1df029(0x127)+_0x1cb103+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x27206e[_0x1df029(0x145)](_0x4f6291),initProdSearch(_0x4f6291[_0x1df029(0x159)](_0x1df029(0x15c))),_0x4f6291[_0x1df029(0x159)](_0x1df029(0x15b))[_0x1df029(0x1bf)](_0x1df029(0x184),function(){updateVariantComponents(_0x2c3f46);}),_0x4f6291['querySelector'](_0x1df029(0x215))[_0x1df029(0x1bf)](_0x1df029(0xf9),function(){var _0x25e797=_0x1df029;_0x4f6291[_0x25e797(0x1a0)](),updateVariantComponents(_0x2c3f46);});});}function updateVariantComponents(_0x29935a){var _0x5b9dc8=_0x4e0d13,_0x5e0b7d=document['getElementById'](_0x5b9dc8(0x10f)+_0x29935a+'_comp_container'),_0x25fa73=Array[_0x5b9dc8(0x180)](_0x5e0b7d[_0x5b9dc8(0x1af)])[_0x5b9dc8(0x1cd)](function(_0xb16989){var _0x4ee6f2=_0x5b9dc8,_0x25da08=_0xb16989[_0x4ee6f2(0x159)](_0x4ee6f2(0x15c)),_0x1353f6=_0x25da08['selectedItem'],_0x30e43d=+_0xb16989[_0x4ee6f2(0x159)](_0x4ee6f2(0x15b))[_0x4ee6f2(0x1f6)]||0x0;return _0x1353f6?{'setItemId':_0x1353f6['id'],'setDescripcion':_0x1353f6['name'],'setCantidad':_0x30e43d}:null;})[_0x5b9dc8(0x208)](_0x137225=>_0x137225);newItems[_0x29935a][_0x5b9dc8(0x119)]=_0x25fa73;}function initVariantBranches(_0x138bac){var _0x20c3ee=_0x4e0d13;const _0x2794a3=getAllWarehouses();var _0x862741=document[_0x20c3ee(0x1d1)](_0x20c3ee(0x10f)+_0x138bac+_0x20c3ee(0x147));_0x862741[_0x20c3ee(0x1f5)]='',newItems[_0x138bac]['setItemWarehouses'][_0x20c3ee(0x21a)](function(_0x2e6fad){var _0x4b0a13=_0x20c3ee,_0x7de94f=_0x2794a3[_0x4b0a13(0x105)](_0x3ff141=>_0x3ff141[_0x4b0a13(0x176)]==_0x2e6fad[_0x4b0a13(0x10a)]),_0x391dff=document[_0x4b0a13(0x1b1)]('div');_0x391dff[_0x4b0a13(0x1f5)]=_0x4b0a13(0x13d)+_0x2e6fad['setWarehouseCode']+_0x4b0a13(0x16b)+_0x7de94f[_0x4b0a13(0x1a7)]+_0x4b0a13(0x1c4)+_0x2e6fad[_0x4b0a13(0x10a)]+_0x4b0a13(0x1ff)+_0x2e6fad[_0x4b0a13(0xf8)]+_0x4b0a13(0x116)+_0x2e6fad[_0x4b0a13(0x10a)]+_0x4b0a13(0x1ff)+_0x2e6fad[_0x4b0a13(0x1eb)]+'\x22>',_0x862741[_0x4b0a13(0x145)](_0x391dff),_0x391dff[_0x4b0a13(0x151)](_0x4b0a13(0x184))['forEach'](function(_0x443017){var _0x7379a0=_0x4b0a13;_0x443017[_0x7379a0(0x1bf)](_0x7379a0(0x184),function(){updateVariantBranches(_0x138bac);});});}),_0x2794a3['forEach'](function(_0xb8b7b2){var _0xc7055=_0x20c3ee;if(!newItems[_0x138bac][_0xc7055(0xe5)]['find'](_0x454d98=>_0x454d98[_0xc7055(0x10a)]===_0xb8b7b2[_0xc7055(0x176)])){var _0x333812=document['createElement']('div');_0x333812[_0xc7055(0x1f5)]=_0xc7055(0x13d)+_0xb8b7b2[_0xc7055(0x176)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0xb8b7b2[_0xc7055(0x1a7)]+_0xc7055(0x1c4)+_0xb8b7b2['setWarehouseId']+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0xb8b7b2['setWarehouseId']+'\x22>',_0x862741[_0xc7055(0x145)](_0x333812),_0x333812[_0xc7055(0x151)](_0xc7055(0x184))[_0xc7055(0x21a)](function(_0x49b6f4){var _0x257fa3=_0xc7055;_0x49b6f4[_0x257fa3(0x1bf)]('input',function(){updateVariantBranches(_0x138bac);});});}});}function updateVariantBranches(_0x4c182c){var _0xacd326=_0x4e0d13,_0x5d1d3d=document[_0xacd326(0x1d1)](_0xacd326(0x10f)+_0x4c182c+'_branch_container'),_0x2c45d6=[];_0x5d1d3d['querySelectorAll']('div')[_0xacd326(0x21a)](function(_0x49bbfc){var _0x166dfa=_0xacd326,_0x53853e=_0x49bbfc['querySelector']('.branchChk');if(_0x53853e[_0x166dfa(0x164)]){var _0x338ff3=+_0x53853e[_0x166dfa(0x11a)]['id'],_0x4fe1cc=+_0x49bbfc['querySelector']('.branchInit')['value']||0x0,_0xbe68ca=+_0x49bbfc[_0x166dfa(0x159)](_0x166dfa(0x1f7))[_0x166dfa(0x1f6)]||0x0;_0x2c45d6['push']({'setWarehouseCode':_0x338ff3,'setStockInitial':_0x4fe1cc,'setStockMinimum':_0xbe68ca});}}),newItems[_0x4c182c][_0xacd326(0xe5)]=_0x2c45d6;}async function storeOfflineProduct(_0x7a23e7){var _0xfbd020=_0x4e0d13;try{const _0x236079=await createCartStore(''),_0x3e372e=_0x236079[_0xfbd020(0x1ee)](_0xfbd020(0x103),_0xfbd020(0x20f)),_0x50a9c7=_0x3e372e[_0xfbd020(0x168)](_0xfbd020(0x103));_0x50a9c7[_0xfbd020(0x115)](_0x7a23e7),_0x3e372e[_0xfbd020(0x17c)]=()=>{var _0x53fe96=_0xfbd020;console[_0x53fe96(0x17a)](_0x53fe96(0x139));},_0x3e372e['onerror']=_0x103897=>{var _0x958843=_0xfbd020;console[_0x958843(0x126)](_0x958843(0x1e3),_0x103897[_0x958843(0xf4)][_0x958843(0x126)]);};}catch(_0x5719bf){console[_0xfbd020(0x126)](_0xfbd020(0x109),_0x5719bf);}}document['getElementById']('btnItemSave')[_0x4e0d13(0x1bf)](_0x4e0d13(0xf9),async function(_0x3d4565){var _0x20b0e5=_0x4e0d13;_0x3d4565[_0x20b0e5(0x206)]();const _0x47de3e=document['getElementById']('inputItemCode'),_0x43f4a7=document[_0x20b0e5(0x1d1)](_0x20b0e5(0x21f))[_0x20b0e5(0x1f6)];if(!_0x47de3e[_0x20b0e5(0x1f6)][_0x20b0e5(0x199)]()&&_0x43f4a7==0x0){ntfShow(_0x20b0e5(0x1c6),0x2,0x1);return;}_0x43f4a7==0x1&&(_0x47de3e[_0x20b0e5(0x1f6)]='',baseItem[_0x20b0e5(0x19f)]='');const _0x416201=document[_0x20b0e5(0x1d1)](_0x20b0e5(0x1ea));if(!_0x416201[_0x20b0e5(0x1f6)][_0x20b0e5(0x199)]()){ntfShow(_0x20b0e5(0x11d),0x2,0x1);return;}const _0x253f73=document[_0x20b0e5(0x1d1)](_0x20b0e5(0x149));hideModalCreateItem(),showLoadingModal();newItems[_0x20b0e5(0x178)]===0x0&&(newItems=[baseItem]);const _0x62f2d6=document[_0x20b0e5(0x1d1)](_0x20b0e5(0x202))[_0x20b0e5(0x1f6)],_0x40c123=window_options[_0x62f2d6]['setMoneda'],_0x371ab3=[];newItems[_0x20b0e5(0x21a)](_0x2012b9=>{var _0x244bd3=_0x20b0e5;const _0x4e9083=generateNumericUniqId();_0x2012b9[_0x244bd3(0x1fb)][_0x244bd3(0x21a)](_0xc51e3=>{var _0x3d0cf3=_0x244bd3;const _0x30f503=generateNumericUniqId();_0xc51e3[_0x3d0cf3(0x133)]=_0x30f503;const _0x6dcb1f={'id':_0x30f503,'setIdProducto':_0x4e9083,'setCodProducto':_0x2012b9[_0x3d0cf3(0x19f)],'setDescripcion':_0x2012b9['setItemName'],'setItemDescription':_0x2012b9['setItemDescription'],'setBatchExpirationDate':_0x2012b9[_0x3d0cf3(0x15d)],'setBatchName':'','setCategoria':_0x2012b9[_0x3d0cf3(0x1aa)][0x0]||'','setMarca':_0x2012b9['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0xc51e3[_0x3d0cf3(0x113)]),'setImages':[],'setImg':_0x3d0cf3(0x114),'setInventariable':0x1,'setItemIsBought':_0x2012b9['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x2012b9[_0x3d0cf3(0x107)]?0x1:0x0,'setPorcentajeIgv':_0x2012b9['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x2012b9[_0x3d0cf3(0x17b)],'setTipAfeIgv':_0x2012b9[_0x3d0cf3(0xd7)],'setUnidad':_0xc51e3['setUnitCode'],'setUnidadCodigo':_0xc51e3[_0x3d0cf3(0x136)],'setItemUnitAlias':_0xc51e3[_0x3d0cf3(0x143)],'currency_data':[{'currency':_0x40c123,'setMtoPrecioCostoUnitario':_0xc51e3[_0x3d0cf3(0x134)],'setMtoPrecioUnitario':_0xc51e3[_0x3d0cf3(0x1e8)],'setPriceLists':[]}],'sucursales':_0x2012b9[_0x3d0cf3(0xe5)][_0x3d0cf3(0x1cd)](_0x1f11eb=>({'setIdSucursal':_0x1f11eb[_0x3d0cf3(0x10a)],'setSucursalStock':_0x1f11eb[_0x3d0cf3(0xf8)]['toString'](),'setWarehouseStockMin':_0x1f11eb['setStockMinimum'][_0x3d0cf3(0x141)]()})),'setItemFree':_0x2012b9[_0x3d0cf3(0x21f)],'setItemBarCode':_0x2012b9[_0x3d0cf3(0x1ec)],'setItemBrands':_0x2012b9[_0x3d0cf3(0x173)][_0x3d0cf3(0xd4)](),'setItemCategories':_0x2012b9[_0x3d0cf3(0x1aa)][_0x3d0cf3(0xd4)](),'setItemComponents':_0x2012b9[_0x3d0cf3(0x119)][_0x3d0cf3(0x1cd)](_0x188e07=>({..._0x188e07})),'setItemImages':_0x2012b9[_0x3d0cf3(0x195)][_0x3d0cf3(0xd4)](),'setItemVariantName':_0x2012b9['setItemVariantName'],'setItemVariantValues':{..._0x2012b9['setItemVariantValues']}};_0x371ab3[_0x3d0cf3(0xf0)](_0x6dcb1f),(_0x253f73[_0x3d0cf3(0x164)]||_0x43f4a7==0x1)&&addToCart(_0x6dcb1f);});}),console[_0x20b0e5(0x17a)]('Items\x20finales:',newItems),await finalizeImport(_0x371ab3,newItems,![]);}),[_0x4e0d13(0x1ab),_0x4e0d13(0x175)][_0x4e0d13(0x21a)](_0x2a0223=>dropZone['addEventListener'](_0x2a0223,_0xa29268=>{var _0x3921d1=_0x4e0d13;_0xa29268['preventDefault'](),dropZone[_0x3921d1(0x194)][_0x3921d1(0x115)](_0x3921d1(0x175));})),['dragleave',_0x4e0d13(0xf5)][_0x4e0d13(0x21a)](_0x120f8a=>dropZone[_0x4e0d13(0x1bf)](_0x120f8a,_0x2dedbd=>{var _0x4000d3=_0x4e0d13;_0x2dedbd[_0x4000d3(0x206)](),dropZone['classList'][_0x4000d3(0x1a0)](_0x4000d3(0x175));})),dropZone[_0x4e0d13(0x1bf)]('drop',_0x182d5e=>{var _0x1331b9=_0x4e0d13;const _0x14c5b9=_0x182d5e[_0x1331b9(0xe7)][_0x1331b9(0x189)][0x0];if(!_0x14c5b9)return;fileInput[_0x1331b9(0x189)]=_0x182d5e[_0x1331b9(0xe7)]['files'],dropZone[_0x1331b9(0x159)](_0x1331b9(0x102))[_0x1331b9(0x1d7)]=_0x14c5b9['name'],removeBtn['hidden']=![],fileInput[_0x1331b9(0x179)](new Event(_0x1331b9(0x1a8)));}),removeBtn[_0x4e0d13(0x1bf)]('click',()=>{var _0x575014=_0x4e0d13;fileInput[_0x575014(0x1f6)]='',dropZone['querySelector'](_0x575014(0x102))['textContent']=_0x575014(0x1f0),removeBtn[_0x575014(0x1cf)]=!![],progressBar['style'][_0x575014(0x11b)]=_0x575014(0x1ce),statusDiv[_0x575014(0x1d7)]='',uploadBtn[_0x575014(0xec)]=!![];});const exportBtn=document[_0x4e0d13(0x1d1)]('btnExportarItems');exportBtn['addEventListener'](_0x4e0d13(0xf9),onClickExportarItems);async function onClickExportarItems(){var _0x1dac14=_0x4e0d13;if(!Array[_0x1dac14(0x14f)](products)||!products[_0x1dac14(0x178)]){ntfShow(_0x1dac14(0x204));return;}try{const _0x317ce6=await fetch(_0x1dac14(0xfe));if(!_0x317ce6['ok'])throw new Error(_0x1dac14(0x1a2));const _0x30ba64=await _0x317ce6[_0x1dac14(0x1fd)](),_0x261ee4=document[_0x1dac14(0x1d1)](_0x1dac14(0x176))['value'];let _0x6712c=products;const _0x25843c=getUserPermissionApiERP(0x2);_0x25843c==0x1&&(_0x6712c=products['filter'](_0x48fa6f=>Array[_0x1dac14(0x14f)](_0x48fa6f[_0x1dac14(0x1fe)])&&_0x48fa6f[_0x1dac14(0x1fe)][_0x1dac14(0x155)](_0x4367e8=>String(_0x4367e8[_0x1dac14(0xe9)])==String(_0x261ee4))));const _0x37f6c3=_0x6712c[_0x1dac14(0x12a)]((_0x301427,_0x52e2e1)=>{var _0x297fa6=_0x1dac14;const _0x466d2c=_0x52e2e1[_0x297fa6(0x200)];if(!_0x301427[_0x466d2c])_0x301427[_0x466d2c]=[];return _0x301427[_0x466d2c][_0x297fa6(0xf0)](_0x52e2e1),_0x301427;},{}),_0x25f7e2=Object[_0x1dac14(0x1b9)](_0x37f6c3)[_0x1dac14(0x1cd)](_0x205794=>{var _0x18890f=_0x1dac14;const _0x31cba1=_0x205794[0x0],_0x487471=_0x205794[0x1]||{},_0x531e7f=_0x205794[0x2]||{};function _0x4ef8a9(_0x24533a,_0x2ef6eb,_0x406d4b){var _0x14948d=_0x384a;if(!_0x24533a||!Array['isArray'](_0x24533a[_0x14948d(0x17f)]))return'';const _0xfb457b=_0x24533a[_0x14948d(0x17f)][_0x14948d(0x105)](_0x1325d1=>_0x1325d1[_0x14948d(0x188)]===_0x2ef6eb);return _0xfb457b?_0xfb457b[_0x406d4b]:'';}return{'id':_0x31cba1[_0x18890f(0x200)],'setItemType':_0x31cba1[_0x18890f(0x1f2)],'setCodProducto':_0x31cba1['setCodProducto'],'setDescripcion':_0x31cba1['setDescripcion'],'setItemDescription':_0x31cba1[_0x18890f(0x18d)],'setCategoria':_0x31cba1[_0x18890f(0x108)],'setMarca':_0x31cba1[_0x18890f(0x171)],'setTaxId':_0x31cba1[_0x18890f(0x16d)],'setUnitId':_0x31cba1['id'],'setItemBarCode':_0x31cba1['setItemBarCode'],'setUnidadCodigo':_0x31cba1['setUnidadCodigo'],'setItemUnitAlias':_0x31cba1[_0x18890f(0xfb)]??'','PEN_setMtoPrecioUnitario':_0x4ef8a9(_0x31cba1,'PEN',_0x18890f(0x19b)),'PEN_setMtoPrecioCostoUnitario':_0x4ef8a9(_0x31cba1,_0x18890f(0x112),'setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x4ef8a9(_0x31cba1,_0x18890f(0x16a),_0x18890f(0x19b)),'USD_setMtoPrecioCostoUnitario':_0x4ef8a9(_0x31cba1,'USD',_0x18890f(0x20b)),'setUnitId2':_0x487471['id']??'','setItemBarCode2':_0x487471[_0x18890f(0x1ec)]??'','setUnidadCodigo2':_0x487471[_0x18890f(0x19a)]??'','setItemUnitAlias2':_0x487471[_0x18890f(0xfb)]??'','setUnidadEquivalencia2':_0x487471['setConversionFactor']??'','PEN_setMtoPrecioUnitario2':_0x4ef8a9(_0x487471,'PEN',_0x18890f(0x19b))??'','PEN_setMtoPrecioCostoUnitario2':_0x4ef8a9(_0x487471,'PEN',_0x18890f(0x20b))??'','USD_setMtoPrecioUnitario2':_0x4ef8a9(_0x487471,_0x18890f(0x16a),_0x18890f(0x19b))??'','USD_setMtoPrecioCostoUnitario2':_0x4ef8a9(_0x487471,_0x18890f(0x16a),_0x18890f(0x20b))??'','setUnitId3':_0x531e7f['id']??'','setItemBarCode3':_0x531e7f[_0x18890f(0x1ec)]??'','setUnidadCodigo3':_0x531e7f[_0x18890f(0x19a)]??'','setItemUnitAlias3':_0x531e7f['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x531e7f[_0x18890f(0x13f)]??'','PEN_setMtoPrecioUnitario3':_0x4ef8a9(_0x531e7f,'PEN',_0x18890f(0x19b))??'','PEN_setMtoPrecioCostoUnitario3':_0x4ef8a9(_0x531e7f,'PEN',_0x18890f(0x20b))??'','USD_setMtoPrecioUnitario3':_0x4ef8a9(_0x531e7f,_0x18890f(0x16a),'setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario3':_0x4ef8a9(_0x531e7f,_0x18890f(0x16a),'setMtoPrecioCostoUnitario')??'','setInventariable':_0x31cba1[_0x18890f(0x1f1)],'setSucursalStock':_0x25843c==0x1?_0x31cba1[_0x18890f(0x1fe)][_0x18890f(0x105)](_0x470866=>String(_0x470866[_0x18890f(0xe9)])==String(_0x261ee4))[_0x18890f(0x1d9)]:'','setWarehouseStockMin':_0x25843c==0x1?_0x31cba1[_0x18890f(0x1fe)][_0x18890f(0x105)](_0x3b0e1a=>String(_0x3b0e1a[_0x18890f(0xe9)])==String(_0x261ee4))['setWarehouseStockMin']:'','setBatchName':_0x31cba1['setBatchName'],'setBatchExpirationDate':_0x31cba1['setBatchExpirationDate'],..._0x31cba1[_0x18890f(0x1e0)]};});try{JSON[_0x1dac14(0x12e)](_0x25f7e2);}catch(_0x4b60b1){console[_0x1dac14(0x126)](_0x1dac14(0x117),_0x4b60b1),ntfShow(_0x1dac14(0xde));return;}statusDiv[_0x1dac14(0x1d7)]=_0x1dac14(0x220),progressBar[_0x1dac14(0xfd)][_0x1dac14(0x11b)]='block',progressBar[_0x1dac14(0x1f6)]=0x0,itemWorker[_0x1dac14(0x197)]({'action':'exportItems','products':_0x25f7e2,'plantillaBuf':_0x30ba64},[_0x30ba64]);}catch(_0x1aee85){console['error'](_0x1aee85),ntfShow(_0x1dac14(0x1d0)+_0x1aee85[_0x1dac14(0x167)]);}}itemWorker[_0x4e0d13(0x1e1)]=({data:_0x4a9f19})=>{var _0x4d392f=_0x4e0d13;const {type:_0x28656b,payload:_0x33dde6}=_0x4a9f19;_0x28656b===_0x4d392f(0x1de)&&(progressBar[_0x4d392f(0xfd)][_0x4d392f(0x11b)]=_0x4d392f(0x181),progressBar[_0x4d392f(0x1f6)]=_0x33dde6[_0x4d392f(0x128)],statusDiv[_0x4d392f(0x1d7)]=_0x33dde6['message']);_0x28656b===_0x4d392f(0xe8)&&(newItemsExcel=_0x33dde6[_0x4d392f(0xeb)],statusDiv[_0x4d392f(0x1d7)]='\x20'+newItemsExcel[_0x4d392f(0x178)]+_0x4d392f(0x1bb),uploadBtn['disabled']=![],progressBar['value']=0x64,console[_0x4d392f(0x17a)](newItemsExcel));_0x28656b===_0x4d392f(0x126)&&(statusDiv[_0x4d392f(0x1d7)]=_0x4d392f(0x14c)+_0x33dde6,progressBar[_0x4d392f(0xfd)]['display']=_0x4d392f(0x1ce));if(_0x28656b===_0x4d392f(0x1e9)){const {wbout:_0x28b672,count:_0x264b4b}=_0x33dde6,_0x27ab35=new Blob([_0x28b672],{'type':_0x4d392f(0x12c)}),_0x714826=URL[_0x4d392f(0x1dd)](_0x27ab35),_0xe47df9=document[_0x4d392f(0x1b1)]('a'),_0x272bbb=new Date()[_0x4d392f(0xe2)]()['slice'](0x0,0xa);_0xe47df9[_0x4d392f(0x21d)]='Plantilla-Items-Export-'+_0x272bbb+_0x4d392f(0x158),_0xe47df9[_0x4d392f(0x1fc)]=_0x714826,_0xe47df9[_0x4d392f(0xf9)](),URL[_0x4d392f(0x218)](_0x714826),statusDiv[_0x4d392f(0x1d7)]='\x20Exportaci贸n\x20completada:\x20'+_0x264b4b+_0x4d392f(0x1fa),progressBar[_0x4d392f(0xfd)][_0x4d392f(0x11b)]=_0x4d392f(0x1ce);}},fileInput['addEventListener'](_0x4e0d13(0x1a8),async _0x452ea6=>{var _0x2a91eb=_0x4e0d13;const _0x16bb9b=_0x452ea6[_0x2a91eb(0xf4)][_0x2a91eb(0x189)][0x0];if(!_0x16bb9b)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar['style'][_0x2a91eb(0x11b)]=_0x2a91eb(0x1ce),dropZone[_0x2a91eb(0x159)]('.drop-zone__prompt')[_0x2a91eb(0x1d7)]=_0x16bb9b[_0x2a91eb(0x13e)],removeBtn[_0x2a91eb(0x1cf)]=![];try{const _0x37ef59=await _0x16bb9b[_0x2a91eb(0x1fd)]();itemWorker['postMessage']({'action':_0x2a91eb(0x1df),'buf':_0x37ef59,'maxRows':0x1388});}catch(_0x1444ae){statusDiv[_0x2a91eb(0x1d7)]=_0x2a91eb(0x135);}finally{fileInput['value']='';}}),uploadBtn[_0x4e0d13(0x1bf)](_0x4e0d13(0xf9),async()=>{var _0x353346=_0x4e0d13;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x3fb202=document[_0x353346(0x1d1)]('setWarehouseId')['value'],_0x18ffa9=[];newItemsExcel['forEach'](_0x195995=>{var _0x3504f7=_0x353346;const _0x38d4c7=Boolean(_0x195995[_0x3504f7(0x219)]),_0x2f02fd=_0x38d4c7?_0x195995[_0x3504f7(0x219)]:generateNumericUniqId();_0x195995[_0x3504f7(0xe5)]=[{'setStockInitial':_0x195995[_0x3504f7(0xf8)],'setStockMinimum':_0x195995[_0x3504f7(0x1eb)],'setWarehouseCode':_0x3fb202}],_0x195995[_0x3504f7(0x1fb)][_0x3504f7(0x21a)](_0x46ea22=>{var _0x38bcc9=_0x3504f7;const _0x928b8e=Boolean(_0x46ea22[_0x38bcc9(0x133)]),_0x26f91f=_0x928b8e?_0x46ea22[_0x38bcc9(0x133)]:generateNumericUniqId();_0x46ea22[_0x38bcc9(0x133)]=_0x26f91f;const _0x15f893=[];_0x15f893[_0x38bcc9(0xf0)]({'currency':_0x38bcc9(0x112),'setMtoPrecioCostoUnitario':_0x46ea22['setCost'],'setMtoPrecioUnitario':_0x46ea22['setPrice'],'setPriceLists':[]});const _0x35df57=_0x46ea22['setCostUSD']!=null&&_0x46ea22[_0x38bcc9(0x1c9)]!=null&&(!isNaN(_0x46ea22[_0x38bcc9(0x1a6)])||!isNaN(_0x46ea22['setPriceUSD']));_0x35df57&&_0x15f893[_0x38bcc9(0xf0)]({'currency':'USD','setMtoPrecioCostoUnitario':_0x46ea22[_0x38bcc9(0x1a6)],'setMtoPrecioUnitario':_0x46ea22[_0x38bcc9(0x1c9)],'setPriceLists':[]});const _0x2ef8b8={'id':_0x26f91f,'setIdProducto':_0x2f02fd,'setItemBarCode':_0x46ea22[_0x38bcc9(0x1ec)],'setCodProducto':_0x195995[_0x38bcc9(0x19f)],'setDescripcion':_0x195995[_0x38bcc9(0x20a)],'setItemDescription':_0x195995[_0x38bcc9(0x18d)],'setBatchExpirationDate':_0x195995[_0x38bcc9(0x15d)],'setBatchName':_0x195995['setBatchName'],'setCategoria':_0x195995[_0x38bcc9(0x1aa)][0x0]||'','setMarca':_0x195995['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x46ea22['setFactor']),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x195995[_0x38bcc9(0x1b8)],'setItemIsBought':_0x195995[_0x38bcc9(0x1e6)],'setItemIsSold':_0x195995[_0x38bcc9(0x107)],'setPorcentajeIgv':_0x195995[_0x38bcc9(0x212)],'setPrinters':[],'setTaxId':_0x195995[_0x38bcc9(0x17b)],'setTipAfeIgv':_0x195995[_0x38bcc9(0xd7)],'setUnidad':_0x46ea22[_0x38bcc9(0x136)],'setUnidadCodigo':_0x46ea22[_0x38bcc9(0x136)],'setItemUnitAlias':_0x46ea22['setAlias'],'currency_data':_0x15f893,'sucursales':_0x195995[_0x38bcc9(0xe5)][_0x38bcc9(0x1cd)](_0x38d20e=>({'setIdSucursal':_0x38d20e[_0x38bcc9(0x10a)],'setSucursalStock':_0x38d20e[_0x38bcc9(0xf8)]['toString'](),'setWarehouseStockMin':_0x38d20e[_0x38bcc9(0x1eb)]['toString']()})),'setItemFree':_0x195995[_0x38bcc9(0x21f)],'setItemBrands':_0x195995[_0x38bcc9(0x173)][_0x38bcc9(0xd4)](),'setItemCategories':_0x195995[_0x38bcc9(0x1aa)][_0x38bcc9(0xd4)](),'setItemComponents':_0x195995[_0x38bcc9(0x119)][_0x38bcc9(0x1cd)](_0x3c40d7=>({..._0x3c40d7})),'setItemImages':_0x195995['setItemImages'][_0x38bcc9(0xd4)](),'setItemVariantName':_0x195995[_0x38bcc9(0x1b7)],'setItemVariantValues':{..._0x195995[_0x38bcc9(0x1e0)]}},_0x87af59=products[_0x38bcc9(0xfa)](_0x2f5811=>_0x2f5811['id']==_0x26f91f&&_0x2f5811[_0x38bcc9(0x200)]==_0x2f02fd);_0x87af59>-0x1?Object[_0x38bcc9(0x137)](products[_0x87af59],_0x2ef8b8):_0x18ffa9['push'](_0x2ef8b8);});}),console[_0x353346(0x17a)](_0x353346(0x1ef),newItemsExcel),await finalizeImport(_0x18ffa9,newItemsExcel,!![]);});function initializeFormImages(){var _0x282605=_0x4e0d13;currentImages=Array(MAX_IMAGES)[_0x282605(0x1d4)](null),imgC[_0x282605(0x1f5)]='',baseItem['setItemImages']=[];for(var _0x4eff39=0x0;_0x4eff39<MAX_IMAGES;_0x4eff39++){(function(_0x26b2fd){var _0x5ce5eb=_0x282605,_0x4e76d2=document[_0x5ce5eb(0x1b1)](_0x5ce5eb(0x221));_0x4e76d2[_0x5ce5eb(0x17d)]=_0x5ce5eb(0x19d),_0x4e76d2[_0x5ce5eb(0x11a)][_0x5ce5eb(0x203)]=_0x26b2fd;var _0x426f7d=document[_0x5ce5eb(0x1b1)](_0x5ce5eb(0x184));_0x426f7d['type']='file',_0x426f7d[_0x5ce5eb(0x20d)]=_0x5ce5eb(0x1d2),_0x426f7d['style']['display']=_0x5ce5eb(0x1ce);var _0x3988c9=document[_0x5ce5eb(0x1b1)](_0x5ce5eb(0x1a1));_0x3988c9[_0x5ce5eb(0x1d7)]='+',_0x4e76d2[_0x5ce5eb(0x145)](_0x426f7d),_0x4e76d2[_0x5ce5eb(0x145)](_0x3988c9),imgC['appendChild'](_0x4e76d2),_0x4e76d2[_0x5ce5eb(0x1bf)](_0x5ce5eb(0xf9),function(){_0x426f7d['click']();}),_0x426f7d[_0x5ce5eb(0x1bf)](_0x5ce5eb(0x1a8),function(_0x4a77a7){var _0x3aa817=_0x5ce5eb,_0x4a915d=_0x4a77a7[_0x3aa817(0xf4)][_0x3aa817(0x189)][0x0];if(!_0x4a915d)return removeImg(_0x26b2fd);var _0x8ef63=new FileReader();_0x8ef63[_0x3aa817(0x207)]=function(_0x228103){var _0x378a5a=_0x3aa817;_0x4e76d2[_0x378a5a(0x1f5)]=_0x378a5a(0x1c7)+_0x228103['target'][_0x378a5a(0x205)]+'\x22>';var _0x359643=document[_0x378a5a(0x1b1)](_0x378a5a(0x1a1));_0x359643['className']=_0x378a5a(0x1a0),_0x359643[_0x378a5a(0x1d7)]='',_0x359643['addEventListener'](_0x378a5a(0xf9),function(_0x37ec80){var _0x321f41=_0x378a5a;_0x37ec80[_0x321f41(0x1dc)](),removeImg(_0x26b2fd);}),_0x4e76d2[_0x378a5a(0x145)](_0x359643),currentImages[_0x26b2fd]=_0x4a915d,baseItem[_0x378a5a(0x195)]=currentImages[_0x378a5a(0x208)](function(_0x54a6e1){return _0x54a6e1;});},_0x8ef63[_0x3aa817(0x1c1)](_0x4a915d);});}(_0x4eff39));}}function initializeFormIsSoldIsBought(_0xd664f9=0x0){var _0x56df79=_0x4e0d13;let _0xd69618,_0x2c6e44;if(_0xd664f9!=0x0){const _0x649aaa=products[_0x56df79(0x105)](_0x48a266=>_0x48a266['id']==_0xd664f9);_0xd69618=_0x649aaa[_0x56df79(0x1e6)]==0x1||_0x649aaa[_0x56df79(0x1e6)]==!![]?!![]:![],_0x2c6e44=_0x649aaa[_0x56df79(0x107)]==0x1||_0x649aaa[_0x56df79(0x107)]==!![]?!![]:![];}else _0xd69618=!![],_0x2c6e44=!![];document['getElementById']('newItem_chk_buy')['checked']=_0xd69618,document[_0x56df79(0x1d1)](_0x56df79(0x1ad))[_0x56df79(0x164)]=_0x2c6e44,baseItem[_0x56df79(0x1e6)]=_0xd69618,baseItem[_0x56df79(0x107)]=_0x2c6e44;}function initializeFormInputsBasic(_0x135374=0x0){var _0x19eb91=_0x4e0d13;let _0x255c7e,_0xdf5d31,_0x2e6adc,_0x4a2cfa,_0x7eb14e,_0x43ffcc;if(_0x135374!=0x0){const _0x29b219=products[_0x19eb91(0x105)](_0x2cd3e0=>_0x2cd3e0['id']==_0x135374);_0x255c7e=_0x29b219[_0x19eb91(0x1f2)]??'1',_0xdf5d31=_0x29b219['setCodProducto'],_0x2e6adc=_0x29b219['setDescripcion'],_0x4a2cfa=_0x29b219[_0x19eb91(0x18d)],_0x7eb14e=_0x29b219[_0x19eb91(0x154)]??'',_0x43ffcc=_0x29b219[_0x19eb91(0x1ec)];}else _0x255c7e='1',_0xdf5d31=getNextCode(products),_0x2e6adc='',_0x4a2cfa='',_0x7eb14e='',_0x43ffcc='';document[_0x19eb91(0x1d1)](_0x19eb91(0x20e))[_0x19eb91(0x1f6)]=_0x255c7e,document[_0x19eb91(0x1d1)]('inputItemCode')[_0x19eb91(0x1f6)]=_0xdf5d31,document[_0x19eb91(0x1d1)](_0x19eb91(0x1ea))[_0x19eb91(0x1f6)]=_0x2e6adc,document[_0x19eb91(0x1d1)](_0x19eb91(0x1bd))[_0x19eb91(0x1f6)]=_0x4a2cfa,document[_0x19eb91(0x1d1)](_0x19eb91(0x10c))[_0x19eb91(0x1f6)]=_0x7eb14e,document[_0x19eb91(0x1d1)](_0x19eb91(0x138))[_0x19eb91(0x1f6)]=_0x43ffcc,baseItem['setItemType']=_0x255c7e,baseItem[_0x19eb91(0x19f)]=_0xdf5d31,baseItem[_0x19eb91(0x20a)]=_0x2e6adc,baseItem[_0x19eb91(0x18d)]=_0x4a2cfa,baseItem[_0x19eb91(0x15d)]=_0x7eb14e,baseItem['setItemBarCode']=_0x43ffcc,document['getElementById'](_0x19eb91(0x149))[_0x19eb91(0x164)]=![];}function initializeFormTax(_0x23b26e=0x0){var _0x1532cf=_0x4e0d13;let _0x1501bb;if(_0x23b26e!=0x0){const _0x1edfe3=products['find'](_0x224155=>_0x224155['id']==_0x23b26e);_0x1501bb=_0x1edfe3[_0x1532cf(0x16d)];}else _0x1501bb=myCompany[_0x1532cf(0x196)];const _0x1a18ac=document[_0x1532cf(0x1d1)](_0x1532cf(0x123));_0x1a18ac[_0x1532cf(0x1f6)]=_0x1501bb,baseItem['setItemTaxId']=_0x1501bb;const _0x198b6d=company[0x0]['setImpuestos'][_0x1532cf(0x105)](_0x396cd0=>_0x396cd0['setTaxId']==_0x1501bb)?.['setImpuestoCode']||0x0,_0x21220d=company[0x0]['setImpuestos'][_0x1532cf(0x105)](_0xd95d2d=>_0xd95d2d['setTaxId']==_0x1501bb)?.[_0x1532cf(0x174)]||0x0;baseItem[_0x1532cf(0xd7)]=_0x198b6d,baseItem['setItemTaxValue']=_0x21220d;}function initializeFormCategoriesBrands(_0x3b79c0=0x0){var _0x1338bb=_0x4e0d13;baseItem[_0x1338bb(0x1aa)]=[],baseItem[_0x1338bb(0x173)]=[],document[_0x1338bb(0x159)](_0x1338bb(0x1b5))[_0x1338bb(0x1f5)]='',document['querySelector'](_0x1338bb(0xf1))[_0x1338bb(0x1f5)]='',document[_0x1338bb(0x159)]('#newItem_brands_select\x20.selected_tags')['innerHTML']='',document[_0x1338bb(0x159)]('#newItem_brands_select\x20.options_list')[_0x1338bb(0x1f5)]='';const _0x3481ef=myCompany[_0x1338bb(0x1aa)][_0x1338bb(0x1cd)](_0x30d0ce=>({'setCode':_0x30d0ce[_0x1338bb(0x124)],'setName':_0x30d0ce[_0x1338bb(0x124)]})),_0x8cf70d=myCompany[_0x1338bb(0x173)][_0x1338bb(0x1cd)](_0x3d3516=>({'setCode':_0x3d3516[_0x1338bb(0x122)],'setName':_0x3d3516['setItemBrandName']}));initMulti('newItem_categories_select',_0x3481ef),initMulti(_0x1338bb(0xd5),_0x8cf70d),document['getElementById'](_0x1338bb(0x19e))[_0x1338bb(0x1bf)](_0x1338bb(0x1ac),function(_0x4c09dc){var _0x324374=_0x1338bb;baseItem['setItemCategories']=_0x4c09dc[_0x324374(0x16c)][_0x324374(0x1cd)](_0xbd654b=>_0xbd654b[_0x324374(0xdf)]);}),document[_0x1338bb(0x1d1)](_0x1338bb(0xd5))['addEventListener']('selectionChange',function(_0x1ad0c2){var _0x27a77c=_0x1338bb;baseItem[_0x27a77c(0x173)]=_0x1ad0c2[_0x27a77c(0x16c)]['map'](_0x5e388f=>_0x5e388f[_0x27a77c(0xdf)]);});if(_0x3b79c0!=0x0){const _0x486391=products[_0x1338bb(0x105)](_0x23f1af=>_0x23f1af['id']==_0x3b79c0);if(_0x486391[_0x1338bb(0x108)]){const _0x3db58e=document['getElementById'](_0x1338bb(0x19e)),_0x537197=Array[_0x1338bb(0x180)](_0x3db58e[_0x1338bb(0x151)](_0x1338bb(0xef)))[_0x1338bb(0x105)](_0x1afb07=>_0x1afb07[_0x1338bb(0x11a)][_0x1338bb(0xfc)]==_0x486391['setCategoria']);_0x537197&&_0x537197[_0x1338bb(0xf9)]();}if(_0x486391[_0x1338bb(0x171)]){const _0x226637=document['getElementById'](_0x1338bb(0xd5)),_0xcc1ee7=Array[_0x1338bb(0x180)](_0x226637[_0x1338bb(0x151)](_0x1338bb(0xef)))[_0x1338bb(0x105)](_0x3cda98=>_0x3cda98[_0x1338bb(0x11a)]['code']==_0x486391[_0x1338bb(0x171)]);_0xcc1ee7&&_0xcc1ee7[_0x1338bb(0xf9)]();}}}function initializeFormUnits(){var _0x25642a=_0x4e0d13;unitCount=0x0,document[_0x25642a(0x1d1)](_0x25642a(0x156))[_0x25642a(0x1f5)]='',baseItem[_0x25642a(0x1fb)]=[];var _0x5d5244=uniqueValuesArray(_0x25642a(0x136),'setUnitName',myCompany[_0x25642a(0x172)]);addUnit('',_0x5d5244[0x3a]&&_0x5d5244[0x3a][_0x25642a(0xdf)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x3cb429=_0x4e0d13;prodC[_0x3cb429(0x1f5)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x253764=_0x4e0d13;branchesC['innerHTML']='',baseItem[_0x253764(0xe5)]=[];const _0x41b9d9=getAllWarehouses();_0x41b9d9[_0x253764(0x21a)](function(_0x203257){var _0x4d0a23=_0x253764,_0x27d29d=document[_0x4d0a23(0x1b1)](_0x4d0a23(0x221));_0x27d29d[_0x4d0a23(0x1f5)]=_0x4d0a23(0x187)+'<div\x20class=\x22newItem_col\x22>'+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x203257[_0x4d0a23(0x176)]+_0x4d0a23(0x16b)+_0x203257[_0x4d0a23(0x1a7)]+_0x4d0a23(0x14d)+_0x4d0a23(0x150)+_0x4d0a23(0x120)+_0x4d0a23(0x20c)+_0x203257[_0x4d0a23(0x176)]+'\x22>'+_0x4d0a23(0x150)+_0x4d0a23(0x120)+_0x4d0a23(0xe4)+_0x203257[_0x4d0a23(0x176)]+'\x22>'+_0x4d0a23(0x150)+_0x4d0a23(0x150),branchesC[_0x4d0a23(0x145)](_0x27d29d),_0x27d29d[_0x4d0a23(0x151)](_0x4d0a23(0x184))['forEach'](function(_0x1eb2b0){var _0x289742=_0x4d0a23;_0x1eb2b0[_0x289742(0x1bf)](_0x289742(0x184),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x1d6d31=_0x4e0d13;baseItem[_0x1d6d31(0x1b7)]='',baseItem['setItemVariantValues']={},vgC[_0x1d6d31(0x1f5)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x3aff00,_0x87c6ba,_0x4f6523=![]){var _0x3d4635=_0x4e0d13;const _0x77e275=0xc8,_0x5d1c71={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x3d4635(0x1d3)]};for(let _0x561212=0x0;_0x561212<_0x87c6ba[_0x3d4635(0x178)];_0x561212+=_0x77e275){const _0x5f55b8=_0x87c6ba['slice'](_0x561212,_0x561212+_0x77e275);await storeOfflineProduct({..._0x5d1c71,'newItems':_0x5f55b8});}products[_0x3d4635(0xf0)](..._0x3aff00),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x3d4635(0x1b3)),_0x4f6523?(fileInput[_0x3d4635(0x1f6)]='',uploadBtn[_0x3d4635(0xec)]=!![],statusDiv[_0x3d4635(0x1d7)]='',progressBar[_0x3d4635(0xfd)]['display']=_0x3d4635(0x1ce),progressBar[_0x3d4635(0x1f6)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}