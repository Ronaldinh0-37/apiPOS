/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.0
*/

var _0x4ccb7f=_0xe688;(function(_0x352897,_0x2a26f8){var _0x5bd2c5=_0xe688,_0x236b73=_0x352897();while(!![]){try{var _0x174f81=parseInt(_0x5bd2c5(0x171))/0x1*(parseInt(_0x5bd2c5(0x231))/0x2)+-parseInt(_0x5bd2c5(0x1aa))/0x3+parseInt(_0x5bd2c5(0x132))/0x4*(-parseInt(_0x5bd2c5(0x221))/0x5)+-parseInt(_0x5bd2c5(0x247))/0x6*(-parseInt(_0x5bd2c5(0x159))/0x7)+-parseInt(_0x5bd2c5(0x112))/0x8*(-parseInt(_0x5bd2c5(0x1f1))/0x9)+-parseInt(_0x5bd2c5(0x11f))/0xa+parseInt(_0x5bd2c5(0x23e))/0xb*(parseInt(_0x5bd2c5(0x178))/0xc);if(_0x174f81===_0x2a26f8)break;else _0x236b73['push'](_0x236b73['shift']());}catch(_0x2321f6){_0x236b73['push'](_0x236b73['shift']());}}}(_0x456c,0x818ba));var _0x14b082=(function(){var _0x4de34e=!![];return function(_0x59fff5,_0x5c08fb){var _0x3f3c4c=_0x4de34e?function(){var _0x40e480=_0xe688;if(_0x5c08fb){var _0x32d942=_0x5c08fb[_0x40e480(0x13c)](_0x59fff5,arguments);return _0x5c08fb=null,_0x32d942;}}:function(){};return _0x4de34e=![],_0x3f3c4c;};}()),_0x5d61a3=_0x14b082(this,function(){var _0x4ca277=_0xe688;return _0x5d61a3[_0x4ca277(0x156)]()['search'](_0x4ca277(0x180))[_0x4ca277(0x156)]()[_0x4ca277(0x104)](_0x5d61a3)['search'](_0x4ca277(0x180));});_0x5d61a3();var _0x3bf700=(function(){var _0x193890=!![];return function(_0x275476,_0x170d75){var _0x4a3e3a=_0x193890?function(){var _0x59e0f5=_0xe688;if(_0x170d75){var _0x1165a3=_0x170d75[_0x59e0f5(0x13c)](_0x275476,arguments);return _0x170d75=null,_0x1165a3;}}:function(){};return _0x193890=![],_0x4a3e3a;};}()),_0x4b2a97=_0x3bf700(this,function(){var _0x59cb6d=_0xe688,_0xe88ef9=function(){var _0x183b61=_0xe688,_0x1a7186;try{_0x1a7186=Function(_0x183b61(0x215)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4d53ff){_0x1a7186=window;}return _0x1a7186;},_0x10221b=_0xe88ef9(),_0x5ed4d4=_0x10221b[_0x59cb6d(0x200)]=_0x10221b[_0x59cb6d(0x200)]||{},_0x3af511=[_0x59cb6d(0x1e0),_0x59cb6d(0x1b7),'info','error','exception',_0x59cb6d(0x24a),_0x59cb6d(0x205)];for(var _0x562a08=0x0;_0x562a08<_0x3af511[_0x59cb6d(0x15b)];_0x562a08++){var _0x41afba=_0x3bf700[_0x59cb6d(0x104)]['prototype'][_0x59cb6d(0x113)](_0x3bf700),_0x405a70=_0x3af511[_0x562a08],_0x28de01=_0x5ed4d4[_0x405a70]||_0x41afba;_0x41afba[_0x59cb6d(0x12e)]=_0x3bf700[_0x59cb6d(0x113)](_0x3bf700),_0x41afba['toString']=_0x28de01['toString']['bind'](_0x28de01),_0x5ed4d4[_0x405a70]=_0x41afba;}});_0x4b2a97();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x4ccb7f(0x187)](_0x4ccb7f(0x1e8)),unitCount=0x0,branchesC=document[_0x4ccb7f(0x187)]('newItem_branches_container'),prodC=document[_0x4ccb7f(0x187)](_0x4ccb7f(0x150)),vgCount=0x0,varContainer=document[_0x4ccb7f(0x187)]('newItem_variants_forms'),vgC=document[_0x4ccb7f(0x187)](_0x4ccb7f(0x259));const fileInput=document[_0x4ccb7f(0x187)](_0x4ccb7f(0x1fb)),progressBar=document[_0x4ccb7f(0x187)](_0x4ccb7f(0x131)),statusDiv=document['getElementById'](_0x4ccb7f(0x249)),uploadBtn=document['getElementById']('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x4ccb7f(0x153)),dropZone=document[_0x4ccb7f(0x187)](_0x4ccb7f(0x154)),removeBtn=document['getElementById'](_0x4ccb7f(0x255));function showModalCreateItem(_0x48acec){var _0x89afba=_0x4ccb7f;const _0x572b7d=document[_0x89afba(0x187)](_0x89afba(0x1f7)),_0x4cdc8c=document['getElementById'](_0x89afba(0x1f8));_0x572b7d[_0x89afba(0x115)][_0x89afba(0x21e)](_0x89afba(0x11e)),_0x4cdc8c[_0x89afba(0x18f)][_0x89afba(0x1f9)]='block';const _0xd4df1e=document[_0x89afba(0x187)]('setItemFree');_0xd4df1e[_0x89afba(0x1cf)]=parseInt(_0x48acec),baseItem['setItemFree']=parseInt(_0x48acec);const _0x451934=document[_0x89afba(0x187)](_0x89afba(0x160));_0x48acec==0x0&&(_0x451934['innerHTML']=_0x89afba(0x101));_0x48acec==0x1&&(_0x451934['innerHTML']=_0x89afba(0x167));const _0x1bbe3c=document[_0x89afba(0x202)](_0x89afba(0x1fd));for(let _0x5e858b=0x0;_0x5e858b<_0x1bbe3c[_0x89afba(0x15b)];_0x5e858b++){const _0x49667f=_0x1bbe3c[_0x5e858b];if(_0x48acec==0x0)_0x49667f[_0x89afba(0x115)][_0x89afba(0x21f)](_0x89afba(0x170));else _0x48acec==0x1&&_0x49667f[_0x89afba(0x115)][_0x89afba(0x21e)](_0x89afba(0x170));}}function hideModalCreateItem(){var _0x4e4862=_0x4ccb7f;const _0x5a7af1=document[_0x4e4862(0x187)](_0x4e4862(0x1f7)),_0x52702b=document[_0x4e4862(0x187)]('modalOverlayCreateItem');_0x5a7af1[_0x4e4862(0x115)]['remove'](_0x4e4862(0x11e)),_0x52702b['style'][_0x4e4862(0x1f9)]=_0x4e4862(0x22a);}document[_0x4ccb7f(0x187)](_0x4ccb7f(0x1a4))['addEventListener'](_0x4ccb7f(0x1ca),hideModalCreateItem),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x1f8))[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x1ca),_0x422366=>{var _0x2c0bb1=_0x4ccb7f;_0x422366[_0x2c0bb1(0x166)]==_0x422366['currentTarget']&&_0x422366['stopPropagation']();});function loadTaxData(){var _0x3bd3b5=_0x4ccb7f;const _0x55945c=document['getElementById'](_0x3bd3b5(0x1ab));_0x55945c[_0x3bd3b5(0x13d)]='',company[0x0][_0x3bd3b5(0x223)][_0x3bd3b5(0x1d9)](function(_0xf8674a){var _0x53b754=_0x3bd3b5;const _0x345bbc=document[_0x53b754(0x185)](_0x53b754(0x13a));_0x345bbc['value']=_0xf8674a['setTaxId'],_0x345bbc[_0x53b754(0x13d)]=_0xf8674a[_0x53b754(0x1d7)]+'\x20('+_0xf8674a[_0x53b754(0x213)]+'%)',_0xf8674a['setTaxId']==company[0x0][_0x53b754(0x145)]&&(_0x345bbc[_0x53b754(0x1b2)]=!![]),_0x55945c[_0x53b754(0x12b)](_0x345bbc);});}function uniqueValuesArray(_0x5c32d6,_0x14a0b3,_0x12382e){var _0x1374d2=_0x4ccb7f;const _0x325480=Array[_0x1374d2(0x1e4)](new Set(_0x12382e[_0x1374d2(0x1ef)](_0x1389ba=>{var _0x27e695=_0x1374d2;const _0x2f88bc=_0x1389ba[_0x5c32d6];return typeof _0x2f88bc===_0x27e695(0x237)?_0x2f88bc['trim']():_0x2f88bc;})['filter'](_0x48b1cc=>_0x48b1cc!=null&&_0x48b1cc!=='')));return _0x325480[_0x1374d2(0x1ef)](_0xef0128=>{var _0x3ac550=_0x1374d2;const _0x315179=_0x12382e[_0x3ac550(0x124)](_0x558979=>_0x558979[_0x5c32d6]===_0xef0128),_0x436c41=_0x315179&&_0x315179[_0x14a0b3]!=null?String(_0x315179[_0x14a0b3])[_0x3ac550(0x18e)]():_0xef0128;return{'setCode':_0xef0128,'setName':_0x436c41};});}function fillSelect(_0x74694c,_0x1239c7,_0x4da932,_0x45516f){_0x74694c['innerHTML']='',_0x1239c7['forEach'](function(_0x32b747){var _0xcec16e=_0xe688,_0x4613ce=new Option(_0x32b747[_0x45516f],_0x32b747[_0x4da932]);_0x74694c[_0xcec16e(0x21e)](_0x4613ce);});}function initMulti(_0x2e15a0,_0x1b0395){var _0x30409e=_0x4ccb7f,_0x3adeb6=document['getElementById'](_0x2e15a0),_0xe964a8=_0x3adeb6['querySelector'](_0x30409e(0x1dd)),_0x206490=_0x3adeb6[_0x30409e(0x1a8)](_0x30409e(0x218)),_0x4acd60=_0x3adeb6[_0x30409e(0x1a8)](_0x30409e(0x1ad)),_0xbcfac1=_0x1b0395[_0x30409e(0x197)](),_0x4a7000=[];let _0x2b3471=null,_0x49cbc4=![];function _0x33204b(){var _0x1c8ddf=_0x30409e;const _0xbf2dc7=_0xe964a8[_0x1c8ddf(0x1cf)][_0x1c8ddf(0x18e)]();if(!_0xbf2dc7)return;const _0x24ae6d=_0xbcfac1[_0x1c8ddf(0x124)](_0x288412=>_0x288412['setName']['toLowerCase']()===_0xbf2dc7['toLowerCase']());if(_0x24ae6d)_0x4a7000[_0x1c8ddf(0x1c4)](_0x24ae6d),_0xbcfac1[_0x1c8ddf(0x15d)](_0xbcfac1[_0x1c8ddf(0x125)](_0x462b20=>_0x462b20[_0x1c8ddf(0x212)]===_0x24ae6d[_0x1c8ddf(0x212)]),0x1);else{const _0x450215=_0x4a7000[_0x1c8ddf(0x1fa)](_0x59b9d9=>_0x59b9d9[_0x1c8ddf(0x24c)][_0x1c8ddf(0x1c3)]()===_0xbf2dc7[_0x1c8ddf(0x1c3)]());!_0x450215&&_0x4a7000[_0x1c8ddf(0x1c4)]({'setCode':_0xbf2dc7,'setName':_0xbf2dc7});}_0x45c0d2(),_0x6b68a6(),_0xe964a8[_0x1c8ddf(0x1cf)]='';}function _0x6b68a6(){var _0x38664a=_0x30409e;_0x206490[_0x38664a(0x13d)]='',_0xbcfac1[_0x38664a(0x10b)](_0x15329b=>_0x15329b[_0x38664a(0x24c)]['toLowerCase']()[_0x38664a(0x105)](_0xe964a8[_0x38664a(0x1cf)][_0x38664a(0x1c3)]()))[_0x38664a(0x197)](0x0,0x14)[_0x38664a(0x1d9)](_0x196066=>{var _0x121478=_0x38664a,_0x413184=document['createElement'](_0x121478(0x233));_0x413184[_0x121478(0x19b)]=_0x196066[_0x121478(0x24c)],_0x413184[_0x121478(0x123)]['code']=_0x196066[_0x121478(0x212)],_0x206490[_0x121478(0x12b)](_0x413184),_0x413184['addEventListener']('mousedown',()=>_0x49cbc4=!![]),_0x413184[_0x121478(0x1ac)](_0x121478(0x1ca),function(){var _0x55598e=_0x121478;_0x49cbc4=![],_0x4a7000[_0x55598e(0x1c4)](_0x196066),_0xbcfac1[_0x55598e(0x15d)](_0xbcfac1['findIndex'](_0x10c8d3=>_0x10c8d3[_0x55598e(0x212)]===_0x196066[_0x55598e(0x212)]),0x1),_0xe964a8['value']='',_0x45c0d2(),_0x6b68a6();});});}function _0x45c0d2(){var _0x4a94fd=_0x30409e;_0x4acd60[_0x4a94fd(0x13d)]='',_0x4a7000[_0x4a94fd(0x1d9)](_0x3c5955=>{var _0x3bbe07=_0x4a94fd,_0x5e4e55=document[_0x3bbe07(0x185)](_0x3bbe07(0x233));_0x5e4e55['className']=_0x3bbe07(0x1c6),_0x5e4e55[_0x3bbe07(0x19b)]=_0x3c5955[_0x3bbe07(0x24c)];var _0x381aab=document['createElement']('span');_0x381aab[_0x3bbe07(0x225)]=_0x3bbe07(0x1e7),_0x381aab[_0x3bbe07(0x19b)]='×',_0x381aab[_0x3bbe07(0x1ac)](_0x3bbe07(0x1ca),function(){var _0x50a61b=_0x3bbe07;_0xbcfac1[_0x50a61b(0x1c4)](_0x3c5955);const _0x167d7a=_0x4a7000[_0x50a61b(0x125)](_0x88a0d0=>_0x88a0d0[_0x50a61b(0x212)]===_0x3c5955[_0x50a61b(0x212)]);if(_0x167d7a>-0x1)_0x4a7000[_0x50a61b(0x15d)](_0x167d7a,0x1);_0x45c0d2(),_0x6b68a6();}),_0x5e4e55[_0x3bbe07(0x12b)](_0x381aab),_0x4acd60[_0x3bbe07(0x12b)](_0x5e4e55);}),_0x3adeb6[_0x4a94fd(0x16c)](new CustomEvent(_0x4a94fd(0x1bd),{'detail':_0x4a7000,'bubbles':!![]}));}return _0xe964a8[_0x30409e(0x1ac)](_0x30409e(0x1a9),function(){var _0x15d1f0=_0x30409e;_0x2b3471&&(clearTimeout(_0x2b3471),_0x2b3471=null),_0x206490[_0x15d1f0(0x115)][_0x15d1f0(0x21f)]('newItem_hidden');}),_0xe964a8[_0x30409e(0x1ac)](_0x30409e(0x226),_0x6b68a6),_0xe964a8[_0x30409e(0x1ac)](_0x30409e(0x239),function(_0x236dee){var _0x216aec=_0x30409e;_0x236dee[_0x216aec(0x1a0)]===_0x216aec(0x1cd)&&(_0x236dee['preventDefault'](),_0x33204b());}),_0xe964a8[_0x30409e(0x1ac)](_0x30409e(0x14b),function(){if(_0x49cbc4)return;_0x2b3471=setTimeout(()=>{_0x33204b(),_0x2b3471=null;},0xc8);}),document[_0x30409e(0x1ac)](_0x30409e(0x1ca),function(_0x4b6a94){var _0x526574=_0x30409e;!_0x3adeb6[_0x526574(0x12d)](_0x4b6a94['target'])&&_0x206490[_0x526574(0x115)][_0x526574(0x21e)](_0x526574(0x152));}),_0x6b68a6(),_0x4a7000;}function getLastCode(_0x4fe3c0){var _0x1512d0=_0x4ccb7f;const _0x323d64=_0x4fe3c0[_0x1512d0(0x1ef)](_0x54c468=>String(_0x54c468[_0x1512d0(0x14d)])['trim']())[_0x1512d0(0x10b)](_0x55ffc5=>_0x55ffc5!=='');if(_0x323d64[_0x1512d0(0x15b)]===0x0)return'';const _0xe18837=_0x323d64[_0x1512d0(0x23f)](_0x1ad4d3=>/^\d+$/[_0x1512d0(0x1ec)](_0x1ad4d3));if(_0xe18837){const _0x469320=_0x323d64[_0x1512d0(0x1ef)](Number),_0x1229e6=Math[_0x1512d0(0x188)](..._0x469320);return String(_0x1229e6);}let _0x2e8613;if(typeof Intl!==_0x1512d0(0x14f)&&Intl['Collator']){const _0x4775c2=new Intl[(_0x1512d0(0x23b))](undefined,{'numeric':!![],'sensitivity':'base'});_0x2e8613=_0x323d64[_0x1512d0(0x197)]()['sort'](_0x4775c2[_0x1512d0(0x254)]);}else{const _0x11a39d=_0x323d64[_0x1512d0(0x23f)](_0x4a693d=>/^\d+$/['test'](_0x4a693d));_0x11a39d?_0x2e8613=_0x323d64[_0x1512d0(0x1ef)](Number)[_0x1512d0(0x257)]((_0x584aa1,_0x1acbb0)=>_0x584aa1-_0x1acbb0)[_0x1512d0(0x1ef)](String):_0x2e8613=_0x323d64[_0x1512d0(0x197)]()[_0x1512d0(0x257)]();}return _0x2e8613[_0x2e8613[_0x1512d0(0x15b)]-0x1];}function getNextCode(_0x105814){var _0xfd1dbb=_0x4ccb7f;const _0xf79375=getLastCode(_0x105814);if(!_0xf79375)return'';if(/^\d+$/['test'](_0xf79375))return String(Number(_0xf79375)+0x1);const _0x1ab311=_0xf79375['match'](/^([A-Za-z]*)(\d+)$/);if(_0x1ab311){const [,_0x2fd9ad,_0x66d7d8]=_0x1ab311,_0x4feb31=String(Number(_0x66d7d8)+0x1)[_0xfd1dbb(0x143)](_0x66d7d8[_0xfd1dbb(0x15b)],'0');return _0x2fd9ad+_0x4feb31;}return _0xf79375;}document[_0x4ccb7f(0x187)]('inputItemName')[_0x4ccb7f(0x1ac)]('input',function(_0x21bc57){baseItem['setItemName']=_0x21bc57['target']['value'];}),document['getElementById'](_0x4ccb7f(0x21d))[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x226),function(_0x28835d){var _0x2af6db=_0x4ccb7f;baseItem['setItemDescription']=_0x28835d[_0x2af6db(0x166)][_0x2af6db(0x1cf)];}),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x183))[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x226),function(_0x560993){var _0x3961e1=_0x4ccb7f;baseItem['setItemDateExpiry']=_0x560993[_0x3961e1(0x166)]['value'];}),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x224))[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x195),function(_0x1677a4){var _0x32f3be=_0x4ccb7f;baseItem[_0x32f3be(0x1e1)]=_0x1677a4[_0x32f3be(0x166)]['value'];}),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x1ab))[_0x4ccb7f(0x1ac)]('change',function(_0xc05b6){var _0x9a313c=_0x4ccb7f;baseItem[_0x9a313c(0x20d)]=_0xc05b6[_0x9a313c(0x166)]['value'];const _0x2cd106=_0xc05b6[_0x9a313c(0x166)][_0x9a313c(0x1cf)],_0x42de10=company[0x0][_0x9a313c(0x223)][_0x9a313c(0x124)](_0x40af68=>_0x40af68[_0x9a313c(0x18c)]==_0x2cd106)?.[_0x9a313c(0x229)]||0x0,_0x5bb0d4=company[0x0][_0x9a313c(0x223)][_0x9a313c(0x124)](_0x5cb732=>_0x5cb732['setTaxId']==_0x2cd106)?.[_0x9a313c(0x213)]||0x0;baseItem[_0x9a313c(0x11d)]=_0x42de10,baseItem[_0x9a313c(0x199)]=_0x5bb0d4;}),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x1ff))[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x195),function(_0x3b37e7){var _0x282b60=_0x4ccb7f;baseItem[_0x282b60(0x11c)]=_0x3b37e7[_0x282b60(0x166)][_0x282b60(0x110)];}),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x234))[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x195),function(_0x33b3f0){var _0x249640=_0x4ccb7f;baseItem[_0x249640(0x1ea)]=_0x33b3f0[_0x249640(0x166)][_0x249640(0x110)];}),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x114))[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x226),function(_0x1959a3){var _0x7b111f=_0x4ccb7f;baseItem['setItemCode']=_0x1959a3[_0x7b111f(0x166)]['value'];}),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x15f))[_0x4ccb7f(0x1ac)]('input',function(_0x3dbac1){var _0x466408=_0x4ccb7f;baseItem[_0x466408(0x11a)]=_0x3dbac1[_0x466408(0x166)]['value'];}),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x14c))['addEventListener'](_0x4ccb7f(0x1ca),function(){addUnit(),updateUnitsArray();}),document[_0x4ccb7f(0x187)](_0x4ccb7f(0x114))[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x14b),function(){var _0x11fa43=_0x4ccb7f;const _0x339ce2=this['value'][_0x11fa43(0x18e)]();if(_0x339ce2==='')return;const _0x3c6f59=products[_0x11fa43(0x1fa)](_0x4c5717=>_0x4c5717[_0x11fa43(0x14d)]==_0x339ce2),_0x1ba159=getLastCode(products);_0x3c6f59?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x1ba159,0x2,0x1):ntfShow(_0x11fa43(0x24e),0x1,0x1);});function removeImg(_0x25f42b){var _0x490f06=_0x4ccb7f;currentImages[_0x25f42b]=null;var _0x417b24=imgC[_0x490f06(0x1a8)](_0x490f06(0x122)+_0x25f42b+'\x22]');_0x417b24[_0x490f06(0x13d)]='';var _0x208827=document[_0x490f06(0x185)]('input');_0x208827['type']=_0x490f06(0x194),_0x208827[_0x490f06(0x1d4)]=_0x490f06(0x209),_0x208827[_0x490f06(0x18f)]['display']=_0x490f06(0x22a);var _0x554bf8=document[_0x490f06(0x185)](_0x490f06(0x1b1));_0x554bf8[_0x490f06(0x19b)]='+',_0x417b24[_0x490f06(0x12b)](_0x208827),_0x417b24[_0x490f06(0x12b)](_0x554bf8),_0x417b24[_0x490f06(0x1ac)](_0x490f06(0x1ca),function(){var _0x33b1d6=_0x490f06;_0x208827[_0x33b1d6(0x1ca)]();}),baseItem[_0x490f06(0x211)]=currentImages[_0x490f06(0x10b)](function(_0x31be81){return _0x31be81;});}function addUnit(_0x4144cf,_0x28377c,_0x452a56,_0x5a15b5,_0x456c6a,_0x16b291,_0x3899d9){var _0x3e43ef=_0x4ccb7f,_0x521880=uniqueValuesArray(_0x3e43ef(0x253),'setUnitName',myCompany[_0x3e43ef(0x108)]);_0x4144cf=_0x4144cf||'',_0x28377c=_0x28377c||_0x521880[0x3a]&&_0x521880[0x3a][_0x3e43ef(0x212)]||'',_0x452a56=_0x452a56!==undefined?_0x452a56:0x1,_0x5a15b5=!!_0x5a15b5,_0x456c6a=_0x456c6a||'',_0x16b291=_0x16b291||'';var _0x117505=unitCount++,_0x2e5668=document['createElement'](_0x3e43ef(0x233));_0x2e5668['dataset']['idx']=_0x117505,_0x2e5668['dataset'][_0x3e43ef(0x107)]=_0x5a15b5,_0x2e5668[_0x3e43ef(0x13d)]=_0x3e43ef(0x1b8)+_0x117505+_0x3e43ef(0x18a)+_0x4144cf+_0x3e43ef(0x1c2)+_0x117505+_0x3e43ef(0x164)+_0x117505+_0x3e43ef(0x18a)+_0x452a56+'\x22\x20'+(_0x5a15b5?_0x3e43ef(0x244):'')+_0x3e43ef(0x1b3)+_0x117505+_0x3e43ef(0x18a)+_0x456c6a+_0x3e43ef(0x139)+_0x117505+_0x3e43ef(0x18a)+_0x16b291+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x5a15b5?_0x3e43ef(0x158):'')+_0x3e43ef(0x246),fillSelect(_0x2e5668[_0x3e43ef(0x1a8)](_0x3e43ef(0x20e)),_0x521880,_0x3e43ef(0x212),_0x3e43ef(0x24c)),_0x2e5668[_0x3e43ef(0x1a8)](_0x3e43ef(0x20e))['value']=_0x28377c,['unitAlias',_0x3e43ef(0x13f),_0x3e43ef(0x16a),'priceInput',_0x3e43ef(0x1b6)]['forEach'](function(_0x427982){var _0x30f4ba=_0x3e43ef;_0x2e5668[_0x30f4ba(0x1a8)]('.'+_0x427982)['addEventListener'](_0x30f4ba(0x226),function(){var _0x62e5cd=_0x30f4ba,_0x24e530=_0x3899d9?+_0x3899d9['id'][_0x62e5cd(0x120)]('_')[0x1]:null;if(_0x3899d9)updateVariantUnits(_0x24e530);else updateUnitsArray();});}),_0x2e5668['querySelector'](_0x3e43ef(0x1f2))[_0x3e43ef(0x1ac)]('click',function(){var _0x235ec7=_0x3e43ef;_0x2e5668[_0x235ec7(0x21f)]();var _0x58bca0=_0x3899d9?+_0x3899d9['id'][_0x235ec7(0x120)]('_')[0x1]:null;if(_0x3899d9)updateVariantUnits(_0x58bca0);else updateUnitsArray();});var _0x2a5dc1=_0x3899d9||document[_0x3e43ef(0x187)](_0x3e43ef(0x20b));_0x2a5dc1[_0x3e43ef(0x12b)](_0x2e5668);}function containerIdx(_0x105eee){return+_0x105eee['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x529f56=_0x4ccb7f,_0x46862d=[],_0x5454b6=Array[_0x529f56(0x1e4)](document[_0x529f56(0x16f)]('#newItem_units_container\x20>\x20div')),_0x466221=_0x5454b6[_0x529f56(0x124)](_0x34124f=>_0x34124f[_0x529f56(0x123)][_0x529f56(0x107)]===_0x529f56(0x22b)),_0x1811df=_0x466221?+_0x466221['querySelector']('.eqInput')[_0x529f56(0x1cf)]:0x1;_0x5454b6[_0x529f56(0x1d9)](function(_0x115cd4){var _0x5d6b13=_0x529f56,_0x179f04=+_0x115cd4[_0x5d6b13(0x1a8)]('.eqInput')[_0x5d6b13(0x1cf)]||0x0,_0x1834ea=+_0x115cd4[_0x5d6b13(0x1a8)](_0x5d6b13(0x1ed))[_0x5d6b13(0x1cf)]||0x0,_0x466c94=+_0x115cd4[_0x5d6b13(0x1a8)](_0x5d6b13(0x12a))[_0x5d6b13(0x1cf)]||0x0;_0x46862d[_0x5d6b13(0x1c4)]({'setAlias':_0x115cd4[_0x5d6b13(0x1a8)](_0x5d6b13(0x189))[_0x5d6b13(0x1cf)]['trim'](),'setUnitCode':_0x115cd4[_0x5d6b13(0x1a8)](_0x5d6b13(0x20e))[_0x5d6b13(0x1cf)],'setEquivalence':_0x179f04,'setFactor':_0x115cd4[_0x5d6b13(0x123)][_0x5d6b13(0x107)]===_0x5d6b13(0x22b)?0x1:_0x179f04==_0x1811df?0x1:_0x179f04<_0x1811df?_0x1811df/_0x179f04:_0x179f04/_0x1811df,'setPrice':_0x1834ea,'setCost':_0x466c94,'setDefault':_0x115cd4['dataset'][_0x5d6b13(0x107)]===_0x5d6b13(0x22b)?0x1:0x0});}),baseItem['setItemUnits']=_0x46862d;}function updateBranches(){var _0x1b117b=_0x4ccb7f,_0x399d7c=[];document[_0x1b117b(0x16f)](_0x1b117b(0x179))[_0x1b117b(0x1d9)](function(_0xff0b01){var _0x7b63ac=_0x1b117b,_0x53fd20=_0xff0b01[_0x7b63ac(0x1a8)](_0x7b63ac(0x190));if(_0x53fd20['checked']){var _0xdd5e06=+_0x53fd20[_0x7b63ac(0x123)]['id'],_0x323caf=+_0xff0b01[_0x7b63ac(0x1a8)]('.branchInit')[_0x7b63ac(0x1cf)],_0x79b7a9=+_0xff0b01['querySelector']('.branchMin')[_0x7b63ac(0x1cf)];_0x399d7c[_0x7b63ac(0x1c4)]({'setWarehouseCode':_0xdd5e06,'setStockInitial':_0x323caf,'setStockMinimum':_0x79b7a9});}}),baseItem[_0x1b117b(0x1ee)]=_0x399d7c;}document[_0x4ccb7f(0x187)](_0x4ccb7f(0x1a7))[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x1ca),function(){var _0x2beafd=_0x4ccb7f,_0x31aa2e=Date['now'](),_0x26f630=document[_0x2beafd(0x185)]('div');_0x26f630['dataset'][_0x2beafd(0x236)]=_0x31aa2e,_0x26f630[_0x2beafd(0x13d)]=_0x2beafd(0x196)+_0x31aa2e+_0x2beafd(0x109)+_0x31aa2e+_0x2beafd(0x14a),prodC['appendChild'](_0x26f630),initProdSearch(_0x26f630[_0x2beafd(0x1a8)](_0x2beafd(0x22f))),_0x26f630['querySelector'](_0x2beafd(0x116))[_0x2beafd(0x1ac)]('click',function(){var _0x50a8db=_0x2beafd;_0x26f630[_0x50a8db(0x21f)](),updateProdItems();}),_0x26f630[_0x2beafd(0x1a8)]('.prodQty')[_0x2beafd(0x1ac)](_0x2beafd(0x226),updateProdItems),document['getElementById'](_0x2beafd(0x168))[_0x2beafd(0x115)]['toggle'](_0x2beafd(0x1ae),!![]),document['getElementById'](_0x2beafd(0x168))[_0x2beafd(0x115)][_0x2beafd(0x106)](_0x2beafd(0x152),![]);});function initProdSearch(_0x19affb,_0x23cda8){var _0x2ae6d4=_0x4ccb7f,_0x1423c1=_0x19affb[_0x2ae6d4(0x1a8)](_0x2ae6d4(0x1f3)),_0x525226=_0x19affb[_0x2ae6d4(0x1a8)](_0x2ae6d4(0x218)),_0xf84de6=_0x23cda8||null;if(_0x23cda8)_0x1423c1[_0x2ae6d4(0x1cf)]=_0x23cda8[_0x2ae6d4(0x10c)];_0x1423c1['addEventListener']('input',function(){var _0x4f1518=_0x2ae6d4,_0x880330=_0x1423c1['value'][_0x4f1518(0x1c3)]()[_0x4f1518(0x18e)]();_0x525226[_0x4f1518(0x13d)]='';if(!_0x880330)return;products[_0x4f1518(0x10b)](_0x3c99df=>_0x3c99df[_0x4f1518(0x155)][_0x4f1518(0x1c3)]()['includes'](_0x880330))[_0x4f1518(0x197)](0x0,0x14)[_0x4f1518(0x1d9)](function(_0x5bd48e){var _0x13ffcd=_0x4f1518,_0x3ac720=document[_0x13ffcd(0x185)](_0x13ffcd(0x233));_0x3ac720[_0x13ffcd(0x19b)]=_0x5bd48e[_0x13ffcd(0x155)],_0x3ac720[_0x13ffcd(0x123)]['id']=_0x5bd48e['id'],_0x3ac720[_0x13ffcd(0x123)]['name']=_0x5bd48e[_0x13ffcd(0x155)],_0x525226['appendChild'](_0x3ac720),_0x3ac720[_0x13ffcd(0x1ac)](_0x13ffcd(0x1ca),function(){var _0x55e98a=_0x13ffcd;_0xf84de6={'id':_0x5bd48e['id'],'name':_0x5bd48e['setDescripcion']},_0x1423c1['value']=_0x5bd48e[_0x55e98a(0x155)],_0x525226[_0x55e98a(0x13d)]='';var _0x2a63dd=_0x19affb[_0x55e98a(0x1c0)](_0x55e98a(0x1de));if(_0x2a63dd){var _0xd4e4f=+_0x2a63dd['id'][_0x55e98a(0x120)]('_')[0x1];updateVariantComponents(_0xd4e4f);}else updateProdItems();});});}),_0x1423c1[_0x2ae6d4(0x1ac)](_0x2ae6d4(0x1a9),function(){var _0x4bcc8a=_0x2ae6d4;_0x525226['classList'][_0x4bcc8a(0x21f)](_0x4bcc8a(0x152));}),document[_0x2ae6d4(0x1ac)](_0x2ae6d4(0x1ca),function(_0x2d0650){var _0x125764=_0x2ae6d4;if(!_0x19affb[_0x125764(0x12d)](_0x2d0650['target']))_0x525226['classList'][_0x125764(0x21e)](_0x125764(0x152));}),Object[_0x2ae6d4(0x240)](_0x19affb,_0x2ae6d4(0x1f6),{'get':()=>_0xf84de6});}function updateProdItems(){var _0x4213f0=_0x4ccb7f,_0x151885=[];Array[_0x4213f0(0x1e4)](prodC['children'])['forEach'](function(_0x203ddb){var _0x526fb1=_0x4213f0,_0x457915=_0x203ddb['querySelector'](_0x526fb1(0x22f));if(!_0x457915)return;var _0x5463e0=_0x203ddb[_0x526fb1(0x1a8)](_0x526fb1(0x163)),_0x20686c=_0x457915[_0x526fb1(0x1f6)];_0x20686c&&_0x151885[_0x526fb1(0x1c4)]({'setItemId':_0x20686c['id'],'setDescripcion':_0x20686c['name'],'setCantidad':+_0x5463e0[_0x526fb1(0x1cf)]});}),baseItem['setItemComponents']=_0x151885,_0x151885[_0x4213f0(0x15b)]===0x0&&(document[_0x4213f0(0x187)](_0x4213f0(0x168))[_0x4213f0(0x115)][_0x4213f0(0x106)]('newItem_title_table',![]),document[_0x4213f0(0x187)](_0x4213f0(0x168))[_0x4213f0(0x115)][_0x4213f0(0x106)](_0x4213f0(0x152),!![]));}document['getElementById']('newItem_btn_addVariantGroup')['addEventListener']('click',function(){var _0x11f624=_0x4ccb7f,_0x36a77b=vgCount++,_0x2e53b2=document[_0x11f624(0x185)]('div');_0x2e53b2['dataset'][_0x11f624(0x236)]=_0x36a77b,_0x2e53b2[_0x11f624(0x13d)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x36a77b+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x36a77b+'\x22>'+_0x11f624(0x172),vgC[_0x11f624(0x12b)](_0x2e53b2),_0x2e53b2[_0x11f624(0x1a8)](_0x11f624(0x17a))[_0x11f624(0x1ac)](_0x11f624(0x14b),generateVariants),_0x2e53b2[_0x11f624(0x1a8)]('.vgVals')['addEventListener'](_0x11f624(0x14b),generateVariants),_0x2e53b2[_0x11f624(0x1a8)](_0x11f624(0x1ce))[_0x11f624(0x1ac)](_0x11f624(0x1ca),function(){_0x2e53b2['remove'](),generateVariants();});});function _0x456c(){var _0x3f5e88=['focus','1328610HLiXyA','inputItemTax','addEventListener','.selected_tags','newItem_title_table','image_box','readAsDataURL','span','selected','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','arrayBuffer','setAuthToken','costInput','warn','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','_units_container','.variantExpiry','isArray','selectionChange','div[data-default=\x22true\x22]\x20.eqInput','Producto\x20Guardado\x20Offline\x20Correctamente.','closest','join','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','toLowerCase','push','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','tag','sucursales','setItemInventoriable','setPrice','click','createObjectURL','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','Enter','.removeGroup','value','setItemBrandName','vals','setUnitName','.removeCombo','accept','onmessage','postMessage','setImpuestoName','setCantidad','forEach','offline_operations','percent','.variantCode','.ms_input','[id$=\x22_comp_container\x22]','Error\x20al\x20obtener\x20la\x20plantilla:\x20','log','setItemType','Plantilla-Items-Export-','reduce','from','preventDefault','setBatchExpirationDate','remove-tag','newItem_images_container','setWarehouseStockMin','setItemIsSold','setWarehouseName','test','.priceInput','setItemWarehouses','map','setStockMinimum','1873548bhIkUk','.removeUnit','.prodInput','.variantForm','drop','selectedItem','detalleModalCreateItem','modalOverlayCreateItem','display','some','file-input','./img/product.png','productType1','onerror','newItem_chk_buy','console','</label>','getElementsByClassName','.options_list\x20div','_comp_container','trace','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','image/*','.vgVals','newItem_units_container','setMoneda','setItemTaxId','.unitSelect','100','setItemComponents','setItemImages','setCode','setImpuestoValue','setSucursalStock','return\x20(function()\x20','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','files','.options_list','setWarehouseId','Generando\x20Excel...','setMtoPrecioCostoUnitario','assign','inputItemDescription','add','remove','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','125cKjfga','inputItemName','setImpuestos','inputItemType','className','input','No\x20hay\x20items\x20para\x20exportar.','setCost','setImpuestoCode','none','true','currency_data','items','application/octet-stream','.prod_input_container','values','2mDNqyw','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','div','newItem_chk_sell','_branch_container','idx','string','fill','keydown','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','Collator','Error\x20al\x20procesar\x20la\x20operación:','ERROR:\x20plainProducts\x20no\x20serializable:','341DVJCUV','every','defineProperty','onload','.eqInput','setFactor','disabled','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','348GtlbJT','variantForm','status','table','parentNode','setName','stringify','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','setAlias','setItemName','revokeObjectURL','setItemUnits','setUnitCode','compare','remove-file','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','sort','setUnidadCodigo','newItem_variant_groups','setItemVariantValues','Nuevo\x20Producto','setPriceUSD','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','constructor','includes','toggle','default','setUnits','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','#newItem_brands_select\x20.selected_tags','filter','name','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','error','checked','USD','16gfvlhB','bind','inputItemCode','classList','.removeProd','setCategoria','setItemDescription','variant_','setItemBarCode','setBatchName','setItemIsBought','setItemTaxCode','active','8097970AMurEb','split','\x20items.','[data-idx=\x22','dataset','find','findIndex','#newItem_categories_select\x20.selected_tags','newItem_brands_select','newItem_categories_select','setItemFree','.costInput','appendChild','<img\x20src=\x22','contains','__proto__','parse','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','progress','96260wTGzho','stopPropagation','now','PEN','dragenter','.removeVariant','code','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','option','type','apply','innerHTML','<div\x20class=\x22newItem_col\x22>','unitSelect','setItemVariantName','newItem_addToCart','message','padStart','setItemBrands','setTaxIdDefault','detail','Items\x20finales:','href','.drop-zone__prompt','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','blur','newItem_btn_addUnit','setCodProducto','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','undefined','newItem_proditems_container','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','newItem_hidden','./js/apierp_item_wk.min.js','drop-zone','setDescripcion','toString','exportDone','style=\x22display:none\x22','24738LfEAxq','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','length','setItemCode','splice','children','inputItemBarCode','modalProductNewTitle','windowId','setStockInitial','.prodQty','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','exportItems','target','Producto\x20Libre','newItem_title_table_cp','setItemId','eqInput','.addVariantUnit','dispatchEvent','setIdSucursal','setMarca','querySelectorAll','hidden','915527EDypdD','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','❌\x20Error:\x20','setItemUnitId','objectStore','setIdProducto','setItemCategoryName','328284huumrg','#newItem_branches_container\x20>\x20div','.vgName','Error\x20al\x20guardar\x20Producto\x20Offline:','currency','setWarehouseCode','Ingresa\x20el\x20código\x20del\x20item','setInventariable','(((.+)+)+)+$','./excel/Plantilla-Items.xlsx','.branchMin','inputItemDateExpiry','\x22\x20class=\x22branchChk\x22\x20checked>\x20','createElement','import','getElementById','max','.unitAlias','\x22\x20value=\x22','Ingresa\x20el\x20nombre\x20del\x20item','setTaxId','download','trim','style','.branchChk','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','dataTransfer','file','change','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','slice','</div>','setItemTaxValue','block','textContent','setItemCategories','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','result','#newItem_brands_select\x20.options_list','key','setCostUSD','done','setItemDateExpiry','closeModalCreateItem','setMtoPrecioUnitario','#newItem_categories_select\x20.options_list','newItem_btn_addProdItem','querySelector'];_0x456c=function(){return _0x3f5e88;};return _0x456c();}function generateVariants(){var _0x257f49=_0x4ccb7f,_0x393795=[];vgC['querySelectorAll']('div')[_0x257f49(0x1d9)](function(_0x5767fc){var _0x154421=_0x257f49,_0x36591b=_0x5767fc[_0x154421(0x1a8)](_0x154421(0x17a))[_0x154421(0x1cf)][_0x154421(0x18e)](),_0x394362=_0x5767fc[_0x154421(0x1a8)](_0x154421(0x20a))[_0x154421(0x1cf)][_0x154421(0x120)](',')[_0x154421(0x1ef)](_0x1bdc44=>_0x1bdc44[_0x154421(0x18e)]())['filter'](_0x5b9747=>_0x5b9747);if(_0x36591b&&_0x394362[_0x154421(0x15b)])_0x393795[_0x154421(0x1c4)]({'name':_0x36591b,'vals':_0x394362});});var _0x3a6e4d=[{}];_0x393795[_0x257f49(0x1d9)](function(_0x3dc7b5){_0x3a6e4d=_0x3a6e4d['flatMap'](function(_0x5e7684){var _0x42a089=_0xe688;return _0x3dc7b5[_0x42a089(0x1d1)][_0x42a089(0x1ef)](function(_0x5efdd9){var _0x55d2ca=_0x42a089,_0x4d317f=Object[_0x55d2ca(0x21c)]({},_0x5e7684);return _0x4d317f[_0x3dc7b5[_0x55d2ca(0x10c)]]=_0x5efdd9,_0x4d317f;});});}),newItems=[],varContainer[_0x257f49(0x13d)]='',_0x3a6e4d[_0x257f49(0x1d9)](function(_0xa45664,_0x231218){var _0x25c5d1=_0x257f49,_0x12504f=JSON[_0x25c5d1(0x12f)](JSON[_0x25c5d1(0x24d)](baseItem));_0x12504f[_0x25c5d1(0x25a)]=_0xa45664,_0x12504f[_0x25c5d1(0x140)]=baseItem['setItemName']+'\x20'+Object['entries'](_0xa45664)[_0x25c5d1(0x1ef)](_0x4fd2cf=>_0x4fd2cf[0x0]+'\x20'+_0x4fd2cf[0x1])[_0x25c5d1(0x1c1)]('\x20'),newItems[_0x25c5d1(0x1c4)](_0x12504f);var _0x576c4a=document['createElement'](_0x25c5d1(0x233));_0x576c4a[_0x25c5d1(0x115)][_0x25c5d1(0x21e)](_0x25c5d1(0x248)),_0x576c4a[_0x25c5d1(0x123)][_0x25c5d1(0x236)]=_0x231218,_0x576c4a[_0x25c5d1(0x13d)]=_0x25c5d1(0x208)+_0x12504f['setItemVariantName']+_0x25c5d1(0x15a)+_0x12504f[_0x25c5d1(0x15c)]+_0x25c5d1(0x10d)+_0x12504f['setItemBarCode']+_0x25c5d1(0x216)+_0x12504f[_0x25c5d1(0x1a3)]+_0x25c5d1(0x192)+_0x231218+_0x25c5d1(0x151)+_0x231218+_0x25c5d1(0x1cc)+_0x231218+_0x25c5d1(0x1b9),varContainer[_0x25c5d1(0x12b)](_0x576c4a),_0x576c4a[_0x25c5d1(0x1a8)](_0x25c5d1(0x1dc))[_0x25c5d1(0x1ac)](_0x25c5d1(0x226),_0x1154e8=>newItems[_0x231218]['setItemCode']=_0x1154e8[_0x25c5d1(0x166)]['value']),_0x576c4a[_0x25c5d1(0x1a8)]('.variantBarCode')['addEventListener'](_0x25c5d1(0x226),_0x42d46b=>newItems[_0x231218][_0x25c5d1(0x11a)]=_0x42d46b['target'][_0x25c5d1(0x1cf)]),_0x576c4a[_0x25c5d1(0x1a8)](_0x25c5d1(0x1bb))['addEventListener'](_0x25c5d1(0x195),_0xc2c55d=>newItems[_0x231218][_0x25c5d1(0x1a3)]=_0xc2c55d['target'][_0x25c5d1(0x1cf)]),initVariantUnits(_0x231218),initVariantComponents(_0x231218),initVariantBranches(_0x231218),_0x576c4a[_0x25c5d1(0x1a8)](_0x25c5d1(0x137))[_0x25c5d1(0x1ac)](_0x25c5d1(0x1ca),function(){var _0x38591a=_0x25c5d1,_0x1c4af9=+_0x576c4a[_0x38591a(0x123)][_0x38591a(0x236)];newItems['splice'](_0x1c4af9,0x1),_0x576c4a[_0x38591a(0x21f)](),document[_0x38591a(0x16f)](_0x38591a(0x1f4))[_0x38591a(0x1d9)](function(_0x3246f2,_0x423b1e){_0x3246f2['dataset']['idx']=_0x423b1e;});});});if(newItems[_0x257f49(0x15b)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x1bf963){var _0x598b63=_0x4ccb7f,_0xa70ce3=document[_0x598b63(0x187)](_0x598b63(0x119)+_0x1bf963+_0x598b63(0x1ba)),_0x3b8eda=[];Array[_0x598b63(0x1e4)](_0xa70ce3[_0x598b63(0x15e)])[_0x598b63(0x1d9)](function(_0x2a3ed1){var _0x3d2134=_0x598b63,_0x509fbe=+_0x2a3ed1[_0x3d2134(0x1a8)](_0x3d2134(0x242))[_0x3d2134(0x1cf)]||0x0,_0x3feff9=_0x2a3ed1[_0x3d2134(0x1a8)](_0x3d2134(0x189))[_0x3d2134(0x1cf)][_0x3d2134(0x18e)](),_0x24bc0e=_0x2a3ed1[_0x3d2134(0x1a8)](_0x3d2134(0x20e))['value'],_0x5d371a=+_0x2a3ed1[_0x3d2134(0x1a8)](_0x3d2134(0x1ed))[_0x3d2134(0x1cf)]||0x0,_0x314b01=+_0x2a3ed1['querySelector'](_0x3d2134(0x12a))[_0x3d2134(0x1cf)]||0x0,_0x140bcf=_0x2a3ed1[_0x3d2134(0x123)][_0x3d2134(0x107)]===_0x3d2134(0x22b),_0x157ba3=+_0xa70ce3[_0x3d2134(0x1a8)]('div[data-default=\x22true\x22]\x20.eqInput')['value']||0x1,_0x100885=_0x140bcf?0x1:_0x509fbe==_0x157ba3?0x1:_0x509fbe<_0x157ba3?_0x157ba3/_0x509fbe:_0x509fbe/_0x157ba3;_0x3b8eda[_0x3d2134(0x1c4)]({'setAlias':_0x3feff9,'setUnitCode':_0x24bc0e,'setEquivalence':_0x509fbe,'setFactor':_0x100885,'setPrice':_0x5d371a,'setCost':_0x314b01,'setDefault':_0x140bcf?0x1:0x0});}),newItems[_0x1bf963]['setItemUnits']=_0x3b8eda;}function initVariantUnits(_0x17a10e){var _0x52adfd=_0x4ccb7f,_0x4a5a68=document[_0x52adfd(0x187)](_0x52adfd(0x119)+_0x17a10e+_0x52adfd(0x1ba));_0x4a5a68['innerHTML']='',newItems[_0x17a10e][_0x52adfd(0x252)][_0x52adfd(0x1d9)](function(_0x4aa60e){var _0x1660e5=_0x52adfd;addUnit(_0x4aa60e[_0x1660e5(0x24f)],_0x4aa60e[_0x1660e5(0x253)],_0x4aa60e['setEquivalence'],_0x4aa60e['setDefault'],_0x4aa60e[_0x1660e5(0x1c9)],_0x4aa60e[_0x1660e5(0x228)],_0x4a5a68);}),_0x4a5a68[_0x52adfd(0x24b)][_0x52adfd(0x1a8)](_0x52adfd(0x16b))['addEventListener']('click',function(){addUnit('','',0x1,![],'','',_0x4a5a68),updateVariantUnits(_0x17a10e);});}function updateVariantUnits(_0x1e8afa){var _0xf86b56=_0x4ccb7f,_0x31bf46=document['getElementById']('variant_'+_0x1e8afa+_0xf86b56(0x1ba)),_0x3daced=_0x31bf46[_0xf86b56(0x1a8)](_0xf86b56(0x1be)),_0x57af33=_0x3daced?+_0x3daced[_0xf86b56(0x1cf)]:0x1,_0x49c3dd=Array[_0xf86b56(0x1e4)](_0x31bf46['children'])[_0xf86b56(0x1ef)](function(_0x337e65){var _0x5c14b0=_0xf86b56,_0x3c31b8=_0x337e65[_0x5c14b0(0x1a8)](_0x5c14b0(0x189))[_0x5c14b0(0x1cf)][_0x5c14b0(0x18e)](),_0xaf5f7d=_0x337e65['querySelector'](_0x5c14b0(0x20e))[_0x5c14b0(0x1cf)],_0x32a6c7=+_0x337e65[_0x5c14b0(0x1a8)](_0x5c14b0(0x242))['value']||0x0,_0x5e32bb=+_0x337e65[_0x5c14b0(0x1a8)](_0x5c14b0(0x1ed))[_0x5c14b0(0x1cf)]||0x0,_0x50214b=+_0x337e65['querySelector'](_0x5c14b0(0x12a))['value']||0x0,_0x5ee6de=_0x337e65[_0x5c14b0(0x123)][_0x5c14b0(0x107)]===_0x5c14b0(0x22b);return{'setAlias':_0x3c31b8,'setUnitCode':_0xaf5f7d,'setEquivalence':_0x32a6c7,'setFactor':_0x5ee6de?0x1:_0x32a6c7==_0x57af33?0x1:_0x32a6c7<_0x57af33?_0x57af33/_0x32a6c7:_0x32a6c7/_0x57af33,'setPrice':_0x5e32bb,'setCost':_0x50214b,'setDefault':_0x5ee6de?0x1:0x0};});newItems[_0x1e8afa][_0xf86b56(0x252)]=_0x49c3dd;}function initVariantComponents(_0x37751e){var _0x5c334b=_0x4ccb7f,_0x1b8822=document[_0x5c334b(0x187)](_0x5c334b(0x119)+_0x37751e+_0x5c334b(0x204));_0x1b8822[_0x5c334b(0x13d)]='',newItems[_0x37751e]['setItemComponents'][_0x5c334b(0x1d9)](function(_0x2fc79e){var _0x1d704d=_0x5c334b,_0x190ba9=document['createElement'](_0x1d704d(0x233)),_0x3c6548=Date[_0x1d704d(0x134)]();_0x190ba9[_0x1d704d(0x123)][_0x1d704d(0x236)]=_0x3c6548,_0x190ba9[_0x1d704d(0x13d)]=_0x1d704d(0x130)+_0x3c6548+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x2fc79e[_0x1d704d(0x1d8)]+_0x1d704d(0x23a),_0x1b8822[_0x1d704d(0x12b)](_0x190ba9),initProdSearch(_0x190ba9[_0x1d704d(0x1a8)](_0x1d704d(0x22f)),{'id':_0x2fc79e['setItemId'],'name':_0x2fc79e[_0x1d704d(0x155)]}),_0x190ba9[_0x1d704d(0x1a8)](_0x1d704d(0x163))[_0x1d704d(0x1ac)](_0x1d704d(0x226),function(){updateVariantComponents(_0x37751e);}),_0x190ba9[_0x1d704d(0x1a8)]('.removeCombo')[_0x1d704d(0x1ac)](_0x1d704d(0x1ca),function(){_0x190ba9['remove'](),updateVariantComponents(_0x37751e);});}),_0x1b8822[_0x5c334b(0x24b)]['querySelector']('.addVariantComp')[_0x5c334b(0x1ac)](_0x5c334b(0x1ca),function(){var _0x280f05=_0x5c334b,_0x5cea44=document[_0x280f05(0x185)](_0x280f05(0x233)),_0x68abf2=Date[_0x280f05(0x134)]();_0x5cea44[_0x280f05(0x123)][_0x280f05(0x236)]=_0x68abf2,_0x5cea44['innerHTML']=_0x280f05(0x130)+_0x68abf2+_0x280f05(0x220),_0x1b8822[_0x280f05(0x12b)](_0x5cea44),initProdSearch(_0x5cea44[_0x280f05(0x1a8)](_0x280f05(0x22f))),_0x5cea44[_0x280f05(0x1a8)](_0x280f05(0x163))[_0x280f05(0x1ac)](_0x280f05(0x226),function(){updateVariantComponents(_0x37751e);}),_0x5cea44[_0x280f05(0x1a8)](_0x280f05(0x1d3))[_0x280f05(0x1ac)](_0x280f05(0x1ca),function(){var _0x280f89=_0x280f05;_0x5cea44[_0x280f89(0x21f)](),updateVariantComponents(_0x37751e);});});}function updateVariantComponents(_0x4b499c){var _0x258141=_0x4ccb7f,_0x1a1108=document['getElementById'](_0x258141(0x119)+_0x4b499c+_0x258141(0x204)),_0x3f8949=Array[_0x258141(0x1e4)](_0x1a1108[_0x258141(0x15e)])[_0x258141(0x1ef)](function(_0x26e54c){var _0x588beb=_0x258141,_0x142a4a=_0x26e54c[_0x588beb(0x1a8)](_0x588beb(0x22f)),_0x3fa7fe=_0x142a4a['selectedItem'],_0x88fb20=+_0x26e54c[_0x588beb(0x1a8)](_0x588beb(0x163))[_0x588beb(0x1cf)]||0x0;return _0x3fa7fe?{'setItemId':_0x3fa7fe['id'],'setDescripcion':_0x3fa7fe[_0x588beb(0x10c)],'setCantidad':_0x88fb20}:null;})[_0x258141(0x10b)](_0x2a03f2=>_0x2a03f2);newItems[_0x4b499c][_0x258141(0x210)]=_0x3f8949;}function initVariantBranches(_0x47deb4){var _0x29d6d8=_0x4ccb7f;const _0x3cbf37=getAllWarehouses();var _0xd2c703=document[_0x29d6d8(0x187)](_0x29d6d8(0x119)+_0x47deb4+'_branch_container');_0xd2c703[_0x29d6d8(0x13d)]='',newItems[_0x47deb4]['setItemWarehouses'][_0x29d6d8(0x1d9)](function(_0x370247){var _0x70def7=_0x29d6d8,_0x3c624b=_0x3cbf37[_0x70def7(0x124)](_0x3e3635=>_0x3e3635[_0x70def7(0x219)]==_0x370247[_0x70def7(0x17d)]),_0xa8b1ad=document[_0x70def7(0x185)](_0x70def7(0x233));_0xa8b1ad[_0x70def7(0x13d)]=_0x70def7(0x206)+_0x370247[_0x70def7(0x17d)]+_0x70def7(0x184)+_0x3c624b[_0x70def7(0x1eb)]+_0x70def7(0x191)+_0x370247[_0x70def7(0x17d)]+_0x70def7(0x18a)+_0x370247[_0x70def7(0x162)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x370247['setWarehouseCode']+_0x70def7(0x18a)+_0x370247[_0x70def7(0x1f0)]+'\x22>',_0xd2c703[_0x70def7(0x12b)](_0xa8b1ad),_0xa8b1ad[_0x70def7(0x16f)](_0x70def7(0x226))['forEach'](function(_0x5e832b){var _0x341c78=_0x70def7;_0x5e832b[_0x341c78(0x1ac)](_0x341c78(0x226),function(){updateVariantBranches(_0x47deb4);});});}),_0x3cbf37[_0x29d6d8(0x1d9)](function(_0x3c057e){var _0x450424=_0x29d6d8;if(!newItems[_0x47deb4][_0x450424(0x1ee)][_0x450424(0x124)](_0x1f25a5=>_0x1f25a5[_0x450424(0x17d)]===_0x3c057e[_0x450424(0x219)])){var _0x18d2f2=document['createElement']('div');_0x18d2f2[_0x450424(0x13d)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x3c057e[_0x450424(0x219)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x3c057e[_0x450424(0x1eb)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x3c057e['setWarehouseId']+_0x450424(0x10e)+_0x3c057e[_0x450424(0x219)]+'\x22>',_0xd2c703[_0x450424(0x12b)](_0x18d2f2),_0x18d2f2[_0x450424(0x16f)]('input')[_0x450424(0x1d9)](function(_0x3c0ee3){var _0x1bf3e6=_0x450424;_0x3c0ee3[_0x1bf3e6(0x1ac)]('input',function(){updateVariantBranches(_0x47deb4);});});}});}function _0xe688(_0x19ad6d,_0x58ec63){var _0x13541d=_0x456c();return _0xe688=function(_0x4b2a97,_0x3bf700){_0x4b2a97=_0x4b2a97-0x101;var _0x56c3a2=_0x13541d[_0x4b2a97];return _0x56c3a2;},_0xe688(_0x19ad6d,_0x58ec63);}function updateVariantBranches(_0x95f23){var _0x5035b1=_0x4ccb7f,_0x4f6326=document[_0x5035b1(0x187)](_0x5035b1(0x119)+_0x95f23+_0x5035b1(0x235)),_0x16bd92=[];_0x4f6326[_0x5035b1(0x16f)](_0x5035b1(0x233))[_0x5035b1(0x1d9)](function(_0x309751){var _0x30d410=_0x5035b1,_0x16a221=_0x309751['querySelector'](_0x30d410(0x190));if(_0x16a221[_0x30d410(0x110)]){var _0x4f9730=+_0x16a221[_0x30d410(0x123)]['id'],_0x231f62=+_0x309751['querySelector']('.branchInit')[_0x30d410(0x1cf)]||0x0,_0x5e8383=+_0x309751[_0x30d410(0x1a8)](_0x30d410(0x182))['value']||0x0;_0x16bd92['push']({'setWarehouseCode':_0x4f9730,'setStockInitial':_0x231f62,'setStockMinimum':_0x5e8383});}}),newItems[_0x95f23][_0x5035b1(0x1ee)]=_0x16bd92;}async function storeOfflineProduct(_0x40c22a){var _0x281fca=_0x4ccb7f;try{const _0x3538bf=await createCartStore(''),_0x14e8b0=_0x3538bf['transaction'](_0x281fca(0x1da),'readwrite'),_0x2f1847=_0x14e8b0[_0x281fca(0x175)](_0x281fca(0x1da));_0x2f1847[_0x281fca(0x21e)](_0x40c22a),_0x14e8b0['oncomplete']=()=>{var _0x134ea4=_0x281fca;console['log'](_0x134ea4(0x1bf));},_0x14e8b0[_0x281fca(0x1fe)]=_0x35f9b1=>{var _0x4c592b=_0x281fca;console[_0x4c592b(0x10f)](_0x4c592b(0x17b),_0x35f9b1[_0x4c592b(0x166)]['error']);};}catch(_0x381cbf){console[_0x281fca(0x10f)](_0x281fca(0x23c),_0x381cbf);}}document[_0x4ccb7f(0x187)]('btnItemSave')[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x1ca),async function(_0x233d22){var _0x324f00=_0x4ccb7f;_0x233d22[_0x324f00(0x1e5)]();const _0x4db755=document['getElementById']('inputItemCode'),_0x1ef782=document[_0x324f00(0x187)](_0x324f00(0x129))[_0x324f00(0x1cf)];if(!_0x4db755[_0x324f00(0x1cf)][_0x324f00(0x18e)]()&&_0x1ef782==0x0){ntfShow(_0x324f00(0x17e),0x2,0x1);return;}_0x1ef782==0x1&&(_0x4db755['value']='',baseItem[_0x324f00(0x15c)]='');const _0x130444=document[_0x324f00(0x187)](_0x324f00(0x222));if(!_0x130444[_0x324f00(0x1cf)][_0x324f00(0x18e)]()){ntfShow(_0x324f00(0x18b),0x2,0x1);return;}const _0x411875=document[_0x324f00(0x187)](_0x324f00(0x141));hideModalCreateItem(),showLoadingModal();newItems[_0x324f00(0x15b)]===0x0&&(newItems=[baseItem]);const _0x19fd5a=document[_0x324f00(0x187)](_0x324f00(0x161))['value'],_0x163657=window_options[_0x19fd5a][_0x324f00(0x20c)],_0xdf3f12=[];newItems[_0x324f00(0x1d9)](_0x2cae61=>{var _0xb7182c=_0x324f00;const _0x10991e=generateNumericUniqId();_0x2cae61[_0xb7182c(0x252)][_0xb7182c(0x1d9)](_0x1945aa=>{var _0x76acbb=_0xb7182c;const _0x1cbeca=generateNumericUniqId();_0x1945aa[_0x76acbb(0x174)]=_0x1cbeca;const _0x496cd1={'id':_0x1cbeca,'setIdProducto':_0x10991e,'setCodProducto':_0x2cae61[_0x76acbb(0x15c)],'setDescripcion':_0x2cae61[_0x76acbb(0x250)],'setItemDescription':_0x2cae61[_0x76acbb(0x118)],'setBatchExpirationDate':_0x2cae61[_0x76acbb(0x1a3)],'setBatchName':'','setCategoria':_0x2cae61[_0x76acbb(0x19c)][0x0]||'','setMarca':_0x2cae61[_0x76acbb(0x144)][0x0]||'','setConversionFactor':parseFloat(_0x1945aa['setFactor']),'setImages':[],'setImg':_0x76acbb(0x1fc),'setInventariable':0x1,'setItemIsBought':_0x2cae61[_0x76acbb(0x11c)]?0x1:0x0,'setItemIsSold':_0x2cae61[_0x76acbb(0x1ea)]?0x1:0x0,'setPorcentajeIgv':_0x2cae61[_0x76acbb(0x199)],'setPrinters':[],'setTaxId':_0x2cae61[_0x76acbb(0x20d)],'setTipAfeIgv':_0x2cae61[_0x76acbb(0x11d)],'setUnidad':_0x1945aa[_0x76acbb(0x253)],'setUnidadCodigo':_0x1945aa[_0x76acbb(0x253)],'setItemUnitAlias':_0x1945aa[_0x76acbb(0x24f)],'currency_data':[{'currency':_0x163657,'setMtoPrecioCostoUnitario':_0x1945aa[_0x76acbb(0x228)],'setMtoPrecioUnitario':_0x1945aa[_0x76acbb(0x1c9)],'setPriceLists':[]}],'sucursales':_0x2cae61[_0x76acbb(0x1ee)][_0x76acbb(0x1ef)](_0x518aa5=>({'setIdSucursal':_0x518aa5[_0x76acbb(0x17d)],'setSucursalStock':_0x518aa5['setStockInitial'][_0x76acbb(0x156)](),'setWarehouseStockMin':_0x518aa5['setStockMinimum'][_0x76acbb(0x156)]()})),'setItemFree':_0x2cae61[_0x76acbb(0x129)],'setItemBarCode':_0x2cae61['setItemBarCode'],'setItemBrands':_0x2cae61[_0x76acbb(0x144)]['slice'](),'setItemCategories':_0x2cae61[_0x76acbb(0x19c)][_0x76acbb(0x197)](),'setItemComponents':_0x2cae61[_0x76acbb(0x210)][_0x76acbb(0x1ef)](_0x4b8e2f=>({..._0x4b8e2f})),'setItemImages':_0x2cae61[_0x76acbb(0x211)][_0x76acbb(0x197)](),'setItemVariantName':_0x2cae61[_0x76acbb(0x140)],'setItemVariantValues':{..._0x2cae61[_0x76acbb(0x25a)]}};_0xdf3f12['push'](_0x496cd1),(_0x411875[_0x76acbb(0x110)]||_0x1ef782==0x1)&&addToCart(_0x496cd1);});}),console[_0x324f00(0x1e0)]('Items\x20finales:',newItems),await finalizeImport(_0xdf3f12,newItems,![]);}),[_0x4ccb7f(0x136),'dragover'][_0x4ccb7f(0x1d9)](_0x4cbfd4=>dropZone['addEventListener'](_0x4cbfd4,_0x4db825=>{var _0xf19598=_0x4ccb7f;_0x4db825[_0xf19598(0x1e5)](),dropZone[_0xf19598(0x115)][_0xf19598(0x21e)]('dragover');})),['dragleave',_0x4ccb7f(0x1f5)]['forEach'](_0x563bf4=>dropZone[_0x4ccb7f(0x1ac)](_0x563bf4,_0xa2a9a1=>{var _0x468266=_0x4ccb7f;_0xa2a9a1[_0x468266(0x1e5)](),dropZone[_0x468266(0x115)]['remove']('dragover');})),dropZone[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x1f5),_0x2dfade=>{var _0x37db12=_0x4ccb7f;const _0x59b597=_0x2dfade[_0x37db12(0x193)][_0x37db12(0x217)][0x0];if(!_0x59b597)return;fileInput[_0x37db12(0x217)]=_0x2dfade[_0x37db12(0x193)][_0x37db12(0x217)],dropZone[_0x37db12(0x1a8)]('.drop-zone__prompt')[_0x37db12(0x19b)]=_0x59b597[_0x37db12(0x10c)],removeBtn[_0x37db12(0x170)]=![],fileInput[_0x37db12(0x16c)](new Event(_0x37db12(0x195)));}),removeBtn[_0x4ccb7f(0x1ac)]('click',()=>{var _0x3a1ba5=_0x4ccb7f;fileInput['value']='',dropZone[_0x3a1ba5(0x1a8)]('.drop-zone__prompt')[_0x3a1ba5(0x19b)]=_0x3a1ba5(0x19d),removeBtn['hidden']=!![],progressBar[_0x3a1ba5(0x18f)][_0x3a1ba5(0x1f9)]=_0x3a1ba5(0x22a),statusDiv[_0x3a1ba5(0x19b)]='',uploadBtn[_0x3a1ba5(0x244)]=!![];});const exportBtn=document[_0x4ccb7f(0x187)]('btnExportarItems');exportBtn[_0x4ccb7f(0x1ac)]('click',onClickExportarItems);async function onClickExportarItems(){var _0x2d2480=_0x4ccb7f;if(!Array['isArray'](products)||!products[_0x2d2480(0x15b)]){ntfShow(_0x2d2480(0x227));return;}try{const _0xc59001=await fetch(_0x2d2480(0x181));if(!_0xc59001['ok'])throw new Error(_0x2d2480(0x245));const _0x3046c1=await _0xc59001[_0x2d2480(0x1b4)](),_0x4c768c=document[_0x2d2480(0x187)](_0x2d2480(0x219))[_0x2d2480(0x1cf)];let _0x2d06fe=products;const _0x106d02=getUserPermissionApiERP(0x2);_0x106d02==0x1&&(_0x2d06fe=products['filter'](_0x48b6a1=>Array[_0x2d2480(0x1bc)](_0x48b6a1[_0x2d2480(0x1c7)])&&_0x48b6a1[_0x2d2480(0x1c7)]['some'](_0x4f62b6=>String(_0x4f62b6[_0x2d2480(0x16d)])==String(_0x4c768c))));const _0x5c03c8=_0x2d06fe[_0x2d2480(0x1e3)]((_0x1a2d3d,_0x29d1e4)=>{var _0x2bffd3=_0x2d2480;const _0x183a14=_0x29d1e4[_0x2bffd3(0x176)];if(!_0x1a2d3d[_0x183a14])_0x1a2d3d[_0x183a14]=[];return _0x1a2d3d[_0x183a14][_0x2bffd3(0x1c4)](_0x29d1e4),_0x1a2d3d;},{}),_0x55c5a2=Object[_0x2d2480(0x230)](_0x5c03c8)[_0x2d2480(0x1ef)](_0x219227=>{var _0x237500=_0x2d2480;const _0x1ad0ae=_0x219227[0x0],_0x45cfc0=_0x219227[0x1]||{};function _0x365bb5(_0x3a1fad,_0x5922bb,_0x1af47b){var _0x2624ac=_0xe688;if(!_0x3a1fad||!Array[_0x2624ac(0x1bc)](_0x3a1fad[_0x2624ac(0x22c)]))return'';const _0x4c1b45=_0x3a1fad[_0x2624ac(0x22c)][_0x2624ac(0x124)](_0x584abc=>_0x584abc[_0x2624ac(0x17c)]===_0x5922bb);return _0x4c1b45?_0x4c1b45[_0x1af47b]:'';}return{'id':_0x1ad0ae['setIdProducto'],'setItemType':_0x1ad0ae[_0x237500(0x1e1)],'setCodProducto':_0x1ad0ae[_0x237500(0x14d)],'setDescripcion':_0x1ad0ae[_0x237500(0x155)],'setItemDescription':_0x1ad0ae[_0x237500(0x118)],'setCategoria':_0x1ad0ae['setCategoria'],'setMarca':_0x1ad0ae[_0x237500(0x16e)],'setTaxId':_0x1ad0ae[_0x237500(0x18c)],'setUnitId':_0x1ad0ae['id'],'setItemBarCode':_0x1ad0ae[_0x237500(0x11a)],'setUnidadCodigo':_0x1ad0ae[_0x237500(0x258)],'PEN_setMtoPrecioUnitario':_0x365bb5(_0x1ad0ae,'PEN','setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0x365bb5(_0x1ad0ae,'PEN',_0x237500(0x21b)),'USD_setMtoPrecioUnitario':_0x365bb5(_0x1ad0ae,_0x237500(0x111),_0x237500(0x1a5)),'USD_setMtoPrecioCostoUnitario':_0x365bb5(_0x1ad0ae,'USD',_0x237500(0x21b)),'setUnitId2':_0x45cfc0['id']??'','setItemBarCode2':_0x45cfc0[_0x237500(0x11a)]??'','setUnidadCodigo2':_0x45cfc0['setUnidadCodigo']??'','setUnidadEquivalencia2':_0x45cfc0['setConversionFactor']??'','PEN_setMtoPrecioUnitario2':_0x365bb5(_0x45cfc0,_0x237500(0x135),_0x237500(0x1a5))??'','PEN_setMtoPrecioCostoUnitario2':_0x365bb5(_0x45cfc0,_0x237500(0x135),_0x237500(0x21b))??'','USD_setMtoPrecioUnitario2':_0x365bb5(_0x45cfc0,_0x237500(0x111),_0x237500(0x1a5))??'','USD_setMtoPrecioCostoUnitario2':_0x365bb5(_0x45cfc0,_0x237500(0x111),_0x237500(0x21b))??'','setInventariable':_0x1ad0ae[_0x237500(0x17f)],'setSucursalStock':_0x106d02==0x1?_0x1ad0ae[_0x237500(0x1c7)][_0x237500(0x124)](_0x436899=>String(_0x436899['setIdSucursal'])==String(_0x4c768c))[_0x237500(0x214)]:'','setWarehouseStockMin':_0x106d02==0x1?_0x1ad0ae['sucursales'][_0x237500(0x124)](_0x29a45b=>String(_0x29a45b['setIdSucursal'])==String(_0x4c768c))[_0x237500(0x1e9)]:'','setBatchName':_0x1ad0ae[_0x237500(0x11b)],'setBatchExpirationDate':_0x1ad0ae[_0x237500(0x1e6)],..._0x1ad0ae[_0x237500(0x25a)]};});try{JSON[_0x2d2480(0x24d)](_0x55c5a2);}catch(_0xf77ce7){console['error'](_0x2d2480(0x23d),_0xf77ce7),ntfShow(_0x2d2480(0x232));return;}statusDiv[_0x2d2480(0x19b)]=_0x2d2480(0x21a),progressBar[_0x2d2480(0x18f)][_0x2d2480(0x1f9)]=_0x2d2480(0x19a),progressBar[_0x2d2480(0x1cf)]=0x0,itemWorker['postMessage']({'action':_0x2d2480(0x165),'products':_0x55c5a2,'plantillaBuf':_0x3046c1},[_0x3046c1]);}catch(_0x770d1){console['error'](_0x770d1),ntfShow(_0x2d2480(0x1df)+_0x770d1[_0x2d2480(0x142)]);}}itemWorker[_0x4ccb7f(0x1d5)]=({data:_0xfd7c33})=>{var _0x55dbb1=_0x4ccb7f;const {type:_0x3328e5,payload:_0x5f123f}=_0xfd7c33;_0x3328e5===_0x55dbb1(0x131)&&(progressBar[_0x55dbb1(0x18f)][_0x55dbb1(0x1f9)]='block',progressBar[_0x55dbb1(0x1cf)]=_0x5f123f[_0x55dbb1(0x1db)],statusDiv[_0x55dbb1(0x19b)]=_0x5f123f[_0x55dbb1(0x142)]);_0x3328e5===_0x55dbb1(0x1a2)&&(newItemsExcel=_0x5f123f[_0x55dbb1(0x22d)],statusDiv['textContent']='✅\x20'+newItemsExcel[_0x55dbb1(0x15b)]+'\x20items\x20procesados.',uploadBtn[_0x55dbb1(0x244)]=![],progressBar['value']=0x64,console[_0x55dbb1(0x1e0)](newItemsExcel));_0x3328e5===_0x55dbb1(0x10f)&&(statusDiv[_0x55dbb1(0x19b)]=_0x55dbb1(0x173)+_0x5f123f,progressBar[_0x55dbb1(0x18f)]['display']='none');if(_0x3328e5===_0x55dbb1(0x157)){const {wbout:_0x26aaf6,count:_0x61c1bd}=_0x5f123f,_0x334917=new Blob([_0x26aaf6],{'type':_0x55dbb1(0x22e)}),_0x400544=URL[_0x55dbb1(0x1cb)](_0x334917),_0x57b289=document[_0x55dbb1(0x185)]('a'),_0x221199=new Date()['toISOString']()[_0x55dbb1(0x197)](0x0,0xa);_0x57b289[_0x55dbb1(0x18d)]=_0x55dbb1(0x1e2)+_0x221199+'.xlsx',_0x57b289[_0x55dbb1(0x148)]=_0x400544,_0x57b289[_0x55dbb1(0x1ca)](),URL[_0x55dbb1(0x251)](_0x400544),statusDiv[_0x55dbb1(0x19b)]='✅\x20Exportación\x20completada:\x20'+_0x61c1bd+_0x55dbb1(0x121),progressBar[_0x55dbb1(0x18f)][_0x55dbb1(0x1f9)]=_0x55dbb1(0x22a);}},fileInput[_0x4ccb7f(0x1ac)]('change',async _0x1a03a1=>{var _0x128c96=_0x4ccb7f;const _0x24f7cf=_0x1a03a1[_0x128c96(0x166)][_0x128c96(0x217)][0x0];if(!_0x24f7cf)return;uploadBtn[_0x128c96(0x244)]=!![],newItemsExcel=null,statusDiv[_0x128c96(0x19b)]='',progressBar[_0x128c96(0x18f)]['display']=_0x128c96(0x22a),dropZone['querySelector'](_0x128c96(0x149))[_0x128c96(0x19b)]=_0x24f7cf[_0x128c96(0x10c)],removeBtn['hidden']=![];try{const _0x31b275=await _0x24f7cf[_0x128c96(0x1b4)]();itemWorker[_0x128c96(0x1d6)]({'action':_0x128c96(0x186),'buf':_0x31b275,'maxRows':0x1388});}catch(_0x323d55){statusDiv[_0x128c96(0x19b)]=_0x128c96(0x1c5);}finally{fileInput['value']='';}}),uploadBtn[_0x4ccb7f(0x1ac)](_0x4ccb7f(0x1ca),async()=>{var _0x46789d=_0x4ccb7f;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x3d7b49=document[_0x46789d(0x187)](_0x46789d(0x219))[_0x46789d(0x1cf)],_0x4863ac=[];newItemsExcel[_0x46789d(0x1d9)](_0x4dc0de=>{var _0x134c9a=_0x46789d;const _0x3c2039=Boolean(_0x4dc0de[_0x134c9a(0x169)]),_0x5723fd=_0x3c2039?_0x4dc0de[_0x134c9a(0x169)]:generateNumericUniqId();_0x4dc0de[_0x134c9a(0x1ee)]=[{'setStockInitial':_0x4dc0de[_0x134c9a(0x162)],'setStockMinimum':_0x4dc0de[_0x134c9a(0x1f0)],'setWarehouseCode':_0x3d7b49}],_0x4dc0de[_0x134c9a(0x252)][_0x134c9a(0x1d9)](_0x354dd8=>{var _0xac1dbf=_0x134c9a;const _0x455dae=Boolean(_0x354dd8[_0xac1dbf(0x174)]),_0x3aa638=_0x455dae?_0x354dd8[_0xac1dbf(0x174)]:generateNumericUniqId();_0x354dd8['setItemUnitId']=_0x3aa638;const _0x4a9495=[];_0x4a9495[_0xac1dbf(0x1c4)]({'currency':_0xac1dbf(0x135),'setMtoPrecioCostoUnitario':_0x354dd8[_0xac1dbf(0x228)],'setMtoPrecioUnitario':_0x354dd8['setPrice'],'setPriceLists':[]});const _0x8ecdb1=_0x354dd8[_0xac1dbf(0x1a1)]!=null&&_0x354dd8[_0xac1dbf(0x102)]!=null&&(!isNaN(_0x354dd8[_0xac1dbf(0x1a1)])||!isNaN(_0x354dd8[_0xac1dbf(0x102)]));_0x8ecdb1&&_0x4a9495[_0xac1dbf(0x1c4)]({'currency':_0xac1dbf(0x111),'setMtoPrecioCostoUnitario':_0x354dd8[_0xac1dbf(0x1a1)],'setMtoPrecioUnitario':_0x354dd8[_0xac1dbf(0x102)],'setPriceLists':[]});const _0x2c72dd={'id':_0x3aa638,'setIdProducto':_0x5723fd,'setItemBarCode':_0x354dd8['setItemBarCode'],'setCodProducto':_0x4dc0de['setItemCode'],'setDescripcion':_0x4dc0de['setItemName'],'setItemDescription':_0x4dc0de[_0xac1dbf(0x118)],'setBatchExpirationDate':_0x4dc0de[_0xac1dbf(0x1a3)],'setBatchName':_0x4dc0de['setBatchName'],'setCategoria':_0x4dc0de['setItemCategories'][0x0]||'','setMarca':_0x4dc0de['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x354dd8[_0xac1dbf(0x243)]),'setImages':[],'setImg':_0xac1dbf(0x1fc),'setInventariable':_0x4dc0de[_0xac1dbf(0x1c8)],'setItemIsBought':_0x4dc0de['setItemIsBought'],'setItemIsSold':_0x4dc0de[_0xac1dbf(0x1ea)],'setPorcentajeIgv':_0x4dc0de[_0xac1dbf(0x199)],'setPrinters':[],'setTaxId':_0x4dc0de[_0xac1dbf(0x20d)],'setTipAfeIgv':_0x4dc0de['setItemTaxCode'],'setUnidad':_0x354dd8[_0xac1dbf(0x253)],'setUnidadCodigo':_0x354dd8[_0xac1dbf(0x253)],'setItemUnitAlias':_0x354dd8[_0xac1dbf(0x24f)],'currency_data':_0x4a9495,'sucursales':_0x4dc0de['setItemWarehouses'][_0xac1dbf(0x1ef)](_0x4dba10=>({'setIdSucursal':_0x4dba10['setWarehouseCode'],'setSucursalStock':_0x4dba10[_0xac1dbf(0x162)]['toString'](),'setWarehouseStockMin':_0x4dba10[_0xac1dbf(0x1f0)][_0xac1dbf(0x156)]()})),'setItemFree':_0x4dc0de[_0xac1dbf(0x129)],'setItemBrands':_0x4dc0de['setItemBrands'][_0xac1dbf(0x197)](),'setItemCategories':_0x4dc0de[_0xac1dbf(0x19c)]['slice'](),'setItemComponents':_0x4dc0de[_0xac1dbf(0x210)][_0xac1dbf(0x1ef)](_0x1786cd=>({..._0x1786cd})),'setItemImages':_0x4dc0de[_0xac1dbf(0x211)][_0xac1dbf(0x197)](),'setItemVariantName':_0x4dc0de[_0xac1dbf(0x140)],'setItemVariantValues':{..._0x4dc0de[_0xac1dbf(0x25a)]}},_0x46d99e=products[_0xac1dbf(0x125)](_0x597ec3=>_0x597ec3['id']==_0x3aa638&&_0x597ec3[_0xac1dbf(0x176)]==_0x5723fd);_0x46d99e>-0x1?Object['assign'](products[_0x46d99e],_0x2c72dd):_0x4863ac[_0xac1dbf(0x1c4)](_0x2c72dd);});}),console[_0x46789d(0x1e0)](_0x46789d(0x147),newItemsExcel),await finalizeImport(_0x4863ac,newItemsExcel,!![]);});function initializeFormImages(){var _0x52c09d=_0x4ccb7f;currentImages=Array(MAX_IMAGES)[_0x52c09d(0x238)](null),imgC[_0x52c09d(0x13d)]='',baseItem[_0x52c09d(0x211)]=[];for(var _0x9b9a55=0x0;_0x9b9a55<MAX_IMAGES;_0x9b9a55++){(function(_0x21bc81){var _0x54b608=_0x52c09d,_0x3ff31a=document['createElement']('div');_0x3ff31a[_0x54b608(0x225)]=_0x54b608(0x1af),_0x3ff31a['dataset'][_0x54b608(0x236)]=_0x21bc81;var _0x58d242=document['createElement']('input');_0x58d242[_0x54b608(0x13b)]='file',_0x58d242['accept']=_0x54b608(0x209),_0x58d242[_0x54b608(0x18f)][_0x54b608(0x1f9)]='none';var _0x388158=document[_0x54b608(0x185)](_0x54b608(0x1b1));_0x388158['textContent']='+',_0x3ff31a[_0x54b608(0x12b)](_0x58d242),_0x3ff31a[_0x54b608(0x12b)](_0x388158),imgC[_0x54b608(0x12b)](_0x3ff31a),_0x3ff31a['addEventListener'](_0x54b608(0x1ca),function(){var _0x5d4872=_0x54b608;_0x58d242[_0x5d4872(0x1ca)]();}),_0x58d242[_0x54b608(0x1ac)]('change',function(_0x585000){var _0x47b503=_0x54b608,_0x5182eb=_0x585000[_0x47b503(0x166)]['files'][0x0];if(!_0x5182eb)return removeImg(_0x21bc81);var _0x2b6bea=new FileReader();_0x2b6bea[_0x47b503(0x241)]=function(_0x1ae8ef){var _0x1185aa=_0x47b503;_0x3ff31a['innerHTML']=_0x1185aa(0x12c)+_0x1ae8ef['target'][_0x1185aa(0x19e)]+'\x22>';var _0x2088fb=document['createElement']('span');_0x2088fb[_0x1185aa(0x225)]=_0x1185aa(0x21f),_0x2088fb[_0x1185aa(0x19b)]='×',_0x2088fb[_0x1185aa(0x1ac)]('click',function(_0x947f44){var _0x38087c=_0x1185aa;_0x947f44[_0x38087c(0x133)](),removeImg(_0x21bc81);}),_0x3ff31a[_0x1185aa(0x12b)](_0x2088fb),currentImages[_0x21bc81]=_0x5182eb,baseItem['setItemImages']=currentImages['filter'](function(_0xef2b4b){return _0xef2b4b;});},_0x2b6bea[_0x47b503(0x1b0)](_0x5182eb);});}(_0x9b9a55));}}function initializeFormIsSoldIsBought(_0x4e11b7=0x0){var _0x3120aa=_0x4ccb7f;let _0xb849d9,_0x50c1f2;if(_0x4e11b7!=0x0){const _0x2ed29b=products[_0x3120aa(0x124)](_0x5e5c96=>_0x5e5c96['id']==_0x4e11b7);_0xb849d9=_0x2ed29b[_0x3120aa(0x11c)]==0x1||_0x2ed29b[_0x3120aa(0x11c)]==!![]?!![]:![],_0x50c1f2=_0x2ed29b['setItemIsSold']==0x1||_0x2ed29b[_0x3120aa(0x1ea)]==!![]?!![]:![];}else _0xb849d9=!![],_0x50c1f2=!![];document[_0x3120aa(0x187)](_0x3120aa(0x1ff))[_0x3120aa(0x110)]=_0xb849d9,document[_0x3120aa(0x187)]('newItem_chk_sell')[_0x3120aa(0x110)]=_0x50c1f2,baseItem['setItemIsBought']=_0xb849d9,baseItem['setItemIsSold']=_0x50c1f2;}function initializeFormInputsBasic(_0x4dd504=0x0){var _0x2f0f70=_0x4ccb7f;let _0x1d3b6a,_0x3537b8,_0x5ee571,_0x37c150,_0x21cf64,_0x19e3d1;if(_0x4dd504!=0x0){const _0x1b6485=products['find'](_0x533035=>_0x533035['id']==_0x4dd504);_0x1d3b6a=_0x1b6485['setItemType']??'1',_0x3537b8=_0x1b6485['setCodProducto'],_0x5ee571=_0x1b6485[_0x2f0f70(0x155)],_0x37c150=_0x1b6485['setItemDescription'],_0x21cf64=_0x1b6485[_0x2f0f70(0x1e6)]??'',_0x19e3d1=_0x1b6485[_0x2f0f70(0x11a)];}else _0x1d3b6a='1',_0x3537b8=getNextCode(products),_0x5ee571='',_0x37c150='',_0x21cf64='',_0x19e3d1='';document['getElementById']('inputItemType')['value']=_0x1d3b6a,document[_0x2f0f70(0x187)]('inputItemCode')[_0x2f0f70(0x1cf)]=_0x3537b8,document[_0x2f0f70(0x187)]('inputItemName')[_0x2f0f70(0x1cf)]=_0x5ee571,document[_0x2f0f70(0x187)]('inputItemDescription')[_0x2f0f70(0x1cf)]=_0x37c150,document[_0x2f0f70(0x187)]('inputItemDateExpiry')[_0x2f0f70(0x1cf)]=_0x21cf64,document[_0x2f0f70(0x187)](_0x2f0f70(0x15f))[_0x2f0f70(0x1cf)]=_0x19e3d1,baseItem['setItemType']=_0x1d3b6a,baseItem['setItemCode']=_0x3537b8,baseItem[_0x2f0f70(0x250)]=_0x5ee571,baseItem['setItemDescription']=_0x37c150,baseItem['setItemDateExpiry']=_0x21cf64,baseItem['setItemBarCode']=_0x19e3d1,document['getElementById'](_0x2f0f70(0x141))[_0x2f0f70(0x110)]=![];}function initializeFormTax(_0x2ee417=0x0){var _0x225495=_0x4ccb7f;let _0x36a369;if(_0x2ee417!=0x0){const _0x1b0cbe=products[_0x225495(0x124)](_0x658d=>_0x658d['id']==_0x2ee417);_0x36a369=_0x1b0cbe[_0x225495(0x18c)];}else _0x36a369=myCompany[_0x225495(0x145)];const _0x1b77f3=document[_0x225495(0x187)](_0x225495(0x1ab));_0x1b77f3['value']=_0x36a369,baseItem[_0x225495(0x20d)]=_0x36a369;const _0x53becd=company[0x0][_0x225495(0x223)][_0x225495(0x124)](_0x293e78=>_0x293e78['setTaxId']==_0x36a369)?.['setImpuestoCode']||0x0,_0x5722aa=company[0x0][_0x225495(0x223)]['find'](_0x1da6dc=>_0x1da6dc['setTaxId']==_0x36a369)?.[_0x225495(0x213)]||0x0;baseItem[_0x225495(0x11d)]=_0x53becd,baseItem[_0x225495(0x199)]=_0x5722aa;}function initializeFormCategoriesBrands(_0x4baf18=0x0){var _0x327d97=_0x4ccb7f;baseItem[_0x327d97(0x19c)]=[],baseItem[_0x327d97(0x144)]=[],document[_0x327d97(0x1a8)](_0x327d97(0x126))[_0x327d97(0x13d)]='',document[_0x327d97(0x1a8)](_0x327d97(0x1a6))['innerHTML']='',document[_0x327d97(0x1a8)](_0x327d97(0x10a))[_0x327d97(0x13d)]='',document['querySelector'](_0x327d97(0x19f))[_0x327d97(0x13d)]='';const _0x5d6bad=myCompany[_0x327d97(0x19c)][_0x327d97(0x1ef)](_0x3fa581=>({'setCode':_0x3fa581[_0x327d97(0x177)],'setName':_0x3fa581[_0x327d97(0x177)]})),_0x37a9b1=myCompany[_0x327d97(0x144)][_0x327d97(0x1ef)](_0x5ea2d7=>({'setCode':_0x5ea2d7[_0x327d97(0x1d0)],'setName':_0x5ea2d7['setItemBrandName']}));initMulti(_0x327d97(0x128),_0x5d6bad),initMulti(_0x327d97(0x127),_0x37a9b1),document['getElementById']('newItem_categories_select')[_0x327d97(0x1ac)]('selectionChange',function(_0x283f00){var _0x52313b=_0x327d97;baseItem[_0x52313b(0x19c)]=_0x283f00[_0x52313b(0x146)][_0x52313b(0x1ef)](_0x13a561=>_0x13a561[_0x52313b(0x212)]);}),document[_0x327d97(0x187)](_0x327d97(0x127))[_0x327d97(0x1ac)](_0x327d97(0x1bd),function(_0x8c892e){var _0x977e97=_0x327d97;baseItem['setItemBrands']=_0x8c892e[_0x977e97(0x146)][_0x977e97(0x1ef)](_0x462ff8=>_0x462ff8['setCode']);});if(_0x4baf18!=0x0){const _0x3110f2=products['find'](_0x368b58=>_0x368b58['id']==_0x4baf18);if(_0x3110f2[_0x327d97(0x117)]){const _0x35b064=document['getElementById'](_0x327d97(0x128)),_0x352bd3=Array[_0x327d97(0x1e4)](_0x35b064[_0x327d97(0x16f)](_0x327d97(0x203)))['find'](_0x2741e8=>_0x2741e8['dataset']['code']==_0x3110f2[_0x327d97(0x117)]);_0x352bd3&&_0x352bd3[_0x327d97(0x1ca)]();}if(_0x3110f2[_0x327d97(0x16e)]){const _0x4ca5b9=document['getElementById']('newItem_brands_select'),_0x2aedb=Array[_0x327d97(0x1e4)](_0x4ca5b9[_0x327d97(0x16f)](_0x327d97(0x203)))[_0x327d97(0x124)](_0x5b8d60=>_0x5b8d60[_0x327d97(0x123)][_0x327d97(0x138)]==_0x3110f2[_0x327d97(0x16e)]);_0x2aedb&&_0x2aedb[_0x327d97(0x1ca)]();}}}function initializeFormUnits(){var _0x564907=_0x4ccb7f;unitCount=0x0,document[_0x564907(0x187)](_0x564907(0x20b))[_0x564907(0x13d)]='',baseItem[_0x564907(0x252)]=[];var _0x2fd0a0=uniqueValuesArray(_0x564907(0x253),_0x564907(0x1d2),myCompany['setUnits']);addUnit('',_0x2fd0a0[0x3a]&&_0x2fd0a0[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x3d6c93=_0x4ccb7f;prodC['innerHTML']='',baseItem[_0x3d6c93(0x210)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x195f67=_0x4ccb7f;branchesC[_0x195f67(0x13d)]='',baseItem[_0x195f67(0x1ee)]=[];const _0x3aef91=getAllWarehouses();_0x3aef91[_0x195f67(0x1d9)](function(_0x12fd94){var _0x184446=_0x195f67,_0x9c88d4=document['createElement'](_0x184446(0x233));_0x9c88d4[_0x184446(0x13d)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x184446(0x13e)+_0x184446(0x14e)+_0x12fd94[_0x184446(0x219)]+_0x184446(0x184)+_0x12fd94[_0x184446(0x1eb)]+_0x184446(0x201)+'</div>'+_0x184446(0x13e)+_0x184446(0x207)+_0x12fd94[_0x184446(0x219)]+'\x22>'+_0x184446(0x198)+'<div\x20class=\x22newItem_col\x22>'+_0x184446(0x256)+_0x12fd94[_0x184446(0x219)]+'\x22>'+_0x184446(0x198)+_0x184446(0x198),branchesC[_0x184446(0x12b)](_0x9c88d4),_0x9c88d4['querySelectorAll'](_0x184446(0x226))[_0x184446(0x1d9)](function(_0x1b6f9a){_0x1b6f9a['addEventListener']('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x58942e=_0x4ccb7f;baseItem[_0x58942e(0x140)]='',baseItem[_0x58942e(0x25a)]={},vgC['innerHTML']='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x56238e,_0x2e9e22,_0x8f1bdb=![]){var _0x1c1230=_0x4ccb7f;const _0x3c1887=0xc8,_0x3b4bcd={'apiPOSsendOffline':'1','setTipoOperacion':_0x1c1230(0x20f),'setToken':company[0x0][_0x1c1230(0x1b5)],'setWebhook':company[0x0]['setWebhook']};for(let _0xbf86fe=0x0;_0xbf86fe<_0x2e9e22[_0x1c1230(0x15b)];_0xbf86fe+=_0x3c1887){const _0x591063=_0x2e9e22[_0x1c1230(0x197)](_0xbf86fe,_0xbf86fe+_0x3c1887);await storeOfflineProduct({..._0x3b4bcd,'newItems':_0x591063});}products[_0x1c1230(0x1c4)](..._0x56238e),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x1c1230(0x103)),_0x8f1bdb?(fileInput[_0x1c1230(0x1cf)]='',uploadBtn[_0x1c1230(0x244)]=!![],statusDiv[_0x1c1230(0x19b)]='',progressBar[_0x1c1230(0x18f)][_0x1c1230(0x1f9)]=_0x1c1230(0x22a),progressBar[_0x1c1230(0x1cf)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}