/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.2
*/

var _0x3c5ed4=_0x1f3b;function _0x4843(){var _0x244444=['setItemFree','.options_list\x20div','inputItemBarCode','preventDefault','\x20items\x20procesados.','image_box','setCategoria','setSucursalStock','Collator','defineProperty','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','setImpuestoCode','log','createElement','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','table','progress','setWebhook','parentNode','error','priceInput','newItem_btn_addProdItem','isArray','detalleModalCreateItem','setWarehouseStockMin','_branch_container','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setName','.addVariantUnit','blur','values','import','trace','Ingresa\x20el\x20c贸digo\x20del\x20item','createObjectURL','setAuthToken','split','PEN','drop','setItemInventoriable','download','test','setItemBrands','newItem_categories_select','setMoneda','hidden','<div\x20class=\x22newItem_col\x22>','.vgVals','accept','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','{}.constructor(\x22return\x20this\x22)(\x20)','span','currentTarget','.prodQty','true','result','(((.+)+)+)+$','\x20items.','Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar','tag','.removeVariant','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','149LsglSc','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setBatchName','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','search','splice','dataTransfer','setWarehouseId','currency_data','setIdProducto','setEquivalence','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','newItem_title_table','setItemTaxValue','newItem_branches_container','div','.branchInit','4414ybGKPW','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','offline_operations','readAsDataURL','setDescripcion','from','setTaxId','setMarca','setItemBarCode','indexOf','setItemName','Error\x20al\x20guardar\x20Producto\x20Offline:','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','slice','\x20Exportaci贸n\x20completada:\x20','remove','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','.removeGroup','status','setCostUSD','setItemCategories','\x22\x20class=\x22branchChk\x22>\x20','dataset','setItemDateExpiry','modalOverlayCreateItem','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','objectStore','files','closeModalCreateItem','sucursales','onload','className','859740HdsGUf','oncomplete','every','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','default','setUnitCode','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','#newItem_branches_container\x20>\x20div','.xlsx','setItemComponents','display','10696320tkySTv','querySelectorAll','type','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','findIndex','toLowerCase','block','92771UOigBt','toString','setBatchExpirationDate','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','setCodProducto','setUnitName','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setItemTaxId','setImpuestoValue','forEach','setIdSucursal','setStockMinimum','setWarehouseName','<img\x20src=\x22','Generando\x20Excel...','.vgName','file','selectedItem','keydown','./img/product.png','apply','dragover','981270RzCsIv','.branchMin','entries','inputItemCode','setPrice','newItem_chk_sell','parse','newItem_variants_forms','.variantCode','__proto__','max','find','setCost','</div>','setTaxIdDefault','No\x20hay\x20items\x20para\x20exportar.','setItemVariantValues','Producto\x20Libre','setImpuestos','setUnidadCodigo','newItem_hidden','exception','setItemDescription','children','addEventListener','vals','push','change','items','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','exportItems','setMtoPrecioUnitario','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','console','variant_','newItem_addToCart','setItemImages','.priceInput','return\x20(function()\x20','prototype','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','Enter','</label>','Producto\x20Guardado\x20Offline\x20Correctamente.','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','fill','setUnits','setCode','USD','map','readwrite','setItemCode','filter','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','selectionChange','upload-btn','unitSelect','setAlias','reduce','innerHTML','input','message','value','div[data-default=\x22true\x22]\x20.eqInput','2335056ykzfms','newItem_brands_select','revokeObjectURL','\x22\x20class=\x22branchChk\x22\x20checked>\x20','Items\x20finales:','\x22\x20value=\x22','#newItem_brands_select\x20.selected_tags','remove-tag','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','inputItemName','href','some','setFactor','file-input','variantForm','setItemUnits','setWarehouseCode','option','#newItem_categories_select\x20.selected_tags','constructor','code','setStockInitial','setItemTaxCode','newItem_proditems_container','setItemVariantName','.eqInput','newItem_chk_buy','inputItemTax','Plantilla-Items-Export-','warn','dragenter','inputItemType','.unitSelect','focus','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','now','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','active','setItemUnitId','length','setConversionFactor','setItemIsSold','exportDone','newItem_images_container','inputItemDescription','click','disabled','setCantidad','info','setPriceUSD','547860aiLMdL','textContent','.options_list','compare','add','setDefault','.branchChk','#newItem_categories_select\x20.options_list','setInventariable','setMtoPrecioCostoUnitario','target','.variantExpiry','\x20Error:\x20','contains','.prodInput','getElementById','newItem_title_table_cp','match','bind','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','.prod_input_container','stringify','_comp_container','arrayBuffer','drop-zone','100','setItemType','string','padStart','.unitAlias','classList','none','sort','toggle','style','idx','name','trim','setItemIsBought','checked','appendChild','setItemId','image/*','querySelector','newItem_btn_addVariantGroup','.drop-zone__prompt','setItemWarehouses','.ms_input'];_0x4843=function(){return _0x244444;};return _0x4843();}(function(_0x330148,_0x4f27e5){var _0x282e25=_0x1f3b,_0x2f7d6b=_0x330148();while(!![]){try{var _0x16afcc=-parseInt(_0x282e25(0x1e8))/0x1*(parseInt(_0x282e25(0x1fa))/0x2)+-parseInt(_0x282e25(0x242))/0x3+parseInt(_0x282e25(0x2b5))/0x4+-parseInt(_0x282e25(0x21a))/0x5+-parseInt(_0x282e25(0x282))/0x6+parseInt(_0x282e25(0x22c))/0x7+parseInt(_0x282e25(0x225))/0x8;if(_0x16afcc===_0x4f27e5)break;else _0x2f7d6b['push'](_0x2f7d6b['shift']());}catch(_0x2eec4f){_0x2f7d6b['push'](_0x2f7d6b['shift']());}}}(_0x4843,0x41f79));var _0x182647=(function(){var _0xa7c574=!![];return function(_0x294416,_0x3085ee){var _0x387165=_0xa7c574?function(){var _0x1265fd=_0x1f3b;if(_0x3085ee){var _0x3210c8=_0x3085ee[_0x1265fd(0x240)](_0x294416,arguments);return _0x3085ee=null,_0x3210c8;}}:function(){};return _0xa7c574=![],_0x387165;};}()),_0x5dad05=_0x182647(this,function(){var _0x110ef9=_0x1f3b;return _0x5dad05[_0x110ef9(0x22d)]()[_0x110ef9(0x1ed)](_0x110ef9(0x1e2))['toString']()[_0x110ef9(0x295)](_0x5dad05)['search'](_0x110ef9(0x1e2));});_0x5dad05();var _0x41b7a2=(function(){var _0x195282=!![];return function(_0x52cdf2,_0x118a77){var _0x347cc9=_0x195282?function(){var _0x88c3de=_0x1f3b;if(_0x118a77){var _0xfbf7f9=_0x118a77[_0x88c3de(0x240)](_0x52cdf2,arguments);return _0x118a77=null,_0xfbf7f9;}}:function(){};return _0x195282=![],_0x347cc9;};}()),_0x3c02c9=_0x41b7a2(this,function(){var _0xd5f5de=_0x1f3b,_0x23af19=function(){var _0x5bc993=_0x1f3b,_0x476360;try{_0x476360=Function(_0x5bc993(0x268)+_0x5bc993(0x1dc)+');')();}catch(_0x134883){_0x476360=window;}return _0x476360;},_0x51e6f9=_0x23af19(),_0x53dd3e=_0x51e6f9[_0xd5f5de(0x263)]=_0x51e6f9[_0xd5f5de(0x263)]||{},_0x1d2690=[_0xd5f5de(0x1b5),_0xd5f5de(0x29f),_0xd5f5de(0x2b3),_0xd5f5de(0x1bc),_0xd5f5de(0x257),_0xd5f5de(0x1b8),_0xd5f5de(0x1ca)];for(var _0xc6a051=0x0;_0xc6a051<_0x1d2690[_0xd5f5de(0x2aa)];_0xc6a051++){var _0x4a4f30=_0x41b7a2[_0xd5f5de(0x295)][_0xd5f5de(0x269)]['bind'](_0x41b7a2),_0x1950d3=_0x1d2690[_0xc6a051],_0x31f992=_0x53dd3e[_0x1950d3]||_0x4a4f30;_0x4a4f30[_0xd5f5de(0x24b)]=_0x41b7a2['bind'](_0x41b7a2),_0x4a4f30[_0xd5f5de(0x22d)]=_0x31f992[_0xd5f5de(0x22d)][_0xd5f5de(0x2c7)](_0x31f992),_0x53dd3e[_0x1950d3]=_0x4a4f30;}});_0x3c02c9();function _0x1f3b(_0x3cb602,_0x57c05d){var _0x141796=_0x4843();return _0x1f3b=function(_0x3c02c9,_0x41b7a2){_0x3c02c9=_0x3c02c9-0x1a7;var _0x54c614=_0x141796[_0x3c02c9];return _0x54c614;},_0x1f3b(_0x3cb602,_0x57c05d);}var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x2ae)),unitCount=0x0,branchesC=document['getElementById'](_0x3c5ed4(0x1f7)),prodC=document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x299)),vgCount=0x0,varContainer=document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x249)),vgC=document[_0x3c5ed4(0x2c4)]('newItem_variant_groups');const fileInput=document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x28f)),progressBar=document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x1b9)),statusDiv=document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x20c)),uploadBtn=document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x279));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document['getElementById'](_0x3c5ed4(0x2cd)),removeBtn=document[_0x3c5ed4(0x2c4)]('remove-file');function showModalCreateItem(_0x5f3459){var _0x5c0ad3=_0x3c5ed4;const _0x4644e0=document[_0x5c0ad3(0x2c4)](_0x5c0ad3(0x1c0)),_0x5330b7=document[_0x5c0ad3(0x2c4)](_0x5c0ad3(0x212));_0x4644e0[_0x5c0ad3(0x2d3)][_0x5c0ad3(0x2b9)](_0x5c0ad3(0x2a8)),_0x5330b7[_0x5c0ad3(0x2d7)][_0x5c0ad3(0x224)]='block';const _0x1dc109=document[_0x5c0ad3(0x2c4)]('setItemFree');_0x1dc109[_0x5c0ad3(0x280)]=parseInt(_0x5f3459),baseItem['setItemFree']=parseInt(_0x5f3459);const _0x2ba5a7=document['getElementById']('modalProductNewTitle');_0x5f3459==0x0&&(_0x2ba5a7['innerHTML']='Nuevo\x20Producto');_0x5f3459==0x1&&(_0x2ba5a7[_0x5c0ad3(0x27d)]=_0x5c0ad3(0x253));const _0x59e4aa=document['getElementsByClassName']('productType1');for(let _0xc949e7=0x0;_0xc949e7<_0x59e4aa['length'];_0xc949e7++){const _0x53b808=_0x59e4aa[_0xc949e7];if(_0x5f3459==0x0)_0x53b808['classList'][_0x5c0ad3(0x209)](_0x5c0ad3(0x1d7));else _0x5f3459==0x1&&_0x53b808[_0x5c0ad3(0x2d3)][_0x5c0ad3(0x2b9)](_0x5c0ad3(0x1d7));}}function hideModalCreateItem(){var _0x50bfd7=_0x3c5ed4;const _0x569658=document[_0x50bfd7(0x2c4)](_0x50bfd7(0x1c0)),_0x2e00dc=document[_0x50bfd7(0x2c4)]('modalOverlayCreateItem');_0x569658[_0x50bfd7(0x2d3)][_0x50bfd7(0x209)]('active'),_0x2e00dc[_0x50bfd7(0x2d7)][_0x50bfd7(0x224)]=_0x50bfd7(0x2d4);}document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x216))['addEventListener'](_0x3c5ed4(0x2b0),hideModalCreateItem),document[_0x3c5ed4(0x2c4)]('modalOverlayCreateItem')[_0x3c5ed4(0x25a)](_0x3c5ed4(0x2b0),_0x376da9=>{var _0x385d78=_0x3c5ed4;_0x376da9[_0x385d78(0x2bf)]==_0x376da9[_0x385d78(0x1de)]&&_0x376da9['stopPropagation']();});function loadTaxData(){var _0x26bf02=_0x3c5ed4;const _0x7f7565=document[_0x26bf02(0x2c4)](_0x26bf02(0x29d));_0x7f7565[_0x26bf02(0x27d)]='',company[0x0][_0x26bf02(0x254)][_0x26bf02(0x235)](function(_0x583be9){var _0x443139=_0x26bf02;const _0x17f97d=document[_0x443139(0x1b6)](_0x443139(0x293));_0x17f97d[_0x443139(0x280)]=_0x583be9[_0x443139(0x200)],_0x17f97d[_0x443139(0x27d)]=_0x583be9['setImpuestoName']+'\x20('+_0x583be9[_0x443139(0x234)]+'%)',_0x583be9['setTaxId']==company[0x0]['setTaxIdDefault']&&(_0x17f97d['selected']=!![]),_0x7f7565[_0x443139(0x2dd)](_0x17f97d);});}function uniqueValuesArray(_0x6d772b,_0x539bff,_0x51f37b){var _0x540676=_0x3c5ed4;const _0x20e15a=Array['from'](new Set(_0x51f37b['map'](_0x5d4902=>{var _0x324b09=_0x1f3b;const _0xf5c1c2=_0x5d4902[_0x6d772b];return typeof _0xf5c1c2===_0x324b09(0x2d0)?_0xf5c1c2['trim']():_0xf5c1c2;})[_0x540676(0x276)](_0x23dde6=>_0x23dde6!=null&&_0x23dde6!=='')));return _0x20e15a[_0x540676(0x273)](_0x232640=>{var _0x160ba1=_0x540676;const _0x18f363=_0x51f37b[_0x160ba1(0x24d)](_0x4524a3=>_0x4524a3[_0x6d772b]===_0x232640),_0x5ea3e0=_0x18f363&&_0x18f363[_0x539bff]!=null?String(_0x18f363[_0x539bff])['trim']():_0x232640;return{'setCode':_0x232640,'setName':_0x5ea3e0};});}function fillSelect(_0x44039d,_0x30d45c,_0x1f45b3,_0x378257){var _0x3ae8a9=_0x3c5ed4;_0x44039d[_0x3ae8a9(0x27d)]='',_0x30d45c['forEach'](function(_0x26cec7){var _0x1d176d=_0x3ae8a9,_0x114d74=new Option(_0x26cec7[_0x378257],_0x26cec7[_0x1f45b3]);_0x44039d[_0x1d176d(0x2b9)](_0x114d74);});}function initMulti(_0x2f1989,_0x521d38){var _0x1c94cf=_0x3c5ed4,_0x22dd92=document[_0x1c94cf(0x2c4)](_0x2f1989),_0x4b4fd4=_0x22dd92[_0x1c94cf(0x2e0)](_0x1c94cf(0x1a8)),_0x265d19=_0x22dd92[_0x1c94cf(0x2e0)](_0x1c94cf(0x2b7)),_0x27f7db=_0x22dd92[_0x1c94cf(0x2e0)]('.selected_tags'),_0x2c93d3=_0x521d38[_0x1c94cf(0x207)](),_0x1efa05=[];function _0x498b03(){var _0x3eec96=_0x1c94cf;_0x265d19[_0x3eec96(0x27d)]='',_0x2c93d3['filter'](function(_0x314f7b){var _0x566ca0=_0x3eec96;return _0x314f7b[_0x566ca0(0x1c5)][_0x566ca0(0x22a)]()[_0x566ca0(0x203)](_0x4b4fd4[_0x566ca0(0x280)][_0x566ca0(0x22a)]())!==-0x1;})[_0x3eec96(0x235)](function(_0x2cd02e){var _0x1de84a=_0x3eec96,_0x2bc8ec=document[_0x1de84a(0x1b6)](_0x1de84a(0x1f8));_0x2bc8ec['textContent']=_0x2cd02e[_0x1de84a(0x1c5)],_0x2bc8ec[_0x1de84a(0x210)][_0x1de84a(0x296)]=_0x2cd02e[_0x1de84a(0x271)],_0x265d19[_0x1de84a(0x2dd)](_0x2bc8ec),_0x2bc8ec['addEventListener'](_0x1de84a(0x2b0),function(){var _0x5c9470=_0x1de84a;_0x1efa05[_0x5c9470(0x25c)](_0x2cd02e),_0x2c93d3[_0x5c9470(0x1ee)](_0x2c93d3[_0x5c9470(0x229)](function(_0x29ff85){var _0x44b22b=_0x5c9470;return _0x29ff85[_0x44b22b(0x271)]===_0x2cd02e[_0x44b22b(0x271)];}),0x1),_0x4b4fd4[_0x5c9470(0x280)]='',_0x273ea6(),_0x498b03();});});}function _0x273ea6(){var _0x7363ff=_0x1c94cf;_0x27f7db['innerHTML']='',_0x1efa05[_0x7363ff(0x235)](function(_0x2acb26){var _0x723b5e=_0x7363ff,_0x40d022=document[_0x723b5e(0x1b6)](_0x723b5e(0x1f8));_0x40d022['className']=_0x723b5e(0x1e5),_0x40d022[_0x723b5e(0x2b6)]=_0x2acb26[_0x723b5e(0x1c5)];var _0x29858d=document[_0x723b5e(0x1b6)](_0x723b5e(0x1dd));_0x29858d['className']=_0x723b5e(0x289),_0x29858d[_0x723b5e(0x2b6)]='',_0x29858d[_0x723b5e(0x25a)](_0x723b5e(0x2b0),function(){var _0x24c907=_0x723b5e;_0x2c93d3[_0x24c907(0x25c)](_0x2acb26);const _0x40cd7b=_0x1efa05['findIndex'](function(_0x5bad2c){var _0x298f20=_0x24c907;return _0x5bad2c[_0x298f20(0x271)]===_0x2acb26[_0x298f20(0x271)];});if(_0x40cd7b>-0x1)_0x1efa05[_0x24c907(0x1ee)](_0x40cd7b,0x1);_0x273ea6(),_0x498b03();}),_0x40d022[_0x723b5e(0x2dd)](_0x29858d),_0x27f7db[_0x723b5e(0x2dd)](_0x40d022);}),_0x22dd92['dispatchEvent'](new CustomEvent(_0x7363ff(0x278),{'bubbles':!![]}));}return _0x4b4fd4[_0x1c94cf(0x25a)](_0x1c94cf(0x2a3),function(){var _0x2ad773=_0x1c94cf;_0x265d19[_0x2ad773(0x2d3)]['remove'](_0x2ad773(0x256));}),_0x4b4fd4['addEventListener'](_0x1c94cf(0x27e),_0x498b03),_0x4b4fd4['addEventListener'](_0x1c94cf(0x23e),function(_0x3c3aa2){var _0x220a0c=_0x1c94cf;if(_0x3c3aa2['key']===_0x220a0c(0x26b)){_0x3c3aa2['preventDefault']();const _0x3fb75a=_0x4b4fd4['value'][_0x220a0c(0x2da)]();if(!_0x3fb75a)return;const _0x457ee0=_0x1efa05[_0x220a0c(0x28d)](_0x547225=>_0x547225[_0x220a0c(0x1c5)]===_0x3fb75a),_0x219482=_0x2c93d3['some'](_0x4f0435=>_0x4f0435[_0x220a0c(0x1c5)]===_0x3fb75a);if(!_0x457ee0&&!_0x219482){const _0x23d4a3={'setCode':_0x3fb75a,'setName':_0x3fb75a};_0x1efa05[_0x220a0c(0x25c)](_0x23d4a3),_0x273ea6(),_0x498b03();}_0x4b4fd4[_0x220a0c(0x280)]='';}}),document['addEventListener']('click',function(_0x12fd46){var _0x158495=_0x1c94cf;if(!_0x22dd92[_0x158495(0x2c2)](_0x12fd46[_0x158495(0x2bf)]))_0x265d19[_0x158495(0x2d3)][_0x158495(0x2b9)]('newItem_hidden');}),_0x498b03(),_0x1efa05;}function getLastCode(_0x17fe15){var _0x5c2d0f=_0x3c5ed4;const _0x1ebe6d=_0x17fe15[_0x5c2d0f(0x273)](_0x2117ca=>String(_0x2117ca[_0x5c2d0f(0x230)])[_0x5c2d0f(0x2da)]())[_0x5c2d0f(0x276)](_0x16acb2=>_0x16acb2!=='');if(_0x1ebe6d[_0x5c2d0f(0x2aa)]===0x0)return'';const _0x4cb758=_0x1ebe6d[_0x5c2d0f(0x21c)](_0x120e0d=>/^\d+$/[_0x5c2d0f(0x1d3)](_0x120e0d));if(_0x4cb758){const _0x3500bd=_0x1ebe6d[_0x5c2d0f(0x273)](Number),_0x4407c0=Math[_0x5c2d0f(0x24c)](..._0x3500bd);return String(_0x4407c0);}let _0x373856;if(typeof Intl!=='undefined'&&Intl[_0x5c2d0f(0x1b1)]){const _0xe5c0c9=new Intl[(_0x5c2d0f(0x1b1))](undefined,{'numeric':!![],'sensitivity':'base'});_0x373856=_0x1ebe6d[_0x5c2d0f(0x207)]()[_0x5c2d0f(0x2d5)](_0xe5c0c9[_0x5c2d0f(0x2b8)]);}else{const _0x4f01e6=_0x1ebe6d[_0x5c2d0f(0x21c)](_0x5b5fe5=>/^\d+$/[_0x5c2d0f(0x1d3)](_0x5b5fe5));_0x4f01e6?_0x373856=_0x1ebe6d[_0x5c2d0f(0x273)](Number)['sort']((_0x41cee4,_0x326ff4)=>_0x41cee4-_0x326ff4)['map'](String):_0x373856=_0x1ebe6d[_0x5c2d0f(0x207)]()[_0x5c2d0f(0x2d5)]();}return _0x373856[_0x373856[_0x5c2d0f(0x2aa)]-0x1];}function getNextCode(_0x3a565b){var _0x361020=_0x3c5ed4;const _0x1e9047=getLastCode(_0x3a565b);if(!_0x1e9047)return'';if(/^\d+$/[_0x361020(0x1d3)](_0x1e9047))return String(Number(_0x1e9047)+0x1);const _0x3f5800=_0x1e9047[_0x361020(0x2c6)](/^([A-Za-z]*)(\d+)$/);if(_0x3f5800){const [,_0x53c96b,_0x379126]=_0x3f5800,_0x352134=String(Number(_0x379126)+0x1)[_0x361020(0x2d1)](_0x379126['length'],'0');return _0x53c96b+_0x352134;}return _0x1e9047;}document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x28b))[_0x3c5ed4(0x25a)](_0x3c5ed4(0x27e),function(_0x607652){var _0x4eeb46=_0x3c5ed4;baseItem['setItemName']=_0x607652[_0x4eeb46(0x2bf)]['value'];}),document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x2af))['addEventListener'](_0x3c5ed4(0x27e),function(_0x48b4c7){var _0xd27a10=_0x3c5ed4;baseItem[_0xd27a10(0x258)]=_0x48b4c7[_0xd27a10(0x2bf)]['value'];}),document['getElementById']('inputItemDateExpiry')[_0x3c5ed4(0x25a)]('input',function(_0x333d92){var _0x148d4d=_0x3c5ed4;baseItem[_0x148d4d(0x211)]=_0x333d92[_0x148d4d(0x2bf)][_0x148d4d(0x280)];}),document['getElementById'](_0x3c5ed4(0x2a1))['addEventListener'](_0x3c5ed4(0x25d),function(_0x2ffadc){var _0x209162=_0x3c5ed4;baseItem[_0x209162(0x2cf)]=_0x2ffadc[_0x209162(0x2bf)][_0x209162(0x280)];}),document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x29d))[_0x3c5ed4(0x25a)](_0x3c5ed4(0x25d),function(_0xcb262f){var _0x94fedd=_0x3c5ed4;baseItem[_0x94fedd(0x233)]=_0xcb262f['target'][_0x94fedd(0x280)];const _0x42c227=_0xcb262f[_0x94fedd(0x2bf)][_0x94fedd(0x280)],_0x52c1a6=company[0x0]['setImpuestos'][_0x94fedd(0x24d)](_0x433024=>_0x433024[_0x94fedd(0x200)]==_0x42c227)?.[_0x94fedd(0x1b4)]||0x0,_0x53e456=company[0x0][_0x94fedd(0x254)][_0x94fedd(0x24d)](_0xdef25f=>_0xdef25f[_0x94fedd(0x200)]==_0x42c227)?.[_0x94fedd(0x234)]||0x0;baseItem[_0x94fedd(0x298)]=_0x52c1a6,baseItem[_0x94fedd(0x1f6)]=_0x53e456;}),document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x29c))['addEventListener'](_0x3c5ed4(0x25d),function(_0x4dd50b){var _0x368de6=_0x3c5ed4;baseItem[_0x368de6(0x2db)]=_0x4dd50b[_0x368de6(0x2bf)][_0x368de6(0x2dc)];}),document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x247))[_0x3c5ed4(0x25a)](_0x3c5ed4(0x25d),function(_0x216daa){var _0x54ad6b=_0x3c5ed4;baseItem[_0x54ad6b(0x2ac)]=_0x216daa['target'][_0x54ad6b(0x2dc)];}),document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x245))[_0x3c5ed4(0x25a)]('input',function(_0x52ae2f){var _0x3ac4fa=_0x3c5ed4;baseItem[_0x3ac4fa(0x275)]=_0x52ae2f[_0x3ac4fa(0x2bf)][_0x3ac4fa(0x280)];}),document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x1ab))[_0x3c5ed4(0x25a)](_0x3c5ed4(0x27e),function(_0x590287){var _0x172338=_0x3c5ed4;baseItem[_0x172338(0x202)]=_0x590287[_0x172338(0x2bf)][_0x172338(0x280)];}),document[_0x3c5ed4(0x2c4)]('newItem_btn_addUnit')[_0x3c5ed4(0x25a)](_0x3c5ed4(0x2b0),function(){addUnit(),updateUnitsArray();}),document[_0x3c5ed4(0x2c4)]('inputItemCode')[_0x3c5ed4(0x25a)](_0x3c5ed4(0x1c7),function(){var _0x293521=_0x3c5ed4;const _0x3d95a8=this[_0x293521(0x280)][_0x293521(0x2da)]();if(_0x3d95a8==='')return;const _0x2a331a=products[_0x293521(0x28d)](_0x2425f3=>_0x2425f3['setCodProducto']==_0x3d95a8),_0x3fde9a=getLastCode(products);_0x2a331a?ntfShow(_0x293521(0x220)+_0x3fde9a,0x2,0x1):ntfShow('隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!',0x1,0x1);});function removeImg(_0x498fea){var _0x5064e2=_0x3c5ed4;currentImages[_0x498fea]=null;var _0x47d7fb=imgC[_0x5064e2(0x2e0)]('[data-idx=\x22'+_0x498fea+'\x22]');_0x47d7fb[_0x5064e2(0x27d)]='';var _0x4b7539=document[_0x5064e2(0x1b6)](_0x5064e2(0x27e));_0x4b7539[_0x5064e2(0x227)]=_0x5064e2(0x23c),_0x4b7539[_0x5064e2(0x1da)]=_0x5064e2(0x2df),_0x4b7539[_0x5064e2(0x2d7)][_0x5064e2(0x224)]=_0x5064e2(0x2d4);var _0x318f23=document[_0x5064e2(0x1b6)](_0x5064e2(0x1dd));_0x318f23[_0x5064e2(0x2b6)]='+',_0x47d7fb[_0x5064e2(0x2dd)](_0x4b7539),_0x47d7fb[_0x5064e2(0x2dd)](_0x318f23),_0x47d7fb[_0x5064e2(0x25a)](_0x5064e2(0x2b0),function(){_0x4b7539['click']();}),baseItem[_0x5064e2(0x266)]=currentImages[_0x5064e2(0x276)](function(_0x38519e){return _0x38519e;});}function addUnit(_0x29fca0,_0x341229,_0x5be281,_0x4fb6b6,_0x13a955,_0x18cd7d,_0x52d92e){var _0x2ce183=_0x3c5ed4,_0x433e0c=uniqueValuesArray(_0x2ce183(0x21f),_0x2ce183(0x231),myCompany[_0x2ce183(0x270)]);_0x29fca0=_0x29fca0||'',_0x341229=_0x341229||_0x433e0c[0x3a]&&_0x433e0c[0x3a]['setCode']||'',_0x5be281=_0x5be281!==undefined?_0x5be281:0x1,_0x4fb6b6=!!_0x4fb6b6,_0x13a955=_0x13a955||'',_0x18cd7d=_0x18cd7d||'';var _0x48a252=unitCount++,_0x2a4650=document[_0x2ce183(0x1b6)](_0x2ce183(0x1f8));_0x2a4650[_0x2ce183(0x210)][_0x2ce183(0x2d8)]=_0x48a252,_0x2a4650[_0x2ce183(0x210)][_0x2ce183(0x21e)]=_0x4fb6b6,_0x2a4650['innerHTML']=_0x2ce183(0x1c3)+_0x48a252+_0x2ce183(0x287)+_0x29fca0+_0x2ce183(0x1f4)+_0x48a252+_0x2ce183(0x1fb)+_0x48a252+'\x22\x20value=\x22'+_0x5be281+'\x22\x20'+(_0x4fb6b6?_0x2ce183(0x2b1):'')+_0x2ce183(0x22f)+_0x48a252+_0x2ce183(0x287)+_0x13a955+_0x2ce183(0x2a7)+_0x48a252+'\x22\x20value=\x22'+_0x18cd7d+_0x2ce183(0x1db)+(_0x4fb6b6?'style=\x22display:none\x22':'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x2a4650[_0x2ce183(0x2e0)](_0x2ce183(0x2a2)),_0x433e0c,'setCode',_0x2ce183(0x1c5)),_0x2a4650[_0x2ce183(0x2e0)]('.unitSelect')[_0x2ce183(0x280)]=_0x341229,['unitAlias',_0x2ce183(0x27a),'eqInput',_0x2ce183(0x1bd),'costInput'][_0x2ce183(0x235)](function(_0xa66bb6){var _0x113a99=_0x2ce183;_0x2a4650[_0x113a99(0x2e0)]('.'+_0xa66bb6)[_0x113a99(0x25a)](_0x113a99(0x27e),function(){var _0x9f7d3b=_0x113a99,_0x512b61=_0x52d92e?+_0x52d92e['id'][_0x9f7d3b(0x1ce)]('_')[0x1]:null;if(_0x52d92e)updateVariantUnits(_0x512b61);else updateUnitsArray();});}),_0x2a4650['querySelector']('.removeUnit')[_0x2ce183(0x25a)]('click',function(){var _0xa20217=_0x2ce183;_0x2a4650[_0xa20217(0x209)]();var _0x20549e=_0x52d92e?+_0x52d92e['id'][_0xa20217(0x1ce)]('_')[0x1]:null;if(_0x52d92e)updateVariantUnits(_0x20549e);else updateUnitsArray();});var _0xc77f12=_0x52d92e||document[_0x2ce183(0x2c4)]('newItem_units_container');_0xc77f12['appendChild'](_0x2a4650);}function containerIdx(_0x6cec5){return+_0x6cec5['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x369530=_0x3c5ed4,_0xdcba9=[],_0x5a1150=Array[_0x369530(0x1ff)](document['querySelectorAll']('#newItem_units_container\x20>\x20div')),_0xc41be3=_0x5a1150[_0x369530(0x24d)](_0x5792b6=>_0x5792b6[_0x369530(0x210)][_0x369530(0x21e)]==='true'),_0x351d53=_0xc41be3?+_0xc41be3[_0x369530(0x2e0)](_0x369530(0x29b))[_0x369530(0x280)]:0x1;_0x5a1150[_0x369530(0x235)](function(_0x17b36f){var _0xfde85b=_0x369530,_0x137325=+_0x17b36f[_0xfde85b(0x2e0)](_0xfde85b(0x29b))[_0xfde85b(0x280)]||0x0,_0x48078f=+_0x17b36f[_0xfde85b(0x2e0)](_0xfde85b(0x267))[_0xfde85b(0x280)]||0x0,_0x54a547=+_0x17b36f[_0xfde85b(0x2e0)]('.costInput')[_0xfde85b(0x280)]||0x0;_0xdcba9[_0xfde85b(0x25c)]({'setAlias':_0x17b36f[_0xfde85b(0x2e0)](_0xfde85b(0x2d2))[_0xfde85b(0x280)][_0xfde85b(0x2da)](),'setUnitCode':_0x17b36f[_0xfde85b(0x2e0)]('.unitSelect')[_0xfde85b(0x280)],'setEquivalence':_0x137325,'setFactor':_0x17b36f['dataset']['default']===_0xfde85b(0x1e0)?0x1:_0x137325==_0x351d53?0x1:_0x137325<_0x351d53?_0x351d53/_0x137325:_0x137325/_0x351d53,'setPrice':_0x48078f,'setCost':_0x54a547,'setDefault':_0x17b36f[_0xfde85b(0x210)][_0xfde85b(0x21e)]===_0xfde85b(0x1e0)?0x1:0x0});}),baseItem['setItemUnits']=_0xdcba9;}function updateBranches(){var _0x3b4e2f=_0x3c5ed4,_0xa58519=[];document[_0x3b4e2f(0x226)](_0x3b4e2f(0x221))[_0x3b4e2f(0x235)](function(_0x505f69){var _0x4002ff=_0x3b4e2f,_0x416390=_0x505f69['querySelector'](_0x4002ff(0x2bb));if(_0x416390['checked']){var _0x24cbfd=+_0x416390['dataset']['id'],_0xfd4cc5=+_0x505f69[_0x4002ff(0x2e0)](_0x4002ff(0x1f9))['value'],_0x2a3a04=+_0x505f69[_0x4002ff(0x2e0)](_0x4002ff(0x243))['value'];_0xa58519[_0x4002ff(0x25c)]({'setWarehouseCode':_0x24cbfd,'setStockInitial':_0xfd4cc5,'setStockMinimum':_0x2a3a04});}}),baseItem[_0x3b4e2f(0x1a7)]=_0xa58519;}document['getElementById'](_0x3c5ed4(0x1be))[_0x3c5ed4(0x25a)](_0x3c5ed4(0x2b0),function(){var _0x180cc4=_0x3c5ed4,_0x205b5d=Date[_0x180cc4(0x2a6)](),_0x575da6=document[_0x180cc4(0x1b6)]('div');_0x575da6[_0x180cc4(0x210)][_0x180cc4(0x2d8)]=_0x205b5d,_0x575da6[_0x180cc4(0x27d)]=_0x180cc4(0x26a)+_0x205b5d+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x205b5d+_0x180cc4(0x26e),prodC[_0x180cc4(0x2dd)](_0x575da6),initProdSearch(_0x575da6[_0x180cc4(0x2e0)](_0x180cc4(0x2c9))),_0x575da6[_0x180cc4(0x2e0)]('.removeProd')[_0x180cc4(0x25a)](_0x180cc4(0x2b0),function(){var _0x8375b0=_0x180cc4;_0x575da6[_0x8375b0(0x209)](),updateProdItems();}),_0x575da6[_0x180cc4(0x2e0)](_0x180cc4(0x1df))[_0x180cc4(0x25a)](_0x180cc4(0x27e),updateProdItems),document['getElementById'](_0x180cc4(0x2c5))[_0x180cc4(0x2d3)][_0x180cc4(0x2d6)](_0x180cc4(0x1f5),!![]),document[_0x180cc4(0x2c4)](_0x180cc4(0x2c5))['classList'][_0x180cc4(0x2d6)](_0x180cc4(0x256),![]);});function initProdSearch(_0x2608f4,_0x121f5){var _0x3b2b5f=_0x3c5ed4,_0x551710=_0x2608f4['querySelector'](_0x3b2b5f(0x2c3)),_0x43435a=_0x2608f4[_0x3b2b5f(0x2e0)](_0x3b2b5f(0x2b7)),_0x225f06=_0x121f5||null;if(_0x121f5)_0x551710['value']=_0x121f5[_0x3b2b5f(0x2d9)];_0x551710[_0x3b2b5f(0x25a)]('input',function(){var _0xc6f325=_0x3b2b5f,_0x23a91b=_0x551710[_0xc6f325(0x280)]['toLowerCase']()['trim']();_0x43435a['innerHTML']='';if(!_0x23a91b)return;products[_0xc6f325(0x276)](_0x59dbfe=>_0x59dbfe[_0xc6f325(0x1fe)]['toLowerCase']()['includes'](_0x23a91b))['slice'](0x0,0x14)[_0xc6f325(0x235)](function(_0x55f411){var _0x5c249e=_0xc6f325,_0x243c22=document[_0x5c249e(0x1b6)](_0x5c249e(0x1f8));_0x243c22[_0x5c249e(0x2b6)]=_0x55f411['setDescripcion'],_0x243c22[_0x5c249e(0x210)]['id']=_0x55f411['id'],_0x243c22[_0x5c249e(0x210)][_0x5c249e(0x2d9)]=_0x55f411[_0x5c249e(0x1fe)],_0x43435a[_0x5c249e(0x2dd)](_0x243c22),_0x243c22['addEventListener'](_0x5c249e(0x2b0),function(){var _0x3f1abb=_0x5c249e;_0x225f06={'id':_0x55f411['id'],'name':_0x55f411[_0x3f1abb(0x1fe)]},_0x551710[_0x3f1abb(0x280)]=_0x55f411[_0x3f1abb(0x1fe)],_0x43435a[_0x3f1abb(0x27d)]='';var _0x463dbc=_0x2608f4['closest']('[id$=\x22_comp_container\x22]');if(_0x463dbc){var _0x422b35=+_0x463dbc['id'][_0x3f1abb(0x1ce)]('_')[0x1];updateVariantComponents(_0x422b35);}else updateProdItems();});});}),_0x551710[_0x3b2b5f(0x25a)](_0x3b2b5f(0x2a3),function(){var _0x13fcb3=_0x3b2b5f;_0x43435a['classList'][_0x13fcb3(0x209)](_0x13fcb3(0x256));}),document[_0x3b2b5f(0x25a)](_0x3b2b5f(0x2b0),function(_0x43b956){var _0x9a0d03=_0x3b2b5f;if(!_0x2608f4[_0x9a0d03(0x2c2)](_0x43b956[_0x9a0d03(0x2bf)]))_0x43435a[_0x9a0d03(0x2d3)][_0x9a0d03(0x2b9)](_0x9a0d03(0x256));}),Object[_0x3b2b5f(0x1b2)](_0x2608f4,_0x3b2b5f(0x23d),{'get':()=>_0x225f06});}function updateProdItems(){var _0x48480f=_0x3c5ed4,_0x156247=[];Array[_0x48480f(0x1ff)](prodC[_0x48480f(0x259)])[_0x48480f(0x235)](function(_0x15fbb6){var _0x1ae7d1=_0x48480f,_0x3677bf=_0x15fbb6[_0x1ae7d1(0x2e0)](_0x1ae7d1(0x2c9));if(!_0x3677bf)return;var _0xeed61f=_0x15fbb6[_0x1ae7d1(0x2e0)](_0x1ae7d1(0x1df)),_0x5984d9=_0x3677bf['selectedItem'];_0x5984d9&&_0x156247[_0x1ae7d1(0x25c)]({'setItemId':_0x5984d9['id'],'setDescripcion':_0x5984d9['name'],'setCantidad':+_0xeed61f['value']});}),baseItem[_0x48480f(0x223)]=_0x156247,_0x156247[_0x48480f(0x2aa)]===0x0&&(document['getElementById']('newItem_title_table_cp')['classList'][_0x48480f(0x2d6)]('newItem_title_table',![]),document['getElementById'](_0x48480f(0x2c5))['classList']['toggle']('newItem_hidden',!![]));}document[_0x3c5ed4(0x2c4)](_0x3c5ed4(0x2e1))[_0x3c5ed4(0x25a)](_0x3c5ed4(0x2b0),function(){var _0x4c57e5=_0x3c5ed4,_0x3168bc=vgCount++,_0x1db9c7=document['createElement'](_0x4c57e5(0x1f8));_0x1db9c7['dataset'][_0x4c57e5(0x2d8)]=_0x3168bc,_0x1db9c7[_0x4c57e5(0x27d)]=_0x4c57e5(0x21d)+_0x3168bc+'\x22>'+_0x4c57e5(0x1b7)+_0x3168bc+'\x22>'+_0x4c57e5(0x2a4),vgC[_0x4c57e5(0x2dd)](_0x1db9c7),_0x1db9c7[_0x4c57e5(0x2e0)](_0x4c57e5(0x23b))[_0x4c57e5(0x25a)](_0x4c57e5(0x1c7),generateVariants),_0x1db9c7[_0x4c57e5(0x2e0)](_0x4c57e5(0x1d9))['addEventListener'](_0x4c57e5(0x1c7),generateVariants),_0x1db9c7[_0x4c57e5(0x2e0)](_0x4c57e5(0x20b))['addEventListener'](_0x4c57e5(0x2b0),function(){_0x1db9c7['remove'](),generateVariants();});});function generateVariants(){var _0x1aada9=_0x3c5ed4,_0x35a2ff=[];vgC[_0x1aada9(0x226)](_0x1aada9(0x1f8))[_0x1aada9(0x235)](function(_0x40fc13){var _0x4adbef=_0x1aada9,_0x3272d0=_0x40fc13[_0x4adbef(0x2e0)](_0x4adbef(0x23b))[_0x4adbef(0x280)][_0x4adbef(0x2da)](),_0x1b01d0=_0x40fc13[_0x4adbef(0x2e0)]('.vgVals')[_0x4adbef(0x280)][_0x4adbef(0x1ce)](',')[_0x4adbef(0x273)](_0x192302=>_0x192302[_0x4adbef(0x2da)]())['filter'](_0x12bf57=>_0x12bf57);if(_0x3272d0&&_0x1b01d0[_0x4adbef(0x2aa)])_0x35a2ff[_0x4adbef(0x25c)]({'name':_0x3272d0,'vals':_0x1b01d0});});var _0x321bb4=[{}];_0x35a2ff['forEach'](function(_0xed7b3b){_0x321bb4=_0x321bb4['flatMap'](function(_0x4e5148){var _0xefd373=_0x1f3b;return _0xed7b3b[_0xefd373(0x25b)]['map'](function(_0x43dab8){var _0x41205b=_0xefd373,_0x55becb=Object['assign']({},_0x4e5148);return _0x55becb[_0xed7b3b[_0x41205b(0x2d9)]]=_0x43dab8,_0x55becb;});});}),newItems=[],varContainer[_0x1aada9(0x27d)]='',_0x321bb4['forEach'](function(_0x4b6343,_0x38457b){var _0x42519a=_0x1aada9,_0x418479=JSON[_0x42519a(0x248)](JSON['stringify'](baseItem));_0x418479['setItemVariantValues']=_0x4b6343,_0x418479['setItemVariantName']=baseItem[_0x42519a(0x204)]+'\x20'+Object[_0x42519a(0x244)](_0x4b6343)[_0x42519a(0x273)](_0x3611fd=>_0x3611fd[0x0]+'\x20'+_0x3611fd[0x1])['join']('\x20'),newItems['push'](_0x418479);var _0x1eedd1=document[_0x42519a(0x1b6)](_0x42519a(0x1f8));_0x1eedd1['classList'][_0x42519a(0x2b9)](_0x42519a(0x290)),_0x1eedd1[_0x42519a(0x210)][_0x42519a(0x2d8)]=_0x38457b,_0x1eedd1[_0x42519a(0x27d)]=_0x42519a(0x1b3)+_0x418479[_0x42519a(0x29a)]+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x418479['setItemCode']+_0x42519a(0x1ec)+_0x418479[_0x42519a(0x202)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x418479[_0x42519a(0x211)]+_0x42519a(0x1c4)+_0x38457b+_0x42519a(0x232)+_0x38457b+_0x42519a(0x28a)+_0x38457b+_0x42519a(0x228),varContainer[_0x42519a(0x2dd)](_0x1eedd1),_0x1eedd1['querySelector'](_0x42519a(0x24a))[_0x42519a(0x25a)](_0x42519a(0x27e),_0x22cfc0=>newItems[_0x38457b]['setItemCode']=_0x22cfc0[_0x42519a(0x2bf)][_0x42519a(0x280)]),_0x1eedd1[_0x42519a(0x2e0)]('.variantBarCode')['addEventListener'](_0x42519a(0x27e),_0x21654c=>newItems[_0x38457b][_0x42519a(0x202)]=_0x21654c['target']['value']),_0x1eedd1[_0x42519a(0x2e0)](_0x42519a(0x2c0))[_0x42519a(0x25a)]('change',_0x44c9d2=>newItems[_0x38457b]['setItemDateExpiry']=_0x44c9d2[_0x42519a(0x2bf)][_0x42519a(0x280)]),initVariantUnits(_0x38457b),initVariantComponents(_0x38457b),initVariantBranches(_0x38457b),_0x1eedd1[_0x42519a(0x2e0)](_0x42519a(0x1e6))[_0x42519a(0x25a)](_0x42519a(0x2b0),function(){var _0x430bf1=_0x42519a,_0x5ca7cb=+_0x1eedd1[_0x430bf1(0x210)]['idx'];newItems['splice'](_0x5ca7cb,0x1),_0x1eedd1[_0x430bf1(0x209)](),document[_0x430bf1(0x226)]('.variantForm')['forEach'](function(_0x5cef4e,_0x277da6){var _0x1c488c=_0x430bf1;_0x5cef4e[_0x1c488c(0x210)][_0x1c488c(0x2d8)]=_0x277da6;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0xbdf635){var _0x55990b=_0x3c5ed4,_0x1062c6=document[_0x55990b(0x2c4)](_0x55990b(0x264)+_0xbdf635+'_units_container'),_0x557297=[];Array[_0x55990b(0x1ff)](_0x1062c6['children'])[_0x55990b(0x235)](function(_0x21e28d){var _0x377584=_0x55990b,_0x3de8c5=+_0x21e28d['querySelector']('.eqInput')[_0x377584(0x280)]||0x0,_0x20ad4e=_0x21e28d[_0x377584(0x2e0)](_0x377584(0x2d2))[_0x377584(0x280)][_0x377584(0x2da)](),_0x9cc7b9=_0x21e28d['querySelector']('.unitSelect')[_0x377584(0x280)],_0xc0178d=+_0x21e28d[_0x377584(0x2e0)](_0x377584(0x267))[_0x377584(0x280)]||0x0,_0x43241d=+_0x21e28d['querySelector']('.costInput')[_0x377584(0x280)]||0x0,_0x37d0f3=_0x21e28d['dataset'][_0x377584(0x21e)]==='true',_0x18ddbb=+_0x1062c6[_0x377584(0x2e0)](_0x377584(0x281))[_0x377584(0x280)]||0x1,_0x22fbe3=_0x37d0f3?0x1:_0x3de8c5==_0x18ddbb?0x1:_0x3de8c5<_0x18ddbb?_0x18ddbb/_0x3de8c5:_0x3de8c5/_0x18ddbb;_0x557297['push']({'setAlias':_0x20ad4e,'setUnitCode':_0x9cc7b9,'setEquivalence':_0x3de8c5,'setFactor':_0x22fbe3,'setPrice':_0xc0178d,'setCost':_0x43241d,'setDefault':_0x37d0f3?0x1:0x0});}),newItems[_0xbdf635][_0x55990b(0x291)]=_0x557297;}function initVariantUnits(_0x2300bc){var _0x7ab628=_0x3c5ed4,_0x1989ae=document['getElementById'](_0x7ab628(0x264)+_0x2300bc+'_units_container');_0x1989ae[_0x7ab628(0x27d)]='',newItems[_0x2300bc][_0x7ab628(0x291)][_0x7ab628(0x235)](function(_0x1e2d0e){var _0xf1cb4=_0x7ab628;addUnit(_0x1e2d0e[_0xf1cb4(0x27b)],_0x1e2d0e[_0xf1cb4(0x21f)],_0x1e2d0e[_0xf1cb4(0x1f3)],_0x1e2d0e[_0xf1cb4(0x2ba)],_0x1e2d0e[_0xf1cb4(0x246)],_0x1e2d0e[_0xf1cb4(0x24e)],_0x1989ae);}),_0x1989ae[_0x7ab628(0x1bb)][_0x7ab628(0x2e0)](_0x7ab628(0x1c6))[_0x7ab628(0x25a)](_0x7ab628(0x2b0),function(){addUnit('','',0x1,![],'','',_0x1989ae),updateVariantUnits(_0x2300bc);});}function updateVariantUnits(_0x34ad74){var _0x245116=_0x3c5ed4,_0x5c8ffc=document['getElementById'](_0x245116(0x264)+_0x34ad74+'_units_container'),_0x1778e4=_0x5c8ffc[_0x245116(0x2e0)](_0x245116(0x281)),_0x5979ad=_0x1778e4?+_0x1778e4[_0x245116(0x280)]:0x1,_0x118d14=Array[_0x245116(0x1ff)](_0x5c8ffc[_0x245116(0x259)])['map'](function(_0x407928){var _0x2948a5=_0x245116,_0x13fda1=_0x407928[_0x2948a5(0x2e0)]('.unitAlias')[_0x2948a5(0x280)][_0x2948a5(0x2da)](),_0x24eba8=_0x407928['querySelector']('.unitSelect')[_0x2948a5(0x280)],_0x31663b=+_0x407928[_0x2948a5(0x2e0)]('.eqInput')[_0x2948a5(0x280)]||0x0,_0x505490=+_0x407928['querySelector'](_0x2948a5(0x267))['value']||0x0,_0x305a98=+_0x407928[_0x2948a5(0x2e0)]('.costInput')['value']||0x0,_0x2990ef=_0x407928['dataset'][_0x2948a5(0x21e)]===_0x2948a5(0x1e0);return{'setAlias':_0x13fda1,'setUnitCode':_0x24eba8,'setEquivalence':_0x31663b,'setFactor':_0x2990ef?0x1:_0x31663b==_0x5979ad?0x1:_0x31663b<_0x5979ad?_0x5979ad/_0x31663b:_0x31663b/_0x5979ad,'setPrice':_0x505490,'setCost':_0x305a98,'setDefault':_0x2990ef?0x1:0x0};});newItems[_0x34ad74][_0x245116(0x291)]=_0x118d14;}function initVariantComponents(_0x4848ff){var _0x5a0614=_0x3c5ed4,_0x17bdb5=document['getElementById'](_0x5a0614(0x264)+_0x4848ff+_0x5a0614(0x2cb));_0x17bdb5[_0x5a0614(0x27d)]='',newItems[_0x4848ff][_0x5a0614(0x223)][_0x5a0614(0x235)](function(_0x54d63c){var _0x4b8563=_0x5a0614,_0x32adf3=document[_0x4b8563(0x1b6)]('div'),_0x12d081=Date['now']();_0x32adf3[_0x4b8563(0x210)]['idx']=_0x12d081,_0x32adf3[_0x4b8563(0x27d)]=_0x4b8563(0x277)+_0x12d081+_0x4b8563(0x206)+_0x54d63c[_0x4b8563(0x2b2)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x17bdb5[_0x4b8563(0x2dd)](_0x32adf3),initProdSearch(_0x32adf3[_0x4b8563(0x2e0)](_0x4b8563(0x2c9)),{'id':_0x54d63c[_0x4b8563(0x2de)],'name':_0x54d63c[_0x4b8563(0x1fe)]}),_0x32adf3[_0x4b8563(0x2e0)](_0x4b8563(0x1df))['addEventListener'](_0x4b8563(0x27e),function(){updateVariantComponents(_0x4848ff);}),_0x32adf3[_0x4b8563(0x2e0)]('.removeCombo')[_0x4b8563(0x25a)](_0x4b8563(0x2b0),function(){var _0x39bad4=_0x4b8563;_0x32adf3[_0x39bad4(0x209)](),updateVariantComponents(_0x4848ff);});}),_0x17bdb5[_0x5a0614(0x1bb)][_0x5a0614(0x2e0)]('.addVariantComp')[_0x5a0614(0x25a)](_0x5a0614(0x2b0),function(){var _0x27a970=_0x5a0614,_0x5073ed=document[_0x27a970(0x1b6)]('div'),_0x2d0a17=Date[_0x27a970(0x2a6)]();_0x5073ed[_0x27a970(0x210)][_0x27a970(0x2d8)]=_0x2d0a17,_0x5073ed[_0x27a970(0x27d)]=_0x27a970(0x277)+_0x2d0a17+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x17bdb5[_0x27a970(0x2dd)](_0x5073ed),initProdSearch(_0x5073ed[_0x27a970(0x2e0)](_0x27a970(0x2c9))),_0x5073ed[_0x27a970(0x2e0)](_0x27a970(0x1df))[_0x27a970(0x25a)](_0x27a970(0x27e),function(){updateVariantComponents(_0x4848ff);}),_0x5073ed[_0x27a970(0x2e0)]('.removeCombo')[_0x27a970(0x25a)]('click',function(){var _0x54ff3d=_0x27a970;_0x5073ed[_0x54ff3d(0x209)](),updateVariantComponents(_0x4848ff);});});}function updateVariantComponents(_0x594b3e){var _0x16302e=_0x3c5ed4,_0x5eb496=document['getElementById']('variant_'+_0x594b3e+'_comp_container'),_0x567513=Array[_0x16302e(0x1ff)](_0x5eb496['children'])[_0x16302e(0x273)](function(_0x55bfd1){var _0x287c42=_0x16302e,_0x1ac4ee=_0x55bfd1[_0x287c42(0x2e0)](_0x287c42(0x2c9)),_0x34abb2=_0x1ac4ee[_0x287c42(0x23d)],_0x470ccf=+_0x55bfd1[_0x287c42(0x2e0)]('.prodQty')['value']||0x0;return _0x34abb2?{'setItemId':_0x34abb2['id'],'setDescripcion':_0x34abb2[_0x287c42(0x2d9)],'setCantidad':_0x470ccf}:null;})[_0x16302e(0x276)](_0x333959=>_0x333959);newItems[_0x594b3e]['setItemComponents']=_0x567513;}function initVariantBranches(_0x29062b){var _0x4b28cf=_0x3c5ed4;const _0xd2bba5=getAllWarehouses();var _0x460a12=document[_0x4b28cf(0x2c4)]('variant_'+_0x29062b+_0x4b28cf(0x1c2));_0x460a12[_0x4b28cf(0x27d)]='',newItems[_0x29062b][_0x4b28cf(0x1a7)][_0x4b28cf(0x235)](function(_0x389518){var _0xe2633e=_0x4b28cf,_0x18c446=_0xd2bba5[_0xe2633e(0x24d)](_0xf88c4e=>_0xf88c4e[_0xe2633e(0x1f0)]==_0x389518[_0xe2633e(0x292)]),_0x270931=document[_0xe2633e(0x1b6)](_0xe2633e(0x1f8));_0x270931['innerHTML']=_0xe2633e(0x2c8)+_0x389518['setWarehouseCode']+_0xe2633e(0x285)+_0x18c446['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x389518[_0xe2633e(0x292)]+_0xe2633e(0x287)+_0x389518['setStockInitial']+_0xe2633e(0x262)+_0x389518[_0xe2633e(0x292)]+'\x22\x20value=\x22'+_0x389518[_0xe2633e(0x237)]+'\x22>',_0x460a12[_0xe2633e(0x2dd)](_0x270931),_0x270931[_0xe2633e(0x226)](_0xe2633e(0x27e))[_0xe2633e(0x235)](function(_0x5bfb9e){var _0x5a59f7=_0xe2633e;_0x5bfb9e[_0x5a59f7(0x25a)](_0x5a59f7(0x27e),function(){updateVariantBranches(_0x29062b);});});}),_0xd2bba5[_0x4b28cf(0x235)](function(_0x5505da){var _0x36966b=_0x4b28cf;if(!newItems[_0x29062b]['setItemWarehouses']['find'](_0x22766a=>_0x22766a[_0x36966b(0x292)]===_0x5505da[_0x36966b(0x1f0)])){var _0x421aef=document['createElement']('div');_0x421aef['innerHTML']=_0x36966b(0x2c8)+_0x5505da[_0x36966b(0x1f0)]+_0x36966b(0x20f)+_0x5505da['setWarehouseName']+_0x36966b(0x1e9)+_0x5505da['setWarehouseId']+_0x36966b(0x262)+_0x5505da['setWarehouseId']+'\x22>',_0x460a12[_0x36966b(0x2dd)](_0x421aef),_0x421aef['querySelectorAll'](_0x36966b(0x27e))[_0x36966b(0x235)](function(_0xa8d453){var _0xc42f6d=_0x36966b;_0xa8d453[_0xc42f6d(0x25a)](_0xc42f6d(0x27e),function(){updateVariantBranches(_0x29062b);});});}});}function updateVariantBranches(_0x257a05){var _0x1aeb28=_0x3c5ed4,_0x52d7ed=document[_0x1aeb28(0x2c4)](_0x1aeb28(0x264)+_0x257a05+_0x1aeb28(0x1c2)),_0x472fdf=[];_0x52d7ed[_0x1aeb28(0x226)](_0x1aeb28(0x1f8))[_0x1aeb28(0x235)](function(_0x19e282){var _0x1229ba=_0x1aeb28,_0x1f3fdc=_0x19e282['querySelector']('.branchChk');if(_0x1f3fdc['checked']){var _0xd00ab2=+_0x1f3fdc[_0x1229ba(0x210)]['id'],_0x54c541=+_0x19e282[_0x1229ba(0x2e0)](_0x1229ba(0x1f9))[_0x1229ba(0x280)]||0x0,_0x1ed110=+_0x19e282[_0x1229ba(0x2e0)](_0x1229ba(0x243))[_0x1229ba(0x280)]||0x0;_0x472fdf[_0x1229ba(0x25c)]({'setWarehouseCode':_0xd00ab2,'setStockInitial':_0x54c541,'setStockMinimum':_0x1ed110});}}),newItems[_0x257a05][_0x1aeb28(0x1a7)]=_0x472fdf;}async function storeOfflineProduct(_0x31fa14){var _0x25a0dd=_0x3c5ed4;try{const _0x6247f0=await createCartStore(''),_0x56eb5e=_0x6247f0['transaction'](_0x25a0dd(0x1fc),_0x25a0dd(0x274)),_0x389960=_0x56eb5e[_0x25a0dd(0x214)]('offline_operations');_0x389960[_0x25a0dd(0x2b9)](_0x31fa14),_0x56eb5e[_0x25a0dd(0x21b)]=()=>{var _0x52fdac=_0x25a0dd;console[_0x52fdac(0x1b5)](_0x52fdac(0x26d));},_0x56eb5e['onerror']=_0x249160=>{var _0x504f09=_0x25a0dd;console[_0x504f09(0x1bc)](_0x504f09(0x205),_0x249160[_0x504f09(0x2bf)][_0x504f09(0x1bc)]);};}catch(_0x8e056f){console[_0x25a0dd(0x1bc)]('Error\x20al\x20procesar\x20la\x20operaci贸n:',_0x8e056f);}}document[_0x3c5ed4(0x2c4)]('btnItemSave')[_0x3c5ed4(0x25a)]('click',async function(_0x11b232){var _0x3b24c1=_0x3c5ed4;_0x11b232[_0x3b24c1(0x1ac)]();const _0x1fe293=document[_0x3b24c1(0x2c4)](_0x3b24c1(0x245)),_0x3f0d64=document[_0x3b24c1(0x2c4)](_0x3b24c1(0x1a9))[_0x3b24c1(0x280)];if(!_0x1fe293[_0x3b24c1(0x280)][_0x3b24c1(0x2da)]()&&_0x3f0d64==0x0){ntfShow(_0x3b24c1(0x1cb),0x2,0x1);return;}_0x3f0d64==0x1&&(_0x1fe293[_0x3b24c1(0x280)]='',baseItem['setItemCode']='');const _0x5e1249=document[_0x3b24c1(0x2c4)](_0x3b24c1(0x28b));if(!_0x5e1249['value'][_0x3b24c1(0x2da)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x216a02=document[_0x3b24c1(0x2c4)](_0x3b24c1(0x265));hideModalCreateItem(),showLoadingModal();newItems[_0x3b24c1(0x2aa)]===0x0&&(newItems=[baseItem]);const _0x443625=document[_0x3b24c1(0x2c4)]('windowId')[_0x3b24c1(0x280)],_0x5ee6ba=window_options[_0x443625][_0x3b24c1(0x1d6)],_0x1fb49e=[];newItems[_0x3b24c1(0x235)](_0x49906d=>{var _0x386dbd=_0x3b24c1;const _0x1122d4=generateNumericUniqId();_0x49906d[_0x386dbd(0x291)]['forEach'](_0x105f18=>{var _0x2b8af4=_0x386dbd;const _0x39954f=generateNumericUniqId();_0x105f18['setItemUnitId']=_0x39954f;const _0x52ac4c={'id':_0x39954f,'setIdProducto':_0x1122d4,'setCodProducto':_0x49906d['setItemCode'],'setDescripcion':_0x49906d[_0x2b8af4(0x204)],'setItemDescription':_0x49906d[_0x2b8af4(0x258)],'setBatchExpirationDate':_0x49906d[_0x2b8af4(0x211)],'setBatchName':'','setCategoria':_0x49906d[_0x2b8af4(0x20e)][0x0]||'','setMarca':_0x49906d[_0x2b8af4(0x1d4)][0x0]||'','setConversionFactor':parseFloat(_0x105f18['setFactor']),'setImages':[],'setImg':_0x2b8af4(0x23f),'setInventariable':0x1,'setItemIsBought':_0x49906d['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x49906d['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x49906d[_0x2b8af4(0x1f6)],'setPrinters':[],'setTaxId':_0x49906d[_0x2b8af4(0x233)],'setTipAfeIgv':_0x49906d[_0x2b8af4(0x298)],'setUnidad':_0x105f18[_0x2b8af4(0x21f)],'setUnidadCodigo':_0x105f18['setUnitCode'],'setItemUnitAlias':_0x105f18[_0x2b8af4(0x27b)],'currency_data':[{'currency':_0x5ee6ba,'setMtoPrecioCostoUnitario':_0x105f18[_0x2b8af4(0x24e)],'setMtoPrecioUnitario':_0x105f18[_0x2b8af4(0x246)],'setPriceLists':[]}],'sucursales':_0x49906d[_0x2b8af4(0x1a7)]['map'](_0x568603=>({'setIdSucursal':_0x568603['setWarehouseCode'],'setSucursalStock':_0x568603['setStockInitial']['toString'](),'setWarehouseStockMin':_0x568603['setStockMinimum'][_0x2b8af4(0x22d)]()})),'setItemFree':_0x49906d[_0x2b8af4(0x1a9)],'setItemBarCode':_0x49906d['setItemBarCode'],'setItemBrands':_0x49906d[_0x2b8af4(0x1d4)]['slice'](),'setItemCategories':_0x49906d['setItemCategories']['slice'](),'setItemComponents':_0x49906d[_0x2b8af4(0x223)]['map'](_0x7ceffc=>({..._0x7ceffc})),'setItemImages':_0x49906d[_0x2b8af4(0x266)][_0x2b8af4(0x207)](),'setItemVariantName':_0x49906d[_0x2b8af4(0x29a)],'setItemVariantValues':{..._0x49906d['setItemVariantValues']}};_0x1fb49e[_0x2b8af4(0x25c)](_0x52ac4c),(_0x216a02['checked']||_0x3f0d64==0x1)&&addToCart(_0x52ac4c);});}),console['log'](_0x3b24c1(0x286),newItems),await finalizeImport(_0x1fb49e,newItems,![]);}),[_0x3c5ed4(0x2a0),_0x3c5ed4(0x241)][_0x3c5ed4(0x235)](_0x17dd28=>dropZone[_0x3c5ed4(0x25a)](_0x17dd28,_0x49748f=>{var _0x197f9b=_0x3c5ed4;_0x49748f['preventDefault'](),dropZone[_0x197f9b(0x2d3)][_0x197f9b(0x2b9)](_0x197f9b(0x241));})),['dragleave','drop'][_0x3c5ed4(0x235)](_0x112e5c=>dropZone[_0x3c5ed4(0x25a)](_0x112e5c,_0x4a44cf=>{var _0x1c3edd=_0x3c5ed4;_0x4a44cf['preventDefault'](),dropZone[_0x1c3edd(0x2d3)][_0x1c3edd(0x209)](_0x1c3edd(0x241));})),dropZone[_0x3c5ed4(0x25a)](_0x3c5ed4(0x1d0),_0x2f1c09=>{var _0x187293=_0x3c5ed4;const _0x38cdc0=_0x2f1c09[_0x187293(0x1ef)][_0x187293(0x215)][0x0];if(!_0x38cdc0)return;fileInput[_0x187293(0x215)]=_0x2f1c09['dataTransfer'][_0x187293(0x215)],dropZone[_0x187293(0x2e0)](_0x187293(0x2e2))[_0x187293(0x2b6)]=_0x38cdc0[_0x187293(0x2d9)],removeBtn[_0x187293(0x1d7)]=![],fileInput['dispatchEvent'](new Event(_0x187293(0x25d)));}),removeBtn['addEventListener']('click',()=>{var _0x57c3a1=_0x3c5ed4;fileInput[_0x57c3a1(0x280)]='',dropZone['querySelector'](_0x57c3a1(0x2e2))[_0x57c3a1(0x2b6)]=_0x57c3a1(0x1e4),removeBtn[_0x57c3a1(0x1d7)]=!![],progressBar[_0x57c3a1(0x2d7)][_0x57c3a1(0x224)]='none',statusDiv['textContent']='',uploadBtn[_0x57c3a1(0x2b1)]=!![];});const exportBtn=document[_0x3c5ed4(0x2c4)]('btnExportarItems');exportBtn[_0x3c5ed4(0x25a)](_0x3c5ed4(0x2b0),onClickExportarItems);async function onClickExportarItems(){var _0x49e8c0=_0x3c5ed4;if(!Array['isArray'](products)||!products['length']){ntfShow(_0x49e8c0(0x251));return;}try{const _0x552103=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x552103['ok'])throw new Error(_0x49e8c0(0x1e7));const _0x1c25d7=await _0x552103[_0x49e8c0(0x2cc)](),_0x2fe588=document[_0x49e8c0(0x2c4)](_0x49e8c0(0x1f0))[_0x49e8c0(0x280)],_0x33707f=products['filter'](_0x38025f=>Array[_0x49e8c0(0x1bf)](_0x38025f[_0x49e8c0(0x217)])&&_0x38025f[_0x49e8c0(0x217)][_0x49e8c0(0x28d)](_0x572b51=>String(_0x572b51[_0x49e8c0(0x236)])==String(_0x2fe588))),_0x2f2779=_0x33707f[_0x49e8c0(0x27c)]((_0x84463c,_0x1db401)=>{var _0x36dc2d=_0x49e8c0;const _0x5d4279=_0x1db401['setIdProducto'];if(!_0x84463c[_0x5d4279])_0x84463c[_0x5d4279]=[];return _0x84463c[_0x5d4279][_0x36dc2d(0x25c)](_0x1db401),_0x84463c;},{}),_0x509c7d=Object[_0x49e8c0(0x1c8)](_0x2f2779)[_0x49e8c0(0x273)](_0xccabad=>{var _0x219374=_0x49e8c0;const _0x5293dd=_0xccabad[0x0],_0xe7df16=_0xccabad[0x1]||{};function _0xba4acc(_0x3b1b6c,_0x31ec7f,_0x3cae53){var _0x5a43fe=_0x1f3b;if(!_0x3b1b6c||!Array[_0x5a43fe(0x1bf)](_0x3b1b6c[_0x5a43fe(0x1f1)]))return'';const _0x3d02cd=_0x3b1b6c[_0x5a43fe(0x1f1)]['find'](_0x1d74ab=>_0x1d74ab['currency']===_0x31ec7f);return _0x3d02cd?_0x3d02cd[_0x3cae53]:'';}return{'id':_0x5293dd[_0x219374(0x1f2)],'setItemType':_0x5293dd['setItemType'],'setCodProducto':_0x5293dd[_0x219374(0x230)],'setDescripcion':_0x5293dd[_0x219374(0x1fe)],'setItemDescription':_0x5293dd['setItemDescription'],'setCategoria':_0x5293dd[_0x219374(0x1af)],'setMarca':_0x5293dd[_0x219374(0x201)],'setTaxId':_0x5293dd[_0x219374(0x200)],'setUnitId':_0x5293dd['id'],'setItemBarCode':_0x5293dd[_0x219374(0x202)],'setUnidadCodigo':_0x5293dd[_0x219374(0x255)],'PEN_setMtoPrecioUnitario':_0xba4acc(_0x5293dd,_0x219374(0x1cf),'setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0xba4acc(_0x5293dd,'PEN',_0x219374(0x2be)),'USD_setMtoPrecioUnitario':_0xba4acc(_0x5293dd,_0x219374(0x272),_0x219374(0x261)),'USD_setMtoPrecioCostoUnitario':_0xba4acc(_0x5293dd,'USD',_0x219374(0x2be)),'setUnitId2':_0xe7df16['id']??'','setItemBarCode2':_0xe7df16['setItemBarCode']??'','setUnidadCodigo2':_0xe7df16[_0x219374(0x255)]??'','setUnidadEquivalencia2':_0xe7df16[_0x219374(0x2ab)]??'','PEN_setMtoPrecioUnitario2':_0xba4acc(_0xe7df16,'PEN',_0x219374(0x261))??'','PEN_setMtoPrecioCostoUnitario2':_0xba4acc(_0xe7df16,_0x219374(0x1cf),_0x219374(0x2be))??'','USD_setMtoPrecioUnitario2':_0xba4acc(_0xe7df16,'USD',_0x219374(0x261))??'','USD_setMtoPrecioCostoUnitario2':_0xba4acc(_0xe7df16,'USD','setMtoPrecioCostoUnitario')??'','setInventariable':_0x5293dd[_0x219374(0x2bd)],'setSucursalStock':_0x5293dd[_0x219374(0x217)][_0x219374(0x24d)](_0x31bb9e=>String(_0x31bb9e[_0x219374(0x236)])==String(_0x2fe588))[_0x219374(0x1b0)],'setWarehouseStockMin':_0x5293dd[_0x219374(0x217)][_0x219374(0x24d)](_0x349c11=>String(_0x349c11[_0x219374(0x236)])==String(_0x2fe588))[_0x219374(0x1c1)],'setBatchName':_0x5293dd[_0x219374(0x1eb)],'setBatchExpirationDate':_0x5293dd[_0x219374(0x22e)],..._0x5293dd[_0x219374(0x252)]};});try{JSON[_0x49e8c0(0x2ca)](_0x509c7d);}catch(_0x946ff4){console[_0x49e8c0(0x1bc)]('ERROR:\x20plainProducts\x20no\x20serializable:',_0x946ff4),ntfShow(_0x49e8c0(0x2a5));return;}statusDiv[_0x49e8c0(0x2b6)]=_0x49e8c0(0x23a),progressBar[_0x49e8c0(0x2d7)][_0x49e8c0(0x224)]=_0x49e8c0(0x22b),progressBar['value']=0x0,itemWorker['postMessage']({'action':_0x49e8c0(0x260),'products':_0x509c7d,'plantillaBuf':_0x1c25d7},[_0x1c25d7]);}catch(_0x51c1c6){console[_0x49e8c0(0x1bc)](_0x51c1c6),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x51c1c6['message']);}}itemWorker['onmessage']=({data:_0x226c0b})=>{var _0x57a657=_0x3c5ed4;const {type:_0x30bf1d,payload:_0x1bf9ce}=_0x226c0b;_0x30bf1d===_0x57a657(0x1b9)&&(progressBar[_0x57a657(0x2d7)][_0x57a657(0x224)]=_0x57a657(0x22b),progressBar[_0x57a657(0x280)]=_0x1bf9ce['percent'],statusDiv[_0x57a657(0x2b6)]=_0x1bf9ce[_0x57a657(0x27f)]);_0x30bf1d==='done'&&(newItemsExcel=_0x1bf9ce[_0x57a657(0x25e)],statusDiv[_0x57a657(0x2b6)]='\x20'+newItemsExcel[_0x57a657(0x2aa)]+_0x57a657(0x1ad),uploadBtn[_0x57a657(0x2b1)]=![],progressBar[_0x57a657(0x280)]=0x64,console[_0x57a657(0x1b5)](newItemsExcel));_0x30bf1d==='error'&&(statusDiv[_0x57a657(0x2b6)]=_0x57a657(0x2c1)+_0x1bf9ce,progressBar['style'][_0x57a657(0x224)]=_0x57a657(0x2d4));if(_0x30bf1d===_0x57a657(0x2ad)){const {wbout:_0x259f4a,count:_0x4f88c8}=_0x1bf9ce,_0x2dd613=new Blob([_0x259f4a],{'type':'application/octet-stream'}),_0x5ba7bc=URL[_0x57a657(0x1cc)](_0x2dd613),_0x436198=document['createElement']('a'),_0x23f6e7=new Date()['toISOString']()[_0x57a657(0x207)](0x0,0xa);_0x436198[_0x57a657(0x1d2)]=_0x57a657(0x29e)+_0x23f6e7+_0x57a657(0x222),_0x436198[_0x57a657(0x28c)]=_0x5ba7bc,_0x436198[_0x57a657(0x2b0)](),URL[_0x57a657(0x284)](_0x5ba7bc),statusDiv[_0x57a657(0x2b6)]=_0x57a657(0x208)+_0x4f88c8+_0x57a657(0x1e3),progressBar[_0x57a657(0x2d7)][_0x57a657(0x224)]=_0x57a657(0x2d4);}},fileInput[_0x3c5ed4(0x25a)](_0x3c5ed4(0x25d),async _0x39a7eb=>{var _0x4dd870=_0x3c5ed4;const _0x457459=_0x39a7eb[_0x4dd870(0x2bf)][_0x4dd870(0x215)][0x0];if(!_0x457459)return;uploadBtn[_0x4dd870(0x2b1)]=!![],newItemsExcel=null,statusDiv[_0x4dd870(0x2b6)]='',progressBar['style'][_0x4dd870(0x224)]='none',dropZone['querySelector'](_0x4dd870(0x2e2))[_0x4dd870(0x2b6)]=_0x457459[_0x4dd870(0x2d9)],removeBtn[_0x4dd870(0x1d7)]=![];try{const _0x1f6dfb=await _0x457459[_0x4dd870(0x2cc)]();itemWorker['postMessage']({'action':_0x4dd870(0x1c9),'buf':_0x1f6dfb,'maxRows':0x1388});}catch(_0x4347d3){statusDiv[_0x4dd870(0x2b6)]=_0x4dd870(0x1ea);}finally{fileInput[_0x4dd870(0x280)]='';}}),uploadBtn[_0x3c5ed4(0x25a)](_0x3c5ed4(0x2b0),async()=>{var _0x49fad4=_0x3c5ed4;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x4b9f8e=document[_0x49fad4(0x2c4)](_0x49fad4(0x1f0))['value'],_0xb10c06=[];newItemsExcel[_0x49fad4(0x235)](_0x52b7ac=>{var _0x32d21a=_0x49fad4;const _0x59c652=Boolean(_0x52b7ac[_0x32d21a(0x2de)]),_0x934b0c=_0x59c652?_0x52b7ac[_0x32d21a(0x2de)]:generateNumericUniqId();_0x52b7ac[_0x32d21a(0x1a7)]=[{'setStockInitial':_0x52b7ac[_0x32d21a(0x297)],'setStockMinimum':_0x52b7ac['setStockMinimum'],'setWarehouseCode':_0x4b9f8e}],_0x52b7ac[_0x32d21a(0x291)][_0x32d21a(0x235)](_0x2eca0e=>{var _0x452949=_0x32d21a;const _0x3251a6=Boolean(_0x2eca0e['setItemUnitId']),_0x5527b5=_0x3251a6?_0x2eca0e[_0x452949(0x2a9)]:generateNumericUniqId();_0x2eca0e[_0x452949(0x2a9)]=_0x5527b5;const _0x4330c0=[];_0x4330c0[_0x452949(0x25c)]({'currency':_0x452949(0x1cf),'setMtoPrecioCostoUnitario':_0x2eca0e['setCost'],'setMtoPrecioUnitario':_0x2eca0e[_0x452949(0x246)],'setPriceLists':[]});const _0x31aeb4=_0x2eca0e['setCostUSD']!=null&&_0x2eca0e[_0x452949(0x2b4)]!=null&&(!isNaN(_0x2eca0e[_0x452949(0x20d)])||!isNaN(_0x2eca0e[_0x452949(0x2b4)]));_0x31aeb4&&_0x4330c0['push']({'currency':_0x452949(0x272),'setMtoPrecioCostoUnitario':_0x2eca0e[_0x452949(0x20d)],'setMtoPrecioUnitario':_0x2eca0e['setPriceUSD'],'setPriceLists':[]});const _0x5bb4c8={'id':_0x5527b5,'setIdProducto':_0x934b0c,'setItemBarCode':_0x2eca0e[_0x452949(0x202)],'setCodProducto':_0x52b7ac['setItemCode'],'setDescripcion':_0x52b7ac[_0x452949(0x204)],'setItemDescription':_0x52b7ac[_0x452949(0x258)],'setBatchExpirationDate':_0x52b7ac[_0x452949(0x211)],'setBatchName':_0x52b7ac['setBatchName'],'setCategoria':_0x52b7ac['setItemCategories'][0x0]||'','setMarca':_0x52b7ac[_0x452949(0x1d4)][0x0]||'','setConversionFactor':parseFloat(_0x2eca0e[_0x452949(0x28e)]),'setImages':[],'setImg':_0x452949(0x23f),'setInventariable':_0x52b7ac[_0x452949(0x1d1)],'setItemIsBought':_0x52b7ac['setItemIsBought'],'setItemIsSold':_0x52b7ac[_0x452949(0x2ac)],'setPorcentajeIgv':_0x52b7ac[_0x452949(0x1f6)],'setPrinters':[],'setTaxId':_0x52b7ac[_0x452949(0x233)],'setTipAfeIgv':_0x52b7ac[_0x452949(0x298)],'setUnidad':_0x2eca0e[_0x452949(0x21f)],'setUnidadCodigo':_0x2eca0e[_0x452949(0x21f)],'setItemUnitAlias':_0x2eca0e[_0x452949(0x27b)],'currency_data':_0x4330c0,'sucursales':_0x52b7ac[_0x452949(0x1a7)]['map'](_0xb130dc=>({'setIdSucursal':_0xb130dc[_0x452949(0x292)],'setSucursalStock':_0xb130dc[_0x452949(0x297)][_0x452949(0x22d)](),'setWarehouseStockMin':_0xb130dc['setStockMinimum'][_0x452949(0x22d)]()})),'setItemFree':_0x52b7ac[_0x452949(0x1a9)],'setItemBrands':_0x52b7ac[_0x452949(0x1d4)][_0x452949(0x207)](),'setItemCategories':_0x52b7ac['setItemCategories']['slice'](),'setItemComponents':_0x52b7ac['setItemComponents'][_0x452949(0x273)](_0x2c61b9=>({..._0x2c61b9})),'setItemImages':_0x52b7ac[_0x452949(0x266)]['slice'](),'setItemVariantName':_0x52b7ac[_0x452949(0x29a)],'setItemVariantValues':{..._0x52b7ac[_0x452949(0x252)]}},_0x50cfad=products[_0x452949(0x229)](_0x143b6d=>_0x143b6d['id']==_0x5527b5&&_0x143b6d[_0x452949(0x1f2)]==_0x934b0c);_0x50cfad>-0x1?Object['assign'](products[_0x50cfad],_0x5bb4c8):_0xb10c06[_0x452949(0x25c)](_0x5bb4c8);});}),console[_0x49fad4(0x1b5)](_0x49fad4(0x286),newItemsExcel),await finalizeImport(_0xb10c06,newItemsExcel,!![]);});function initializeFormImages(){var _0x458a59=_0x3c5ed4;currentImages=Array(MAX_IMAGES)[_0x458a59(0x26f)](null),imgC[_0x458a59(0x27d)]='',baseItem['setItemImages']=[];for(var _0x109779=0x0;_0x109779<MAX_IMAGES;_0x109779++){(function(_0xf68708){var _0x202c12=_0x458a59,_0x5a09f2=document['createElement'](_0x202c12(0x1f8));_0x5a09f2[_0x202c12(0x219)]=_0x202c12(0x1ae),_0x5a09f2['dataset'][_0x202c12(0x2d8)]=_0xf68708;var _0x26b563=document[_0x202c12(0x1b6)](_0x202c12(0x27e));_0x26b563[_0x202c12(0x227)]=_0x202c12(0x23c),_0x26b563['accept']='image/*',_0x26b563['style'][_0x202c12(0x224)]=_0x202c12(0x2d4);var _0x25beae=document['createElement']('span');_0x25beae['textContent']='+',_0x5a09f2[_0x202c12(0x2dd)](_0x26b563),_0x5a09f2['appendChild'](_0x25beae),imgC[_0x202c12(0x2dd)](_0x5a09f2),_0x5a09f2['addEventListener'](_0x202c12(0x2b0),function(){_0x26b563['click']();}),_0x26b563[_0x202c12(0x25a)]('change',function(_0x6ac635){var _0x26c499=_0x202c12,_0x19f256=_0x6ac635[_0x26c499(0x2bf)][_0x26c499(0x215)][0x0];if(!_0x19f256)return removeImg(_0xf68708);var _0x4cec8a=new FileReader();_0x4cec8a[_0x26c499(0x218)]=function(_0x156ab7){var _0x578ca5=_0x26c499;_0x5a09f2[_0x578ca5(0x27d)]=_0x578ca5(0x239)+_0x156ab7[_0x578ca5(0x2bf)][_0x578ca5(0x1e1)]+'\x22>';var _0x4ee2e1=document[_0x578ca5(0x1b6)](_0x578ca5(0x1dd));_0x4ee2e1[_0x578ca5(0x219)]='remove',_0x4ee2e1[_0x578ca5(0x2b6)]='',_0x4ee2e1[_0x578ca5(0x25a)](_0x578ca5(0x2b0),function(_0xa4b8f6){_0xa4b8f6['stopPropagation'](),removeImg(_0xf68708);}),_0x5a09f2[_0x578ca5(0x2dd)](_0x4ee2e1),currentImages[_0xf68708]=_0x19f256,baseItem[_0x578ca5(0x266)]=currentImages[_0x578ca5(0x276)](function(_0x4480d8){return _0x4480d8;});},_0x4cec8a[_0x26c499(0x1fd)](_0x19f256);});}(_0x109779));}}function initializeFormIsSoldIsBought(_0x19bb70=0x0){var _0x535737=_0x3c5ed4;let _0x4d6ed4,_0x27ad28;if(_0x19bb70!=0x0){const _0x282de2=products['find'](_0x37ffd9=>_0x37ffd9['id']==_0x19bb70);_0x4d6ed4=_0x282de2[_0x535737(0x2db)]==0x1||_0x282de2[_0x535737(0x2db)]==!![]?!![]:![],_0x27ad28=_0x282de2[_0x535737(0x2ac)]==0x1||_0x282de2[_0x535737(0x2ac)]==!![]?!![]:![];}else _0x4d6ed4=!![],_0x27ad28=!![];document['getElementById'](_0x535737(0x29c))[_0x535737(0x2dc)]=_0x4d6ed4,document['getElementById'](_0x535737(0x247))[_0x535737(0x2dc)]=_0x27ad28,baseItem['setItemIsBought']=_0x4d6ed4,baseItem[_0x535737(0x2ac)]=_0x27ad28;}function initializeFormInputsBasic(_0x304aa5=0x0){var _0x35da45=_0x3c5ed4;let _0x385d79,_0x5ec93d,_0x39682f,_0x3d7c0e,_0x363df6,_0x30b7a6;if(_0x304aa5!=0x0){const _0x4d0e2c=products[_0x35da45(0x24d)](_0x578986=>_0x578986['id']==_0x304aa5);_0x385d79=_0x4d0e2c[_0x35da45(0x2cf)]??'1',_0x5ec93d=_0x4d0e2c[_0x35da45(0x230)],_0x39682f=_0x4d0e2c[_0x35da45(0x1fe)],_0x3d7c0e=_0x4d0e2c[_0x35da45(0x258)],_0x363df6=_0x4d0e2c[_0x35da45(0x22e)]??'',_0x30b7a6=_0x4d0e2c[_0x35da45(0x202)];}else _0x385d79='1',_0x5ec93d=getNextCode(products),_0x39682f='',_0x3d7c0e='',_0x363df6='',_0x30b7a6='';document[_0x35da45(0x2c4)](_0x35da45(0x2a1))[_0x35da45(0x280)]=_0x385d79,document['getElementById'](_0x35da45(0x245))['value']=_0x5ec93d,document[_0x35da45(0x2c4)]('inputItemName')[_0x35da45(0x280)]=_0x39682f,document[_0x35da45(0x2c4)](_0x35da45(0x2af))['value']=_0x3d7c0e,document['getElementById']('inputItemDateExpiry')['value']=_0x363df6,document[_0x35da45(0x2c4)](_0x35da45(0x1ab))[_0x35da45(0x280)]=_0x30b7a6,baseItem[_0x35da45(0x2cf)]=_0x385d79,baseItem[_0x35da45(0x275)]=_0x5ec93d,baseItem[_0x35da45(0x204)]=_0x39682f,baseItem['setItemDescription']=_0x3d7c0e,baseItem[_0x35da45(0x211)]=_0x363df6,baseItem[_0x35da45(0x202)]=_0x30b7a6,document[_0x35da45(0x2c4)](_0x35da45(0x265))[_0x35da45(0x2dc)]=![];}function initializeFormTax(_0xed769f=0x0){var _0x4a6cb7=_0x3c5ed4;let _0x409270;if(_0xed769f!=0x0){const _0x376ccb=products[_0x4a6cb7(0x24d)](_0x596661=>_0x596661['id']==_0xed769f);_0x409270=_0x376ccb['setTaxId'];}else _0x409270=myCompany[_0x4a6cb7(0x250)];const _0x211c7d=document[_0x4a6cb7(0x2c4)](_0x4a6cb7(0x29d));_0x211c7d[_0x4a6cb7(0x280)]=_0x409270,baseItem['setItemTaxId']=_0x409270;const _0xcfaec7=company[0x0]['setImpuestos'][_0x4a6cb7(0x24d)](_0x5ae25d=>_0x5ae25d['setTaxId']==_0x409270)?.[_0x4a6cb7(0x1b4)]||0x0,_0x2b7aa7=company[0x0]['setImpuestos']['find'](_0x1758ee=>_0x1758ee['setTaxId']==_0x409270)?.['setImpuestoValue']||0x0;baseItem[_0x4a6cb7(0x298)]=_0xcfaec7,baseItem[_0x4a6cb7(0x1f6)]=_0x2b7aa7;}function initializeFormCategoriesBrands(_0x18617e=0x0){var _0x133751=_0x3c5ed4;baseItem[_0x133751(0x20e)]=[],baseItem[_0x133751(0x1d4)]=[],document[_0x133751(0x2e0)](_0x133751(0x294))['innerHTML']='',document['querySelector'](_0x133751(0x2bc))['innerHTML']='',document[_0x133751(0x2e0)](_0x133751(0x288))[_0x133751(0x27d)]='',document[_0x133751(0x2e0)]('#newItem_brands_select\x20.options_list')[_0x133751(0x27d)]='';const _0x15ac19=uniqueValuesArray(_0x133751(0x1af),_0x133751(0x1af),products),_0x38f9e5=uniqueValuesArray(_0x133751(0x201),_0x133751(0x201),products),_0x1f3fd5=initMulti(_0x133751(0x1d5),_0x15ac19),_0x1166bf=initMulti('newItem_brands_select',_0x38f9e5);document['getElementById']('newItem_categories_select')['addEventListener']('selectionChange',function(_0x55b295){var _0x546370=_0x133751;baseItem[_0x546370(0x20e)]=_0x1f3fd5['map'](_0x3d0345=>_0x3d0345[_0x546370(0x271)]);}),document[_0x133751(0x2c4)](_0x133751(0x283))['addEventListener'](_0x133751(0x278),function(_0xa06a66){baseItem['setItemBrands']=_0x1166bf['map'](_0x3803c6=>_0x3803c6['setCode']);});if(_0x18617e!=0x0){const _0x7c8026=products['find'](_0x28fdc9=>_0x28fdc9['id']==_0x18617e);if(_0x7c8026[_0x133751(0x1af)]){const _0x164c7b=document[_0x133751(0x2c4)](_0x133751(0x1d5)),_0x5ab326=Array[_0x133751(0x1ff)](_0x164c7b[_0x133751(0x226)](_0x133751(0x1aa)))['find'](_0x35a901=>_0x35a901[_0x133751(0x210)]['code']==_0x7c8026[_0x133751(0x1af)]);_0x5ab326&&_0x5ab326[_0x133751(0x2b0)]();}if(_0x7c8026['setMarca']){const _0x275e99=document[_0x133751(0x2c4)](_0x133751(0x283)),_0x4734a7=Array[_0x133751(0x1ff)](_0x275e99[_0x133751(0x226)](_0x133751(0x1aa)))['find'](_0x524d2b=>_0x524d2b['dataset'][_0x133751(0x296)]==_0x7c8026[_0x133751(0x201)]);_0x4734a7&&_0x4734a7['click']();}}}function initializeFormUnits(){var _0x55bb36=_0x3c5ed4;unitCount=0x0,document[_0x55bb36(0x2c4)]('newItem_units_container')[_0x55bb36(0x27d)]='',baseItem[_0x55bb36(0x291)]=[];var _0x2dfa1f=uniqueValuesArray(_0x55bb36(0x21f),_0x55bb36(0x231),myCompany[_0x55bb36(0x270)]);addUnit('',_0x2dfa1f[0x3a]&&_0x2dfa1f[0x3a][_0x55bb36(0x271)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x2c015c=_0x3c5ed4;prodC[_0x2c015c(0x27d)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x5e823a=_0x3c5ed4;branchesC['innerHTML']='',baseItem['setItemWarehouses']=[];const _0x2bde95=getAllWarehouses();_0x2bde95[_0x5e823a(0x235)](function(_0x2d328d){var _0x17e3a7=_0x5e823a,_0x19afe6=document[_0x17e3a7(0x1b6)](_0x17e3a7(0x1f8));_0x19afe6[_0x17e3a7(0x27d)]=_0x17e3a7(0x20a)+_0x17e3a7(0x1d8)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x2d328d[_0x17e3a7(0x1f0)]+_0x17e3a7(0x285)+_0x2d328d[_0x17e3a7(0x238)]+_0x17e3a7(0x26c)+_0x17e3a7(0x24f)+_0x17e3a7(0x1d8)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x2d328d[_0x17e3a7(0x1f0)]+'\x22>'+_0x17e3a7(0x24f)+_0x17e3a7(0x1d8)+_0x17e3a7(0x25f)+_0x2d328d[_0x17e3a7(0x1f0)]+'\x22>'+_0x17e3a7(0x24f)+_0x17e3a7(0x24f),branchesC[_0x17e3a7(0x2dd)](_0x19afe6),_0x19afe6[_0x17e3a7(0x226)]('input')['forEach'](function(_0x1fdbd0){var _0x468ecd=_0x17e3a7;_0x1fdbd0[_0x468ecd(0x25a)](_0x468ecd(0x27e),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x56976b=_0x3c5ed4;baseItem[_0x56976b(0x29a)]='',baseItem[_0x56976b(0x252)]={},vgC[_0x56976b(0x27d)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x39796e,_0x57a988,_0x4f1e71=![]){var _0x56dc16=_0x3c5ed4;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x56dc16(0x2ce),'setToken':company[0x0][_0x56dc16(0x1cd)],'setWebhook':company[0x0][_0x56dc16(0x1ba)],'newItems':_0x57a988}),products['push'](..._0x39796e),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x56dc16(0x213)),_0x4f1e71?(fileInput[_0x56dc16(0x280)]='',uploadBtn[_0x56dc16(0x2b1)]=!![],statusDiv[_0x56dc16(0x2b6)]='',progressBar[_0x56dc16(0x2d7)][_0x56dc16(0x224)]=_0x56dc16(0x2d4),progressBar[_0x56dc16(0x280)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}