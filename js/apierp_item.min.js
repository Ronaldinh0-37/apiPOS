/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.5
*/

var _0x49a4ea=_0xb878;function _0xda12(){var _0x2e4325=['compare','input','newItem_proditems_container','style=\x22display:none\x22','.priceInput','filter','windowId','newItem_units_container','setItemId','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','log','newItem_hidden','Error\x20al\x20procesar\x20la\x20operaci贸n:','newItem_branches_container','setMtoPrecioUnitario','setItemCategories','stringify','image/*','true','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','inputItemName','upload-btn','setItemTaxId','.variantExpiry','newItem_variant_groups','setImpuestoName','setItemUnitAlias','focus','getElementsByClassName','test','addEventListener','setItemTaxCode','inputItemBarCode','newItem_title_table_cp','toggle','.branchChk','includes','{}.constructor(\x22return\x20this\x22)(\x20)','.eqInput','setPriceUSD','info','3673065fsTgUH','string','file-input','inputItemTax','setItemType','map','innerHTML','setIdProducto','dataset','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setImpuestos','setWarehouseCode','inputItemDescription','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','constructor','exportDone','setItemIsSold','fill','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setIdSucursal','drop','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','currency_data','sucursales','setDescripcion','forEach','blur','className','setCost','defineProperty','setWarehouseId','inputItemCode','toISOString','.ms_input','keydown','contains','unitSelect','console','setItemBarCode','.prod_input_container','#newItem_branches_container\x20>\x20div','__proto__','key','.variantCode','setItemIsBought','image_box','setImpuestoCode','exception','setItemWarehouses','detail','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','[id$=\x22_comp_container\x22]','disabled','querySelector','newItem_chk_buy','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','setBatchName','querySelectorAll','createElement','remove','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','[data-idx=\x22','search','setItemDescription','value','undefined','textContent','setTaxId','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','toLowerCase','preventDefault','457680bPttES','.options_list\x20div','onmessage','change','stopPropagation','dispatchEvent','inputItemType','setAlias','active','selected','.vgVals','option','setEquivalence','</label>','Plantilla-Items-Export-','split','target','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','setPrice','setUnitName','setItemDateExpiry','readwrite','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','span','modalOverlayCreateItem','remove-file','Ingresa\x20el\x20c贸digo\x20del\x20item','productType1','936054DmlfWQ','setItemName','message','find','5RiOFcE','</div>','findIndex','setUnidadCodigo','now','children','click','parse','currentTarget','idx','setWebhook','setStockInitial','inputItemDateExpiry','offline_operations','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','from','items','error','.drop-zone__prompt','148593whhiYv','arrayBuffer','.removeVariant','checked','.selected_tags','setItemUnits','_units_container','.variantForm','.removeCombo','setFactor','newItem_variants_forms','bind','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','default','newItem_addToCart','setItemBrands','setSucursalStock','progress','setItemImages','priceInput','createObjectURL','getElementById','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','setMtoPrecioCostoUnitario','push','setCategoria','selectedItem','USD','setCode','隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!','slice','newItem_btn_addVariantGroup','parentNode','Error\x20al\x20obtener\x20la\x20plantilla:\x20','setItemCode','#newItem_brands_select\x20.selected_tags','setName','No\x20hay\x20items\x20para\x20exportar.','setInventariable','toString','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','_branch_container','display','sort','splice','\x20Exportaci贸n\x20completada:\x20','setItemBrandName','done','.branchMin','setItemComponents','.unitSelect','setWarehouseStockMin','.addVariantComp','setItemUnitId','download','(((.+)+)+)+$','newItem_chk_sell','variantForm','dragleave','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','Collator','.costInput','selectionChange','none','./js/apierp_item_wk.min.js','div','files','\x20items.','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','./img/product.png','Nuevo\x20Producto','drop-zone','base','<img\x20src=\x22','appendChild','setWarehouseName','.vgName','newItem_brands_select','variant_','36028VDPmAA','setMarca','add','closest','_comp_container','type','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','file','setStockMinimum','\x22\x20class=\x22branchChk\x22>\x20','status','assign','setConversionFactor','href','setItemTaxValue','apply','detalleModalCreateItem','setItemFree','newItem_images_container','style','import','every','setCodProducto','vals','remove-tag','code','.unitAlias','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','classList','setAuthToken','currency','costInput','Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar','unitAlias','accept','btnItemSave','\x22\x20class=\x22branchChk\x22\x20checked>\x20','objectStore','#newItem_brands_select\x20.options_list','join','reduce','trace','.prodQty','padStart','.addVariantUnit','#newItem_categories_select\x20.options_list','.variantBarCode','setBatchExpirationDate','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','Items\x20finales:','setDefault','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','dataTransfer','<div\x20class=\x22newItem_col\x22>','btnExportarItems','18rBehDC','setUnits','.xlsx','ERROR:\x20plainProducts\x20no\x20serializable:','\x22\x20value=\x22','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','tag','name','newItem_categories_select','onload','result','\x20Error:\x20','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','application/octet-stream','block','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','readAsDataURL','newItem_btn_addUnit','transaction','isArray','setItemVariantName','./excel/Plantilla-Items.xlsx','dragover','setImpuestoValue','PEN','setTaxIdDefault','.branchInit','postMessage','setItemInventoriable','.options_list','setItemVariantValues','setUnitCode','div[data-default=\x22true\x22]\x20.eqInput','7tRzFxI','#newItem_categories_select\x20.selected_tags','length','24rADjfl','setItemCategoryName','dragenter','1617738PPYHiJ','setCantidad','hidden','some','Producto\x20Guardado\x20Offline\x20Correctamente.','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','trim','closeModalCreateItem','setCostUSD','3583992pWkRWu','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'];_0xda12=function(){return _0x2e4325;};return _0xda12();}(function(_0x49cbff,_0x10a840){var _0x52c09b=_0xb878,_0x179e92=_0x49cbff();while(!![]){try{var _0x3be5a9=parseInt(_0x52c09b(0x1d1))/0x1*(-parseInt(_0x52c09b(0x208))/0x2)+-parseInt(_0x52c09b(0x182))/0x3*(-parseInt(_0x52c09b(0x22c))/0x4)+parseInt(_0x52c09b(0x16f))/0x5*(parseInt(_0x52c09b(0x22f))/0x6)+-parseInt(_0x52c09b(0x229))/0x7*(-parseInt(_0x52c09b(0x238))/0x8)+-parseInt(_0x52c09b(0x16b))/0x9+parseInt(_0x52c09b(0x2ac))/0xa+-parseInt(_0x52c09b(0x263))/0xb;if(_0x3be5a9===_0x10a840)break;else _0x179e92['push'](_0x179e92['shift']());}catch(_0x431ab3){_0x179e92['push'](_0x179e92['shift']());}}}(_0xda12,0x48da3));var _0x3ac21e=(function(){var _0x4c5802=!![];return function(_0x249403,_0x148b2f){var _0x54ba77=_0x4c5802?function(){var _0x16235a=_0xb878;if(_0x148b2f){var _0x2b26ab=_0x148b2f[_0x16235a(0x1e0)](_0x249403,arguments);return _0x148b2f=null,_0x2b26ab;}}:function(){};return _0x4c5802=![],_0x54ba77;};}()),_0x448cc2=_0x3ac21e(this,function(){var _0x5ab273=_0xb878;return _0x448cc2[_0x5ab273(0x1a9)]()['search'](_0x5ab273(0x1b9))[_0x5ab273(0x1a9)]()[_0x5ab273(0x272)](_0x448cc2)[_0x5ab273(0x2a3)]('(((.+)+)+)+$');});_0x448cc2();var _0x3e5e22=(function(){var _0x2bb7bd=!![];return function(_0x847579,_0x2c4d7f){var _0x4e13ef=_0x2bb7bd?function(){var _0xcd8d19=_0xb878;if(_0x2c4d7f){var _0x5dda56=_0x2c4d7f[_0xcd8d19(0x1e0)](_0x847579,arguments);return _0x2c4d7f=null,_0x5dda56;}}:function(){};return _0x2bb7bd=![],_0x4e13ef;};}()),_0x21d4d6=_0x3e5e22(this,function(){var _0x289c80=_0xb878,_0x54a271;try{var _0x8c646c=Function('return\x20(function()\x20'+_0x289c80(0x25f)+');');_0x54a271=_0x8c646c();}catch(_0x3617f0){_0x54a271=window;}var _0x1338cd=_0x54a271[_0x289c80(0x28a)]=_0x54a271['console']||{},_0x34accc=[_0x289c80(0x244),'warn',_0x289c80(0x262),_0x289c80(0x180),_0x289c80(0x294),'table',_0x289c80(0x1fa)];for(var _0x7df5df=0x0;_0x7df5df<_0x34accc[_0x289c80(0x22b)];_0x7df5df++){var _0x225c3c=_0x3e5e22[_0x289c80(0x272)]['prototype'][_0x289c80(0x18d)](_0x3e5e22),_0x44ba5e=_0x34accc[_0x7df5df],_0x505d0a=_0x1338cd[_0x44ba5e]||_0x225c3c;_0x225c3c[_0x289c80(0x28e)]=_0x3e5e22[_0x289c80(0x18d)](_0x3e5e22),_0x225c3c[_0x289c80(0x1a9)]=_0x505d0a['toString']['bind'](_0x505d0a),_0x1338cd[_0x44ba5e]=_0x225c3c;}});_0x21d4d6();function _0xb878(_0x427923,_0x46eeb6){var _0x37b064=_0xda12();return _0xb878=function(_0x21d4d6,_0x3e5e22){_0x21d4d6=_0x21d4d6-0x15f;var _0x26d7b2=_0x37b064[_0x21d4d6];return _0x26d7b2;},_0xb878(_0x427923,_0x46eeb6);}var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x49a4ea(0x197)](_0x49a4ea(0x1e3)),unitCount=0x0,branchesC=document[_0x49a4ea(0x197)](_0x49a4ea(0x247)),prodC=document[_0x49a4ea(0x197)](_0x49a4ea(0x23c)),vgCount=0x0,varContainer=document['getElementById'](_0x49a4ea(0x18c)),vgC=document[_0x49a4ea(0x197)](_0x49a4ea(0x252));const fileInput=document['getElementById'](_0x49a4ea(0x265)),progressBar=document[_0x49a4ea(0x197)](_0x49a4ea(0x193)),statusDiv=document[_0x49a4ea(0x197)](_0x49a4ea(0x1db)),uploadBtn=document[_0x49a4ea(0x197)](_0x49a4ea(0x24f));let newItemsExcel=null;const itemWorker=new Worker(_0x49a4ea(0x1c2)),dropZone=document[_0x49a4ea(0x197)](_0x49a4ea(0x1c9)),removeBtn=document[_0x49a4ea(0x197)](_0x49a4ea(0x168));function showModalCreateItem(_0x5b4108){var _0x5c50e5=_0x49a4ea;const _0x435a50=document[_0x5c50e5(0x197)](_0x5c50e5(0x1e1)),_0x51a46b=document[_0x5c50e5(0x197)](_0x5c50e5(0x167));_0x435a50[_0x5c50e5(0x1ed)][_0x5c50e5(0x1d3)](_0x5c50e5(0x2b4)),_0x51a46b['style'][_0x5c50e5(0x1ac)]=_0x5c50e5(0x216);const _0x359117=document['getElementById'](_0x5c50e5(0x1e2));_0x359117[_0x5c50e5(0x2a5)]=parseInt(_0x5b4108),baseItem[_0x5c50e5(0x1e2)]=parseInt(_0x5b4108);const _0x549d55=document['getElementById']('modalProductNewTitle');_0x5b4108==0x0&&(_0x549d55['innerHTML']=_0x5c50e5(0x1c8));_0x5b4108==0x1&&(_0x549d55[_0x5c50e5(0x269)]='Producto\x20Libre');const _0x3ccb7d=document[_0x5c50e5(0x256)](_0x5c50e5(0x16a));for(let _0x3ca24d=0x0;_0x3ca24d<_0x3ccb7d[_0x5c50e5(0x22b)];_0x3ca24d++){const _0x42b083=_0x3ccb7d[_0x3ca24d];if(_0x5b4108==0x0)_0x42b083[_0x5c50e5(0x1ed)]['remove'](_0x5c50e5(0x231));else _0x5b4108==0x1&&_0x42b083[_0x5c50e5(0x1ed)]['add']('hidden');}}function hideModalCreateItem(){var _0x26b00d=_0x49a4ea;const _0x36e668=document[_0x26b00d(0x197)](_0x26b00d(0x1e1)),_0x22b1ab=document['getElementById'](_0x26b00d(0x167));_0x36e668['classList']['remove'](_0x26b00d(0x2b4)),_0x22b1ab[_0x26b00d(0x1e4)][_0x26b00d(0x1ac)]='none';}document['getElementById'](_0x49a4ea(0x236))[_0x49a4ea(0x258)](_0x49a4ea(0x175),hideModalCreateItem),document['getElementById'](_0x49a4ea(0x167))[_0x49a4ea(0x258)](_0x49a4ea(0x175),_0x39520a=>{var _0x317f33=_0x49a4ea;_0x39520a[_0x317f33(0x15f)]==_0x39520a[_0x317f33(0x177)]&&_0x39520a[_0x317f33(0x2b0)]();});function loadTaxData(){var _0x2748ba=_0x49a4ea;const _0x3ab1e2=document['getElementById'](_0x2748ba(0x266));_0x3ab1e2[_0x2748ba(0x269)]='',company[0x0][_0x2748ba(0x26d)][_0x2748ba(0x27e)](function(_0x3aa4fc){var _0x1ea77c=_0x2748ba;const _0x3025f9=document['createElement'](_0x1ea77c(0x2b7));_0x3025f9[_0x1ea77c(0x2a5)]=_0x3aa4fc[_0x1ea77c(0x2a8)],_0x3025f9[_0x1ea77c(0x269)]=_0x3aa4fc[_0x1ea77c(0x253)]+'\x20('+_0x3aa4fc[_0x1ea77c(0x21f)]+'%)',_0x3aa4fc[_0x1ea77c(0x2a8)]==company[0x0][_0x1ea77c(0x221)]&&(_0x3025f9[_0x1ea77c(0x2b5)]=!![]),_0x3ab1e2[_0x1ea77c(0x1cc)](_0x3025f9);});}function uniqueValuesArray(_0x30ed14,_0x19bfc8,_0x197354){var _0x731be2=_0x49a4ea;const _0x420a2c=Array['from'](new Set(_0x197354[_0x731be2(0x268)](_0x15518d=>{var _0x20425c=_0x731be2;const _0x264a7d=_0x15518d[_0x30ed14];return typeof _0x264a7d===_0x20425c(0x264)?_0x264a7d[_0x20425c(0x235)]():_0x264a7d;})['filter'](_0x1b18af=>_0x1b18af!=null&&_0x1b18af!=='')));return _0x420a2c[_0x731be2(0x268)](_0x23bdf1=>{var _0x14d0c3=_0x731be2;const _0x443cbd=_0x197354['find'](_0xe96600=>_0xe96600[_0x30ed14]===_0x23bdf1),_0x42bb2e=_0x443cbd&&_0x443cbd[_0x19bfc8]!=null?String(_0x443cbd[_0x19bfc8])[_0x14d0c3(0x235)]():_0x23bdf1;return{'setCode':_0x23bdf1,'setName':_0x42bb2e};});}function fillSelect(_0x4347c6,_0x42b7b9,_0x45da1f,_0x4034f2){var _0x4d1744=_0x49a4ea;_0x4347c6[_0x4d1744(0x269)]='',_0x42b7b9[_0x4d1744(0x27e)](function(_0x3e4ef6){var _0x49cba6=_0x4d1744,_0x2c68ff=new Option(_0x3e4ef6[_0x4034f2],_0x3e4ef6[_0x45da1f]);_0x4347c6[_0x49cba6(0x1d3)](_0x2c68ff);});}function initMulti(_0x237f3a,_0x4c3523){var _0x38cc78=_0x49a4ea,_0x39bf30=document[_0x38cc78(0x197)](_0x237f3a),_0x438dd6=_0x39bf30['querySelector'](_0x38cc78(0x286)),_0x101cf1=_0x39bf30[_0x38cc78(0x29a)](_0x38cc78(0x225)),_0x503dc7=_0x39bf30[_0x38cc78(0x29a)](_0x38cc78(0x186)),_0x299259=_0x4c3523['slice'](),_0x1aa1e3=[];let _0x8a3d78=null,_0xbf1d90=![];function _0x89a044(){var _0x5e501f=_0x38cc78;const _0x15d685=_0x438dd6[_0x5e501f(0x2a5)]['trim']();if(!_0x15d685)return;const _0x1c9649=_0x299259[_0x5e501f(0x16e)](_0x3f926f=>_0x3f926f[_0x5e501f(0x1a6)][_0x5e501f(0x2aa)]()===_0x15d685['toLowerCase']());if(_0x1c9649)_0x1aa1e3[_0x5e501f(0x19a)](_0x1c9649),_0x299259[_0x5e501f(0x1ae)](_0x299259['findIndex'](_0x3d867c=>_0x3d867c[_0x5e501f(0x19e)]===_0x1c9649['setCode']),0x1);else{const _0x4a04c4=_0x1aa1e3[_0x5e501f(0x232)](_0x3ab143=>_0x3ab143[_0x5e501f(0x1a6)][_0x5e501f(0x2aa)]()===_0x15d685['toLowerCase']());!_0x4a04c4&&_0x1aa1e3[_0x5e501f(0x19a)]({'setCode':_0x15d685,'setName':_0x15d685});}_0x3c745c(),_0x28c538(),_0x438dd6[_0x5e501f(0x2a5)]='';}function _0x28c538(){var _0x1dbf7e=_0x38cc78;_0x101cf1[_0x1dbf7e(0x269)]='',_0x299259['filter'](_0x2b6f5d=>_0x2b6f5d[_0x1dbf7e(0x1a6)][_0x1dbf7e(0x2aa)]()[_0x1dbf7e(0x25e)](_0x438dd6['value'][_0x1dbf7e(0x2aa)]()))[_0x1dbf7e(0x1a0)](0x0,0x14)[_0x1dbf7e(0x27e)](_0x3606e0=>{var _0x30452d=_0x1dbf7e,_0x4d42a2=document[_0x30452d(0x29f)](_0x30452d(0x1c3));_0x4d42a2[_0x30452d(0x2a7)]=_0x3606e0[_0x30452d(0x1a6)],_0x4d42a2[_0x30452d(0x26b)][_0x30452d(0x1ea)]=_0x3606e0[_0x30452d(0x19e)],_0x101cf1['appendChild'](_0x4d42a2),_0x4d42a2[_0x30452d(0x258)]('mousedown',()=>_0xbf1d90=!![]),_0x4d42a2[_0x30452d(0x258)](_0x30452d(0x175),function(){var _0x58794d=_0x30452d;_0xbf1d90=![],_0x1aa1e3[_0x58794d(0x19a)](_0x3606e0),_0x299259['splice'](_0x299259[_0x58794d(0x171)](_0xb05a92=>_0xb05a92[_0x58794d(0x19e)]===_0x3606e0['setCode']),0x1),_0x438dd6['value']='',_0x3c745c(),_0x28c538();});});}function _0x3c745c(){var _0x375acb=_0x38cc78;_0x503dc7[_0x375acb(0x269)]='',_0x1aa1e3[_0x375acb(0x27e)](_0x118024=>{var _0x15cb6b=_0x375acb,_0x57d6eb=document[_0x15cb6b(0x29f)]('div');_0x57d6eb[_0x15cb6b(0x280)]=_0x15cb6b(0x20e),_0x57d6eb[_0x15cb6b(0x2a7)]=_0x118024[_0x15cb6b(0x1a6)];var _0x4ad3a9=document[_0x15cb6b(0x29f)](_0x15cb6b(0x166));_0x4ad3a9[_0x15cb6b(0x280)]=_0x15cb6b(0x1e9),_0x4ad3a9[_0x15cb6b(0x2a7)]='',_0x4ad3a9[_0x15cb6b(0x258)](_0x15cb6b(0x175),function(){var _0x4c27cb=_0x15cb6b;_0x299259['push'](_0x118024);const _0x35ca49=_0x1aa1e3[_0x4c27cb(0x171)](_0x5d811d=>_0x5d811d['setCode']===_0x118024[_0x4c27cb(0x19e)]);if(_0x35ca49>-0x1)_0x1aa1e3[_0x4c27cb(0x1ae)](_0x35ca49,0x1);_0x3c745c(),_0x28c538();}),_0x57d6eb[_0x15cb6b(0x1cc)](_0x4ad3a9),_0x503dc7[_0x15cb6b(0x1cc)](_0x57d6eb);}),_0x39bf30[_0x375acb(0x2b1)](new CustomEvent(_0x375acb(0x1c0),{'detail':_0x1aa1e3,'bubbles':!![]}));}return _0x438dd6['addEventListener']('focus',function(){var _0x1ebe3d=_0x38cc78;_0x8a3d78&&(clearTimeout(_0x8a3d78),_0x8a3d78=null),_0x101cf1[_0x1ebe3d(0x1ed)][_0x1ebe3d(0x2a0)](_0x1ebe3d(0x245));}),_0x438dd6['addEventListener'](_0x38cc78(0x23b),_0x28c538),_0x438dd6[_0x38cc78(0x258)](_0x38cc78(0x287),function(_0x5be27a){var _0x55c498=_0x38cc78;_0x5be27a[_0x55c498(0x28f)]==='Enter'&&(_0x5be27a[_0x55c498(0x2ab)](),_0x89a044());}),_0x438dd6[_0x38cc78(0x258)](_0x38cc78(0x27f),function(){if(_0xbf1d90)return;_0x8a3d78=setTimeout(()=>{_0x89a044(),_0x8a3d78=null;},0xc8);}),document[_0x38cc78(0x258)](_0x38cc78(0x175),function(_0x4fd082){var _0xd2f62=_0x38cc78;!_0x39bf30[_0xd2f62(0x288)](_0x4fd082['target'])&&_0x101cf1['classList'][_0xd2f62(0x1d3)](_0xd2f62(0x245));}),_0x28c538(),_0x1aa1e3;}function getLastCode(_0x182824){var _0x273629=_0x49a4ea;const _0x3fb092=_0x182824['map'](_0x4f61ea=>String(_0x4f61ea[_0x273629(0x1e7)])['trim']())['filter'](_0xf6de8a=>_0xf6de8a!=='');if(_0x3fb092[_0x273629(0x22b)]===0x0)return'';const _0x4797fc=_0x3fb092[_0x273629(0x1e6)](_0x4f5691=>/^\d+$/[_0x273629(0x257)](_0x4f5691));if(_0x4797fc){const _0x2b3390=_0x3fb092[_0x273629(0x268)](Number),_0x4c18fa=Math['max'](..._0x2b3390);return String(_0x4c18fa);}let _0x4a2b90;if(typeof Intl!==_0x273629(0x2a6)&&Intl[_0x273629(0x1be)]){const _0x25d04d=new Intl[(_0x273629(0x1be))](undefined,{'numeric':!![],'sensitivity':_0x273629(0x1ca)});_0x4a2b90=_0x3fb092[_0x273629(0x1a0)]()[_0x273629(0x1ad)](_0x25d04d[_0x273629(0x23a)]);}else{const _0x29ff2a=_0x3fb092[_0x273629(0x1e6)](_0x225da8=>/^\d+$/['test'](_0x225da8));_0x29ff2a?_0x4a2b90=_0x3fb092[_0x273629(0x268)](Number)[_0x273629(0x1ad)]((_0x264702,_0xa8f088)=>_0x264702-_0xa8f088)[_0x273629(0x268)](String):_0x4a2b90=_0x3fb092[_0x273629(0x1a0)]()[_0x273629(0x1ad)]();}return _0x4a2b90[_0x4a2b90[_0x273629(0x22b)]-0x1];}function getNextCode(_0x4b1264){var _0xfc6ce2=_0x49a4ea;const _0x256234=getLastCode(_0x4b1264);if(!_0x256234)return'';if(/^\d+$/['test'](_0x256234))return String(Number(_0x256234)+0x1);const _0x1a3a05=_0x256234['match'](/^([A-Za-z]*)(\d+)$/);if(_0x1a3a05){const [,_0x58f5ab,_0x59fe71]=_0x1a3a05,_0x554536=String(Number(_0x59fe71)+0x1)[_0xfc6ce2(0x1fc)](_0x59fe71[_0xfc6ce2(0x22b)],'0');return _0x58f5ab+_0x554536;}return _0x256234;}document['getElementById'](_0x49a4ea(0x24e))[_0x49a4ea(0x258)]('input',function(_0x5301ff){var _0x44cceb=_0x49a4ea;baseItem[_0x44cceb(0x16c)]=_0x5301ff[_0x44cceb(0x15f)]['value'];}),document[_0x49a4ea(0x197)](_0x49a4ea(0x26f))[_0x49a4ea(0x258)](_0x49a4ea(0x23b),function(_0x1079e5){var _0x45e46d=_0x49a4ea;baseItem[_0x45e46d(0x2a4)]=_0x1079e5['target'][_0x45e46d(0x2a5)];}),document[_0x49a4ea(0x197)](_0x49a4ea(0x17b))[_0x49a4ea(0x258)](_0x49a4ea(0x23b),function(_0x3910e5){var _0x4ff763=_0x49a4ea;baseItem[_0x4ff763(0x163)]=_0x3910e5['target'][_0x4ff763(0x2a5)];}),document['getElementById'](_0x49a4ea(0x2b2))[_0x49a4ea(0x258)](_0x49a4ea(0x2af),function(_0x26fdf5){var _0x89b169=_0x49a4ea;baseItem['setItemType']=_0x26fdf5[_0x89b169(0x15f)][_0x89b169(0x2a5)];}),document['getElementById'](_0x49a4ea(0x266))[_0x49a4ea(0x258)](_0x49a4ea(0x2af),function(_0x5cf62d){var _0x44d3ae=_0x49a4ea;baseItem[_0x44d3ae(0x250)]=_0x5cf62d[_0x44d3ae(0x15f)]['value'];const _0x38f148=_0x5cf62d[_0x44d3ae(0x15f)][_0x44d3ae(0x2a5)],_0x402c96=company[0x0][_0x44d3ae(0x26d)][_0x44d3ae(0x16e)](_0x5c32d0=>_0x5c32d0['setTaxId']==_0x38f148)?.[_0x44d3ae(0x293)]||0x0,_0x3f46b3=company[0x0][_0x44d3ae(0x26d)][_0x44d3ae(0x16e)](_0x10832f=>_0x10832f[_0x44d3ae(0x2a8)]==_0x38f148)?.['setImpuestoValue']||0x0;baseItem['setItemTaxCode']=_0x402c96,baseItem[_0x44d3ae(0x1df)]=_0x3f46b3;}),document[_0x49a4ea(0x197)](_0x49a4ea(0x29b))[_0x49a4ea(0x258)](_0x49a4ea(0x2af),function(_0x40ae5d){var _0x2a6324=_0x49a4ea;baseItem[_0x2a6324(0x291)]=_0x40ae5d[_0x2a6324(0x15f)]['checked'];}),document[_0x49a4ea(0x197)](_0x49a4ea(0x1ba))[_0x49a4ea(0x258)](_0x49a4ea(0x2af),function(_0x17ef07){var _0x5f3e71=_0x49a4ea;baseItem['setItemIsSold']=_0x17ef07[_0x5f3e71(0x15f)][_0x5f3e71(0x185)];}),document[_0x49a4ea(0x197)](_0x49a4ea(0x284))[_0x49a4ea(0x258)](_0x49a4ea(0x23b),function(_0x518aa1){var _0x587382=_0x49a4ea;baseItem['setItemCode']=_0x518aa1[_0x587382(0x15f)][_0x587382(0x2a5)];}),document[_0x49a4ea(0x197)]('inputItemBarCode')[_0x49a4ea(0x258)](_0x49a4ea(0x23b),function(_0x3fcc77){var _0x4286c9=_0x49a4ea;baseItem[_0x4286c9(0x28b)]=_0x3fcc77['target'][_0x4286c9(0x2a5)];}),document[_0x49a4ea(0x197)](_0x49a4ea(0x219))[_0x49a4ea(0x258)]('click',function(){addUnit(),updateUnitsArray();}),document[_0x49a4ea(0x197)](_0x49a4ea(0x284))['addEventListener'](_0x49a4ea(0x27f),function(){var _0x2f540b=_0x49a4ea;const _0x1d70e9=this[_0x2f540b(0x2a5)][_0x2f540b(0x235)]();if(_0x1d70e9==='')return;const _0x1060c4=products[_0x2f540b(0x232)](_0x53010c=>_0x53010c[_0x2f540b(0x1e7)]==_0x1d70e9),_0x4592f3=getLastCode(products);_0x1060c4?ntfShow(_0x2f540b(0x29c)+_0x4592f3,0x2,0x1):ntfShow(_0x2f540b(0x19f),0x1,0x1);});function removeImg(_0x243ee9){var _0x5ab1b2=_0x49a4ea;currentImages[_0x243ee9]=null;var _0x12f939=imgC['querySelector'](_0x5ab1b2(0x2a2)+_0x243ee9+'\x22]');_0x12f939[_0x5ab1b2(0x269)]='';var _0x4f585c=document[_0x5ab1b2(0x29f)](_0x5ab1b2(0x23b));_0x4f585c[_0x5ab1b2(0x1d6)]=_0x5ab1b2(0x1d8),_0x4f585c[_0x5ab1b2(0x1f3)]='image/*',_0x4f585c[_0x5ab1b2(0x1e4)][_0x5ab1b2(0x1ac)]=_0x5ab1b2(0x1c1);var _0x362787=document[_0x5ab1b2(0x29f)](_0x5ab1b2(0x166));_0x362787['textContent']='+',_0x12f939['appendChild'](_0x4f585c),_0x12f939['appendChild'](_0x362787),_0x12f939['addEventListener'](_0x5ab1b2(0x175),function(){var _0x35b3e4=_0x5ab1b2;_0x4f585c[_0x35b3e4(0x175)]();}),baseItem[_0x5ab1b2(0x194)]=currentImages[_0x5ab1b2(0x23f)](function(_0x2acf81){return _0x2acf81;});}function addUnit(_0x1d6210,_0x180f83,_0x1b765e,_0x1c830c,_0x261eab,_0x5add5c,_0x4d0aa8){var _0x2324ea=_0x49a4ea,_0x456614=uniqueValuesArray(_0x2324ea(0x227),_0x2324ea(0x162),myCompany['setUnits']);_0x1d6210=_0x1d6210||'',_0x180f83=_0x180f83||_0x456614[0x3a]&&_0x456614[0x3a][_0x2324ea(0x19e)]||'',_0x1b765e=_0x1b765e!==undefined?_0x1b765e:0x1,_0x1c830c=!!_0x1c830c,_0x261eab=_0x261eab||'',_0x5add5c=_0x5add5c||'';var _0x5b132d=unitCount++,_0x4d1a94=document[_0x2324ea(0x29f)](_0x2324ea(0x1c3));_0x4d1a94[_0x2324ea(0x26b)][_0x2324ea(0x178)]=_0x5b132d,_0x4d1a94['dataset'][_0x2324ea(0x18f)]=_0x1c830c,_0x4d1a94[_0x2324ea(0x269)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x5b132d+_0x2324ea(0x20c)+_0x1d6210+_0x2324ea(0x204)+_0x5b132d+_0x2324ea(0x271)+_0x5b132d+'\x22\x20value=\x22'+_0x1b765e+'\x22\x20'+(_0x1c830c?_0x2324ea(0x299):'')+_0x2324ea(0x276)+_0x5b132d+_0x2324ea(0x20c)+_0x261eab+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0x5b132d+_0x2324ea(0x20c)+_0x5add5c+_0x2324ea(0x243)+(_0x1c830c?_0x2324ea(0x23d):'')+_0x2324ea(0x297),fillSelect(_0x4d1a94['querySelector'](_0x2324ea(0x1b4)),_0x456614,_0x2324ea(0x19e),_0x2324ea(0x1a6)),_0x4d1a94[_0x2324ea(0x29a)](_0x2324ea(0x1b4))['value']=_0x180f83,[_0x2324ea(0x1f2),_0x2324ea(0x289),'eqInput',_0x2324ea(0x195),_0x2324ea(0x1f0)][_0x2324ea(0x27e)](function(_0x1df9af){var _0x25bd51=_0x2324ea;_0x4d1a94[_0x25bd51(0x29a)]('.'+_0x1df9af)[_0x25bd51(0x258)]('input',function(){var _0x40285d=_0x4d0aa8?+_0x4d0aa8['id']['split']('_')[0x1]:null;if(_0x4d0aa8)updateVariantUnits(_0x40285d);else updateUnitsArray();});}),_0x4d1a94['querySelector']('.removeUnit')[_0x2324ea(0x258)](_0x2324ea(0x175),function(){var _0xc17432=_0x2324ea;_0x4d1a94[_0xc17432(0x2a0)]();var _0x31ef43=_0x4d0aa8?+_0x4d0aa8['id'][_0xc17432(0x2bb)]('_')[0x1]:null;if(_0x4d0aa8)updateVariantUnits(_0x31ef43);else updateUnitsArray();});var _0x3c8bbb=_0x4d0aa8||document[_0x2324ea(0x197)](_0x2324ea(0x241));_0x3c8bbb[_0x2324ea(0x1cc)](_0x4d1a94);}function containerIdx(_0x1b656d){var _0x7575d3=_0x49a4ea;return+_0x1b656d['id'][_0x7575d3(0x2bb)]('_')[0x1];}function updateUnitsArray(){var _0xfba647=_0x49a4ea,_0x144559=[],_0x231afd=Array['from'](document[_0xfba647(0x29e)]('#newItem_units_container\x20>\x20div')),_0x2ed335=_0x231afd['find'](_0x3ed285=>_0x3ed285[_0xfba647(0x26b)][_0xfba647(0x18f)]===_0xfba647(0x24c)),_0x3e21ed=_0x2ed335?+_0x2ed335[_0xfba647(0x29a)](_0xfba647(0x260))[_0xfba647(0x2a5)]:0x1;_0x231afd['forEach'](function(_0x444e71){var _0x4d916d=_0xfba647,_0x58f3c4=+_0x444e71[_0x4d916d(0x29a)]('.eqInput')[_0x4d916d(0x2a5)]||0x0,_0x4033e7=+_0x444e71[_0x4d916d(0x29a)](_0x4d916d(0x23e))['value']||0x0,_0x293a53=+_0x444e71[_0x4d916d(0x29a)](_0x4d916d(0x1bf))[_0x4d916d(0x2a5)]||0x0;_0x144559[_0x4d916d(0x19a)]({'setAlias':_0x444e71[_0x4d916d(0x29a)]('.unitAlias')[_0x4d916d(0x2a5)][_0x4d916d(0x235)](),'setUnitCode':_0x444e71[_0x4d916d(0x29a)]('.unitSelect')[_0x4d916d(0x2a5)],'setEquivalence':_0x58f3c4,'setFactor':_0x444e71[_0x4d916d(0x26b)][_0x4d916d(0x18f)]===_0x4d916d(0x24c)?0x1:_0x58f3c4==_0x3e21ed?0x1:_0x58f3c4<_0x3e21ed?_0x3e21ed/_0x58f3c4:_0x58f3c4/_0x3e21ed,'setPrice':_0x4033e7,'setCost':_0x293a53,'setDefault':_0x444e71[_0x4d916d(0x26b)][_0x4d916d(0x18f)]===_0x4d916d(0x24c)?0x1:0x0});}),baseItem[_0xfba647(0x187)]=_0x144559;}function updateBranches(){var _0x45d188=_0x49a4ea,_0x39185d=[];document[_0x45d188(0x29e)](_0x45d188(0x28d))[_0x45d188(0x27e)](function(_0x289b00){var _0x520942=_0x45d188,_0x7b1d92=_0x289b00[_0x520942(0x29a)](_0x520942(0x25d));if(_0x7b1d92[_0x520942(0x185)]){var _0x308798=+_0x7b1d92[_0x520942(0x26b)]['id'],_0x18496a=+_0x289b00[_0x520942(0x29a)](_0x520942(0x222))[_0x520942(0x2a5)],_0x1b4875=+_0x289b00[_0x520942(0x29a)](_0x520942(0x1b2))[_0x520942(0x2a5)];_0x39185d[_0x520942(0x19a)]({'setWarehouseCode':_0x308798,'setStockInitial':_0x18496a,'setStockMinimum':_0x1b4875});}}),baseItem[_0x45d188(0x295)]=_0x39185d;}document[_0x49a4ea(0x197)]('newItem_btn_addProdItem')[_0x49a4ea(0x258)](_0x49a4ea(0x175),function(){var _0x595629=_0x49a4ea,_0x4d1dcc=Date[_0x595629(0x173)](),_0x5993a5=document[_0x595629(0x29f)](_0x595629(0x1c3));_0x5993a5[_0x595629(0x26b)][_0x595629(0x178)]=_0x4d1dcc,_0x5993a5[_0x595629(0x269)]=_0x595629(0x1d7)+_0x4d1dcc+_0x595629(0x201)+_0x4d1dcc+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC['appendChild'](_0x5993a5),initProdSearch(_0x5993a5[_0x595629(0x29a)](_0x595629(0x28c))),_0x5993a5[_0x595629(0x29a)]('.removeProd')[_0x595629(0x258)](_0x595629(0x175),function(){_0x5993a5['remove'](),updateProdItems();}),_0x5993a5['querySelector'](_0x595629(0x1fb))[_0x595629(0x258)](_0x595629(0x23b),updateProdItems),document[_0x595629(0x197)](_0x595629(0x25b))[_0x595629(0x1ed)]['toggle']('newItem_title_table',!![]),document[_0x595629(0x197)](_0x595629(0x25b))[_0x595629(0x1ed)][_0x595629(0x25c)]('newItem_hidden',![]);});function initProdSearch(_0x5ef162,_0x36c18b){var _0x114525=_0x49a4ea,_0x38ceae=_0x5ef162[_0x114525(0x29a)]('.prodInput'),_0x56b21f=_0x5ef162['querySelector'](_0x114525(0x225)),_0x52bc83=_0x36c18b||null;if(_0x36c18b)_0x38ceae[_0x114525(0x2a5)]=_0x36c18b[_0x114525(0x20f)];_0x38ceae[_0x114525(0x258)]('input',function(){var _0x1fae29=_0x114525,_0x54b977=_0x38ceae[_0x1fae29(0x2a5)][_0x1fae29(0x2aa)]()[_0x1fae29(0x235)]();_0x56b21f[_0x1fae29(0x269)]='';if(!_0x54b977)return;products[_0x1fae29(0x23f)](_0x303392=>_0x303392[_0x1fae29(0x27d)][_0x1fae29(0x2aa)]()[_0x1fae29(0x25e)](_0x54b977))['slice'](0x0,0x14)[_0x1fae29(0x27e)](function(_0x1203fd){var _0x419081=_0x1fae29,_0x27fb9a=document[_0x419081(0x29f)](_0x419081(0x1c3));_0x27fb9a[_0x419081(0x2a7)]=_0x1203fd[_0x419081(0x27d)],_0x27fb9a[_0x419081(0x26b)]['id']=_0x1203fd['id'],_0x27fb9a[_0x419081(0x26b)][_0x419081(0x20f)]=_0x1203fd[_0x419081(0x27d)],_0x56b21f[_0x419081(0x1cc)](_0x27fb9a),_0x27fb9a[_0x419081(0x258)]('click',function(){var _0x4c78ed=_0x419081;_0x52bc83={'id':_0x1203fd['id'],'name':_0x1203fd[_0x4c78ed(0x27d)]},_0x38ceae[_0x4c78ed(0x2a5)]=_0x1203fd['setDescripcion'],_0x56b21f['innerHTML']='';var _0x537812=_0x5ef162[_0x4c78ed(0x1d4)](_0x4c78ed(0x298));if(_0x537812){var _0x451697=+_0x537812['id'][_0x4c78ed(0x2bb)]('_')[0x1];updateVariantComponents(_0x451697);}else updateProdItems();});});}),_0x38ceae[_0x114525(0x258)](_0x114525(0x255),function(){var _0x54763d=_0x114525;_0x56b21f['classList'][_0x54763d(0x2a0)](_0x54763d(0x245));}),document[_0x114525(0x258)]('click',function(_0x112698){var _0x252b60=_0x114525;if(!_0x5ef162[_0x252b60(0x288)](_0x112698['target']))_0x56b21f['classList']['add'](_0x252b60(0x245));}),Object[_0x114525(0x282)](_0x5ef162,_0x114525(0x19c),{'get':()=>_0x52bc83});}function updateProdItems(){var _0x1343fc=_0x49a4ea,_0x3a052a=[];Array[_0x1343fc(0x17e)](prodC[_0x1343fc(0x174)])[_0x1343fc(0x27e)](function(_0x27cd00){var _0x457e4b=_0x1343fc,_0x239c00=_0x27cd00[_0x457e4b(0x29a)](_0x457e4b(0x28c));if(!_0x239c00)return;var _0xa62c39=_0x27cd00[_0x457e4b(0x29a)]('.prodQty'),_0x2f9211=_0x239c00[_0x457e4b(0x19c)];_0x2f9211&&_0x3a052a[_0x457e4b(0x19a)]({'setItemId':_0x2f9211['id'],'setDescripcion':_0x2f9211[_0x457e4b(0x20f)],'setCantidad':+_0xa62c39[_0x457e4b(0x2a5)]});}),baseItem['setItemComponents']=_0x3a052a,_0x3a052a[_0x1343fc(0x22b)]===0x0&&(document[_0x1343fc(0x197)](_0x1343fc(0x25b))[_0x1343fc(0x1ed)]['toggle']('newItem_title_table',![]),document[_0x1343fc(0x197)](_0x1343fc(0x25b))[_0x1343fc(0x1ed)][_0x1343fc(0x25c)](_0x1343fc(0x245),!![]));}document['getElementById'](_0x49a4ea(0x1a1))[_0x49a4ea(0x258)]('click',function(){var _0x168cf4=_0x49a4ea,_0x2c33e0=vgCount++,_0x257f2b=document[_0x168cf4(0x29f)](_0x168cf4(0x1c3));_0x257f2b[_0x168cf4(0x26b)][_0x168cf4(0x178)]=_0x2c33e0,_0x257f2b['innerHTML']='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x2c33e0+'\x22>'+_0x168cf4(0x26c)+_0x2c33e0+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC['appendChild'](_0x257f2b),_0x257f2b[_0x168cf4(0x29a)](_0x168cf4(0x1ce))['addEventListener'](_0x168cf4(0x27f),generateVariants),_0x257f2b[_0x168cf4(0x29a)](_0x168cf4(0x2b6))[_0x168cf4(0x258)](_0x168cf4(0x27f),generateVariants),_0x257f2b['querySelector']('.removeGroup')['addEventListener'](_0x168cf4(0x175),function(){var _0x56254e=_0x168cf4;_0x257f2b[_0x56254e(0x2a0)](),generateVariants();});});function generateVariants(){var _0x4bf15c=_0x49a4ea,_0x3ae340=[];vgC['querySelectorAll'](_0x4bf15c(0x1c3))[_0x4bf15c(0x27e)](function(_0x5f317c){var _0x243b02=_0x4bf15c,_0x42eb9c=_0x5f317c['querySelector'](_0x243b02(0x1ce))[_0x243b02(0x2a5)][_0x243b02(0x235)](),_0xe5da36=_0x5f317c['querySelector']('.vgVals')[_0x243b02(0x2a5)]['split'](',')['map'](_0x69b128=>_0x69b128['trim']())[_0x243b02(0x23f)](_0xa25063=>_0xa25063);if(_0x42eb9c&&_0xe5da36[_0x243b02(0x22b)])_0x3ae340[_0x243b02(0x19a)]({'name':_0x42eb9c,'vals':_0xe5da36});});var _0x26dfc2=[{}];_0x3ae340[_0x4bf15c(0x27e)](function(_0x2fad6c){_0x26dfc2=_0x26dfc2['flatMap'](function(_0x5e2d93){var _0x4b8388=_0xb878;return _0x2fad6c[_0x4b8388(0x1e8)]['map'](function(_0x1fa9d7){var _0x376d55=_0x4b8388,_0xa06b44=Object[_0x376d55(0x1dc)]({},_0x5e2d93);return _0xa06b44[_0x2fad6c['name']]=_0x1fa9d7,_0xa06b44;});});}),newItems=[],varContainer[_0x4bf15c(0x269)]='',_0x26dfc2[_0x4bf15c(0x27e)](function(_0x40b2dd,_0x3732fe){var _0x16fb96=_0x4bf15c,_0x450c3a=JSON[_0x16fb96(0x176)](JSON[_0x16fb96(0x24a)](baseItem));_0x450c3a['setItemVariantValues']=_0x40b2dd,_0x450c3a[_0x16fb96(0x21c)]=baseItem[_0x16fb96(0x16c)]+'\x20'+Object['entries'](_0x40b2dd)[_0x16fb96(0x268)](_0x58d953=>_0x58d953[0x0]+'\x20'+_0x58d953[0x1])[_0x16fb96(0x1f8)]('\x20'),newItems[_0x16fb96(0x19a)](_0x450c3a);var _0xf00ff4=document[_0x16fb96(0x29f)](_0x16fb96(0x1c3));_0xf00ff4[_0x16fb96(0x1ed)]['add'](_0x16fb96(0x1bb)),_0xf00ff4[_0x16fb96(0x26b)]['idx']=_0x3732fe,_0xf00ff4[_0x16fb96(0x269)]=_0x16fb96(0x1bd)+_0x450c3a[_0x16fb96(0x21c)]+_0x16fb96(0x277)+_0x450c3a[_0x16fb96(0x1a4)]+_0x16fb96(0x217)+_0x450c3a[_0x16fb96(0x28b)]+_0x16fb96(0x165)+_0x450c3a[_0x16fb96(0x163)]+_0x16fb96(0x20d)+_0x3732fe+_0x16fb96(0x24d)+_0x3732fe+_0x16fb96(0x2a1)+_0x3732fe+_0x16fb96(0x2a9),varContainer['appendChild'](_0xf00ff4),_0xf00ff4['querySelector'](_0x16fb96(0x290))[_0x16fb96(0x258)]('input',_0x55c173=>newItems[_0x3732fe]['setItemCode']=_0x55c173[_0x16fb96(0x15f)][_0x16fb96(0x2a5)]),_0xf00ff4[_0x16fb96(0x29a)](_0x16fb96(0x1ff))['addEventListener'](_0x16fb96(0x23b),_0x1982ac=>newItems[_0x3732fe]['setItemBarCode']=_0x1982ac[_0x16fb96(0x15f)][_0x16fb96(0x2a5)]),_0xf00ff4[_0x16fb96(0x29a)](_0x16fb96(0x251))[_0x16fb96(0x258)](_0x16fb96(0x2af),_0x3164d3=>newItems[_0x3732fe]['setItemDateExpiry']=_0x3164d3[_0x16fb96(0x15f)][_0x16fb96(0x2a5)]),initVariantUnits(_0x3732fe),initVariantComponents(_0x3732fe),initVariantBranches(_0x3732fe),_0xf00ff4['querySelector'](_0x16fb96(0x184))[_0x16fb96(0x258)](_0x16fb96(0x175),function(){var _0x54d4bf=_0x16fb96,_0x387343=+_0xf00ff4[_0x54d4bf(0x26b)][_0x54d4bf(0x178)];newItems[_0x54d4bf(0x1ae)](_0x387343,0x1),_0xf00ff4[_0x54d4bf(0x2a0)](),document[_0x54d4bf(0x29e)](_0x54d4bf(0x189))[_0x54d4bf(0x27e)](function(_0x49e9c0,_0x1184ae){var _0x51d88c=_0x54d4bf;_0x49e9c0[_0x51d88c(0x26b)][_0x51d88c(0x178)]=_0x1184ae;});});});if(newItems[_0x4bf15c(0x22b)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x37b3c4){var _0x47eb6f=_0x49a4ea,_0x184fdb=document[_0x47eb6f(0x197)](_0x47eb6f(0x1d0)+_0x37b3c4+_0x47eb6f(0x188)),_0x5c426a=[];Array[_0x47eb6f(0x17e)](_0x184fdb[_0x47eb6f(0x174)])[_0x47eb6f(0x27e)](function(_0x9d7393){var _0x482af6=_0x47eb6f,_0xca16d2=+_0x9d7393['querySelector']('.eqInput')[_0x482af6(0x2a5)]||0x0,_0x538cca=_0x9d7393[_0x482af6(0x29a)](_0x482af6(0x1eb))['value'][_0x482af6(0x235)](),_0x38d98f=_0x9d7393[_0x482af6(0x29a)]('.unitSelect')[_0x482af6(0x2a5)],_0x1d162a=+_0x9d7393[_0x482af6(0x29a)](_0x482af6(0x23e))[_0x482af6(0x2a5)]||0x0,_0x2a6e1d=+_0x9d7393['querySelector'](_0x482af6(0x1bf))['value']||0x0,_0x3af240=_0x9d7393[_0x482af6(0x26b)][_0x482af6(0x18f)]===_0x482af6(0x24c),_0x562134=+_0x184fdb[_0x482af6(0x29a)](_0x482af6(0x228))[_0x482af6(0x2a5)]||0x1,_0x5f4731=_0x3af240?0x1:_0xca16d2==_0x562134?0x1:_0xca16d2<_0x562134?_0x562134/_0xca16d2:_0xca16d2/_0x562134;_0x5c426a[_0x482af6(0x19a)]({'setAlias':_0x538cca,'setUnitCode':_0x38d98f,'setEquivalence':_0xca16d2,'setFactor':_0x5f4731,'setPrice':_0x1d162a,'setCost':_0x2a6e1d,'setDefault':_0x3af240?0x1:0x0});}),newItems[_0x37b3c4][_0x47eb6f(0x187)]=_0x5c426a;}function initVariantUnits(_0x156b13){var _0x39d1e1=_0x49a4ea,_0x291738=document[_0x39d1e1(0x197)]('variant_'+_0x156b13+_0x39d1e1(0x188));_0x291738['innerHTML']='',newItems[_0x156b13][_0x39d1e1(0x187)][_0x39d1e1(0x27e)](function(_0x4f54ac){var _0x2c7832=_0x39d1e1;addUnit(_0x4f54ac[_0x2c7832(0x2b3)],_0x4f54ac[_0x2c7832(0x227)],_0x4f54ac[_0x2c7832(0x2b8)],_0x4f54ac[_0x2c7832(0x203)],_0x4f54ac[_0x2c7832(0x161)],_0x4f54ac['setCost'],_0x291738);}),_0x291738['parentNode'][_0x39d1e1(0x29a)](_0x39d1e1(0x1fd))[_0x39d1e1(0x258)](_0x39d1e1(0x175),function(){addUnit('','',0x1,![],'','',_0x291738),updateVariantUnits(_0x156b13);});}function updateVariantUnits(_0x40b6ab){var _0xf0b8f4=_0x49a4ea,_0x4e27c6=document[_0xf0b8f4(0x197)](_0xf0b8f4(0x1d0)+_0x40b6ab+_0xf0b8f4(0x188)),_0x1044e6=_0x4e27c6['querySelector'](_0xf0b8f4(0x228)),_0x13ada5=_0x1044e6?+_0x1044e6[_0xf0b8f4(0x2a5)]:0x1,_0x5e56f0=Array[_0xf0b8f4(0x17e)](_0x4e27c6['children'])[_0xf0b8f4(0x268)](function(_0x1b8f05){var _0x2ff893=_0xf0b8f4,_0x283b33=_0x1b8f05[_0x2ff893(0x29a)](_0x2ff893(0x1eb))[_0x2ff893(0x2a5)][_0x2ff893(0x235)](),_0x516f23=_0x1b8f05['querySelector']('.unitSelect')[_0x2ff893(0x2a5)],_0x5983ae=+_0x1b8f05[_0x2ff893(0x29a)]('.eqInput')[_0x2ff893(0x2a5)]||0x0,_0x3e1223=+_0x1b8f05[_0x2ff893(0x29a)](_0x2ff893(0x23e))[_0x2ff893(0x2a5)]||0x0,_0x28790d=+_0x1b8f05[_0x2ff893(0x29a)](_0x2ff893(0x1bf))['value']||0x0,_0x396078=_0x1b8f05[_0x2ff893(0x26b)][_0x2ff893(0x18f)]===_0x2ff893(0x24c);return{'setAlias':_0x283b33,'setUnitCode':_0x516f23,'setEquivalence':_0x5983ae,'setFactor':_0x396078?0x1:_0x5983ae==_0x13ada5?0x1:_0x5983ae<_0x13ada5?_0x13ada5/_0x5983ae:_0x5983ae/_0x13ada5,'setPrice':_0x3e1223,'setCost':_0x28790d,'setDefault':_0x396078?0x1:0x0};});newItems[_0x40b6ab][_0xf0b8f4(0x187)]=_0x5e56f0;}function initVariantComponents(_0x14b652){var _0x57d9e7=_0x49a4ea,_0x38feb8=document[_0x57d9e7(0x197)](_0x57d9e7(0x1d0)+_0x14b652+_0x57d9e7(0x1d5));_0x38feb8['innerHTML']='',newItems[_0x14b652][_0x57d9e7(0x1b3)][_0x57d9e7(0x27e)](function(_0x4537d9){var _0x512281=_0x57d9e7,_0x108f3c=document[_0x512281(0x29f)](_0x512281(0x1c3)),_0x440550=Date[_0x512281(0x173)]();_0x108f3c[_0x512281(0x26b)][_0x512281(0x178)]=_0x440550,_0x108f3c[_0x512281(0x269)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x440550+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x4537d9[_0x512281(0x230)]+_0x512281(0x1ec),_0x38feb8[_0x512281(0x1cc)](_0x108f3c),initProdSearch(_0x108f3c[_0x512281(0x29a)](_0x512281(0x28c)),{'id':_0x4537d9[_0x512281(0x242)],'name':_0x4537d9['setDescripcion']}),_0x108f3c[_0x512281(0x29a)](_0x512281(0x1fb))[_0x512281(0x258)]('input',function(){updateVariantComponents(_0x14b652);}),_0x108f3c[_0x512281(0x29a)](_0x512281(0x18a))['addEventListener']('click',function(){var _0x4b861b=_0x512281;_0x108f3c[_0x4b861b(0x2a0)](),updateVariantComponents(_0x14b652);});}),_0x38feb8[_0x57d9e7(0x1a2)][_0x57d9e7(0x29a)](_0x57d9e7(0x1b6))[_0x57d9e7(0x258)](_0x57d9e7(0x175),function(){var _0x10e3c8=_0x57d9e7,_0x4233ef=document[_0x10e3c8(0x29f)](_0x10e3c8(0x1c3)),_0x498d5f=Date['now']();_0x4233ef[_0x10e3c8(0x26b)][_0x10e3c8(0x178)]=_0x498d5f,_0x4233ef[_0x10e3c8(0x269)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x498d5f+_0x10e3c8(0x17d),_0x38feb8[_0x10e3c8(0x1cc)](_0x4233ef),initProdSearch(_0x4233ef['querySelector'](_0x10e3c8(0x28c))),_0x4233ef[_0x10e3c8(0x29a)](_0x10e3c8(0x1fb))[_0x10e3c8(0x258)](_0x10e3c8(0x23b),function(){updateVariantComponents(_0x14b652);}),_0x4233ef[_0x10e3c8(0x29a)](_0x10e3c8(0x18a))['addEventListener'](_0x10e3c8(0x175),function(){var _0x496513=_0x10e3c8;_0x4233ef[_0x496513(0x2a0)](),updateVariantComponents(_0x14b652);});});}function updateVariantComponents(_0x401acd){var _0x10f43d=_0x49a4ea,_0x2bf070=document[_0x10f43d(0x197)]('variant_'+_0x401acd+_0x10f43d(0x1d5)),_0x5b7b52=Array['from'](_0x2bf070['children'])['map'](function(_0x25786e){var _0x3b716d=_0x10f43d,_0x33a21e=_0x25786e[_0x3b716d(0x29a)](_0x3b716d(0x28c)),_0x474102=_0x33a21e[_0x3b716d(0x19c)],_0x887e7e=+_0x25786e[_0x3b716d(0x29a)](_0x3b716d(0x1fb))[_0x3b716d(0x2a5)]||0x0;return _0x474102?{'setItemId':_0x474102['id'],'setDescripcion':_0x474102[_0x3b716d(0x20f)],'setCantidad':_0x887e7e}:null;})[_0x10f43d(0x23f)](_0x466f7e=>_0x466f7e);newItems[_0x401acd][_0x10f43d(0x1b3)]=_0x5b7b52;}function initVariantBranches(_0x570cfe){var _0xff232f=_0x49a4ea;const _0xcf7c50=getAllWarehouses();var _0x2aacdb=document[_0xff232f(0x197)](_0xff232f(0x1d0)+_0x570cfe+_0xff232f(0x1ab));_0x2aacdb[_0xff232f(0x269)]='',newItems[_0x570cfe][_0xff232f(0x295)][_0xff232f(0x27e)](function(_0x35c697){var _0xdf3969=_0xff232f,_0x858351=_0xcf7c50[_0xdf3969(0x16e)](_0x1949e0=>_0x1949e0[_0xdf3969(0x283)]==_0x35c697[_0xdf3969(0x26e)]),_0x4aa219=document[_0xdf3969(0x29f)](_0xdf3969(0x1c3));_0x4aa219['innerHTML']=_0xdf3969(0x1c6)+_0x35c697[_0xdf3969(0x26e)]+_0xdf3969(0x1f5)+_0x858351[_0xdf3969(0x1cd)]+_0xdf3969(0x27a)+_0x35c697[_0xdf3969(0x26e)]+_0xdf3969(0x20c)+_0x35c697[_0xdf3969(0x17a)]+_0xdf3969(0x1aa)+_0x35c697[_0xdf3969(0x26e)]+'\x22\x20value=\x22'+_0x35c697[_0xdf3969(0x1d9)]+'\x22>',_0x2aacdb[_0xdf3969(0x1cc)](_0x4aa219),_0x4aa219[_0xdf3969(0x29e)](_0xdf3969(0x23b))[_0xdf3969(0x27e)](function(_0x4b24b2){var _0x31dd3a=_0xdf3969;_0x4b24b2[_0x31dd3a(0x258)]('input',function(){updateVariantBranches(_0x570cfe);});});}),_0xcf7c50[_0xff232f(0x27e)](function(_0x326d74){var _0x240f3d=_0xff232f;if(!newItems[_0x570cfe][_0x240f3d(0x295)][_0x240f3d(0x16e)](_0x5a85eb=>_0x5a85eb[_0x240f3d(0x26e)]===_0x326d74[_0x240f3d(0x283)])){var _0x565fcf=document['createElement']('div');_0x565fcf[_0x240f3d(0x269)]=_0x240f3d(0x1c6)+_0x326d74[_0x240f3d(0x283)]+_0x240f3d(0x1da)+_0x326d74['setWarehouseName']+_0x240f3d(0x27a)+_0x326d74[_0x240f3d(0x283)]+_0x240f3d(0x1aa)+_0x326d74[_0x240f3d(0x283)]+'\x22>',_0x2aacdb[_0x240f3d(0x1cc)](_0x565fcf),_0x565fcf[_0x240f3d(0x29e)]('input')[_0x240f3d(0x27e)](function(_0x5cd9a0){var _0x51c6a4=_0x240f3d;_0x5cd9a0[_0x51c6a4(0x258)]('input',function(){updateVariantBranches(_0x570cfe);});});}});}function updateVariantBranches(_0x493fed){var _0x532e4d=_0x49a4ea,_0x4a4148=document[_0x532e4d(0x197)]('variant_'+_0x493fed+_0x532e4d(0x1ab)),_0x24f8f5=[];_0x4a4148[_0x532e4d(0x29e)](_0x532e4d(0x1c3))[_0x532e4d(0x27e)](function(_0x1b8bcb){var _0x1dad84=_0x532e4d,_0x9b5451=_0x1b8bcb[_0x1dad84(0x29a)]('.branchChk');if(_0x9b5451[_0x1dad84(0x185)]){var _0x59de34=+_0x9b5451[_0x1dad84(0x26b)]['id'],_0x46d1ee=+_0x1b8bcb[_0x1dad84(0x29a)]('.branchInit')['value']||0x0,_0x3b17a6=+_0x1b8bcb['querySelector']('.branchMin')[_0x1dad84(0x2a5)]||0x0;_0x24f8f5[_0x1dad84(0x19a)]({'setWarehouseCode':_0x59de34,'setStockInitial':_0x46d1ee,'setStockMinimum':_0x3b17a6});}}),newItems[_0x493fed][_0x532e4d(0x295)]=_0x24f8f5;}async function storeOfflineProduct(_0x474088){var _0x57a17b=_0x49a4ea;try{const _0x4c81ae=await createCartStore(''),_0x153396=_0x4c81ae[_0x57a17b(0x21a)](_0x57a17b(0x17c),_0x57a17b(0x164)),_0xa64c73=_0x153396[_0x57a17b(0x1f6)](_0x57a17b(0x17c));_0xa64c73['add'](_0x474088),_0x153396['oncomplete']=()=>{var _0x21fc9e=_0x57a17b;console[_0x21fc9e(0x244)](_0x21fc9e(0x233));},_0x153396['onerror']=_0x1b6114=>{var _0x5abf77=_0x57a17b;console[_0x5abf77(0x180)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0x1b6114[_0x5abf77(0x15f)][_0x5abf77(0x180)]);};}catch(_0x3ce5a9){console['error'](_0x57a17b(0x246),_0x3ce5a9);}}document[_0x49a4ea(0x197)](_0x49a4ea(0x1f4))[_0x49a4ea(0x258)](_0x49a4ea(0x175),async function(_0x817b4d){var _0x3c8a4c=_0x49a4ea;_0x817b4d[_0x3c8a4c(0x2ab)]();const _0x2c4708=document[_0x3c8a4c(0x197)](_0x3c8a4c(0x284)),_0x150065=document['getElementById'](_0x3c8a4c(0x1e2))[_0x3c8a4c(0x2a5)];if(!_0x2c4708[_0x3c8a4c(0x2a5)][_0x3c8a4c(0x235)]()&&_0x150065==0x0){ntfShow(_0x3c8a4c(0x169),0x2,0x1);return;}_0x150065==0x1&&(_0x2c4708[_0x3c8a4c(0x2a5)]='',baseItem[_0x3c8a4c(0x1a4)]='');const _0x4ac9ee=document[_0x3c8a4c(0x197)](_0x3c8a4c(0x24e));if(!_0x4ac9ee['value']['trim']()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x1a6905=document[_0x3c8a4c(0x197)]('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems[_0x3c8a4c(0x22b)]===0x0&&(newItems=[baseItem]);const _0x4894b8=document[_0x3c8a4c(0x197)](_0x3c8a4c(0x240))[_0x3c8a4c(0x2a5)],_0x5038ad=window_options[_0x4894b8]['setMoneda'],_0x2abe24=[];newItems['forEach'](_0xf2a192=>{const _0x1be31d=generateNumericUniqId();_0xf2a192['setItemUnits']['forEach'](_0x4dd09a=>{var _0x283162=_0xb878;const _0x4e0dbe=generateNumericUniqId();_0x4dd09a['setItemUnitId']=_0x4e0dbe;const _0x123c8e={'id':_0x4e0dbe,'setIdProducto':_0x1be31d,'setCodProducto':_0xf2a192[_0x283162(0x1a4)],'setDescripcion':_0xf2a192[_0x283162(0x16c)],'setItemDescription':_0xf2a192[_0x283162(0x2a4)],'setBatchExpirationDate':_0xf2a192[_0x283162(0x163)],'setBatchName':'','setCategoria':_0xf2a192[_0x283162(0x249)][0x0]||'','setMarca':_0xf2a192[_0x283162(0x191)][0x0]||'','setConversionFactor':parseFloat(_0x4dd09a[_0x283162(0x18b)]),'setImages':[],'setImg':_0x283162(0x1c7),'setInventariable':0x1,'setItemIsBought':_0xf2a192[_0x283162(0x291)]?0x1:0x0,'setItemIsSold':_0xf2a192[_0x283162(0x274)]?0x1:0x0,'setPorcentajeIgv':_0xf2a192[_0x283162(0x1df)],'setPrinters':[],'setTaxId':_0xf2a192[_0x283162(0x250)],'setTipAfeIgv':_0xf2a192[_0x283162(0x259)],'setUnidad':_0x4dd09a[_0x283162(0x227)],'setUnidadCodigo':_0x4dd09a[_0x283162(0x227)],'setItemUnitAlias':_0x4dd09a[_0x283162(0x2b3)],'currency_data':[{'currency':_0x5038ad,'setMtoPrecioCostoUnitario':_0x4dd09a[_0x283162(0x281)],'setMtoPrecioUnitario':_0x4dd09a[_0x283162(0x161)],'setPriceLists':[]}],'sucursales':_0xf2a192[_0x283162(0x295)][_0x283162(0x268)](_0x43f06e=>({'setIdSucursal':_0x43f06e[_0x283162(0x26e)],'setSucursalStock':_0x43f06e[_0x283162(0x17a)]['toString'](),'setWarehouseStockMin':_0x43f06e[_0x283162(0x1d9)][_0x283162(0x1a9)]()})),'setItemFree':_0xf2a192[_0x283162(0x1e2)],'setItemBarCode':_0xf2a192[_0x283162(0x28b)],'setItemBrands':_0xf2a192[_0x283162(0x191)]['slice'](),'setItemCategories':_0xf2a192[_0x283162(0x249)][_0x283162(0x1a0)](),'setItemComponents':_0xf2a192['setItemComponents'][_0x283162(0x268)](_0x4fe4ff=>({..._0x4fe4ff})),'setItemImages':_0xf2a192[_0x283162(0x194)][_0x283162(0x1a0)](),'setItemVariantName':_0xf2a192[_0x283162(0x21c)],'setItemVariantValues':{..._0xf2a192[_0x283162(0x226)]}};_0x2abe24[_0x283162(0x19a)](_0x123c8e),(_0x1a6905[_0x283162(0x185)]||_0x150065==0x1)&&addToCart(_0x123c8e);});}),console[_0x3c8a4c(0x244)](_0x3c8a4c(0x202),newItems),await finalizeImport(_0x2abe24,newItems,![]);}),[_0x49a4ea(0x22e),_0x49a4ea(0x21e)][_0x49a4ea(0x27e)](_0x5bd11b=>dropZone[_0x49a4ea(0x258)](_0x5bd11b,_0x1df155=>{var _0x2f83b1=_0x49a4ea;_0x1df155['preventDefault'](),dropZone[_0x2f83b1(0x1ed)][_0x2f83b1(0x1d3)](_0x2f83b1(0x21e));})),[_0x49a4ea(0x1bc),_0x49a4ea(0x279)][_0x49a4ea(0x27e)](_0x510064=>dropZone[_0x49a4ea(0x258)](_0x510064,_0x49e507=>{var _0x3d1689=_0x49a4ea;_0x49e507[_0x3d1689(0x2ab)](),dropZone[_0x3d1689(0x1ed)]['remove']('dragover');})),dropZone[_0x49a4ea(0x258)](_0x49a4ea(0x279),_0xa21551=>{var _0x24ccb3=_0x49a4ea;const _0x1c93a7=_0xa21551['dataTransfer'][_0x24ccb3(0x1c4)][0x0];if(!_0x1c93a7)return;fileInput['files']=_0xa21551[_0x24ccb3(0x205)]['files'],dropZone[_0x24ccb3(0x29a)]('.drop-zone__prompt')[_0x24ccb3(0x2a7)]=_0x1c93a7[_0x24ccb3(0x20f)],removeBtn[_0x24ccb3(0x231)]=![],fileInput[_0x24ccb3(0x2b1)](new Event(_0x24ccb3(0x2af)));}),removeBtn[_0x49a4ea(0x258)](_0x49a4ea(0x175),()=>{var _0x3f1faa=_0x49a4ea;fileInput[_0x3f1faa(0x2a5)]='',dropZone[_0x3f1faa(0x29a)](_0x3f1faa(0x181))[_0x3f1faa(0x2a7)]=_0x3f1faa(0x1f1),removeBtn[_0x3f1faa(0x231)]=!![],progressBar[_0x3f1faa(0x1e4)][_0x3f1faa(0x1ac)]=_0x3f1faa(0x1c1),statusDiv['textContent']='',uploadBtn[_0x3f1faa(0x299)]=!![];});const exportBtn=document[_0x49a4ea(0x197)](_0x49a4ea(0x207));exportBtn[_0x49a4ea(0x258)](_0x49a4ea(0x175),onClickExportarItems);async function onClickExportarItems(){var _0x1b2f83=_0x49a4ea;if(!Array[_0x1b2f83(0x21b)](products)||!products[_0x1b2f83(0x22b)]){ntfShow(_0x1b2f83(0x1a7));return;}try{const _0x3e4b5c=await fetch(_0x1b2f83(0x21d));if(!_0x3e4b5c['ok'])throw new Error(_0x1b2f83(0x18e));const _0xa83fb7=await _0x3e4b5c[_0x1b2f83(0x183)](),_0x306939=document['getElementById']('setWarehouseId')[_0x1b2f83(0x2a5)];let _0x42a509=products;const _0x4c5355=getUserPermissionApiERP(0x2);_0x4c5355==0x1&&(_0x42a509=products[_0x1b2f83(0x23f)](_0x27aa1e=>Array[_0x1b2f83(0x21b)](_0x27aa1e['sucursales'])&&_0x27aa1e[_0x1b2f83(0x27c)][_0x1b2f83(0x232)](_0x18513b=>String(_0x18513b[_0x1b2f83(0x278)])==String(_0x306939))));const _0x365363=_0x42a509[_0x1b2f83(0x1f9)]((_0x259748,_0x2ca82f)=>{var _0x25336d=_0x1b2f83;const _0x222441=_0x2ca82f[_0x25336d(0x26a)];if(!_0x259748[_0x222441])_0x259748[_0x222441]=[];return _0x259748[_0x222441][_0x25336d(0x19a)](_0x2ca82f),_0x259748;},{}),_0xe339a0=Object['values'](_0x365363)[_0x1b2f83(0x268)](_0x56da4c=>{var _0x187bc2=_0x1b2f83;const _0xe36e55=_0x56da4c[0x0],_0x2aab1c=_0x56da4c[0x1]||{},_0x2758be=_0x56da4c[0x2]||{};function _0x3eb85e(_0x174dfb,_0x2e5e7c,_0x41455c){var _0x4dcd3f=_0xb878;if(!_0x174dfb||!Array['isArray'](_0x174dfb['currency_data']))return'';const _0x5253ea=_0x174dfb[_0x4dcd3f(0x27b)][_0x4dcd3f(0x16e)](_0x13b95b=>_0x13b95b[_0x4dcd3f(0x1ef)]===_0x2e5e7c);return _0x5253ea?_0x5253ea[_0x41455c]:'';}return{'id':_0xe36e55[_0x187bc2(0x26a)],'setItemType':_0xe36e55[_0x187bc2(0x267)],'setCodProducto':_0xe36e55[_0x187bc2(0x1e7)],'setDescripcion':_0xe36e55['setDescripcion'],'setItemDescription':_0xe36e55['setItemDescription'],'setCategoria':_0xe36e55['setCategoria'],'setMarca':_0xe36e55[_0x187bc2(0x1d2)],'setTaxId':_0xe36e55[_0x187bc2(0x2a8)],'setUnitId':_0xe36e55['id'],'setItemBarCode':_0xe36e55[_0x187bc2(0x28b)],'setUnidadCodigo':_0xe36e55[_0x187bc2(0x172)],'setItemUnitAlias':_0xe36e55[_0x187bc2(0x254)]??'','PEN_setMtoPrecioUnitario':_0x3eb85e(_0xe36e55,_0x187bc2(0x220),_0x187bc2(0x248)),'PEN_setMtoPrecioCostoUnitario':_0x3eb85e(_0xe36e55,_0x187bc2(0x220),_0x187bc2(0x199)),'USD_setMtoPrecioUnitario':_0x3eb85e(_0xe36e55,'USD',_0x187bc2(0x248)),'USD_setMtoPrecioCostoUnitario':_0x3eb85e(_0xe36e55,_0x187bc2(0x19d),'setMtoPrecioCostoUnitario'),'setUnitId2':_0x2aab1c['id']??'','setItemBarCode2':_0x2aab1c[_0x187bc2(0x28b)]??'','setUnidadCodigo2':_0x2aab1c[_0x187bc2(0x172)]??'','setItemUnitAlias2':_0x2aab1c['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x2aab1c['setConversionFactor']??'','PEN_setMtoPrecioUnitario2':_0x3eb85e(_0x2aab1c,'PEN','setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x3eb85e(_0x2aab1c,_0x187bc2(0x220),_0x187bc2(0x199))??'','USD_setMtoPrecioUnitario2':_0x3eb85e(_0x2aab1c,_0x187bc2(0x19d),_0x187bc2(0x248))??'','USD_setMtoPrecioCostoUnitario2':_0x3eb85e(_0x2aab1c,_0x187bc2(0x19d),_0x187bc2(0x199))??'','setUnitId3':_0x2758be['id']??'','setItemBarCode3':_0x2758be[_0x187bc2(0x28b)]??'','setUnidadCodigo3':_0x2758be['setUnidadCodigo']??'','setItemUnitAlias3':_0x2758be['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x2758be[_0x187bc2(0x1dd)]??'','PEN_setMtoPrecioUnitario3':_0x3eb85e(_0x2758be,_0x187bc2(0x220),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario3':_0x3eb85e(_0x2758be,_0x187bc2(0x220),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario3':_0x3eb85e(_0x2758be,_0x187bc2(0x19d),_0x187bc2(0x248))??'','USD_setMtoPrecioCostoUnitario3':_0x3eb85e(_0x2758be,_0x187bc2(0x19d),_0x187bc2(0x199))??'','setInventariable':_0xe36e55[_0x187bc2(0x1a8)],'setSucursalStock':_0x4c5355==0x1?_0xe36e55[_0x187bc2(0x27c)][_0x187bc2(0x16e)](_0x552819=>String(_0x552819[_0x187bc2(0x278)])==String(_0x306939))[_0x187bc2(0x192)]:'','setWarehouseStockMin':_0x4c5355==0x1?_0xe36e55[_0x187bc2(0x27c)][_0x187bc2(0x16e)](_0x561885=>String(_0x561885[_0x187bc2(0x278)])==String(_0x306939))[_0x187bc2(0x1b5)]:'','setBatchName':_0xe36e55[_0x187bc2(0x29d)],'setBatchExpirationDate':_0xe36e55[_0x187bc2(0x200)],..._0xe36e55['setItemVariantValues']};});try{JSON[_0x1b2f83(0x24a)](_0xe339a0);}catch(_0x44266e){console['error'](_0x1b2f83(0x20b),_0x44266e),ntfShow(_0x1b2f83(0x160));return;}statusDiv['textContent']='Generando\x20Excel...',progressBar[_0x1b2f83(0x1e4)]['display']=_0x1b2f83(0x216),progressBar['value']=0x0,itemWorker['postMessage']({'action':'exportItems','products':_0xe339a0,'plantillaBuf':_0xa83fb7},[_0xa83fb7]);}catch(_0x5e051d){console['error'](_0x5e051d),ntfShow(_0x1b2f83(0x1a3)+_0x5e051d['message']);}}itemWorker[_0x49a4ea(0x2ae)]=({data:_0x142b44})=>{var _0xd3a2f4=_0x49a4ea;const {type:_0x38fc1d,payload:_0x241a2e}=_0x142b44;_0x38fc1d===_0xd3a2f4(0x193)&&(progressBar[_0xd3a2f4(0x1e4)][_0xd3a2f4(0x1ac)]='block',progressBar[_0xd3a2f4(0x2a5)]=_0x241a2e['percent'],statusDiv[_0xd3a2f4(0x2a7)]=_0x241a2e[_0xd3a2f4(0x16d)]);_0x38fc1d===_0xd3a2f4(0x1b1)&&(newItemsExcel=_0x241a2e[_0xd3a2f4(0x17f)],statusDiv[_0xd3a2f4(0x2a7)]='\x20'+newItemsExcel[_0xd3a2f4(0x22b)]+'\x20items\x20procesados.',uploadBtn[_0xd3a2f4(0x299)]=![],progressBar[_0xd3a2f4(0x2a5)]=0x64,console[_0xd3a2f4(0x244)](newItemsExcel));_0x38fc1d===_0xd3a2f4(0x180)&&(statusDiv[_0xd3a2f4(0x2a7)]=_0xd3a2f4(0x213)+_0x241a2e,progressBar[_0xd3a2f4(0x1e4)][_0xd3a2f4(0x1ac)]=_0xd3a2f4(0x1c1));if(_0x38fc1d===_0xd3a2f4(0x273)){const {wbout:_0x3879a6,count:_0x11cade}=_0x241a2e,_0x5c4d15=new Blob([_0x3879a6],{'type':_0xd3a2f4(0x215)}),_0x46e206=URL[_0xd3a2f4(0x196)](_0x5c4d15),_0x224264=document[_0xd3a2f4(0x29f)]('a'),_0x47d231=new Date()[_0xd3a2f4(0x285)]()[_0xd3a2f4(0x1a0)](0x0,0xa);_0x224264[_0xd3a2f4(0x1b8)]=_0xd3a2f4(0x2ba)+_0x47d231+_0xd3a2f4(0x20a),_0x224264[_0xd3a2f4(0x1de)]=_0x46e206,_0x224264['click'](),URL['revokeObjectURL'](_0x46e206),statusDiv['textContent']=_0xd3a2f4(0x1af)+_0x11cade+_0xd3a2f4(0x1c5),progressBar['style'][_0xd3a2f4(0x1ac)]=_0xd3a2f4(0x1c1);}},fileInput['addEventListener'](_0x49a4ea(0x2af),async _0x487ee6=>{var _0x215697=_0x49a4ea;const _0x4368f1=_0x487ee6[_0x215697(0x15f)]['files'][0x0];if(!_0x4368f1)return;uploadBtn[_0x215697(0x299)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar['style']['display']='none',dropZone[_0x215697(0x29a)](_0x215697(0x181))['textContent']=_0x4368f1[_0x215697(0x20f)],removeBtn[_0x215697(0x231)]=![];try{const _0x1cb6ef=await _0x4368f1[_0x215697(0x183)]();itemWorker[_0x215697(0x223)]({'action':_0x215697(0x1e5),'buf':_0x1cb6ef,'maxRows':0x1388});}catch(_0x22e271){statusDiv[_0x215697(0x2a7)]=_0x215697(0x234);}finally{fileInput['value']='';}}),uploadBtn[_0x49a4ea(0x258)]('click',async()=>{var _0xd11b06=_0x49a4ea;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x389cc3=document[_0xd11b06(0x197)](_0xd11b06(0x283))['value'],_0x428f02=[];newItemsExcel[_0xd11b06(0x27e)](_0xacacfd=>{var _0x38a8d7=_0xd11b06;const _0x4f94f9=Boolean(_0xacacfd[_0x38a8d7(0x242)]),_0x5aceed=_0x4f94f9?_0xacacfd[_0x38a8d7(0x242)]:generateNumericUniqId();_0xacacfd['setItemWarehouses']=[{'setStockInitial':_0xacacfd[_0x38a8d7(0x17a)],'setStockMinimum':_0xacacfd[_0x38a8d7(0x1d9)],'setWarehouseCode':_0x389cc3}],_0xacacfd[_0x38a8d7(0x187)]['forEach'](_0x11aba4=>{var _0x530546=_0x38a8d7;const _0x3c31e3=Boolean(_0x11aba4[_0x530546(0x1b7)]),_0x382630=_0x3c31e3?_0x11aba4[_0x530546(0x1b7)]:generateNumericUniqId();_0x11aba4[_0x530546(0x1b7)]=_0x382630;const _0x4a12ab=[];_0x4a12ab[_0x530546(0x19a)]({'currency':_0x530546(0x220),'setMtoPrecioCostoUnitario':_0x11aba4[_0x530546(0x281)],'setMtoPrecioUnitario':_0x11aba4[_0x530546(0x161)],'setPriceLists':[]});const _0x216f11=_0x11aba4['setCostUSD']!=null&&_0x11aba4[_0x530546(0x261)]!=null&&(!isNaN(_0x11aba4[_0x530546(0x237)])||!isNaN(_0x11aba4['setPriceUSD']));_0x216f11&&_0x4a12ab[_0x530546(0x19a)]({'currency':_0x530546(0x19d),'setMtoPrecioCostoUnitario':_0x11aba4['setCostUSD'],'setMtoPrecioUnitario':_0x11aba4[_0x530546(0x261)],'setPriceLists':[]});const _0x47ed16={'id':_0x382630,'setIdProducto':_0x5aceed,'setItemBarCode':_0x11aba4[_0x530546(0x28b)],'setCodProducto':_0xacacfd[_0x530546(0x1a4)],'setDescripcion':_0xacacfd[_0x530546(0x16c)],'setItemDescription':_0xacacfd['setItemDescription'],'setBatchExpirationDate':_0xacacfd[_0x530546(0x163)],'setBatchName':_0xacacfd[_0x530546(0x29d)],'setCategoria':_0xacacfd[_0x530546(0x249)][0x0]||'','setMarca':_0xacacfd[_0x530546(0x191)][0x0]||'','setConversionFactor':parseFloat(_0x11aba4['setFactor']),'setImages':[],'setImg':_0x530546(0x1c7),'setInventariable':_0xacacfd[_0x530546(0x224)],'setItemIsBought':_0xacacfd[_0x530546(0x291)],'setItemIsSold':_0xacacfd[_0x530546(0x274)],'setPorcentajeIgv':_0xacacfd[_0x530546(0x1df)],'setPrinters':[],'setTaxId':_0xacacfd[_0x530546(0x250)],'setTipAfeIgv':_0xacacfd[_0x530546(0x259)],'setUnidad':_0x11aba4[_0x530546(0x227)],'setUnidadCodigo':_0x11aba4[_0x530546(0x227)],'setItemUnitAlias':_0x11aba4['setAlias'],'currency_data':_0x4a12ab,'sucursales':_0xacacfd['setItemWarehouses'][_0x530546(0x268)](_0x525d59=>({'setIdSucursal':_0x525d59[_0x530546(0x26e)],'setSucursalStock':_0x525d59[_0x530546(0x17a)][_0x530546(0x1a9)](),'setWarehouseStockMin':_0x525d59[_0x530546(0x1d9)][_0x530546(0x1a9)]()})),'setItemFree':_0xacacfd[_0x530546(0x1e2)],'setItemBrands':_0xacacfd['setItemBrands'][_0x530546(0x1a0)](),'setItemCategories':_0xacacfd[_0x530546(0x249)][_0x530546(0x1a0)](),'setItemComponents':_0xacacfd[_0x530546(0x1b3)][_0x530546(0x268)](_0x453e24=>({..._0x453e24})),'setItemImages':_0xacacfd[_0x530546(0x194)][_0x530546(0x1a0)](),'setItemVariantName':_0xacacfd['setItemVariantName'],'setItemVariantValues':{..._0xacacfd[_0x530546(0x226)]}},_0x1e148c=products[_0x530546(0x171)](_0x291e47=>_0x291e47['id']==_0x382630&&_0x291e47['setIdProducto']==_0x5aceed);_0x1e148c>-0x1?Object['assign'](products[_0x1e148c],_0x47ed16):_0x428f02['push'](_0x47ed16);});}),console['log'](_0xd11b06(0x202),newItemsExcel),await finalizeImport(_0x428f02,newItemsExcel,!![]);});function initializeFormImages(){var _0x5c0f75=_0x49a4ea;currentImages=Array(MAX_IMAGES)[_0x5c0f75(0x275)](null),imgC[_0x5c0f75(0x269)]='',baseItem[_0x5c0f75(0x194)]=[];for(var _0x1fc5c7=0x0;_0x1fc5c7<MAX_IMAGES;_0x1fc5c7++){(function(_0x162325){var _0x4dd600=_0x5c0f75,_0x247f99=document[_0x4dd600(0x29f)](_0x4dd600(0x1c3));_0x247f99[_0x4dd600(0x280)]=_0x4dd600(0x292),_0x247f99['dataset'][_0x4dd600(0x178)]=_0x162325;var _0x341702=document[_0x4dd600(0x29f)](_0x4dd600(0x23b));_0x341702['type']=_0x4dd600(0x1d8),_0x341702[_0x4dd600(0x1f3)]=_0x4dd600(0x24b),_0x341702[_0x4dd600(0x1e4)]['display']='none';var _0x57e221=document[_0x4dd600(0x29f)](_0x4dd600(0x166));_0x57e221[_0x4dd600(0x2a7)]='+',_0x247f99[_0x4dd600(0x1cc)](_0x341702),_0x247f99[_0x4dd600(0x1cc)](_0x57e221),imgC[_0x4dd600(0x1cc)](_0x247f99),_0x247f99[_0x4dd600(0x258)](_0x4dd600(0x175),function(){_0x341702['click']();}),_0x341702[_0x4dd600(0x258)](_0x4dd600(0x2af),function(_0x36c681){var _0x4a2173=_0x4dd600,_0x260a65=_0x36c681[_0x4a2173(0x15f)][_0x4a2173(0x1c4)][0x0];if(!_0x260a65)return removeImg(_0x162325);var _0x585032=new FileReader();_0x585032[_0x4a2173(0x211)]=function(_0x3a5967){var _0x536931=_0x4a2173;_0x247f99['innerHTML']=_0x536931(0x1cb)+_0x3a5967[_0x536931(0x15f)][_0x536931(0x212)]+'\x22>';var _0x1f3d2b=document[_0x536931(0x29f)](_0x536931(0x166));_0x1f3d2b[_0x536931(0x280)]=_0x536931(0x2a0),_0x1f3d2b[_0x536931(0x2a7)]='',_0x1f3d2b[_0x536931(0x258)](_0x536931(0x175),function(_0x238386){var _0x5f351b=_0x536931;_0x238386[_0x5f351b(0x2b0)](),removeImg(_0x162325);}),_0x247f99[_0x536931(0x1cc)](_0x1f3d2b),currentImages[_0x162325]=_0x260a65,baseItem[_0x536931(0x194)]=currentImages[_0x536931(0x23f)](function(_0xa6f4bb){return _0xa6f4bb;});},_0x585032[_0x4a2173(0x218)](_0x260a65);});}(_0x1fc5c7));}}function initializeFormIsSoldIsBought(_0x5ac9cd=0x0){var _0x233d4e=_0x49a4ea;let _0x4be580,_0xe5fa7b;if(_0x5ac9cd!=0x0){const _0x2726ab=products[_0x233d4e(0x16e)](_0x136a9f=>_0x136a9f['id']==_0x5ac9cd);_0x4be580=_0x2726ab[_0x233d4e(0x291)]==0x1||_0x2726ab[_0x233d4e(0x291)]==!![]?!![]:![],_0xe5fa7b=_0x2726ab[_0x233d4e(0x274)]==0x1||_0x2726ab[_0x233d4e(0x274)]==!![]?!![]:![];}else _0x4be580=!![],_0xe5fa7b=!![];document[_0x233d4e(0x197)]('newItem_chk_buy')['checked']=_0x4be580,document[_0x233d4e(0x197)]('newItem_chk_sell')[_0x233d4e(0x185)]=_0xe5fa7b,baseItem['setItemIsBought']=_0x4be580,baseItem['setItemIsSold']=_0xe5fa7b;}function initializeFormInputsBasic(_0xb55b8e=0x0){var _0x4cce1f=_0x49a4ea;let _0x16cf2a,_0x1c5ef1,_0xbbe628,_0x4dd6bd,_0x46adbc,_0x4d1d09;if(_0xb55b8e!=0x0){const _0x951803=products[_0x4cce1f(0x16e)](_0x193b48=>_0x193b48['id']==_0xb55b8e);_0x16cf2a=_0x951803[_0x4cce1f(0x267)]??'1',_0x1c5ef1=_0x951803[_0x4cce1f(0x1e7)],_0xbbe628=_0x951803[_0x4cce1f(0x27d)],_0x4dd6bd=_0x951803[_0x4cce1f(0x2a4)],_0x46adbc=_0x951803[_0x4cce1f(0x200)]??'',_0x4d1d09=_0x951803[_0x4cce1f(0x28b)];}else _0x16cf2a='1',_0x1c5ef1=getNextCode(products),_0xbbe628='',_0x4dd6bd='',_0x46adbc='',_0x4d1d09='';document['getElementById'](_0x4cce1f(0x2b2))[_0x4cce1f(0x2a5)]=_0x16cf2a,document[_0x4cce1f(0x197)](_0x4cce1f(0x284))[_0x4cce1f(0x2a5)]=_0x1c5ef1,document['getElementById'](_0x4cce1f(0x24e))[_0x4cce1f(0x2a5)]=_0xbbe628,document['getElementById'](_0x4cce1f(0x26f))[_0x4cce1f(0x2a5)]=_0x4dd6bd,document[_0x4cce1f(0x197)](_0x4cce1f(0x17b))[_0x4cce1f(0x2a5)]=_0x46adbc,document[_0x4cce1f(0x197)](_0x4cce1f(0x25a))['value']=_0x4d1d09,baseItem[_0x4cce1f(0x267)]=_0x16cf2a,baseItem[_0x4cce1f(0x1a4)]=_0x1c5ef1,baseItem[_0x4cce1f(0x16c)]=_0xbbe628,baseItem[_0x4cce1f(0x2a4)]=_0x4dd6bd,baseItem['setItemDateExpiry']=_0x46adbc,baseItem[_0x4cce1f(0x28b)]=_0x4d1d09,document[_0x4cce1f(0x197)](_0x4cce1f(0x190))['checked']=![];}function initializeFormTax(_0x45b71c=0x0){var _0x5160e1=_0x49a4ea;let _0x4fb2d1;if(_0x45b71c!=0x0){const _0x5a1650=products[_0x5160e1(0x16e)](_0x10b046=>_0x10b046['id']==_0x45b71c);_0x4fb2d1=_0x5a1650['setTaxId'];}else _0x4fb2d1=myCompany['setTaxIdDefault'];const _0x1c3e68=document[_0x5160e1(0x197)]('inputItemTax');_0x1c3e68['value']=_0x4fb2d1,baseItem['setItemTaxId']=_0x4fb2d1;const _0x59744d=company[0x0][_0x5160e1(0x26d)][_0x5160e1(0x16e)](_0x3cbb3e=>_0x3cbb3e[_0x5160e1(0x2a8)]==_0x4fb2d1)?.[_0x5160e1(0x293)]||0x0,_0x58e226=company[0x0][_0x5160e1(0x26d)][_0x5160e1(0x16e)](_0x864739=>_0x864739[_0x5160e1(0x2a8)]==_0x4fb2d1)?.[_0x5160e1(0x21f)]||0x0;baseItem[_0x5160e1(0x259)]=_0x59744d,baseItem['setItemTaxValue']=_0x58e226;}function initializeFormCategoriesBrands(_0x595ede=0x0){var _0x3f82cb=_0x49a4ea;baseItem['setItemCategories']=[],baseItem[_0x3f82cb(0x191)]=[],document[_0x3f82cb(0x29a)](_0x3f82cb(0x22a))[_0x3f82cb(0x269)]='',document['querySelector'](_0x3f82cb(0x1fe))[_0x3f82cb(0x269)]='',document[_0x3f82cb(0x29a)](_0x3f82cb(0x1a5))[_0x3f82cb(0x269)]='',document['querySelector'](_0x3f82cb(0x1f7))[_0x3f82cb(0x269)]='';const _0x446906=myCompany[_0x3f82cb(0x249)][_0x3f82cb(0x268)](_0x59abdf=>({'setCode':_0x59abdf[_0x3f82cb(0x22d)],'setName':_0x59abdf[_0x3f82cb(0x22d)]})),_0x535dc0=myCompany[_0x3f82cb(0x191)][_0x3f82cb(0x268)](_0x22d784=>({'setCode':_0x22d784[_0x3f82cb(0x1b0)],'setName':_0x22d784[_0x3f82cb(0x1b0)]}));initMulti(_0x3f82cb(0x210),_0x446906),initMulti(_0x3f82cb(0x1cf),_0x535dc0),document[_0x3f82cb(0x197)]('newItem_categories_select')[_0x3f82cb(0x258)](_0x3f82cb(0x1c0),function(_0x379070){var _0x373187=_0x3f82cb;baseItem['setItemCategories']=_0x379070[_0x373187(0x296)][_0x373187(0x268)](_0x1b8abf=>_0x1b8abf['setCode']);}),document[_0x3f82cb(0x197)](_0x3f82cb(0x1cf))[_0x3f82cb(0x258)](_0x3f82cb(0x1c0),function(_0x1fa6ad){var _0x116b98=_0x3f82cb;baseItem[_0x116b98(0x191)]=_0x1fa6ad['detail'][_0x116b98(0x268)](_0xd40476=>_0xd40476['setCode']);});if(_0x595ede!=0x0){const _0x43222f=products[_0x3f82cb(0x16e)](_0x4af790=>_0x4af790['id']==_0x595ede);if(_0x43222f['setCategoria']){const _0x131df0=document[_0x3f82cb(0x197)](_0x3f82cb(0x210)),_0x16275a=Array[_0x3f82cb(0x17e)](_0x131df0[_0x3f82cb(0x29e)](_0x3f82cb(0x2ad)))[_0x3f82cb(0x16e)](_0x293387=>_0x293387[_0x3f82cb(0x26b)][_0x3f82cb(0x1ea)]==_0x43222f[_0x3f82cb(0x19b)]);_0x16275a&&_0x16275a[_0x3f82cb(0x175)]();}if(_0x43222f[_0x3f82cb(0x1d2)]){const _0x555094=document[_0x3f82cb(0x197)](_0x3f82cb(0x1cf)),_0x5cacb4=Array[_0x3f82cb(0x17e)](_0x555094[_0x3f82cb(0x29e)]('.options_list\x20div'))[_0x3f82cb(0x16e)](_0x52f23d=>_0x52f23d['dataset'][_0x3f82cb(0x1ea)]==_0x43222f[_0x3f82cb(0x1d2)]);_0x5cacb4&&_0x5cacb4['click']();}}}function initializeFormUnits(){var _0x43ba4b=_0x49a4ea;unitCount=0x0,document['getElementById'](_0x43ba4b(0x241))['innerHTML']='',baseItem['setItemUnits']=[];var _0x542f84=uniqueValuesArray('setUnitCode','setUnitName',myCompany[_0x43ba4b(0x209)]);addUnit('',_0x542f84[0x3a]&&_0x542f84[0x3a][_0x43ba4b(0x19e)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x54462d=_0x49a4ea;prodC['innerHTML']='',baseItem[_0x54462d(0x1b3)]=[],updateProdItems();}function initializeFormWarehouses(){var _0xb1348b=_0x49a4ea;branchesC['innerHTML']='',baseItem['setItemWarehouses']=[];const _0xa86a73=getAllWarehouses();_0xa86a73[_0xb1348b(0x27e)](function(_0x35ead2){var _0x47195a=_0xb1348b,_0x28319d=document[_0x47195a(0x29f)]('div');_0x28319d[_0x47195a(0x269)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x47195a(0x206)+_0x47195a(0x270)+_0x35ead2[_0x47195a(0x283)]+_0x47195a(0x1f5)+_0x35ead2[_0x47195a(0x1cd)]+_0x47195a(0x2b9)+'</div>'+_0x47195a(0x206)+_0x47195a(0x239)+_0x35ead2[_0x47195a(0x283)]+'\x22>'+_0x47195a(0x170)+_0x47195a(0x206)+_0x47195a(0x214)+_0x35ead2[_0x47195a(0x283)]+'\x22>'+_0x47195a(0x170)+'</div>',branchesC['appendChild'](_0x28319d),_0x28319d[_0x47195a(0x29e)](_0x47195a(0x23b))[_0x47195a(0x27e)](function(_0x3a2eef){_0x3a2eef['addEventListener']('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x8ea8c7=_0x49a4ea;baseItem[_0x8ea8c7(0x21c)]='',baseItem['setItemVariantValues']={},vgC[_0x8ea8c7(0x269)]='',varContainer[_0x8ea8c7(0x269)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0xee96ed,_0x1bd0a4,_0x7df0e=![]){var _0xca7d12=_0x49a4ea;const _0x5af983=0xc8,_0x5da775={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0][_0xca7d12(0x1ee)],'setWebhook':company[0x0][_0xca7d12(0x179)]};for(let _0x1222b6=0x0;_0x1222b6<_0x1bd0a4[_0xca7d12(0x22b)];_0x1222b6+=_0x5af983){const _0x2d1ea9=_0x1bd0a4[_0xca7d12(0x1a0)](_0x1222b6,_0x1222b6+_0x5af983);await storeOfflineProduct({..._0x5da775,'newItems':_0x2d1ea9});}products[_0xca7d12(0x19a)](..._0xee96ed),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0xca7d12(0x198)),_0x7df0e?(fileInput['value']='',uploadBtn['disabled']=!![],statusDiv[_0xca7d12(0x2a7)]='',progressBar[_0xca7d12(0x1e4)]['display']='none',progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}