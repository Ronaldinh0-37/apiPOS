/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.5
*/

var _0x5ed0e1=_0x3efd;(function(_0x528d84,_0x870998){var _0x5db925=_0x3efd,_0x4f67ea=_0x528d84();while(!![]){try{var _0x42be98=-parseInt(_0x5db925(0x163))/0x1*(parseInt(_0x5db925(0x14e))/0x2)+parseInt(_0x5db925(0x224))/0x3+parseInt(_0x5db925(0x22c))/0x4+-parseInt(_0x5db925(0x16a))/0x5*(parseInt(_0x5db925(0x276))/0x6)+parseInt(_0x5db925(0x15d))/0x7+-parseInt(_0x5db925(0x1d8))/0x8+-parseInt(_0x5db925(0x1cf))/0x9*(-parseInt(_0x5db925(0x19d))/0xa);if(_0x42be98===_0x870998)break;else _0x4f67ea['push'](_0x4f67ea['shift']());}catch(_0x11a63a){_0x4f67ea['push'](_0x4f67ea['shift']());}}}(_0x1d64,0xa668c));var _0x59b105=(function(){var _0x37b2c8=!![];return function(_0x5f1053,_0x546d8f){var _0x31e221=_0x37b2c8?function(){var _0x1ca76e=_0x3efd;if(_0x546d8f){var _0x50dde8=_0x546d8f[_0x1ca76e(0x1df)](_0x5f1053,arguments);return _0x546d8f=null,_0x50dde8;}}:function(){};return _0x37b2c8=![],_0x31e221;};}()),_0x54c769=_0x59b105(this,function(){var _0xc2b3ea=_0x3efd;return _0x54c769[_0xc2b3ea(0x23e)]()[_0xc2b3ea(0x207)](_0xc2b3ea(0x22d))[_0xc2b3ea(0x23e)]()[_0xc2b3ea(0x242)](_0x54c769)[_0xc2b3ea(0x207)](_0xc2b3ea(0x22d));});_0x54c769();var _0x23ffbc=(function(){var _0x58db7a=!![];return function(_0x448ab4,_0x18365d){var _0xca58ff=_0x58db7a?function(){if(_0x18365d){var _0x36bc76=_0x18365d['apply'](_0x448ab4,arguments);return _0x18365d=null,_0x36bc76;}}:function(){};return _0x58db7a=![],_0xca58ff;};}()),_0x2ba2b8=_0x23ffbc(this,function(){var _0x442f1f=_0x3efd,_0x50d419;try{var _0x279785=Function('return\x20(function()\x20'+_0x442f1f(0x1de)+');');_0x50d419=_0x279785();}catch(_0x5d5324){_0x50d419=window;}var _0x5853ce=_0x50d419[_0x442f1f(0x156)]=_0x50d419['console']||{},_0x11a1a1=['log','warn','info',_0x442f1f(0x1cd),'exception',_0x442f1f(0x1d3),_0x442f1f(0x243)];for(var _0x3bb245=0x0;_0x3bb245<_0x11a1a1['length'];_0x3bb245++){var _0x435fd2=_0x23ffbc['constructor'][_0x442f1f(0x1b1)]['bind'](_0x23ffbc),_0x4ba1dd=_0x11a1a1[_0x3bb245],_0x3702b4=_0x5853ce[_0x4ba1dd]||_0x435fd2;_0x435fd2[_0x442f1f(0x212)]=_0x23ffbc[_0x442f1f(0x275)](_0x23ffbc),_0x435fd2[_0x442f1f(0x23e)]=_0x3702b4[_0x442f1f(0x23e)]['bind'](_0x3702b4),_0x5853ce[_0x4ba1dd]=_0x435fd2;}});_0x2ba2b8();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x13c)),unitCount=0x0,branchesC=document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x1f1)),prodC=document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x1fa)),vgCount=0x0,varContainer=document[_0x5ed0e1(0x1bc)]('newItem_variants_forms'),vgC=document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x1ff));const fileInput=document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x279)),progressBar=document['getElementById'](_0x5ed0e1(0x184)),statusDiv=document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x1fd)),uploadBtn=document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x15a));let newItemsExcel=null;const itemWorker=new Worker(_0x5ed0e1(0x1a2)),dropZone=document[_0x5ed0e1(0x1bc)]('drop-zone'),removeBtn=document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x262));function showModalCreateItem(_0x305fb1){var _0x3fd506=_0x5ed0e1;const _0x285662=document[_0x3fd506(0x1bc)](_0x3fd506(0x1e6)),_0x567efb=document[_0x3fd506(0x1bc)](_0x3fd506(0x27c));_0x285662[_0x3fd506(0x1cc)]['add'](_0x3fd506(0x1ee)),_0x567efb[_0x3fd506(0x147)]['display']=_0x3fd506(0x271);const _0x2bc43f=document['getElementById']('setItemFree');_0x2bc43f[_0x3fd506(0x199)]=parseInt(_0x305fb1),baseItem['setItemFree']=parseInt(_0x305fb1);const _0x4f14fc=document[_0x3fd506(0x1bc)](_0x3fd506(0x151));_0x305fb1==0x0&&(_0x4f14fc['innerHTML']='Nuevo\x20Producto');_0x305fb1==0x1&&(_0x4f14fc['innerHTML']=_0x3fd506(0x202));const _0x1362be=document[_0x3fd506(0x21f)](_0x3fd506(0x1e7));for(let _0x51e449=0x0;_0x51e449<_0x1362be[_0x3fd506(0x24a)];_0x51e449++){const _0x4f5aff=_0x1362be[_0x51e449];if(_0x305fb1==0x0)_0x4f5aff[_0x3fd506(0x1cc)][_0x3fd506(0x172)]('hidden');else _0x305fb1==0x1&&_0x4f5aff['classList'][_0x3fd506(0x1ae)](_0x3fd506(0x21e));}}function hideModalCreateItem(){var _0x55b4fb=_0x5ed0e1;const _0x4db34a=document[_0x55b4fb(0x1bc)](_0x55b4fb(0x1e6)),_0x4fd841=document['getElementById'](_0x55b4fb(0x27c));_0x4db34a['classList'][_0x55b4fb(0x172)](_0x55b4fb(0x1ee)),_0x4fd841[_0x55b4fb(0x147)][_0x55b4fb(0x1b9)]='none';}document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x1ba))['addEventListener'](_0x5ed0e1(0x1a3),hideModalCreateItem),document['getElementById']('modalOverlayCreateItem')[_0x5ed0e1(0x1c4)]('click',_0x155eef=>{var _0x1d3014=_0x5ed0e1;_0x155eef['target']==_0x155eef[_0x1d3014(0x191)]&&_0x155eef[_0x1d3014(0x273)]();});function _0x1d64(){var _0x398784=['__proto__','#newItem_branches_container\x20>\x20div','.selected_tags','Items\x20finales:','fill','setItemTaxId','match','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setItemUnitId','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','idx','setName','hidden','getElementsByClassName','.drop-zone__prompt','dragenter','application/octet-stream','.variantCode','558138LgHwZE','setFactor','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','key','result','.branchInit','\x22\x20value=\x22','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','1380484BQWExq','(((.+)+)+)+$','assign','push','oncomplete','newItem_categories_select','forEach','.variantExpiry','defineProperty','padStart','from','children','newItem_chk_buy','import','accept','readAsDataURL','setCodProducto','newItem_title_table_cp','toString','change','appendChild','.xlsx','constructor','trace','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','setBatchName','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','default','.unitSelect','onerror','length','file','.removeCombo','.priceInput','setItemImages','flatMap','transaction','setItemFree','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','newItem_btn_addProdItem','USD','.addVariantComp','setItemType','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','findIndex','inputItemCode','sort','<img\x20src=\x22','Collator','setItemIsSold','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','newItem_title_table','focus','.unitAlias','remove-file','parentNode','setImpuestoCode','No\x20hay\x20items\x20para\x20exportar.','setAuthToken','drop','setCantidad','items','setBatchExpirationDate','textContent','arrayBuffer','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','btnExportarItems','contains','setUnitName','block','Plantilla-Items-Export-','stopPropagation','PEN','bind','1339782RTIKKN','100','.eqInput','file-input','dataTransfer','setItemTaxCode','modalOverlayCreateItem','toggle','\x20items.','find','windowId','setItemIsBought','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setItemCode','setPriceUSD','setIdSucursal','[data-idx=\x22','createElement','newItem_hidden','querySelectorAll','setItemName','setItemUnits','newItem_images_container','setItemComponents','dragover','remove-tag','inputItemDescription','setCost','disabled','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','checked','some','setItemId','style','\x20Exportaci贸n\x20completada:\x20','setUnidadCodigo','split','entries','currency','setMarca','4OUdQoO','.removeVariant','.variantBarCode','modalProductNewTitle','_units_container','.vgVals','setDescripcion','_comp_container','console','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','setConversionFactor','upload-btn','message','splice','8674057sEyDon','sucursales','dragleave','.costInput','selected','inputItemBarCode','550933oHKIUi','setItemWarehouses','setItemTaxValue','setMtoPrecioCostoUnitario','string','style=\x22display:none\x22','true','5VKBItj','setCategoria','base','#newItem_categories_select\x20.options_list','Error\x20al\x20procesar\x20la\x20operaci贸n:','setUnitCode','</label>','selectedItem','remove','setItemCategories','objectStore','.prodInput','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','className','_branch_container','readwrite','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','inputItemName','inputItemType','currency_data','setWarehouseId','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','setStockMinimum','.options_list\x20div','ERROR:\x20plainProducts\x20no\x20serializable:','setSucursalStock','progress','dataset','setWarehouseCode','variant_','./img/product.png','map','closest','setTaxId','priceInput','\x20Error:\x20','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','reduce','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','currentTarget','input','setItemBarCode','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','.vgName','setStockInitial','setImpuestoValue','parse','value','setCostUSD','Enter','name','480HfxyqX','code','files','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','.branchChk','./js/apierp_item_wk.min.js','click','div[data-default=\x22true\x22]\x20.eqInput','trim','blur','querySelector','postMessage','newItem_btn_addUnit','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','image/*','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','setPrice','add','div','setWarehouseName','prototype','eqInput','newItem_chk_sell','isArray','log','option','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','setItemDescription','display','closeModalCreateItem','selectionChange','getElementById','keydown','includes','type','\x20items\x20procesados.','\x22\x20class=\x22branchChk\x22\x20checked>\x20','innerHTML','newItem_units_container','addEventListener','test','preventDefault','inputItemDateExpiry','newItem_brands_select','toLowerCase','stringify','#newItem_brands_select\x20.options_list','classList','error','Error\x20al\x20obtener\x20la\x20plantilla:\x20','228996EjQEev','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','undefined','setUnits','table','dispatchEvent','setAlias','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','7878840fINeks','setTaxIdDefault','.variantForm','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','setCode','percent','{}.constructor(\x22return\x20this\x22)(\x20)','apply','every','setMtoPrecioUnitario','.prod_input_container','btnItemSave','<div\x20class=\x22newItem_col\x22>','setItemVariantName','detalleModalCreateItem','productType1','#newItem_brands_select\x20.selected_tags','tag','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!','slice','setMoneda','active','setItemBrands','setInventariable','newItem_branches_container','inputItemTax','.removeGroup','indexOf','[id$=\x22_comp_container\x22]','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','now','.branchMin','.prodQty','newItem_proditems_container','target','vals','status','span','newItem_variant_groups','setDefault','Producto\x20Guardado\x20Offline\x20Correctamente.','Producto\x20Libre','toISOString','.ms_input','setImpuestos','filter','search','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','</div>','none','.removeUnit','costInput','setItemDateExpiry','setItemVariantValues','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','onload','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'];_0x1d64=function(){return _0x398784;};return _0x1d64();}function loadTaxData(){var _0x34ece8=_0x5ed0e1;const _0x32776b=document[_0x34ece8(0x1bc)](_0x34ece8(0x1f2));_0x32776b[_0x34ece8(0x1c2)]='',company[0x0][_0x34ece8(0x205)]['forEach'](function(_0x34d67d){var _0x293344=_0x34ece8;const _0x4a9b4e=document[_0x293344(0x137)](_0x293344(0x1b6));_0x4a9b4e[_0x293344(0x199)]=_0x34d67d[_0x293344(0x18b)],_0x4a9b4e[_0x293344(0x1c2)]=_0x34d67d['setImpuestoName']+'\x20('+_0x34d67d[_0x293344(0x197)]+'%)',_0x34d67d['setTaxId']==company[0x0][_0x293344(0x1d9)]&&(_0x4a9b4e[_0x293344(0x161)]=!![]),_0x32776b[_0x293344(0x240)](_0x4a9b4e);});}function uniqueValuesArray(_0x3cf411,_0x2ea871,_0x5c6bb1){var _0x26c585=_0x5ed0e1;const _0x4fd2dc=Array[_0x26c585(0x236)](new Set(_0x5c6bb1[_0x26c585(0x189)](_0x32d667=>{var _0x587f10=_0x26c585;const _0x50ed75=_0x32d667[_0x3cf411];return typeof _0x50ed75===_0x587f10(0x167)?_0x50ed75[_0x587f10(0x1a5)]():_0x50ed75;})['filter'](_0x402649=>_0x402649!=null&&_0x402649!=='')));return _0x4fd2dc[_0x26c585(0x189)](_0x4b0ba4=>{var _0x1844a1=_0x26c585;const _0x3b84c8=_0x5c6bb1[_0x1844a1(0x27f)](_0x51f905=>_0x51f905[_0x3cf411]===_0x4b0ba4),_0x2b66ec=_0x3b84c8&&_0x3b84c8[_0x2ea871]!=null?String(_0x3b84c8[_0x2ea871])[_0x1844a1(0x1a5)]():_0x4b0ba4;return{'setCode':_0x4b0ba4,'setName':_0x2b66ec};});}function fillSelect(_0x3ac0a8,_0x1961a4,_0xad348a,_0x46a1ce){var _0x2a66e0=_0x5ed0e1;_0x3ac0a8['innerHTML']='',_0x1961a4[_0x2a66e0(0x232)](function(_0x32865f){var _0x3ec623=_0x2a66e0,_0x5c9a91=new Option(_0x32865f[_0x46a1ce],_0x32865f[_0xad348a]);_0x3ac0a8[_0x3ec623(0x1ae)](_0x5c9a91);});}function initMulti(_0x21fa49,_0x311800){var _0x5515c2=_0x5ed0e1,_0x508be2=document[_0x5515c2(0x1bc)](_0x21fa49),_0x19c8d9=_0x508be2['querySelector'](_0x5515c2(0x204)),_0xe1e205=_0x508be2['querySelector']('.options_list'),_0x59fa3d=_0x508be2['querySelector'](_0x5515c2(0x214)),_0x16c1b8=_0x311800[_0x5515c2(0x1ec)](),_0x2d1017=[];function _0x2d4b92(){var _0x419e94=_0x5515c2;_0xe1e205[_0x419e94(0x1c2)]='',_0x16c1b8[_0x419e94(0x206)](function(_0x1fa009){var _0x1be62d=_0x419e94;return _0x1fa009[_0x1be62d(0x21d)][_0x1be62d(0x1c9)]()[_0x1be62d(0x1f4)](_0x19c8d9['value'][_0x1be62d(0x1c9)]())!==-0x1;})['forEach'](function(_0x27bfda){var _0x4acd91=_0x419e94,_0x44beb0=document['createElement'](_0x4acd91(0x1af));_0x44beb0[_0x4acd91(0x26b)]=_0x27bfda[_0x4acd91(0x21d)],_0x44beb0['dataset']['code']=_0x27bfda[_0x4acd91(0x1dc)],_0xe1e205[_0x4acd91(0x240)](_0x44beb0),_0x44beb0[_0x4acd91(0x1c4)](_0x4acd91(0x1a3),function(){var _0x12c824=_0x4acd91;_0x2d1017[_0x12c824(0x22f)](_0x27bfda),_0x16c1b8[_0x12c824(0x15c)](_0x16c1b8[_0x12c824(0x258)](function(_0x24742d){var _0xdfa915=_0x12c824;return _0x24742d[_0xdfa915(0x1dc)]===_0x27bfda['setCode'];}),0x1),_0x19c8d9[_0x12c824(0x199)]='',_0x316c83(),_0x2d4b92();});});}function _0x316c83(){var _0x785c25=_0x5515c2;_0x59fa3d[_0x785c25(0x1c2)]='',_0x2d1017[_0x785c25(0x232)](function(_0x1f38ba){var _0x228e83=_0x785c25,_0x5c0a30=document[_0x228e83(0x137)](_0x228e83(0x1af));_0x5c0a30[_0x228e83(0x177)]=_0x228e83(0x1e9),_0x5c0a30[_0x228e83(0x26b)]=_0x1f38ba[_0x228e83(0x21d)];var _0x4056bf=document[_0x228e83(0x137)](_0x228e83(0x1fe));_0x4056bf[_0x228e83(0x177)]=_0x228e83(0x13f),_0x4056bf[_0x228e83(0x26b)]='',_0x4056bf[_0x228e83(0x1c4)](_0x228e83(0x1a3),function(){var _0x1bb838=_0x228e83;_0x16c1b8[_0x1bb838(0x22f)](_0x1f38ba);const _0x112649=_0x2d1017['findIndex'](function(_0x5c1be6){var _0xe10cd1=_0x1bb838;return _0x5c1be6['setCode']===_0x1f38ba[_0xe10cd1(0x1dc)];});if(_0x112649>-0x1)_0x2d1017[_0x1bb838(0x15c)](_0x112649,0x1);_0x316c83(),_0x2d4b92();}),_0x5c0a30[_0x228e83(0x240)](_0x4056bf),_0x59fa3d[_0x228e83(0x240)](_0x5c0a30);}),_0x508be2[_0x785c25(0x1d4)](new CustomEvent(_0x785c25(0x1bb),{'bubbles':!![]}));}return _0x19c8d9[_0x5515c2(0x1c4)](_0x5515c2(0x260),function(){var _0x288e64=_0x5515c2;_0xe1e205['classList'][_0x288e64(0x172)]('newItem_hidden');}),_0x19c8d9[_0x5515c2(0x1c4)](_0x5515c2(0x192),_0x2d4b92),_0x19c8d9[_0x5515c2(0x1c4)](_0x5515c2(0x1bd),function(_0x660d14){var _0x5980f7=_0x5515c2;if(_0x660d14[_0x5980f7(0x227)]===_0x5980f7(0x19b)){_0x660d14[_0x5980f7(0x1c6)]();const _0x42be85=_0x19c8d9['value']['trim']();if(!_0x42be85)return;const _0x3e71e4=_0x2d1017['some'](_0x1c04f9=>_0x1c04f9[_0x5980f7(0x21d)]===_0x42be85),_0xac1e5=_0x16c1b8[_0x5980f7(0x145)](_0x22f951=>_0x22f951[_0x5980f7(0x21d)]===_0x42be85);if(!_0x3e71e4&&!_0xac1e5){const _0x2ba16b={'setCode':_0x42be85,'setName':_0x42be85};_0x2d1017[_0x5980f7(0x22f)](_0x2ba16b),_0x316c83(),_0x2d4b92();}_0x19c8d9[_0x5980f7(0x199)]='';}}),document[_0x5515c2(0x1c4)](_0x5515c2(0x1a3),function(_0x2d6f64){var _0x564cb2=_0x5515c2;if(!_0x508be2['contains'](_0x2d6f64[_0x564cb2(0x1fb)]))_0xe1e205['classList'][_0x564cb2(0x1ae)](_0x564cb2(0x138));}),_0x2d4b92(),_0x2d1017;}function getLastCode(_0x7d7e41){var _0x2a3d15=_0x5ed0e1;const _0x57c0f2=_0x7d7e41[_0x2a3d15(0x189)](_0x21b76e=>String(_0x21b76e['setCodProducto'])[_0x2a3d15(0x1a5)]())[_0x2a3d15(0x206)](_0x3fdc02=>_0x3fdc02!=='');if(_0x57c0f2[_0x2a3d15(0x24a)]===0x0)return'';const _0x1e6b2c=_0x57c0f2[_0x2a3d15(0x1e0)](_0x431f90=>/^\d+$/[_0x2a3d15(0x1c5)](_0x431f90));if(_0x1e6b2c){const _0x15ab72=_0x57c0f2[_0x2a3d15(0x189)](Number),_0x39d383=Math['max'](..._0x15ab72);return String(_0x39d383);}let _0x5f21ec;if(typeof Intl!==_0x2a3d15(0x1d1)&&Intl[_0x2a3d15(0x25c)]){const _0x56460a=new Intl[(_0x2a3d15(0x25c))](undefined,{'numeric':!![],'sensitivity':_0x2a3d15(0x16c)});_0x5f21ec=_0x57c0f2[_0x2a3d15(0x1ec)]()['sort'](_0x56460a['compare']);}else{const _0x1f532a=_0x57c0f2[_0x2a3d15(0x1e0)](_0x2a3bf7=>/^\d+$/[_0x2a3d15(0x1c5)](_0x2a3bf7));_0x1f532a?_0x5f21ec=_0x57c0f2[_0x2a3d15(0x189)](Number)['sort']((_0x4a0973,_0x56d510)=>_0x4a0973-_0x56d510)[_0x2a3d15(0x189)](String):_0x5f21ec=_0x57c0f2['slice']()[_0x2a3d15(0x25a)]();}return _0x5f21ec[_0x5f21ec[_0x2a3d15(0x24a)]-0x1];}function getNextCode(_0x656242){var _0x1e2711=_0x5ed0e1;const _0x497a9f=getLastCode(_0x656242);if(!_0x497a9f)return'';if(/^\d+$/['test'](_0x497a9f))return String(Number(_0x497a9f)+0x1);const _0x23d1e3=_0x497a9f[_0x1e2711(0x218)](/^([A-Za-z]*)(\d+)$/);if(_0x23d1e3){const [,_0x46f2cc,_0x4b10c8]=_0x23d1e3,_0x2e42df=String(Number(_0x4b10c8)+0x1)[_0x1e2711(0x235)](_0x4b10c8[_0x1e2711(0x24a)],'0');return _0x46f2cc+_0x2e42df;}return _0x497a9f;}document[_0x5ed0e1(0x1bc)]('inputItemName')[_0x5ed0e1(0x1c4)](_0x5ed0e1(0x192),function(_0x5b7859){var _0x594d2c=_0x5ed0e1;baseItem[_0x594d2c(0x13a)]=_0x5b7859[_0x594d2c(0x1fb)][_0x594d2c(0x199)];}),document['getElementById'](_0x5ed0e1(0x140))[_0x5ed0e1(0x1c4)]('input',function(_0x439532){var _0x110336=_0x5ed0e1;baseItem[_0x110336(0x1b8)]=_0x439532[_0x110336(0x1fb)][_0x110336(0x199)];}),document[_0x5ed0e1(0x1bc)]('inputItemDateExpiry')[_0x5ed0e1(0x1c4)](_0x5ed0e1(0x192),function(_0x2da2d3){var _0xd6d273=_0x5ed0e1;baseItem['setItemDateExpiry']=_0x2da2d3[_0xd6d273(0x1fb)][_0xd6d273(0x199)];}),document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x17c))['addEventListener'](_0x5ed0e1(0x23f),function(_0x5deb82){var _0x1cf175=_0x5ed0e1;baseItem['setItemType']=_0x5deb82[_0x1cf175(0x1fb)]['value'];}),document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x1f2))[_0x5ed0e1(0x1c4)]('change',function(_0x2738f8){var _0x2580d0=_0x5ed0e1;baseItem[_0x2580d0(0x217)]=_0x2738f8['target'][_0x2580d0(0x199)];const _0x2c82ad=_0x2738f8[_0x2580d0(0x1fb)][_0x2580d0(0x199)],_0x4ed1c0=company[0x0][_0x2580d0(0x205)][_0x2580d0(0x27f)](_0x392b89=>_0x392b89[_0x2580d0(0x18b)]==_0x2c82ad)?.[_0x2580d0(0x264)]||0x0,_0x399ac0=company[0x0][_0x2580d0(0x205)][_0x2580d0(0x27f)](_0x3cbaea=>_0x3cbaea[_0x2580d0(0x18b)]==_0x2c82ad)?.[_0x2580d0(0x197)]||0x0;baseItem['setItemTaxCode']=_0x4ed1c0,baseItem[_0x2580d0(0x165)]=_0x399ac0;}),document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x238))[_0x5ed0e1(0x1c4)](_0x5ed0e1(0x23f),function(_0x754eb2){var _0x45dd8e=_0x5ed0e1;baseItem[_0x45dd8e(0x281)]=_0x754eb2[_0x45dd8e(0x1fb)]['checked'];}),document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x1b3))['addEventListener'](_0x5ed0e1(0x23f),function(_0x2315c5){var _0x37d38d=_0x5ed0e1;baseItem[_0x37d38d(0x25d)]=_0x2315c5[_0x37d38d(0x1fb)]['checked'];}),document[_0x5ed0e1(0x1bc)]('inputItemCode')['addEventListener'](_0x5ed0e1(0x192),function(_0x3e5ad0){var _0x189bec=_0x5ed0e1;baseItem[_0x189bec(0x133)]=_0x3e5ad0[_0x189bec(0x1fb)][_0x189bec(0x199)];}),document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x162))['addEventListener']('input',function(_0x15682e){var _0x456369=_0x5ed0e1;baseItem[_0x456369(0x193)]=_0x15682e[_0x456369(0x1fb)][_0x456369(0x199)];}),document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x1a9))[_0x5ed0e1(0x1c4)]('click',function(){addUnit(),updateUnitsArray();}),document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x259))[_0x5ed0e1(0x1c4)](_0x5ed0e1(0x1a6),function(){var _0xd67d26=_0x5ed0e1;const _0x2d6325=this['value'][_0xd67d26(0x1a5)]();if(_0x2d6325==='')return;const _0x401b0f=products[_0xd67d26(0x145)](_0x36fa74=>_0x36fa74[_0xd67d26(0x23c)]==_0x2d6325),_0x1a685c=getLastCode(products);_0x401b0f?ntfShow(_0xd67d26(0x25e)+_0x1a685c,0x2,0x1):ntfShow(_0xd67d26(0x1eb),0x1,0x1);});function removeImg(_0x48c314){var _0x3e535b=_0x5ed0e1;currentImages[_0x48c314]=null;var _0x31f772=imgC[_0x3e535b(0x1a7)](_0x3e535b(0x136)+_0x48c314+'\x22]');_0x31f772[_0x3e535b(0x1c2)]='';var _0x4a912a=document[_0x3e535b(0x137)](_0x3e535b(0x192));_0x4a912a[_0x3e535b(0x1bf)]='file',_0x4a912a['accept']='image/*',_0x4a912a['style']['display']='none';var _0x135a3c=document['createElement'](_0x3e535b(0x1fe));_0x135a3c[_0x3e535b(0x26b)]='+',_0x31f772[_0x3e535b(0x240)](_0x4a912a),_0x31f772[_0x3e535b(0x240)](_0x135a3c),_0x31f772[_0x3e535b(0x1c4)](_0x3e535b(0x1a3),function(){_0x4a912a['click']();}),baseItem['setItemImages']=currentImages[_0x3e535b(0x206)](function(_0xded58){return _0xded58;});}function _0x3efd(_0x251e44,_0x202e14){var _0x2c1890=_0x1d64();return _0x3efd=function(_0x2ba2b8,_0x23ffbc){_0x2ba2b8=_0x2ba2b8-0x132;var _0x12aa04=_0x2c1890[_0x2ba2b8];return _0x12aa04;},_0x3efd(_0x251e44,_0x202e14);}function addUnit(_0x193e4d,_0x51ccaf,_0x19e016,_0x48ef59,_0x5f4b08,_0x49cea3,_0xc5d653){var _0x4b75e6=_0x5ed0e1,_0x34b03b=uniqueValuesArray('setUnitCode','setUnitName',myCompany[_0x4b75e6(0x1d2)]);_0x193e4d=_0x193e4d||'',_0x51ccaf=_0x51ccaf||_0x34b03b[0x3a]&&_0x34b03b[0x3a][_0x4b75e6(0x1dc)]||'',_0x19e016=_0x19e016!==undefined?_0x19e016:0x1,_0x48ef59=!!_0x48ef59,_0x5f4b08=_0x5f4b08||'',_0x49cea3=_0x49cea3||'';var _0x137a60=unitCount++,_0x193a3e=document[_0x4b75e6(0x137)](_0x4b75e6(0x1af));_0x193a3e['dataset']['idx']=_0x137a60,_0x193a3e['dataset'][_0x4b75e6(0x247)]=_0x48ef59,_0x193a3e[_0x4b75e6(0x1c2)]=_0x4b75e6(0x157)+_0x137a60+'\x22\x20value=\x22'+_0x193e4d+_0x4b75e6(0x21b)+_0x137a60+_0x4b75e6(0x132)+_0x137a60+'\x22\x20value=\x22'+_0x19e016+'\x22\x20'+(_0x48ef59?'disabled':'')+_0x4b75e6(0x1ac)+_0x137a60+'\x22\x20value=\x22'+_0x5f4b08+_0x4b75e6(0x211)+_0x137a60+_0x4b75e6(0x22a)+_0x49cea3+_0x4b75e6(0x22b)+(_0x48ef59?_0x4b75e6(0x168):'')+_0x4b75e6(0x1db),fillSelect(_0x193a3e[_0x4b75e6(0x1a7)](_0x4b75e6(0x248)),_0x34b03b,_0x4b75e6(0x1dc),_0x4b75e6(0x21d)),_0x193a3e[_0x4b75e6(0x1a7)](_0x4b75e6(0x248))[_0x4b75e6(0x199)]=_0x51ccaf,['unitAlias','unitSelect',_0x4b75e6(0x1b2),_0x4b75e6(0x18c),_0x4b75e6(0x20c)][_0x4b75e6(0x232)](function(_0x150e41){var _0x42b455=_0x4b75e6;_0x193a3e[_0x42b455(0x1a7)]('.'+_0x150e41)[_0x42b455(0x1c4)](_0x42b455(0x192),function(){var _0x55db15=_0x42b455,_0xec9803=_0xc5d653?+_0xc5d653['id'][_0x55db15(0x14a)]('_')[0x1]:null;if(_0xc5d653)updateVariantUnits(_0xec9803);else updateUnitsArray();});}),_0x193a3e[_0x4b75e6(0x1a7)](_0x4b75e6(0x20b))[_0x4b75e6(0x1c4)](_0x4b75e6(0x1a3),function(){var _0x2481d7=_0x4b75e6;_0x193a3e[_0x2481d7(0x172)]();var _0x561129=_0xc5d653?+_0xc5d653['id'][_0x2481d7(0x14a)]('_')[0x1]:null;if(_0xc5d653)updateVariantUnits(_0x561129);else updateUnitsArray();});var _0x20a16d=_0xc5d653||document[_0x4b75e6(0x1bc)](_0x4b75e6(0x1c3));_0x20a16d[_0x4b75e6(0x240)](_0x193a3e);}function containerIdx(_0x3eeacd){var _0x1ff4cd=_0x5ed0e1;return+_0x3eeacd['id'][_0x1ff4cd(0x14a)]('_')[0x1];}function updateUnitsArray(){var _0x514407=_0x5ed0e1,_0x2496ca=[],_0x5b46a7=Array[_0x514407(0x236)](document[_0x514407(0x139)]('#newItem_units_container\x20>\x20div')),_0x515da0=_0x5b46a7[_0x514407(0x27f)](_0x220dc6=>_0x220dc6['dataset'][_0x514407(0x247)]===_0x514407(0x169)),_0x1d3025=_0x515da0?+_0x515da0[_0x514407(0x1a7)](_0x514407(0x278))[_0x514407(0x199)]:0x1;_0x5b46a7[_0x514407(0x232)](function(_0x4be0d5){var _0x4cc850=_0x514407,_0x4f19fb=+_0x4be0d5['querySelector'](_0x4cc850(0x278))[_0x4cc850(0x199)]||0x0,_0x5a9405=+_0x4be0d5[_0x4cc850(0x1a7)]('.priceInput')['value']||0x0,_0x5a9a13=+_0x4be0d5[_0x4cc850(0x1a7)](_0x4cc850(0x160))['value']||0x0;_0x2496ca[_0x4cc850(0x22f)]({'setAlias':_0x4be0d5['querySelector'](_0x4cc850(0x261))[_0x4cc850(0x199)][_0x4cc850(0x1a5)](),'setUnitCode':_0x4be0d5['querySelector'](_0x4cc850(0x248))[_0x4cc850(0x199)],'setEquivalence':_0x4f19fb,'setFactor':_0x4be0d5['dataset'][_0x4cc850(0x247)]==='true'?0x1:_0x4f19fb==_0x1d3025?0x1:_0x4f19fb<_0x1d3025?_0x1d3025/_0x4f19fb:_0x4f19fb/_0x1d3025,'setPrice':_0x5a9405,'setCost':_0x5a9a13,'setDefault':_0x4be0d5[_0x4cc850(0x185)][_0x4cc850(0x247)]===_0x4cc850(0x169)?0x1:0x0});}),baseItem[_0x514407(0x13b)]=_0x2496ca;}function updateBranches(){var _0x261813=_0x5ed0e1,_0x3a45dc=[];document[_0x261813(0x139)](_0x261813(0x213))[_0x261813(0x232)](function(_0x49ca71){var _0x4b1257=_0x261813,_0x4432b1=_0x49ca71[_0x4b1257(0x1a7)](_0x4b1257(0x1a1));if(_0x4432b1[_0x4b1257(0x144)]){var _0x3f2282=+_0x4432b1[_0x4b1257(0x185)]['id'],_0x47a5ed=+_0x49ca71[_0x4b1257(0x1a7)](_0x4b1257(0x229))[_0x4b1257(0x199)],_0x12c9c5=+_0x49ca71[_0x4b1257(0x1a7)]('.branchMin')[_0x4b1257(0x199)];_0x3a45dc[_0x4b1257(0x22f)]({'setWarehouseCode':_0x3f2282,'setStockInitial':_0x47a5ed,'setStockMinimum':_0x12c9c5});}}),baseItem[_0x261813(0x164)]=_0x3a45dc;}document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x253))['addEventListener'](_0x5ed0e1(0x1a3),function(){var _0x3b32b6=_0x5ed0e1,_0xe497=Date[_0x3b32b6(0x1f7)](),_0x376c1b=document[_0x3b32b6(0x137)]('div');_0x376c1b[_0x3b32b6(0x185)][_0x3b32b6(0x21c)]=_0xe497,_0x376c1b[_0x3b32b6(0x1c2)]=_0x3b32b6(0x219)+_0xe497+_0x3b32b6(0x17a)+_0xe497+_0x3b32b6(0x1aa),prodC['appendChild'](_0x376c1b),initProdSearch(_0x376c1b[_0x3b32b6(0x1a7)](_0x3b32b6(0x1e2))),_0x376c1b[_0x3b32b6(0x1a7)]('.removeProd')[_0x3b32b6(0x1c4)](_0x3b32b6(0x1a3),function(){var _0x1fef7b=_0x3b32b6;_0x376c1b[_0x1fef7b(0x172)](),updateProdItems();}),_0x376c1b[_0x3b32b6(0x1a7)](_0x3b32b6(0x1f9))[_0x3b32b6(0x1c4)](_0x3b32b6(0x192),updateProdItems),document[_0x3b32b6(0x1bc)](_0x3b32b6(0x23d))[_0x3b32b6(0x1cc)][_0x3b32b6(0x27d)](_0x3b32b6(0x25f),!![]),document[_0x3b32b6(0x1bc)](_0x3b32b6(0x23d))['classList']['toggle'](_0x3b32b6(0x138),![]);});function initProdSearch(_0xf0f8b9,_0x534c66){var _0x33864c=_0x5ed0e1,_0x4343ee=_0xf0f8b9[_0x33864c(0x1a7)](_0x33864c(0x175)),_0x2b11f3=_0xf0f8b9[_0x33864c(0x1a7)]('.options_list'),_0x29af0e=_0x534c66||null;if(_0x534c66)_0x4343ee[_0x33864c(0x199)]=_0x534c66[_0x33864c(0x19c)];_0x4343ee[_0x33864c(0x1c4)](_0x33864c(0x192),function(){var _0x388433=_0x33864c,_0x4cab4c=_0x4343ee[_0x388433(0x199)][_0x388433(0x1c9)]()[_0x388433(0x1a5)]();_0x2b11f3[_0x388433(0x1c2)]='';if(!_0x4cab4c)return;products[_0x388433(0x206)](_0x4a566e=>_0x4a566e['setDescripcion'][_0x388433(0x1c9)]()[_0x388433(0x1be)](_0x4cab4c))[_0x388433(0x1ec)](0x0,0x14)['forEach'](function(_0x2bb37e){var _0x5d0144=_0x388433,_0x5b8ceb=document[_0x5d0144(0x137)](_0x5d0144(0x1af));_0x5b8ceb[_0x5d0144(0x26b)]=_0x2bb37e[_0x5d0144(0x154)],_0x5b8ceb[_0x5d0144(0x185)]['id']=_0x2bb37e['id'],_0x5b8ceb[_0x5d0144(0x185)][_0x5d0144(0x19c)]=_0x2bb37e[_0x5d0144(0x154)],_0x2b11f3[_0x5d0144(0x240)](_0x5b8ceb),_0x5b8ceb[_0x5d0144(0x1c4)]('click',function(){var _0x294fa4=_0x5d0144;_0x29af0e={'id':_0x2bb37e['id'],'name':_0x2bb37e['setDescripcion']},_0x4343ee[_0x294fa4(0x199)]=_0x2bb37e[_0x294fa4(0x154)],_0x2b11f3[_0x294fa4(0x1c2)]='';var _0x4d0020=_0xf0f8b9[_0x294fa4(0x18a)](_0x294fa4(0x1f5));if(_0x4d0020){var _0x1ba493=+_0x4d0020['id'][_0x294fa4(0x14a)]('_')[0x1];updateVariantComponents(_0x1ba493);}else updateProdItems();});});}),_0x4343ee[_0x33864c(0x1c4)](_0x33864c(0x260),function(){var _0x3900fd=_0x33864c;_0x2b11f3[_0x3900fd(0x1cc)][_0x3900fd(0x172)](_0x3900fd(0x138));}),document[_0x33864c(0x1c4)](_0x33864c(0x1a3),function(_0x458af0){var _0x237e4f=_0x33864c;if(!_0xf0f8b9[_0x237e4f(0x26f)](_0x458af0[_0x237e4f(0x1fb)]))_0x2b11f3[_0x237e4f(0x1cc)][_0x237e4f(0x1ae)](_0x237e4f(0x138));}),Object[_0x33864c(0x234)](_0xf0f8b9,_0x33864c(0x171),{'get':()=>_0x29af0e});}function updateProdItems(){var _0x541d8e=_0x5ed0e1,_0x4754ef=[];Array['from'](prodC[_0x541d8e(0x237)])[_0x541d8e(0x232)](function(_0x4a5bc4){var _0x22fa46=_0x541d8e,_0x4fc47a=_0x4a5bc4[_0x22fa46(0x1a7)]('.prod_input_container');if(!_0x4fc47a)return;var _0x1200e0=_0x4a5bc4[_0x22fa46(0x1a7)](_0x22fa46(0x1f9)),_0x16df1a=_0x4fc47a[_0x22fa46(0x171)];_0x16df1a&&_0x4754ef[_0x22fa46(0x22f)]({'setItemId':_0x16df1a['id'],'setDescripcion':_0x16df1a['name'],'setCantidad':+_0x1200e0[_0x22fa46(0x199)]});}),baseItem['setItemComponents']=_0x4754ef,_0x4754ef[_0x541d8e(0x24a)]===0x0&&(document[_0x541d8e(0x1bc)]('newItem_title_table_cp')[_0x541d8e(0x1cc)][_0x541d8e(0x27d)](_0x541d8e(0x25f),![]),document['getElementById'](_0x541d8e(0x23d))[_0x541d8e(0x1cc)][_0x541d8e(0x27d)](_0x541d8e(0x138),!![]));}document['getElementById']('newItem_btn_addVariantGroup')[_0x5ed0e1(0x1c4)](_0x5ed0e1(0x1a3),function(){var _0x34b2d8=_0x5ed0e1,_0x1b1048=vgCount++,_0x52529a=document[_0x34b2d8(0x137)](_0x34b2d8(0x1af));_0x52529a[_0x34b2d8(0x185)][_0x34b2d8(0x21c)]=_0x1b1048,_0x52529a[_0x34b2d8(0x1c2)]=_0x34b2d8(0x158)+_0x1b1048+'\x22>'+_0x34b2d8(0x246)+_0x1b1048+'\x22>'+_0x34b2d8(0x20f),vgC[_0x34b2d8(0x240)](_0x52529a),_0x52529a[_0x34b2d8(0x1a7)](_0x34b2d8(0x195))[_0x34b2d8(0x1c4)](_0x34b2d8(0x1a6),generateVariants),_0x52529a[_0x34b2d8(0x1a7)]('.vgVals')['addEventListener'](_0x34b2d8(0x1a6),generateVariants),_0x52529a[_0x34b2d8(0x1a7)](_0x34b2d8(0x1f3))[_0x34b2d8(0x1c4)](_0x34b2d8(0x1a3),function(){var _0x36fd05=_0x34b2d8;_0x52529a[_0x36fd05(0x172)](),generateVariants();});});function generateVariants(){var _0xb06c02=_0x5ed0e1,_0x3b16f4=[];vgC[_0xb06c02(0x139)](_0xb06c02(0x1af))[_0xb06c02(0x232)](function(_0x582b09){var _0x2d38d8=_0xb06c02,_0x4c70f8=_0x582b09[_0x2d38d8(0x1a7)](_0x2d38d8(0x195))[_0x2d38d8(0x199)][_0x2d38d8(0x1a5)](),_0x5337b5=_0x582b09['querySelector'](_0x2d38d8(0x153))['value'][_0x2d38d8(0x14a)](',')[_0x2d38d8(0x189)](_0x4ddb6a=>_0x4ddb6a[_0x2d38d8(0x1a5)]())['filter'](_0x1e6116=>_0x1e6116);if(_0x4c70f8&&_0x5337b5[_0x2d38d8(0x24a)])_0x3b16f4['push']({'name':_0x4c70f8,'vals':_0x5337b5});});var _0x278272=[{}];_0x3b16f4[_0xb06c02(0x232)](function(_0x3a1a8a){var _0x237314=_0xb06c02;_0x278272=_0x278272[_0x237314(0x24f)](function(_0x2e1203){var _0x10da54=_0x237314;return _0x3a1a8a[_0x10da54(0x1fc)]['map'](function(_0xd6efd){var _0x30fb25=_0x10da54,_0x4d168b=Object[_0x30fb25(0x22e)]({},_0x2e1203);return _0x4d168b[_0x3a1a8a[_0x30fb25(0x19c)]]=_0xd6efd,_0x4d168b;});});}),newItems=[],varContainer[_0xb06c02(0x1c2)]='',_0x278272[_0xb06c02(0x232)](function(_0xd7ae10,_0x2856fa){var _0x4dfe83=_0xb06c02,_0x2a5061=JSON[_0x4dfe83(0x198)](JSON[_0x4dfe83(0x1ca)](baseItem));_0x2a5061['setItemVariantValues']=_0xd7ae10,_0x2a5061[_0x4dfe83(0x1e5)]=baseItem[_0x4dfe83(0x13a)]+'\x20'+Object[_0x4dfe83(0x14b)](_0xd7ae10)[_0x4dfe83(0x189)](_0x7fb80d=>_0x7fb80d[0x0]+'\x20'+_0x7fb80d[0x1])['join']('\x20'),newItems[_0x4dfe83(0x22f)](_0x2a5061);var _0x20205b=document['createElement']('div');_0x20205b[_0x4dfe83(0x1cc)][_0x4dfe83(0x1ae)]('variantForm'),_0x20205b[_0x4dfe83(0x185)][_0x4dfe83(0x21c)]=_0x2856fa,_0x20205b[_0x4dfe83(0x1c2)]=_0x4dfe83(0x143)+_0x2a5061[_0x4dfe83(0x1e5)]+_0x4dfe83(0x208)+_0x2a5061['setItemCode']+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x2a5061['setItemBarCode']+_0x4dfe83(0x1d6)+_0x2a5061[_0x4dfe83(0x20d)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x2856fa+_0x4dfe83(0x26d)+_0x2856fa+_0x4dfe83(0x252)+_0x2856fa+_0x4dfe83(0x190),varContainer['appendChild'](_0x20205b),_0x20205b['querySelector'](_0x4dfe83(0x223))[_0x4dfe83(0x1c4)](_0x4dfe83(0x192),_0x492e37=>newItems[_0x2856fa][_0x4dfe83(0x133)]=_0x492e37[_0x4dfe83(0x1fb)]['value']),_0x20205b['querySelector'](_0x4dfe83(0x150))[_0x4dfe83(0x1c4)](_0x4dfe83(0x192),_0x21230e=>newItems[_0x2856fa]['setItemBarCode']=_0x21230e['target']['value']),_0x20205b['querySelector'](_0x4dfe83(0x233))[_0x4dfe83(0x1c4)](_0x4dfe83(0x23f),_0x38418c=>newItems[_0x2856fa][_0x4dfe83(0x20d)]=_0x38418c[_0x4dfe83(0x1fb)]['value']),initVariantUnits(_0x2856fa),initVariantComponents(_0x2856fa),initVariantBranches(_0x2856fa),_0x20205b[_0x4dfe83(0x1a7)](_0x4dfe83(0x14f))['addEventListener'](_0x4dfe83(0x1a3),function(){var _0x26eded=_0x4dfe83,_0x10592b=+_0x20205b[_0x26eded(0x185)]['idx'];newItems[_0x26eded(0x15c)](_0x10592b,0x1),_0x20205b['remove'](),document[_0x26eded(0x139)](_0x26eded(0x1da))['forEach'](function(_0x2a72a5,_0x23569a){var _0x166358=_0x26eded;_0x2a72a5[_0x166358(0x185)][_0x166358(0x21c)]=_0x23569a;});});});if(newItems[_0xb06c02(0x24a)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x1b7a2e){var _0xde4e3e=_0x5ed0e1,_0x20370d=document[_0xde4e3e(0x1bc)](_0xde4e3e(0x187)+_0x1b7a2e+_0xde4e3e(0x152)),_0x155e13=[];Array[_0xde4e3e(0x236)](_0x20370d[_0xde4e3e(0x237)])[_0xde4e3e(0x232)](function(_0x4fdebe){var _0x19983e=_0xde4e3e,_0xb881f=+_0x4fdebe['querySelector'](_0x19983e(0x278))[_0x19983e(0x199)]||0x0,_0x4ea79a=_0x4fdebe[_0x19983e(0x1a7)](_0x19983e(0x261))[_0x19983e(0x199)][_0x19983e(0x1a5)](),_0x2c070a=_0x4fdebe[_0x19983e(0x1a7)](_0x19983e(0x248))[_0x19983e(0x199)],_0x4451b6=+_0x4fdebe[_0x19983e(0x1a7)](_0x19983e(0x24d))[_0x19983e(0x199)]||0x0,_0x24dba8=+_0x4fdebe[_0x19983e(0x1a7)](_0x19983e(0x160))[_0x19983e(0x199)]||0x0,_0x4981e7=_0x4fdebe[_0x19983e(0x185)]['default']===_0x19983e(0x169),_0x304b55=+_0x20370d[_0x19983e(0x1a7)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x19983e(0x199)]||0x1,_0x67ffe1=_0x4981e7?0x1:_0xb881f==_0x304b55?0x1:_0xb881f<_0x304b55?_0x304b55/_0xb881f:_0xb881f/_0x304b55;_0x155e13[_0x19983e(0x22f)]({'setAlias':_0x4ea79a,'setUnitCode':_0x2c070a,'setEquivalence':_0xb881f,'setFactor':_0x67ffe1,'setPrice':_0x4451b6,'setCost':_0x24dba8,'setDefault':_0x4981e7?0x1:0x0});}),newItems[_0x1b7a2e]['setItemUnits']=_0x155e13;}function initVariantUnits(_0x3c8a38){var _0x55f1e=_0x5ed0e1,_0x339809=document['getElementById'](_0x55f1e(0x187)+_0x3c8a38+_0x55f1e(0x152));_0x339809[_0x55f1e(0x1c2)]='',newItems[_0x3c8a38][_0x55f1e(0x13b)]['forEach'](function(_0x192e3a){var _0xf1d90c=_0x55f1e;addUnit(_0x192e3a['setAlias'],_0x192e3a[_0xf1d90c(0x16f)],_0x192e3a['setEquivalence'],_0x192e3a[_0xf1d90c(0x200)],_0x192e3a['setPrice'],_0x192e3a[_0xf1d90c(0x141)],_0x339809);}),_0x339809['parentNode']['querySelector']('.addVariantUnit')[_0x55f1e(0x1c4)](_0x55f1e(0x1a3),function(){addUnit('','',0x1,![],'','',_0x339809),updateVariantUnits(_0x3c8a38);});}function updateVariantUnits(_0x4217a6){var _0x47281a=_0x5ed0e1,_0x34ecb9=document[_0x47281a(0x1bc)](_0x47281a(0x187)+_0x4217a6+'_units_container'),_0x28cd44=_0x34ecb9['querySelector'](_0x47281a(0x1a4)),_0x25d2e2=_0x28cd44?+_0x28cd44[_0x47281a(0x199)]:0x1,_0x35d1f6=Array['from'](_0x34ecb9[_0x47281a(0x237)])[_0x47281a(0x189)](function(_0x50ed02){var _0x4e5523=_0x47281a,_0x32c610=_0x50ed02[_0x4e5523(0x1a7)](_0x4e5523(0x261))['value'][_0x4e5523(0x1a5)](),_0x2c4d9f=_0x50ed02[_0x4e5523(0x1a7)](_0x4e5523(0x248))[_0x4e5523(0x199)],_0x26bda2=+_0x50ed02[_0x4e5523(0x1a7)](_0x4e5523(0x278))[_0x4e5523(0x199)]||0x0,_0x275747=+_0x50ed02[_0x4e5523(0x1a7)]('.priceInput')[_0x4e5523(0x199)]||0x0,_0x16f138=+_0x50ed02[_0x4e5523(0x1a7)](_0x4e5523(0x160))[_0x4e5523(0x199)]||0x0,_0x8d8ff5=_0x50ed02[_0x4e5523(0x185)]['default']===_0x4e5523(0x169);return{'setAlias':_0x32c610,'setUnitCode':_0x2c4d9f,'setEquivalence':_0x26bda2,'setFactor':_0x8d8ff5?0x1:_0x26bda2==_0x25d2e2?0x1:_0x26bda2<_0x25d2e2?_0x25d2e2/_0x26bda2:_0x26bda2/_0x25d2e2,'setPrice':_0x275747,'setCost':_0x16f138,'setDefault':_0x8d8ff5?0x1:0x0};});newItems[_0x4217a6][_0x47281a(0x13b)]=_0x35d1f6;}function initVariantComponents(_0x35ef78){var _0x1949c0=_0x5ed0e1,_0x2f8640=document['getElementById'](_0x1949c0(0x187)+_0x35ef78+_0x1949c0(0x155));_0x2f8640['innerHTML']='',newItems[_0x35ef78]['setItemComponents'][_0x1949c0(0x232)](function(_0x271afb){var _0x3bbd71=_0x1949c0,_0x55777a=document[_0x3bbd71(0x137)](_0x3bbd71(0x1af)),_0x4f597e=Date[_0x3bbd71(0x1f7)]();_0x55777a[_0x3bbd71(0x185)][_0x3bbd71(0x21c)]=_0x4f597e,_0x55777a['innerHTML']=_0x3bbd71(0x1d0)+_0x4f597e+_0x3bbd71(0x257)+_0x271afb[_0x3bbd71(0x268)]+_0x3bbd71(0x18e),_0x2f8640['appendChild'](_0x55777a),initProdSearch(_0x55777a[_0x3bbd71(0x1a7)](_0x3bbd71(0x1e2)),{'id':_0x271afb[_0x3bbd71(0x146)],'name':_0x271afb[_0x3bbd71(0x154)]}),_0x55777a[_0x3bbd71(0x1a7)](_0x3bbd71(0x1f9))[_0x3bbd71(0x1c4)](_0x3bbd71(0x192),function(){updateVariantComponents(_0x35ef78);}),_0x55777a['querySelector'](_0x3bbd71(0x24c))[_0x3bbd71(0x1c4)](_0x3bbd71(0x1a3),function(){var _0x2fabbd=_0x3bbd71;_0x55777a[_0x2fabbd(0x172)](),updateVariantComponents(_0x35ef78);});}),_0x2f8640[_0x1949c0(0x263)][_0x1949c0(0x1a7)](_0x1949c0(0x255))[_0x1949c0(0x1c4)](_0x1949c0(0x1a3),function(){var _0x3deedd=_0x1949c0,_0x5c11a8=document['createElement'](_0x3deedd(0x1af)),_0x579845=Date[_0x3deedd(0x1f7)]();_0x5c11a8[_0x3deedd(0x185)][_0x3deedd(0x21c)]=_0x579845,_0x5c11a8[_0x3deedd(0x1c2)]=_0x3deedd(0x1d0)+_0x579845+_0x3deedd(0x226),_0x2f8640[_0x3deedd(0x240)](_0x5c11a8),initProdSearch(_0x5c11a8[_0x3deedd(0x1a7)](_0x3deedd(0x1e2))),_0x5c11a8[_0x3deedd(0x1a7)]('.prodQty')[_0x3deedd(0x1c4)](_0x3deedd(0x192),function(){updateVariantComponents(_0x35ef78);}),_0x5c11a8[_0x3deedd(0x1a7)](_0x3deedd(0x24c))[_0x3deedd(0x1c4)](_0x3deedd(0x1a3),function(){var _0x45e3e7=_0x3deedd;_0x5c11a8[_0x45e3e7(0x172)](),updateVariantComponents(_0x35ef78);});});}function updateVariantComponents(_0x1a9722){var _0x358526=_0x5ed0e1,_0xe6792=document[_0x358526(0x1bc)](_0x358526(0x187)+_0x1a9722+_0x358526(0x155)),_0x2ba1fc=Array[_0x358526(0x236)](_0xe6792['children'])['map'](function(_0x1fae81){var _0x42dcb3=_0x358526,_0x4eae54=_0x1fae81[_0x42dcb3(0x1a7)]('.prod_input_container'),_0x50266b=_0x4eae54[_0x42dcb3(0x171)],_0x2a2f48=+_0x1fae81[_0x42dcb3(0x1a7)](_0x42dcb3(0x1f9))[_0x42dcb3(0x199)]||0x0;return _0x50266b?{'setItemId':_0x50266b['id'],'setDescripcion':_0x50266b[_0x42dcb3(0x19c)],'setCantidad':_0x2a2f48}:null;})[_0x358526(0x206)](_0x244725=>_0x244725);newItems[_0x1a9722][_0x358526(0x13d)]=_0x2ba1fc;}function initVariantBranches(_0x4e29eb){var _0xbfbf3=_0x5ed0e1;const _0x2f8e0b=getAllWarehouses();var _0x40988c=document['getElementById'](_0xbfbf3(0x187)+_0x4e29eb+_0xbfbf3(0x178));_0x40988c[_0xbfbf3(0x1c2)]='',newItems[_0x4e29eb][_0xbfbf3(0x164)][_0xbfbf3(0x232)](function(_0x4251b7){var _0x1eb6c2=_0xbfbf3,_0xb0dc3e=_0x2f8e0b['find'](_0x11d31e=>_0x11d31e[_0x1eb6c2(0x17e)]==_0x4251b7[_0x1eb6c2(0x186)]),_0x471614=document[_0x1eb6c2(0x137)](_0x1eb6c2(0x1af));_0x471614['innerHTML']=_0x1eb6c2(0x1b7)+_0x4251b7['setWarehouseCode']+_0x1eb6c2(0x1c1)+_0xb0dc3e['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x4251b7[_0x1eb6c2(0x186)]+'\x22\x20value=\x22'+_0x4251b7['setStockInitial']+_0x1eb6c2(0x194)+_0x4251b7['setWarehouseCode']+_0x1eb6c2(0x22a)+_0x4251b7['setStockMinimum']+'\x22>',_0x40988c['appendChild'](_0x471614),_0x471614[_0x1eb6c2(0x139)](_0x1eb6c2(0x192))['forEach'](function(_0x58d839){_0x58d839['addEventListener']('input',function(){updateVariantBranches(_0x4e29eb);});});}),_0x2f8e0b['forEach'](function(_0x5474ac){var _0x3f2050=_0xbfbf3;if(!newItems[_0x4e29eb][_0x3f2050(0x164)][_0x3f2050(0x27f)](_0x13662a=>_0x13662a[_0x3f2050(0x186)]===_0x5474ac['setWarehouseId'])){var _0x26e7f3=document[_0x3f2050(0x137)]('div');_0x26e7f3[_0x3f2050(0x1c2)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x5474ac[_0x3f2050(0x17e)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x5474ac[_0x3f2050(0x1b0)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x5474ac['setWarehouseId']+_0x3f2050(0x194)+_0x5474ac[_0x3f2050(0x17e)]+'\x22>',_0x40988c[_0x3f2050(0x240)](_0x26e7f3),_0x26e7f3[_0x3f2050(0x139)](_0x3f2050(0x192))[_0x3f2050(0x232)](function(_0x5e4b2c){var _0x13b935=_0x3f2050;_0x5e4b2c['addEventListener'](_0x13b935(0x192),function(){updateVariantBranches(_0x4e29eb);});});}});}function updateVariantBranches(_0x526c45){var _0x270887=_0x5ed0e1,_0x27be02=document[_0x270887(0x1bc)](_0x270887(0x187)+_0x526c45+_0x270887(0x178)),_0x41c66e=[];_0x27be02['querySelectorAll'](_0x270887(0x1af))[_0x270887(0x232)](function(_0x5482d0){var _0x51f6e8=_0x270887,_0x537f2d=_0x5482d0[_0x51f6e8(0x1a7)](_0x51f6e8(0x1a1));if(_0x537f2d[_0x51f6e8(0x144)]){var _0x544860=+_0x537f2d[_0x51f6e8(0x185)]['id'],_0x394848=+_0x5482d0['querySelector'](_0x51f6e8(0x229))[_0x51f6e8(0x199)]||0x0,_0x3911a0=+_0x5482d0[_0x51f6e8(0x1a7)](_0x51f6e8(0x1f8))['value']||0x0;_0x41c66e[_0x51f6e8(0x22f)]({'setWarehouseCode':_0x544860,'setStockInitial':_0x394848,'setStockMinimum':_0x3911a0});}}),newItems[_0x526c45][_0x270887(0x164)]=_0x41c66e;}async function storeOfflineProduct(_0x1e8b20){var _0x4f54e1=_0x5ed0e1;try{const _0x5c1aee=await createCartStore(''),_0x5d6daf=_0x5c1aee[_0x4f54e1(0x250)]('offline_operations',_0x4f54e1(0x179)),_0x2b7f22=_0x5d6daf[_0x4f54e1(0x174)]('offline_operations');_0x2b7f22['add'](_0x1e8b20),_0x5d6daf[_0x4f54e1(0x230)]=()=>{var _0xc428a=_0x4f54e1;console['log'](_0xc428a(0x201));},_0x5d6daf[_0x4f54e1(0x249)]=_0x56889d=>{var _0x3b5654=_0x4f54e1;console[_0x3b5654(0x1cd)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0x56889d[_0x3b5654(0x1fb)][_0x3b5654(0x1cd)]);};}catch(_0x987126){console['error'](_0x4f54e1(0x16e),_0x987126);}}document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x1e3))[_0x5ed0e1(0x1c4)](_0x5ed0e1(0x1a3),async function(_0x575183){var _0x43b219=_0x5ed0e1;_0x575183[_0x43b219(0x1c6)]();const _0x56518b=document[_0x43b219(0x1bc)](_0x43b219(0x259)),_0x5cb892=document[_0x43b219(0x1bc)](_0x43b219(0x251))[_0x43b219(0x199)];if(!_0x56518b['value']['trim']()&&_0x5cb892==0x0){ntfShow('Ingresa\x20el\x20c贸digo\x20del\x20item',0x2,0x1);return;}_0x5cb892==0x1&&(_0x56518b[_0x43b219(0x199)]='',baseItem['setItemCode']='');const _0x183c1e=document[_0x43b219(0x1bc)](_0x43b219(0x17b));if(!_0x183c1e[_0x43b219(0x199)]['trim']()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x4ffeef=document[_0x43b219(0x1bc)]('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems[_0x43b219(0x24a)]===0x0&&(newItems=[baseItem]);const _0xf85cb2=document[_0x43b219(0x1bc)](_0x43b219(0x280))[_0x43b219(0x199)],_0xbd485f=window_options[_0xf85cb2][_0x43b219(0x1ed)],_0x597fe2=[];newItems['forEach'](_0x463bfb=>{var _0x49e79c=_0x43b219;const _0x5e8a52=generateNumericUniqId();_0x463bfb[_0x49e79c(0x13b)][_0x49e79c(0x232)](_0x2b6e94=>{var _0x532a40=_0x49e79c;const _0x61dfc5=generateNumericUniqId();_0x2b6e94[_0x532a40(0x21a)]=_0x61dfc5;const _0x409479={'id':_0x61dfc5,'setIdProducto':_0x5e8a52,'setCodProducto':_0x463bfb['setItemCode'],'setDescripcion':_0x463bfb[_0x532a40(0x13a)],'setItemDescription':_0x463bfb[_0x532a40(0x1b8)],'setBatchExpirationDate':_0x463bfb[_0x532a40(0x20d)],'setBatchName':'','setCategoria':_0x463bfb[_0x532a40(0x173)][0x0]||'','setMarca':_0x463bfb[_0x532a40(0x1ef)][0x0]||'','setConversionFactor':parseFloat(_0x2b6e94[_0x532a40(0x225)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x463bfb[_0x532a40(0x281)]?0x1:0x0,'setItemIsSold':_0x463bfb[_0x532a40(0x25d)]?0x1:0x0,'setPorcentajeIgv':_0x463bfb['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x463bfb[_0x532a40(0x217)],'setTipAfeIgv':_0x463bfb[_0x532a40(0x27b)],'setUnidad':_0x2b6e94[_0x532a40(0x16f)],'setUnidadCodigo':_0x2b6e94['setUnitCode'],'setItemUnitAlias':_0x2b6e94[_0x532a40(0x1d5)],'currency_data':[{'currency':_0xbd485f,'setMtoPrecioCostoUnitario':_0x2b6e94[_0x532a40(0x141)],'setMtoPrecioUnitario':_0x2b6e94[_0x532a40(0x1ad)],'setPriceLists':[]}],'sucursales':_0x463bfb[_0x532a40(0x164)][_0x532a40(0x189)](_0x4ea5e0=>({'setIdSucursal':_0x4ea5e0[_0x532a40(0x186)],'setSucursalStock':_0x4ea5e0[_0x532a40(0x196)][_0x532a40(0x23e)](),'setWarehouseStockMin':_0x4ea5e0[_0x532a40(0x180)]['toString']()})),'setItemFree':_0x463bfb[_0x532a40(0x251)],'setItemBarCode':_0x463bfb['setItemBarCode'],'setItemBrands':_0x463bfb[_0x532a40(0x1ef)][_0x532a40(0x1ec)](),'setItemCategories':_0x463bfb[_0x532a40(0x173)][_0x532a40(0x1ec)](),'setItemComponents':_0x463bfb[_0x532a40(0x13d)]['map'](_0x5dd892=>({..._0x5dd892})),'setItemImages':_0x463bfb[_0x532a40(0x24e)][_0x532a40(0x1ec)](),'setItemVariantName':_0x463bfb[_0x532a40(0x1e5)],'setItemVariantValues':{..._0x463bfb['setItemVariantValues']}};_0x597fe2['push'](_0x409479),(_0x4ffeef['checked']||_0x5cb892==0x1)&&addToCart(_0x409479);});}),console['log'](_0x43b219(0x215),newItems),await finalizeImport(_0x597fe2,newItems,![]);}),[_0x5ed0e1(0x221),_0x5ed0e1(0x13e)][_0x5ed0e1(0x232)](_0x4d2bc9=>dropZone[_0x5ed0e1(0x1c4)](_0x4d2bc9,_0x54a4d7=>{var _0x17c760=_0x5ed0e1;_0x54a4d7[_0x17c760(0x1c6)](),dropZone[_0x17c760(0x1cc)][_0x17c760(0x1ae)](_0x17c760(0x13e));})),[_0x5ed0e1(0x15f),'drop'][_0x5ed0e1(0x232)](_0x1e9d56=>dropZone[_0x5ed0e1(0x1c4)](_0x1e9d56,_0x2a2e41=>{var _0x25201e=_0x5ed0e1;_0x2a2e41[_0x25201e(0x1c6)](),dropZone['classList']['remove'](_0x25201e(0x13e));})),dropZone[_0x5ed0e1(0x1c4)](_0x5ed0e1(0x267),_0x31aeea=>{var _0x4ce9c0=_0x5ed0e1;const _0x505ae4=_0x31aeea[_0x4ce9c0(0x27a)][_0x4ce9c0(0x19f)][0x0];if(!_0x505ae4)return;fileInput[_0x4ce9c0(0x19f)]=_0x31aeea[_0x4ce9c0(0x27a)][_0x4ce9c0(0x19f)],dropZone[_0x4ce9c0(0x1a7)](_0x4ce9c0(0x220))[_0x4ce9c0(0x26b)]=_0x505ae4['name'],removeBtn[_0x4ce9c0(0x21e)]=![],fileInput[_0x4ce9c0(0x1d4)](new Event(_0x4ce9c0(0x23f)));}),removeBtn[_0x5ed0e1(0x1c4)](_0x5ed0e1(0x1a3),()=>{var _0x488025=_0x5ed0e1;fileInput[_0x488025(0x199)]='',dropZone[_0x488025(0x1a7)]('.drop-zone__prompt')[_0x488025(0x26b)]='Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x488025(0x21e)]=!![],progressBar[_0x488025(0x147)]['display']='none',statusDiv[_0x488025(0x26b)]='',uploadBtn[_0x488025(0x142)]=!![];});const exportBtn=document[_0x5ed0e1(0x1bc)](_0x5ed0e1(0x26e));exportBtn['addEventListener'](_0x5ed0e1(0x1a3),onClickExportarItems);async function onClickExportarItems(){var _0x5d8556=_0x5ed0e1;if(!Array['isArray'](products)||!products['length']){ntfShow(_0x5d8556(0x265));return;}try{const _0x23eb7e=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x23eb7e['ok'])throw new Error(_0x5d8556(0x17f));const _0x30656e=await _0x23eb7e['arrayBuffer'](),_0x3398bd=document[_0x5d8556(0x1bc)]('setWarehouseId')[_0x5d8556(0x199)],_0x72f50d=products[_0x5d8556(0x206)](_0x3f123d=>Array[_0x5d8556(0x1b4)](_0x3f123d[_0x5d8556(0x15e)])&&_0x3f123d['sucursales'][_0x5d8556(0x145)](_0xf9ee0=>String(_0xf9ee0['setIdSucursal'])==String(_0x3398bd))),_0x3b5ecd=_0x72f50d[_0x5d8556(0x18f)]((_0x4d10dc,_0x4646c1)=>{var _0x1bbab7=_0x5d8556;const _0x3f3ff4=_0x4646c1['setIdProducto'];if(!_0x4d10dc[_0x3f3ff4])_0x4d10dc[_0x3f3ff4]=[];return _0x4d10dc[_0x3f3ff4][_0x1bbab7(0x22f)](_0x4646c1),_0x4d10dc;},{}),_0x243cdf=Object['values'](_0x3b5ecd)[_0x5d8556(0x189)](_0x25502f=>{var _0x1c4f55=_0x5d8556;const _0x1ae7ca=_0x25502f[0x0],_0x2b9faf=_0x25502f[0x1]||{};function _0x4998c2(_0x276ac2,_0x147805,_0x42964c){var _0x4060f0=_0x3efd;if(!_0x276ac2||!Array[_0x4060f0(0x1b4)](_0x276ac2['currency_data']))return'';const _0x1cdf7a=_0x276ac2[_0x4060f0(0x17d)][_0x4060f0(0x27f)](_0x17b141=>_0x17b141[_0x4060f0(0x14c)]===_0x147805);return _0x1cdf7a?_0x1cdf7a[_0x42964c]:'';}return{'id':_0x1ae7ca['setIdProducto'],'setItemType':_0x1ae7ca[_0x1c4f55(0x256)],'setCodProducto':_0x1ae7ca[_0x1c4f55(0x23c)],'setDescripcion':_0x1ae7ca[_0x1c4f55(0x154)],'setItemDescription':_0x1ae7ca[_0x1c4f55(0x1b8)],'setCategoria':_0x1ae7ca['setCategoria'],'setMarca':_0x1ae7ca[_0x1c4f55(0x14d)],'setTaxId':_0x1ae7ca['setTaxId'],'setUnitId':_0x1ae7ca['id'],'setItemBarCode':_0x1ae7ca[_0x1c4f55(0x193)],'setUnidadCodigo':_0x1ae7ca[_0x1c4f55(0x149)],'PEN_setMtoPrecioUnitario':_0x4998c2(_0x1ae7ca,_0x1c4f55(0x274),_0x1c4f55(0x1e1)),'PEN_setMtoPrecioCostoUnitario':_0x4998c2(_0x1ae7ca,'PEN',_0x1c4f55(0x166)),'USD_setMtoPrecioUnitario':_0x4998c2(_0x1ae7ca,_0x1c4f55(0x254),_0x1c4f55(0x1e1)),'USD_setMtoPrecioCostoUnitario':_0x4998c2(_0x1ae7ca,'USD',_0x1c4f55(0x166)),'setUnitId2':_0x2b9faf['id']??'','setItemBarCode2':_0x2b9faf[_0x1c4f55(0x193)]??'','setUnidadCodigo2':_0x2b9faf[_0x1c4f55(0x149)]??'','setUnidadEquivalencia2':_0x2b9faf[_0x1c4f55(0x159)]??'','PEN_setMtoPrecioUnitario2':_0x4998c2(_0x2b9faf,_0x1c4f55(0x274),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x4998c2(_0x2b9faf,_0x1c4f55(0x274),_0x1c4f55(0x166))??'','USD_setMtoPrecioUnitario2':_0x4998c2(_0x2b9faf,'USD',_0x1c4f55(0x1e1))??'','USD_setMtoPrecioCostoUnitario2':_0x4998c2(_0x2b9faf,'USD',_0x1c4f55(0x166))??'','setInventariable':_0x1ae7ca[_0x1c4f55(0x1f0)],'setSucursalStock':_0x1ae7ca[_0x1c4f55(0x15e)][_0x1c4f55(0x27f)](_0x2138f9=>String(_0x2138f9['setIdSucursal'])==String(_0x3398bd))[_0x1c4f55(0x183)],'setWarehouseStockMin':_0x1ae7ca[_0x1c4f55(0x15e)]['find'](_0x4e7189=>String(_0x4e7189[_0x1c4f55(0x135)])==String(_0x3398bd))['setWarehouseStockMin'],'setBatchName':_0x1ae7ca['setBatchName'],'setBatchExpirationDate':_0x1ae7ca[_0x1c4f55(0x26a)],..._0x1ae7ca[_0x1c4f55(0x20e)]};});try{JSON[_0x5d8556(0x1ca)](_0x243cdf);}catch(_0x3a9ddb){console[_0x5d8556(0x1cd)](_0x5d8556(0x182),_0x3a9ddb),ntfShow(_0x5d8556(0x1d7));return;}statusDiv[_0x5d8556(0x26b)]='Generando\x20Excel...',progressBar['style'][_0x5d8556(0x1b9)]='block',progressBar[_0x5d8556(0x199)]=0x0,itemWorker[_0x5d8556(0x1a8)]({'action':'exportItems','products':_0x243cdf,'plantillaBuf':_0x30656e},[_0x30656e]);}catch(_0x5dac64){console[_0x5d8556(0x1cd)](_0x5dac64),ntfShow(_0x5d8556(0x1ce)+_0x5dac64[_0x5d8556(0x15b)]);}}itemWorker['onmessage']=({data:_0x346af0})=>{var _0xdfec83=_0x5ed0e1;const {type:_0x46e5d6,payload:_0x288710}=_0x346af0;_0x46e5d6===_0xdfec83(0x184)&&(progressBar[_0xdfec83(0x147)][_0xdfec83(0x1b9)]=_0xdfec83(0x271),progressBar[_0xdfec83(0x199)]=_0x288710[_0xdfec83(0x1dd)],statusDiv['textContent']=_0x288710[_0xdfec83(0x15b)]);_0x46e5d6==='done'&&(newItemsExcel=_0x288710[_0xdfec83(0x269)],statusDiv['textContent']='\x20'+newItemsExcel['length']+_0xdfec83(0x1c0),uploadBtn[_0xdfec83(0x142)]=![],progressBar['value']=0x64,console[_0xdfec83(0x1b5)](newItemsExcel));_0x46e5d6===_0xdfec83(0x1cd)&&(statusDiv[_0xdfec83(0x26b)]=_0xdfec83(0x18d)+_0x288710,progressBar[_0xdfec83(0x147)][_0xdfec83(0x1b9)]=_0xdfec83(0x20a));if(_0x46e5d6==='exportDone'){const {wbout:_0x143bd3,count:_0x1a1085}=_0x288710,_0x145f4a=new Blob([_0x143bd3],{'type':_0xdfec83(0x222)}),_0x5d33c1=URL['createObjectURL'](_0x145f4a),_0x78c64a=document[_0xdfec83(0x137)]('a'),_0x3c0027=new Date()[_0xdfec83(0x203)]()['slice'](0x0,0xa);_0x78c64a['download']=_0xdfec83(0x272)+_0x3c0027+_0xdfec83(0x241),_0x78c64a['href']=_0x5d33c1,_0x78c64a[_0xdfec83(0x1a3)](),URL['revokeObjectURL'](_0x5d33c1),statusDiv[_0xdfec83(0x26b)]=_0xdfec83(0x148)+_0x1a1085+_0xdfec83(0x27e),progressBar[_0xdfec83(0x147)][_0xdfec83(0x1b9)]=_0xdfec83(0x20a);}},fileInput['addEventListener'](_0x5ed0e1(0x23f),async _0x338789=>{var _0xd1c5cb=_0x5ed0e1;const _0x1bcfee=_0x338789[_0xd1c5cb(0x1fb)]['files'][0x0];if(!_0x1bcfee)return;uploadBtn[_0xd1c5cb(0x142)]=!![],newItemsExcel=null,statusDiv[_0xd1c5cb(0x26b)]='',progressBar['style'][_0xd1c5cb(0x1b9)]='none',dropZone['querySelector'](_0xd1c5cb(0x220))[_0xd1c5cb(0x26b)]=_0x1bcfee[_0xd1c5cb(0x19c)],removeBtn['hidden']=![];try{const _0x48bb31=await _0x1bcfee[_0xd1c5cb(0x26c)]();itemWorker['postMessage']({'action':_0xd1c5cb(0x239),'buf':_0x48bb31,'maxRows':0x1388});}catch(_0x349f0a){statusDiv[_0xd1c5cb(0x26b)]=_0xd1c5cb(0x1ea);}finally{fileInput[_0xd1c5cb(0x199)]='';}}),uploadBtn[_0x5ed0e1(0x1c4)](_0x5ed0e1(0x1a3),async()=>{var _0x556ee9=_0x5ed0e1;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x4401f3=document[_0x556ee9(0x1bc)](_0x556ee9(0x17e))[_0x556ee9(0x199)],_0x9c1753=[];newItemsExcel['forEach'](_0x1da075=>{var _0x24abd1=_0x556ee9;const _0x3e9a7c=Boolean(_0x1da075[_0x24abd1(0x146)]),_0x31b143=_0x3e9a7c?_0x1da075[_0x24abd1(0x146)]:generateNumericUniqId();_0x1da075['setItemWarehouses']=[{'setStockInitial':_0x1da075[_0x24abd1(0x196)],'setStockMinimum':_0x1da075[_0x24abd1(0x180)],'setWarehouseCode':_0x4401f3}],_0x1da075[_0x24abd1(0x13b)][_0x24abd1(0x232)](_0x132289=>{var _0x1f403a=_0x24abd1;const _0x1ac82a=Boolean(_0x132289[_0x1f403a(0x21a)]),_0x417c30=_0x1ac82a?_0x132289[_0x1f403a(0x21a)]:generateNumericUniqId();_0x132289[_0x1f403a(0x21a)]=_0x417c30;const _0x248543=[];_0x248543[_0x1f403a(0x22f)]({'currency':_0x1f403a(0x274),'setMtoPrecioCostoUnitario':_0x132289[_0x1f403a(0x141)],'setMtoPrecioUnitario':_0x132289[_0x1f403a(0x1ad)],'setPriceLists':[]});const _0x41433c=_0x132289[_0x1f403a(0x19a)]!=null&&_0x132289[_0x1f403a(0x134)]!=null&&(!isNaN(_0x132289[_0x1f403a(0x19a)])||!isNaN(_0x132289[_0x1f403a(0x134)]));_0x41433c&&_0x248543['push']({'currency':_0x1f403a(0x254),'setMtoPrecioCostoUnitario':_0x132289[_0x1f403a(0x19a)],'setMtoPrecioUnitario':_0x132289[_0x1f403a(0x134)],'setPriceLists':[]});const _0x1eef7b={'id':_0x417c30,'setIdProducto':_0x31b143,'setItemBarCode':_0x132289[_0x1f403a(0x193)],'setCodProducto':_0x1da075['setItemCode'],'setDescripcion':_0x1da075[_0x1f403a(0x13a)],'setItemDescription':_0x1da075[_0x1f403a(0x1b8)],'setBatchExpirationDate':_0x1da075[_0x1f403a(0x20d)],'setBatchName':_0x1da075[_0x1f403a(0x245)],'setCategoria':_0x1da075[_0x1f403a(0x173)][0x0]||'','setMarca':_0x1da075[_0x1f403a(0x1ef)][0x0]||'','setConversionFactor':parseFloat(_0x132289[_0x1f403a(0x225)]),'setImages':[],'setImg':_0x1f403a(0x188),'setInventariable':_0x1da075['setItemInventoriable'],'setItemIsBought':_0x1da075[_0x1f403a(0x281)],'setItemIsSold':_0x1da075[_0x1f403a(0x25d)],'setPorcentajeIgv':_0x1da075[_0x1f403a(0x165)],'setPrinters':[],'setTaxId':_0x1da075[_0x1f403a(0x217)],'setTipAfeIgv':_0x1da075[_0x1f403a(0x27b)],'setUnidad':_0x132289[_0x1f403a(0x16f)],'setUnidadCodigo':_0x132289['setUnitCode'],'setItemUnitAlias':_0x132289[_0x1f403a(0x1d5)],'currency_data':_0x248543,'sucursales':_0x1da075[_0x1f403a(0x164)][_0x1f403a(0x189)](_0x374fb5=>({'setIdSucursal':_0x374fb5[_0x1f403a(0x186)],'setSucursalStock':_0x374fb5[_0x1f403a(0x196)]['toString'](),'setWarehouseStockMin':_0x374fb5[_0x1f403a(0x180)]['toString']()})),'setItemFree':_0x1da075[_0x1f403a(0x251)],'setItemBrands':_0x1da075[_0x1f403a(0x1ef)][_0x1f403a(0x1ec)](),'setItemCategories':_0x1da075[_0x1f403a(0x173)][_0x1f403a(0x1ec)](),'setItemComponents':_0x1da075[_0x1f403a(0x13d)]['map'](_0x14bd64=>({..._0x14bd64})),'setItemImages':_0x1da075[_0x1f403a(0x24e)][_0x1f403a(0x1ec)](),'setItemVariantName':_0x1da075[_0x1f403a(0x1e5)],'setItemVariantValues':{..._0x1da075[_0x1f403a(0x20e)]}},_0x339f39=products[_0x1f403a(0x258)](_0x47b083=>_0x47b083['id']==_0x417c30&&_0x47b083['setIdProducto']==_0x31b143);_0x339f39>-0x1?Object[_0x1f403a(0x22e)](products[_0x339f39],_0x1eef7b):_0x9c1753[_0x1f403a(0x22f)](_0x1eef7b);});}),console[_0x556ee9(0x1b5)](_0x556ee9(0x215),newItemsExcel),await finalizeImport(_0x9c1753,newItemsExcel,!![]);});function initializeFormImages(){var _0xd91f36=_0x5ed0e1;currentImages=Array(MAX_IMAGES)[_0xd91f36(0x216)](null),imgC[_0xd91f36(0x1c2)]='',baseItem[_0xd91f36(0x24e)]=[];for(var _0x11ed27=0x0;_0x11ed27<MAX_IMAGES;_0x11ed27++){(function(_0x450358){var _0x591e0e=_0xd91f36,_0x1fdbde=document[_0x591e0e(0x137)](_0x591e0e(0x1af));_0x1fdbde['className']='image_box',_0x1fdbde[_0x591e0e(0x185)][_0x591e0e(0x21c)]=_0x450358;var _0x49bd64=document[_0x591e0e(0x137)](_0x591e0e(0x192));_0x49bd64['type']=_0x591e0e(0x24b),_0x49bd64[_0x591e0e(0x23a)]=_0x591e0e(0x1ab),_0x49bd64[_0x591e0e(0x147)][_0x591e0e(0x1b9)]='none';var _0x58c91e=document[_0x591e0e(0x137)](_0x591e0e(0x1fe));_0x58c91e[_0x591e0e(0x26b)]='+',_0x1fdbde[_0x591e0e(0x240)](_0x49bd64),_0x1fdbde['appendChild'](_0x58c91e),imgC[_0x591e0e(0x240)](_0x1fdbde),_0x1fdbde[_0x591e0e(0x1c4)](_0x591e0e(0x1a3),function(){var _0x449da4=_0x591e0e;_0x49bd64[_0x449da4(0x1a3)]();}),_0x49bd64['addEventListener'](_0x591e0e(0x23f),function(_0xfc2d9a){var _0x336958=_0x591e0e,_0x5a1d91=_0xfc2d9a[_0x336958(0x1fb)][_0x336958(0x19f)][0x0];if(!_0x5a1d91)return removeImg(_0x450358);var _0x23372e=new FileReader();_0x23372e[_0x336958(0x210)]=function(_0x120e52){var _0x786d5c=_0x336958;_0x1fdbde[_0x786d5c(0x1c2)]=_0x786d5c(0x25b)+_0x120e52[_0x786d5c(0x1fb)][_0x786d5c(0x228)]+'\x22>';var _0x35880c=document['createElement']('span');_0x35880c[_0x786d5c(0x177)]=_0x786d5c(0x172),_0x35880c[_0x786d5c(0x26b)]='',_0x35880c[_0x786d5c(0x1c4)](_0x786d5c(0x1a3),function(_0x9c42d6){var _0xf30d61=_0x786d5c;_0x9c42d6[_0xf30d61(0x273)](),removeImg(_0x450358);}),_0x1fdbde[_0x786d5c(0x240)](_0x35880c),currentImages[_0x450358]=_0x5a1d91,baseItem[_0x786d5c(0x24e)]=currentImages[_0x786d5c(0x206)](function(_0x469e10){return _0x469e10;});},_0x23372e[_0x336958(0x23b)](_0x5a1d91);});}(_0x11ed27));}}function initializeFormIsSoldIsBought(_0x551952=0x0){var _0x2de8dd=_0x5ed0e1;let _0xdce81b,_0xf532ce;if(_0x551952!=0x0){const _0x1d6f21=products['find'](_0x1c1b9a=>_0x1c1b9a['id']==_0x551952);_0xdce81b=_0x1d6f21['setItemIsBought']==0x1||_0x1d6f21[_0x2de8dd(0x281)]==!![]?!![]:![],_0xf532ce=_0x1d6f21[_0x2de8dd(0x25d)]==0x1||_0x1d6f21[_0x2de8dd(0x25d)]==!![]?!![]:![];}else _0xdce81b=!![],_0xf532ce=!![];document[_0x2de8dd(0x1bc)](_0x2de8dd(0x238))[_0x2de8dd(0x144)]=_0xdce81b,document['getElementById'](_0x2de8dd(0x1b3))[_0x2de8dd(0x144)]=_0xf532ce,baseItem[_0x2de8dd(0x281)]=_0xdce81b,baseItem['setItemIsSold']=_0xf532ce;}function initializeFormInputsBasic(_0x49fd3b=0x0){var _0x7f9095=_0x5ed0e1;let _0x34fc69,_0x33e04e,_0x3af058,_0x303837,_0x21508b,_0x1f27cb;if(_0x49fd3b!=0x0){const _0x38b99e=products[_0x7f9095(0x27f)](_0x699033=>_0x699033['id']==_0x49fd3b);_0x34fc69=_0x38b99e[_0x7f9095(0x256)]??'1',_0x33e04e=_0x38b99e['setCodProducto'],_0x3af058=_0x38b99e[_0x7f9095(0x154)],_0x303837=_0x38b99e['setItemDescription'],_0x21508b=_0x38b99e['setBatchExpirationDate']??'',_0x1f27cb=_0x38b99e[_0x7f9095(0x193)];}else _0x34fc69='1',_0x33e04e=getNextCode(products),_0x3af058='',_0x303837='',_0x21508b='',_0x1f27cb='';document[_0x7f9095(0x1bc)]('inputItemType')[_0x7f9095(0x199)]=_0x34fc69,document[_0x7f9095(0x1bc)](_0x7f9095(0x259))[_0x7f9095(0x199)]=_0x33e04e,document[_0x7f9095(0x1bc)]('inputItemName')[_0x7f9095(0x199)]=_0x3af058,document[_0x7f9095(0x1bc)](_0x7f9095(0x140))['value']=_0x303837,document[_0x7f9095(0x1bc)](_0x7f9095(0x1c7))['value']=_0x21508b,document[_0x7f9095(0x1bc)](_0x7f9095(0x162))[_0x7f9095(0x199)]=_0x1f27cb,baseItem[_0x7f9095(0x256)]=_0x34fc69,baseItem[_0x7f9095(0x133)]=_0x33e04e,baseItem['setItemName']=_0x3af058,baseItem[_0x7f9095(0x1b8)]=_0x303837,baseItem['setItemDateExpiry']=_0x21508b,baseItem[_0x7f9095(0x193)]=_0x1f27cb,document[_0x7f9095(0x1bc)]('newItem_addToCart')[_0x7f9095(0x144)]=![];}function initializeFormTax(_0x2fbd49=0x0){var _0x56e36b=_0x5ed0e1;let _0xe71ac6;if(_0x2fbd49!=0x0){const _0x4040dc=products[_0x56e36b(0x27f)](_0xecfe70=>_0xecfe70['id']==_0x2fbd49);_0xe71ac6=_0x4040dc[_0x56e36b(0x18b)];}else _0xe71ac6=myCompany[_0x56e36b(0x1d9)];const _0x397bba=document['getElementById'](_0x56e36b(0x1f2));_0x397bba[_0x56e36b(0x199)]=_0xe71ac6,baseItem[_0x56e36b(0x217)]=_0xe71ac6;const _0x46669f=company[0x0][_0x56e36b(0x205)][_0x56e36b(0x27f)](_0x25dc22=>_0x25dc22[_0x56e36b(0x18b)]==_0xe71ac6)?.[_0x56e36b(0x264)]||0x0,_0xf494f7=company[0x0][_0x56e36b(0x205)][_0x56e36b(0x27f)](_0x2f7d48=>_0x2f7d48[_0x56e36b(0x18b)]==_0xe71ac6)?.[_0x56e36b(0x197)]||0x0;baseItem[_0x56e36b(0x27b)]=_0x46669f,baseItem[_0x56e36b(0x165)]=_0xf494f7;}function initializeFormCategoriesBrands(_0x13061f=0x0){var _0x36775c=_0x5ed0e1;baseItem[_0x36775c(0x173)]=[],baseItem[_0x36775c(0x1ef)]=[],document[_0x36775c(0x1a7)]('#newItem_categories_select\x20.selected_tags')['innerHTML']='',document[_0x36775c(0x1a7)](_0x36775c(0x16d))[_0x36775c(0x1c2)]='',document['querySelector'](_0x36775c(0x1e8))[_0x36775c(0x1c2)]='',document['querySelector'](_0x36775c(0x1cb))['innerHTML']='';const _0x3101f6=uniqueValuesArray('setCategoria',_0x36775c(0x16b),products),_0x2c1076=uniqueValuesArray('setMarca',_0x36775c(0x14d),products),_0x30b755=initMulti(_0x36775c(0x231),_0x3101f6),_0x2774f1=initMulti(_0x36775c(0x1c8),_0x2c1076);document['getElementById'](_0x36775c(0x231))['addEventListener'](_0x36775c(0x1bb),function(_0x4c6ba8){var _0x417b14=_0x36775c;baseItem[_0x417b14(0x173)]=_0x30b755[_0x417b14(0x189)](_0x2e953a=>_0x2e953a['setCode']);}),document[_0x36775c(0x1bc)](_0x36775c(0x1c8))[_0x36775c(0x1c4)]('selectionChange',function(_0x8a61e2){var _0x4fb126=_0x36775c;baseItem[_0x4fb126(0x1ef)]=_0x2774f1[_0x4fb126(0x189)](_0x33988d=>_0x33988d[_0x4fb126(0x1dc)]);});if(_0x13061f!=0x0){const _0x196c29=products[_0x36775c(0x27f)](_0x5b94ba=>_0x5b94ba['id']==_0x13061f);if(_0x196c29[_0x36775c(0x16b)]){const _0x50a15a=document[_0x36775c(0x1bc)]('newItem_categories_select'),_0x48f14e=Array['from'](_0x50a15a['querySelectorAll']('.options_list\x20div'))[_0x36775c(0x27f)](_0x38fc59=>_0x38fc59[_0x36775c(0x185)][_0x36775c(0x19e)]==_0x196c29[_0x36775c(0x16b)]);_0x48f14e&&_0x48f14e[_0x36775c(0x1a3)]();}if(_0x196c29[_0x36775c(0x14d)]){const _0x1058e9=document[_0x36775c(0x1bc)](_0x36775c(0x1c8)),_0x2b7f5b=Array['from'](_0x1058e9[_0x36775c(0x139)](_0x36775c(0x181)))[_0x36775c(0x27f)](_0x1b568e=>_0x1b568e['dataset'][_0x36775c(0x19e)]==_0x196c29[_0x36775c(0x14d)]);_0x2b7f5b&&_0x2b7f5b[_0x36775c(0x1a3)]();}}}function initializeFormUnits(){var _0x3bf9fc=_0x5ed0e1;unitCount=0x0,document['getElementById'](_0x3bf9fc(0x1c3))['innerHTML']='',baseItem['setItemUnits']=[];var _0x18dbcd=uniqueValuesArray(_0x3bf9fc(0x16f),_0x3bf9fc(0x270),myCompany[_0x3bf9fc(0x1d2)]);addUnit('',_0x18dbcd[0x3a]&&_0x18dbcd[0x3a][_0x3bf9fc(0x1dc)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0xfe3e2e=_0x5ed0e1;prodC[_0xfe3e2e(0x1c2)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x576e96=_0x5ed0e1;branchesC[_0x576e96(0x1c2)]='',baseItem[_0x576e96(0x164)]=[];const _0x59a54b=getAllWarehouses();_0x59a54b[_0x576e96(0x232)](function(_0x3139c1){var _0x5929f4=_0x576e96,_0x5d1208=document[_0x5929f4(0x137)](_0x5929f4(0x1af));_0x5d1208[_0x5929f4(0x1c2)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x5929f4(0x1e4)+_0x5929f4(0x1f6)+_0x3139c1[_0x5929f4(0x17e)]+_0x5929f4(0x1c1)+_0x3139c1[_0x5929f4(0x1b0)]+_0x5929f4(0x170)+_0x5929f4(0x209)+_0x5929f4(0x1e4)+_0x5929f4(0x244)+_0x3139c1[_0x5929f4(0x17e)]+'\x22>'+_0x5929f4(0x209)+_0x5929f4(0x1e4)+_0x5929f4(0x176)+_0x3139c1[_0x5929f4(0x17e)]+'\x22>'+_0x5929f4(0x209)+'</div>',branchesC[_0x5929f4(0x240)](_0x5d1208),_0x5d1208[_0x5929f4(0x139)]('input')[_0x5929f4(0x232)](function(_0x247a2a){_0x247a2a['addEventListener']('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x3b1464=_0x5ed0e1;baseItem['setItemVariantName']='',baseItem['setItemVariantValues']={},vgC['innerHTML']='',varContainer[_0x3b1464(0x1c2)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x52fe3f,_0xbad8be,_0x23cb82=![]){var _0x4a5756=_0x5ed0e1;const _0x18197b=0xc8,_0x155eb1={'apiPOSsendOffline':'1','setTipoOperacion':_0x4a5756(0x277),'setToken':company[0x0][_0x4a5756(0x266)],'setWebhook':company[0x0]['setWebhook']};for(let _0x54ac69=0x0;_0x54ac69<_0xbad8be[_0x4a5756(0x24a)];_0x54ac69+=_0x18197b){const _0x1b90a2=_0xbad8be[_0x4a5756(0x1ec)](_0x54ac69,_0x54ac69+_0x18197b);await storeOfflineProduct({..._0x155eb1,'newItems':_0x1b90a2});}products[_0x4a5756(0x22f)](..._0x52fe3f),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x4a5756(0x1a0)),_0x23cb82?(fileInput[_0x4a5756(0x199)]='',uploadBtn[_0x4a5756(0x142)]=!![],statusDiv['textContent']='',progressBar[_0x4a5756(0x147)][_0x4a5756(0x1b9)]=_0x4a5756(0x20a),progressBar[_0x4a5756(0x199)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}