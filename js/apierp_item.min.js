/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.6
*/

var _0x1e6ccf=_0x1e62;(function(_0x11a9d2,_0x5cab0b){var _0x1e91fa=_0x1e62,_0x1cc0aa=_0x11a9d2();while(!![]){try{var _0x4aa614=-parseInt(_0x1e91fa(0x19d))/0x1+-parseInt(_0x1e91fa(0x1d5))/0x2*(parseInt(_0x1e91fa(0x1cd))/0x3)+-parseInt(_0x1e91fa(0x229))/0x4*(parseInt(_0x1e91fa(0x188))/0x5)+-parseInt(_0x1e91fa(0x1a1))/0x6*(-parseInt(_0x1e91fa(0x22c))/0x7)+parseInt(_0x1e91fa(0x1fd))/0x8*(-parseInt(_0x1e91fa(0x15c))/0x9)+-parseInt(_0x1e91fa(0x218))/0xa+-parseInt(_0x1e91fa(0x1a7))/0xb*(-parseInt(_0x1e91fa(0x178))/0xc);if(_0x4aa614===_0x5cab0b)break;else _0x1cc0aa['push'](_0x1cc0aa['shift']());}catch(_0x2105ff){_0x1cc0aa['push'](_0x1cc0aa['shift']());}}}(_0x55ca,0xd521a));var _0x49f947=(function(){var _0x20b142=!![];return function(_0x4939ee,_0x2b79a5){var _0x1c217b=_0x20b142?function(){if(_0x2b79a5){var _0x4f73c7=_0x2b79a5['apply'](_0x4939ee,arguments);return _0x2b79a5=null,_0x4f73c7;}}:function(){};return _0x20b142=![],_0x1c217b;};}()),_0x3219af=_0x49f947(this,function(){var _0x3699b0=_0x1e62;return _0x3219af[_0x3699b0(0x243)]()[_0x3699b0(0x1be)](_0x3699b0(0x167))[_0x3699b0(0x243)]()[_0x3699b0(0x18f)](_0x3219af)[_0x3699b0(0x1be)](_0x3699b0(0x167));});_0x3219af();var _0x334db7=(function(){var _0x201976=!![];return function(_0x372c09,_0x5238d4){var _0x2c7e75=_0x201976?function(){var _0x24391c=_0x1e62;if(_0x5238d4){var _0x99ccb7=_0x5238d4[_0x24391c(0x185)](_0x372c09,arguments);return _0x5238d4=null,_0x99ccb7;}}:function(){};return _0x201976=![],_0x2c7e75;};}()),_0xa8ae33=_0x334db7(this,function(){var _0x53385a=_0x1e62,_0x208ba0=function(){var _0x4c9179=_0x1e62,_0x4a3f41;try{_0x4a3f41=Function(_0x4c9179(0x226)+_0x4c9179(0x1a9)+');')();}catch(_0xa93a60){_0x4a3f41=window;}return _0x4a3f41;},_0x5dc0ff=_0x208ba0(),_0x30bfe1=_0x5dc0ff[_0x53385a(0x221)]=_0x5dc0ff[_0x53385a(0x221)]||{},_0x3c2a7b=[_0x53385a(0x235),'warn',_0x53385a(0x1a4),'error',_0x53385a(0x240),_0x53385a(0x1c1),'trace'];for(var _0x1abf23=0x0;_0x1abf23<_0x3c2a7b[_0x53385a(0x1f3)];_0x1abf23++){var _0x1dcfb7=_0x334db7['constructor'][_0x53385a(0x22d)][_0x53385a(0x26b)](_0x334db7),_0x13ebd0=_0x3c2a7b[_0x1abf23],_0x55ec56=_0x30bfe1[_0x13ebd0]||_0x1dcfb7;_0x1dcfb7[_0x53385a(0x14f)]=_0x334db7[_0x53385a(0x26b)](_0x334db7),_0x1dcfb7['toString']=_0x55ec56['toString']['bind'](_0x55ec56),_0x30bfe1[_0x13ebd0]=_0x1dcfb7;}});_0xa8ae33();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x25b)),unitCount=0x0,branchesC=document['getElementById'](_0x1e6ccf(0x1ad)),prodC=document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x23f)),vgCount=0x0,varContainer=document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x204)),vgC=document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x157));const fileInput=document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x186)),progressBar=document[_0x1e6ccf(0x1e5)]('progress'),statusDiv=document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x1f9)),uploadBtn=document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x1dc));let newItemsExcel=null;const itemWorker=new Worker(_0x1e6ccf(0x234)),dropZone=document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x23a)),removeBtn=document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x25a));function showModalCreateItem(_0x41cd18){var _0x2be445=_0x1e6ccf;const _0x344d47=document['getElementById'](_0x2be445(0x1b7)),_0x5787bc=document[_0x2be445(0x1e5)]('modalOverlayCreateItem');_0x344d47['classList'][_0x2be445(0x23d)]('active'),_0x5787bc[_0x2be445(0x19e)][_0x2be445(0x1eb)]=_0x2be445(0x211);const _0x2ca8aa=document[_0x2be445(0x1e5)](_0x2be445(0x153));_0x2ca8aa[_0x2be445(0x241)]=parseInt(_0x41cd18),baseItem['setItemFree']=parseInt(_0x41cd18);const _0x2f7277=document['getElementById'](_0x2be445(0x1de));_0x41cd18==0x0&&(_0x2f7277[_0x2be445(0x24a)]=_0x2be445(0x217));_0x41cd18==0x1&&(_0x2f7277['innerHTML']=_0x2be445(0x220));const _0x264788=document[_0x2be445(0x260)](_0x2be445(0x1fc));for(let _0x5c61bc=0x0;_0x5c61bc<_0x264788[_0x2be445(0x1f3)];_0x5c61bc++){const _0xb6fd70=_0x264788[_0x5c61bc];if(_0x41cd18==0x0)_0xb6fd70['classList'][_0x2be445(0x1c8)](_0x2be445(0x1b4));else _0x41cd18==0x1&&_0xb6fd70['classList'][_0x2be445(0x23d)](_0x2be445(0x1b4));}}function hideModalCreateItem(){var _0x372b16=_0x1e6ccf;const _0x297f88=document[_0x372b16(0x1e5)](_0x372b16(0x1b7)),_0x3b89da=document[_0x372b16(0x1e5)](_0x372b16(0x1ba));_0x297f88[_0x372b16(0x19b)][_0x372b16(0x1c8)]('active'),_0x3b89da[_0x372b16(0x19e)][_0x372b16(0x1eb)]='none';}document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x203))[_0x1e6ccf(0x239)](_0x1e6ccf(0x245),hideModalCreateItem),document['getElementById']('modalOverlayCreateItem')[_0x1e6ccf(0x239)](_0x1e6ccf(0x245),_0x4ea618=>{var _0x40b21e=_0x1e6ccf;_0x4ea618[_0x40b21e(0x1d0)]==_0x4ea618[_0x40b21e(0x1d7)]&&_0x4ea618[_0x40b21e(0x21b)]();});function _0x1e62(_0x39c19e,_0xa955fd){var _0x4bf3bc=_0x55ca();return _0x1e62=function(_0xa8ae33,_0x334db7){_0xa8ae33=_0xa8ae33-0x149;var _0x46a886=_0x4bf3bc[_0xa8ae33];return _0x46a886;},_0x1e62(_0x39c19e,_0xa955fd);}function loadTaxData(){var _0x768f6e=_0x1e6ccf;const _0x5d746e=document['getElementById'](_0x768f6e(0x1cb));_0x5d746e['innerHTML']='',company[0x0][_0x768f6e(0x187)][_0x768f6e(0x170)](function(_0xaf744e){var _0x46a497=_0x768f6e;const _0x5debb3=document['createElement'](_0x46a497(0x1b5));_0x5debb3[_0x46a497(0x241)]=_0xaf744e['setTaxId'],_0x5debb3[_0x46a497(0x24a)]=_0xaf744e[_0x46a497(0x1b3)]+'\x20('+_0xaf744e[_0x46a497(0x1d6)]+'%)',_0xaf744e[_0x46a497(0x149)]==company[0x0][_0x46a497(0x264)]&&(_0x5debb3['selected']=!![]),_0x5d746e[_0x46a497(0x196)](_0x5debb3);});}function uniqueValuesArray(_0x57af9c,_0x35b7d3,_0x15d2c9){var _0x14b2ee=_0x1e6ccf;const _0x3194ef=Array['from'](new Set(_0x15d2c9[_0x14b2ee(0x14c)](_0x3ab947=>{var _0xfa422c=_0x14b2ee;const _0x737fe5=_0x3ab947[_0x57af9c];return typeof _0x737fe5===_0xfa422c(0x1a5)?_0x737fe5[_0xfa422c(0x1f7)]():_0x737fe5;})[_0x14b2ee(0x230)](_0x4f0e0d=>_0x4f0e0d!=null&&_0x4f0e0d!=='')));return _0x3194ef[_0x14b2ee(0x14c)](_0x3a19ad=>{var _0x1f5e0a=_0x14b2ee;const _0x50a9f2=_0x15d2c9['find'](_0x3e6ca8=>_0x3e6ca8[_0x57af9c]===_0x3a19ad),_0x1c3c03=_0x50a9f2&&_0x50a9f2[_0x35b7d3]!=null?String(_0x50a9f2[_0x35b7d3])[_0x1f5e0a(0x1f7)]():_0x3a19ad;return{'setCode':_0x3a19ad,'setName':_0x1c3c03};});}function fillSelect(_0x5b608d,_0x3d09eb,_0x17499a,_0x22ffa7){var _0x359998=_0x1e6ccf;_0x5b608d[_0x359998(0x24a)]='',_0x3d09eb[_0x359998(0x170)](function(_0x1016c7){var _0x501297=_0x359998,_0x497e37=new Option(_0x1016c7[_0x22ffa7],_0x1016c7[_0x17499a]);_0x5b608d[_0x501297(0x23d)](_0x497e37);});}function initMulti(_0x2fbb91,_0x431031){var _0x576215=_0x1e6ccf,_0xb72fdf=document[_0x576215(0x1e5)](_0x2fbb91),_0x73cfc5=_0xb72fdf[_0x576215(0x150)](_0x576215(0x152)),_0x3b90d7=_0xb72fdf[_0x576215(0x150)](_0x576215(0x20c)),_0x21b01c=_0xb72fdf['querySelector'](_0x576215(0x17b)),_0x141737=_0x431031['slice'](),_0x5a65c9=[];function _0x465b34(){var _0x3d2076=_0x576215;_0x3b90d7['innerHTML']='',_0x141737[_0x3d2076(0x230)](function(_0x2e477a){var _0x930ab7=_0x3d2076;return _0x2e477a[_0x930ab7(0x1ef)][_0x930ab7(0x168)]()[_0x930ab7(0x201)](_0x73cfc5[_0x930ab7(0x241)]['toLowerCase']())!==-0x1;})[_0x3d2076(0x170)](function(_0x450553){var _0x2ec68f=_0x3d2076,_0x16df3b=document[_0x2ec68f(0x16b)](_0x2ec68f(0x169));_0x16df3b[_0x2ec68f(0x151)]=_0x450553[_0x2ec68f(0x1ef)],_0x16df3b[_0x2ec68f(0x227)][_0x2ec68f(0x250)]=_0x450553[_0x2ec68f(0x156)],_0x3b90d7[_0x2ec68f(0x196)](_0x16df3b),_0x16df3b[_0x2ec68f(0x239)]('click',function(){var _0x186d33=_0x2ec68f;_0x5a65c9[_0x186d33(0x16a)](_0x450553),_0x141737[_0x186d33(0x191)](_0x141737['findIndex'](function(_0x104c33){var _0x4019d5=_0x186d33;return _0x104c33['setCode']===_0x450553[_0x4019d5(0x156)];}),0x1),_0x73cfc5[_0x186d33(0x241)]='',_0x50ad01(),_0x465b34();});});}function _0x50ad01(){var _0x2ea1e9=_0x576215;_0x21b01c[_0x2ea1e9(0x24a)]='',_0x5a65c9[_0x2ea1e9(0x170)](function(_0x533f43){var _0x529485=_0x2ea1e9,_0x5c5913=document[_0x529485(0x16b)](_0x529485(0x169));_0x5c5913[_0x529485(0x24f)]=_0x529485(0x1bb),_0x5c5913[_0x529485(0x151)]=_0x533f43[_0x529485(0x1ef)];var _0x2aebcf=document[_0x529485(0x16b)]('span');_0x2aebcf['className']='remove-tag',_0x2aebcf['textContent']='',_0x2aebcf[_0x529485(0x239)](_0x529485(0x245),function(){var _0x48e1b2=_0x529485;_0x141737[_0x48e1b2(0x16a)](_0x533f43);const _0x50c771=_0x5a65c9[_0x48e1b2(0x14e)](function(_0x80a42c){var _0x45f29b=_0x48e1b2;return _0x80a42c[_0x45f29b(0x156)]===_0x533f43['setCode'];});if(_0x50c771>-0x1)_0x5a65c9['splice'](_0x50c771,0x1);_0x50ad01(),_0x465b34();}),_0x5c5913[_0x529485(0x196)](_0x2aebcf),_0x21b01c[_0x529485(0x196)](_0x5c5913);}),_0xb72fdf[_0x2ea1e9(0x1bd)](new CustomEvent(_0x2ea1e9(0x1e0),{'bubbles':!![]}));}return _0x73cfc5['addEventListener'](_0x576215(0x25d),function(){var _0x1fcffc=_0x576215;_0x3b90d7[_0x1fcffc(0x19b)][_0x1fcffc(0x1c8)](_0x1fcffc(0x1ee));}),_0x73cfc5[_0x576215(0x239)](_0x576215(0x183),_0x465b34),_0x73cfc5[_0x576215(0x239)]('keydown',function(_0x15a5b3){var _0x59aab4=_0x576215;if(_0x15a5b3[_0x59aab4(0x1ca)]==='Enter'){_0x15a5b3[_0x59aab4(0x216)]();const _0x3e6c1b=_0x73cfc5[_0x59aab4(0x241)][_0x59aab4(0x1f7)]();if(!_0x3e6c1b)return;const _0x56818e=_0x5a65c9[_0x59aab4(0x179)](_0xb87872=>_0xb87872[_0x59aab4(0x1ef)]===_0x3e6c1b),_0x45c81d=_0x141737[_0x59aab4(0x179)](_0x316ed4=>_0x316ed4[_0x59aab4(0x1ef)]===_0x3e6c1b);if(!_0x56818e&&!_0x45c81d){const _0x3b97e0={'setCode':_0x3e6c1b,'setName':_0x3e6c1b};_0x5a65c9[_0x59aab4(0x16a)](_0x3b97e0),_0x50ad01(),_0x465b34();}_0x73cfc5[_0x59aab4(0x241)]='';}}),document[_0x576215(0x239)](_0x576215(0x245),function(_0x3c1d29){var _0x1dd389=_0x576215;if(!_0xb72fdf['contains'](_0x3c1d29[_0x1dd389(0x1d0)]))_0x3b90d7[_0x1dd389(0x19b)]['add'](_0x1dd389(0x1ee));}),_0x465b34(),_0x5a65c9;}document[_0x1e6ccf(0x1e5)]('inputItemName')[_0x1e6ccf(0x239)](_0x1e6ccf(0x183),function(_0x175f91){var _0x16801b=_0x1e6ccf;baseItem[_0x16801b(0x212)]=_0x175f91[_0x16801b(0x1d0)][_0x16801b(0x241)];}),document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x1df))['addEventListener'](_0x1e6ccf(0x183),function(_0x1b23d3){var _0x528d9b=_0x1e6ccf;baseItem['setItemDescription']=_0x1b23d3['target'][_0x528d9b(0x241)];}),document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x1bf))[_0x1e6ccf(0x239)]('input',function(_0xfc900){var _0x25bb5e=_0x1e6ccf;baseItem[_0x25bb5e(0x263)]=_0xfc900[_0x25bb5e(0x1d0)][_0x25bb5e(0x241)];}),document['getElementById'](_0x1e6ccf(0x1f1))[_0x1e6ccf(0x239)](_0x1e6ccf(0x1d2),function(_0x9be1d8){var _0x5c3678=_0x1e6ccf;baseItem[_0x5c3678(0x25f)]=_0x9be1d8['target'][_0x5c3678(0x241)];}),document[_0x1e6ccf(0x1e5)]('inputItemTax')[_0x1e6ccf(0x239)](_0x1e6ccf(0x1d2),function(_0x33a2b1){var _0x12921b=_0x1e6ccf;baseItem[_0x12921b(0x160)]=_0x33a2b1[_0x12921b(0x1d0)]['value'];const _0x12defa=_0x33a2b1[_0x12921b(0x1d0)][_0x12921b(0x241)],_0x1ddbf5=company[0x0][_0x12921b(0x187)]['find'](_0x5ee263=>_0x5ee263['setTaxId']==_0x12defa)?.[_0x12921b(0x200)]||0x0,_0x102ccc=company[0x0]['setImpuestos'][_0x12921b(0x1cc)](_0x2e219b=>_0x2e219b['setTaxId']==_0x12defa)?.[_0x12921b(0x1d6)]||0x0;baseItem[_0x12921b(0x1a6)]=_0x1ddbf5,baseItem[_0x12921b(0x25c)]=_0x102ccc;}),document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x1f4))[_0x1e6ccf(0x239)](_0x1e6ccf(0x1d2),function(_0x26493f){var _0x4453cc=_0x1e6ccf;baseItem['setItemIsBought']=_0x26493f[_0x4453cc(0x1d0)][_0x4453cc(0x1f5)];}),document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x155))['addEventListener']('change',function(_0x4e6c28){var _0x31f7a9=_0x1e6ccf;baseItem[_0x31f7a9(0x1f2)]=_0x4e6c28['target'][_0x31f7a9(0x1f5)];}),document[_0x1e6ccf(0x1e5)]('inputItemCode')[_0x1e6ccf(0x239)](_0x1e6ccf(0x183),function(_0x230b16){var _0x32d20c=_0x1e6ccf;baseItem[_0x32d20c(0x210)]=_0x230b16[_0x32d20c(0x1d0)][_0x32d20c(0x241)];}),document['getElementById'](_0x1e6ccf(0x246))['addEventListener'](_0x1e6ccf(0x183),function(_0x46a0bc){var _0x26090d=_0x1e6ccf;baseItem['setItemBarCode']=_0x46a0bc['target'][_0x26090d(0x241)];}),document['getElementById'](_0x1e6ccf(0x174))[_0x1e6ccf(0x239)](_0x1e6ccf(0x245),function(){addUnit(),updateUnitsArray();}),document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x21d))['addEventListener'](_0x1e6ccf(0x23c),function(){var _0x11a67d=_0x1e6ccf;const _0x445a52=this[_0x11a67d(0x241)][_0x11a67d(0x1f7)]();if(_0x445a52==='')return;const _0x50aca4=products[_0x11a67d(0x179)](_0x27e3ee=>_0x27e3ee[_0x11a67d(0x15f)]==_0x445a52),_0x582c2e=products['map'](_0x5abb69=>String(_0x5abb69[_0x11a67d(0x15f)])[_0x11a67d(0x1f7)]())[_0x11a67d(0x230)](_0x44d24b=>_0x44d24b!==''),_0x332484=_0x582c2e[_0x11a67d(0x1e9)](_0x3fc955=>/^\d+$/['test'](_0x3fc955));let _0x54e955;if(_0x332484){const _0x18eeaa=_0x582c2e['map'](Number),_0x4165a2=Math[_0x11a67d(0x1e4)](..._0x18eeaa);_0x54e955=String(_0x4165a2);}else{let _0xb44bd;if(typeof Intl!==_0x11a67d(0x1e6)&&Intl['Collator']){const _0x1c1aa6=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x11a67d(0x251)});_0xb44bd=_0x582c2e[_0x11a67d(0x233)]()[_0x11a67d(0x253)](_0x1c1aa6['compare']);}else{const _0x318939=_0x582c2e[_0x11a67d(0x1e9)](_0x4f7e45=>/^\d+$/['test'](_0x4f7e45));_0x318939?_0xb44bd=_0x582c2e[_0x11a67d(0x14c)](Number)[_0x11a67d(0x253)]((_0xf8f704,_0x44e0ed)=>_0xf8f704-_0x44e0ed)['map'](String):_0xb44bd=_0x582c2e['slice']()[_0x11a67d(0x253)]();}_0x54e955=_0xb44bd[_0xb44bd[_0x11a67d(0x1f3)]-0x1];}_0x50aca4?ntfShow(_0x11a67d(0x215)+_0x54e955,0x2,0x1):ntfShow(_0x11a67d(0x223),0x1,0x1);});function removeImg(_0x2a2712){var _0x3abfd4=_0x1e6ccf;currentImages[_0x2a2712]=null;var _0x2586d1=imgC[_0x3abfd4(0x150)]('[data-idx=\x22'+_0x2a2712+'\x22]');_0x2586d1['innerHTML']='';var _0x1189ff=document['createElement']('input');_0x1189ff['type']='file',_0x1189ff[_0x3abfd4(0x1da)]=_0x3abfd4(0x192),_0x1189ff[_0x3abfd4(0x19e)]['display']=_0x3abfd4(0x195);var _0x29f982=document[_0x3abfd4(0x16b)](_0x3abfd4(0x165));_0x29f982[_0x3abfd4(0x151)]='+',_0x2586d1[_0x3abfd4(0x196)](_0x1189ff),_0x2586d1[_0x3abfd4(0x196)](_0x29f982),_0x2586d1['addEventListener'](_0x3abfd4(0x245),function(){var _0x4bf914=_0x3abfd4;_0x1189ff[_0x4bf914(0x245)]();}),baseItem['setItemImages']=currentImages['filter'](function(_0x57e490){return _0x57e490;});}function addUnit(_0x5cf8c2,_0x4cb7f8,_0x2fc06d,_0x2aa7c3,_0x81601e,_0x59eec9,_0x1acd2e){var _0x5e4285=_0x1e6ccf,_0x1f7646=uniqueValuesArray(_0x5e4285(0x214),_0x5e4285(0x214),products);_0x5cf8c2=_0x5cf8c2||'',_0x4cb7f8=_0x4cb7f8||_0x1f7646[0x0]&&_0x1f7646[0x0][_0x5e4285(0x156)]||'',_0x2fc06d=_0x2fc06d!==undefined?_0x2fc06d:0x1,_0x2aa7c3=!!_0x2aa7c3,_0x81601e=_0x81601e||'',_0x59eec9=_0x59eec9||'';var _0x569b5a=unitCount++,_0x48250a=document[_0x5e4285(0x16b)](_0x5e4285(0x169));_0x48250a[_0x5e4285(0x227)][_0x5e4285(0x236)]=_0x569b5a,_0x48250a[_0x5e4285(0x227)][_0x5e4285(0x248)]=_0x2aa7c3,_0x48250a[_0x5e4285(0x24a)]=_0x5e4285(0x256)+_0x569b5a+'\x22\x20value=\x22'+_0x5cf8c2+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x569b5a+_0x5e4285(0x16f)+_0x569b5a+_0x5e4285(0x1a8)+_0x2fc06d+'\x22\x20'+(_0x2aa7c3?'disabled':'')+_0x5e4285(0x208)+_0x569b5a+_0x5e4285(0x1a8)+_0x81601e+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0x569b5a+_0x5e4285(0x1a8)+_0x59eec9+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x2aa7c3?_0x5e4285(0x1a2):'')+_0x5e4285(0x190),fillSelect(_0x48250a['querySelector']('.unitSelect'),_0x1f7646,_0x5e4285(0x156),_0x5e4285(0x1ef)),_0x48250a[_0x5e4285(0x150)](_0x5e4285(0x18d))[_0x5e4285(0x241)]=_0x4cb7f8,['unitAlias','unitSelect','eqInput','priceInput',_0x5e4285(0x194)][_0x5e4285(0x170)](function(_0x4b04e2){var _0x1f577a=_0x5e4285;_0x48250a[_0x1f577a(0x150)]('.'+_0x4b04e2)[_0x1f577a(0x239)](_0x1f577a(0x183),function(){var _0x4a32e6=_0x1f577a,_0xa458e4=_0x1acd2e?+_0x1acd2e['id'][_0x4a32e6(0x18a)]('_')[0x1]:null;if(_0x1acd2e)updateVariantUnits(_0xa458e4);else updateUnitsArray();});}),_0x48250a[_0x5e4285(0x150)]('.removeUnit')[_0x5e4285(0x239)]('click',function(){var _0x1b7d43=_0x5e4285;_0x48250a[_0x1b7d43(0x1c8)]();var _0x45b601=_0x1acd2e?+_0x1acd2e['id'][_0x1b7d43(0x18a)]('_')[0x1]:null;if(_0x1acd2e)updateVariantUnits(_0x45b601);else updateUnitsArray();});var _0x13e685=_0x1acd2e||document[_0x5e4285(0x1e5)]('newItem_units_container');_0x13e685[_0x5e4285(0x196)](_0x48250a);}function containerIdx(_0x1909de){return+_0x1909de['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x2c439d=_0x1e6ccf,_0x1270df=[],_0x519d90=Array[_0x2c439d(0x164)](document[_0x2c439d(0x20a)](_0x2c439d(0x1c5))),_0x22656b=_0x519d90[_0x2c439d(0x1cc)](_0x576d0e=>_0x576d0e[_0x2c439d(0x227)][_0x2c439d(0x248)]==='true'),_0x287b55=_0x22656b?+_0x22656b['querySelector'](_0x2c439d(0x1ff))[_0x2c439d(0x241)]:0x1;_0x519d90[_0x2c439d(0x170)](function(_0x2d3ebc){var _0x57370c=_0x2c439d,_0x28599d=+_0x2d3ebc[_0x57370c(0x150)](_0x57370c(0x1ff))[_0x57370c(0x241)]||0x0,_0x1ed402=+_0x2d3ebc[_0x57370c(0x150)](_0x57370c(0x242))['value']||0x0,_0x3670a4=+_0x2d3ebc['querySelector'](_0x57370c(0x26a))['value']||0x0;_0x1270df[_0x57370c(0x16a)]({'setAlias':_0x2d3ebc['querySelector']('.unitAlias')[_0x57370c(0x241)][_0x57370c(0x1f7)](),'setUnitCode':_0x2d3ebc['querySelector'](_0x57370c(0x18d))[_0x57370c(0x241)],'setEquivalence':_0x28599d,'setFactor':_0x2d3ebc[_0x57370c(0x227)]['default']===_0x57370c(0x205)?0x1:_0x28599d==_0x287b55?0x1:_0x28599d<_0x287b55?_0x287b55/_0x28599d:_0x28599d/_0x287b55,'setPrice':_0x1ed402,'setCost':_0x3670a4,'setDefault':_0x2d3ebc[_0x57370c(0x227)]['default']===_0x57370c(0x205)?0x1:0x0});}),baseItem[_0x2c439d(0x19a)]=_0x1270df;}function updateBranches(){var _0x75257d=_0x1e6ccf,_0x40b1ec=[];document[_0x75257d(0x20a)](_0x75257d(0x14b))[_0x75257d(0x170)](function(_0xc3c08c){var _0x4ca76f=_0x75257d,_0x379262=_0xc3c08c[_0x4ca76f(0x150)]('.branchChk');if(_0x379262['checked']){var _0x477674=+_0x379262['dataset']['id'],_0xc7d5cb=+_0xc3c08c[_0x4ca76f(0x150)](_0x4ca76f(0x206))['value'],_0x173248=+_0xc3c08c[_0x4ca76f(0x150)](_0x4ca76f(0x1ec))[_0x4ca76f(0x241)];_0x40b1ec[_0x4ca76f(0x16a)]({'setWarehouseCode':_0x477674,'setStockInitial':_0xc7d5cb,'setStockMinimum':_0x173248});}}),baseItem[_0x75257d(0x1c0)]=_0x40b1ec;}document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x193))[_0x1e6ccf(0x239)](_0x1e6ccf(0x245),function(){var _0x543f20=_0x1e6ccf,_0x1f132e=Date[_0x543f20(0x181)](),_0x364a5a=document[_0x543f20(0x16b)](_0x543f20(0x169));_0x364a5a[_0x543f20(0x227)][_0x543f20(0x236)]=_0x1f132e,_0x364a5a[_0x543f20(0x24a)]=_0x543f20(0x172)+_0x1f132e+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x1f132e+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x543f20(0x196)](_0x364a5a),initProdSearch(_0x364a5a[_0x543f20(0x150)]('.prod_input_container')),_0x364a5a['querySelector'](_0x543f20(0x1d8))[_0x543f20(0x239)]('click',function(){var _0xe982ac=_0x543f20;_0x364a5a[_0xe982ac(0x1c8)](),updateProdItems();}),_0x364a5a[_0x543f20(0x150)]('.prodQty')[_0x543f20(0x239)](_0x543f20(0x183),updateProdItems),document[_0x543f20(0x1e5)]('newItem_title_table_cp')[_0x543f20(0x19b)]['toggle'](_0x543f20(0x1ab),!![]),document['getElementById']('newItem_title_table_cp')['classList'][_0x543f20(0x173)]('newItem_hidden',![]);});function initProdSearch(_0x41765d,_0x348ec2){var _0x1f1d5e=_0x1e6ccf,_0x3ef083=_0x41765d[_0x1f1d5e(0x150)](_0x1f1d5e(0x1ed)),_0x2411a9=_0x41765d[_0x1f1d5e(0x150)]('.options_list'),_0x32f13c=_0x348ec2||null;if(_0x348ec2)_0x3ef083[_0x1f1d5e(0x241)]=_0x348ec2['name'];_0x3ef083['addEventListener'](_0x1f1d5e(0x183),function(){var _0x42e28a=_0x1f1d5e,_0x2e5594=_0x3ef083['value'][_0x42e28a(0x168)]()[_0x42e28a(0x1f7)]();_0x2411a9[_0x42e28a(0x24a)]='';if(!_0x2e5594)return;products[_0x42e28a(0x230)](_0x1e8984=>_0x1e8984[_0x42e28a(0x1ce)][_0x42e28a(0x168)]()[_0x42e28a(0x1c3)](_0x2e5594))[_0x42e28a(0x233)](0x0,0x14)[_0x42e28a(0x170)](function(_0x5477f2){var _0x4344bb=_0x42e28a,_0xd0050e=document[_0x4344bb(0x16b)](_0x4344bb(0x169));_0xd0050e[_0x4344bb(0x151)]=_0x5477f2[_0x4344bb(0x1ce)],_0xd0050e[_0x4344bb(0x227)]['id']=_0x5477f2['id'],_0xd0050e[_0x4344bb(0x227)][_0x4344bb(0x20b)]=_0x5477f2[_0x4344bb(0x1ce)],_0x2411a9[_0x4344bb(0x196)](_0xd0050e),_0xd0050e[_0x4344bb(0x239)](_0x4344bb(0x245),function(){var _0x984910=_0x4344bb;_0x32f13c={'id':_0x5477f2['id'],'name':_0x5477f2[_0x984910(0x1ce)]},_0x3ef083['value']=_0x5477f2[_0x984910(0x1ce)],_0x2411a9['innerHTML']='';var _0x413e0c=_0x41765d['closest']('[id$=\x22_comp_container\x22]');if(_0x413e0c){var _0xd2a351=+_0x413e0c['id']['split']('_')[0x1];updateVariantComponents(_0xd2a351);}else updateProdItems();});});}),_0x3ef083['addEventListener'](_0x1f1d5e(0x25d),function(){var _0xac51b2=_0x1f1d5e;_0x2411a9[_0xac51b2(0x19b)][_0xac51b2(0x1c8)](_0xac51b2(0x1ee));}),document[_0x1f1d5e(0x239)](_0x1f1d5e(0x245),function(_0x137f01){var _0xdcce64=_0x1f1d5e;if(!_0x41765d[_0xdcce64(0x15a)](_0x137f01['target']))_0x2411a9['classList'][_0xdcce64(0x23d)](_0xdcce64(0x1ee));}),Object[_0x1f1d5e(0x154)](_0x41765d,_0x1f1d5e(0x1e8),{'get':()=>_0x32f13c});}function _0x55ca(){var _0x1f95f2=['addEventListener','drop-zone','_units_container','blur','add','parse','newItem_proditems_container','exception','value','.priceInput','toString','children','click','inputItemBarCode','setUnitCode','default','#newItem_categories_select\x20.selected_tags','innerHTML','parentNode','postMessage','drop','setStockMinimum','className','code','base','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','sort','fill','error','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','\x20items\x20procesados.','remove-file','newItem_images_container','setItemTaxValue','focus','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','setItemType','getElementsByClassName','setFactor','_branch_container','setItemDateExpiry','setTaxIdDefault','setWarehouseId','setAlias','setItemComponents','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','.removeVariant','.costInput','bind','setTaxId','type','#newItem_branches_container\x20>\x20div','map','setCantidad','findIndex','__proto__','querySelector','textContent','.ms_input','setItemFree','defineProperty','newItem_chk_sell','setCode','newItem_variant_groups','image_box','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','contains','\x22\x20class=\x22branchChk\x22\x20checked>\x20','23031fTRHWa','setCost','#newItem_brands_select\x20.options_list','setCodProducto','setItemTaxId','.addVariantUnit','disabled','.removeGroup','from','span','setItemImages','(((.+)+)+)+$','toLowerCase','div','push','createElement','setStockInitial','transaction','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','forEach','Producto\x20Guardado\x20Offline\x20Correctamente.','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','toggle','newItem_btn_addUnit','oncomplete','#newItem_brands_select\x20.selected_tags','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','60EBWvrc','some','.removeCombo','.selected_tags','.drop-zone__prompt','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','dragenter','Ingresa\x20el\x20nombre\x20del\x20item','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','now','windowId','input','dragleave','apply','file-input','setImpuestos','3367630gDsDGc','.variantForm','split','setItemId','progress','.unitSelect','.unitAlias','constructor','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','splice','image/*','newItem_btn_addProdItem','costInput','none','appendChild','onmessage','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','.prodQty','setItemUnits','classList','</div>','512337VwCaXF','style','assign','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','2541282uiLefN','style=\x22display:none\x22','.addVariantComp','info','string','setItemTaxCode','12504107gnarzH','\x22\x20value=\x22','{}.constructor(\x22return\x20this\x22)(\x20)','flatMap','newItem_title_table','\x20Error:\x20','newItem_branches_container','setAuthToken','offline_operations','newItem_units_container','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','readAsDataURL','setImpuestoName','hidden','option','div[data-default=\x22true\x22]\x20.eqInput','detalleModalCreateItem','variant_','readwrite','modalOverlayCreateItem','tag','files','dispatchEvent','search','inputItemDateExpiry','setItemWarehouses','table','newItem_btn_addVariantGroup','includes','.prod_input_container','#newItem_units_container\x20>\x20div','100','vals','remove','arrayBuffer','key','inputItemTax','find','226383FBUZRp','setDescripcion','setItemIsBought','target','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','change','dragover','setItemInventoriable','44JEuShz','setImpuestoValue','currentTarget','.removeProd','items','accept','setWarehouseCode','upload-btn','_comp_container','modalProductNewTitle','inputItemDescription','selectionChange','setItemVariantValues','newItem_title_table_cp','<div\x20class=\x22newItem_col\x22>','max','getElementById','undefined','setUnitPresentationId','selectedItem','every','\x22\x20class=\x22branchChk\x22>\x20','display','.branchMin','.prodInput','newItem_hidden','setName','Items\x20finales:','inputItemType','setItemIsSold','length','newItem_chk_buy','checked','dataTransfer','trim','newItem_categories_select','status','setWarehouseName','entries','productType1','2728QKIINp','.vgName','.eqInput','setImpuestoCode','indexOf','setItemVariantName','closeModalCreateItem','newItem_variants_forms','true','.branchInit','newItem_brands_select','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','setItemDescription','querySelectorAll','name','.options_list','.vgVals','./img/product.png','setItemBrands','setItemCode','block','setItemName','percent','setUnidad','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','preventDefault','Nuevo\x20Producto','12656430PpTDIs','setItemCategories','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','stopPropagation','setMarca','inputItemCode','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','setPrice','Producto\x20Libre','console','setWebhook','隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!','stringify','message','return\x20(function()\x20','dataset','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','8ucHOAZ','setItemBarCode','file','14LNyhCf','prototype','#newItem_categories_select\x20.options_list','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','filter','inputItemName','Error\x20al\x20guardar\x20Producto\x20Offline:','slice','./js/apierp_item_wk.min.js','log','idx','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_'];_0x55ca=function(){return _0x1f95f2;};return _0x55ca();}function updateProdItems(){var _0x45cfdd=_0x1e6ccf,_0x58b0ea=[];Array[_0x45cfdd(0x164)](prodC['children'])[_0x45cfdd(0x170)](function(_0x31e406){var _0x334a24=_0x45cfdd,_0x56872d=_0x31e406[_0x334a24(0x150)](_0x334a24(0x1c4));if(!_0x56872d)return;var _0x432d70=_0x31e406[_0x334a24(0x150)]('.prodQty'),_0x515699=_0x56872d[_0x334a24(0x1e8)];_0x515699&&_0x58b0ea[_0x334a24(0x16a)]({'setItemId':_0x515699['id'],'setDescripcion':_0x515699[_0x334a24(0x20b)],'setCantidad':+_0x432d70[_0x334a24(0x241)]});}),baseItem['setItemComponents']=_0x58b0ea,_0x58b0ea['length']===0x0&&(document[_0x45cfdd(0x1e5)](_0x45cfdd(0x1e2))[_0x45cfdd(0x19b)]['toggle'](_0x45cfdd(0x1ab),![]),document['getElementById'](_0x45cfdd(0x1e2))['classList'][_0x45cfdd(0x173)](_0x45cfdd(0x1ee),!![]));}document[_0x1e6ccf(0x1e5)](_0x1e6ccf(0x1c2))[_0x1e6ccf(0x239)]('click',function(){var _0x4f6b10=_0x1e6ccf,_0x2516eb=vgCount++,_0x2f99bd=document[_0x4f6b10(0x16b)]('div');_0x2f99bd['dataset'][_0x4f6b10(0x236)]=_0x2516eb,_0x2f99bd['innerHTML']=_0x4f6b10(0x17d)+_0x2516eb+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x2516eb+'\x22>'+_0x4f6b10(0x237),vgC[_0x4f6b10(0x196)](_0x2f99bd),_0x2f99bd[_0x4f6b10(0x150)](_0x4f6b10(0x1fe))['addEventListener']('blur',generateVariants),_0x2f99bd[_0x4f6b10(0x150)](_0x4f6b10(0x20d))[_0x4f6b10(0x239)](_0x4f6b10(0x23c),generateVariants),_0x2f99bd[_0x4f6b10(0x150)](_0x4f6b10(0x163))[_0x4f6b10(0x239)](_0x4f6b10(0x245),function(){var _0x4883d4=_0x4f6b10;_0x2f99bd[_0x4883d4(0x1c8)](),generateVariants();});});function generateVariants(){var _0x143e0f=_0x1e6ccf,_0x2f922d=[];vgC[_0x143e0f(0x20a)](_0x143e0f(0x169))[_0x143e0f(0x170)](function(_0x4bdd57){var _0x1bccbd=_0x143e0f,_0x227871=_0x4bdd57['querySelector'](_0x1bccbd(0x1fe))['value'][_0x1bccbd(0x1f7)](),_0x29961a=_0x4bdd57['querySelector'](_0x1bccbd(0x20d))['value'][_0x1bccbd(0x18a)](',')[_0x1bccbd(0x14c)](_0x3a896e=>_0x3a896e[_0x1bccbd(0x1f7)]())['filter'](_0x497b6b=>_0x497b6b);if(_0x227871&&_0x29961a['length'])_0x2f922d[_0x1bccbd(0x16a)]({'name':_0x227871,'vals':_0x29961a});});var _0x4939ba=[{}];_0x2f922d[_0x143e0f(0x170)](function(_0x2cd8b0){var _0x47ba98=_0x143e0f;_0x4939ba=_0x4939ba[_0x47ba98(0x1aa)](function(_0x158f18){var _0x26731a=_0x47ba98;return _0x2cd8b0[_0x26731a(0x1c7)]['map'](function(_0x5807f1){var _0x5ead24=_0x26731a,_0x4d029e=Object[_0x5ead24(0x19f)]({},_0x158f18);return _0x4d029e[_0x2cd8b0[_0x5ead24(0x20b)]]=_0x5807f1,_0x4d029e;});});}),newItems=[],varContainer[_0x143e0f(0x24a)]='',_0x4939ba[_0x143e0f(0x170)](function(_0x5f5e0e,_0x55931e){var _0x130bd7=_0x143e0f,_0x579013=JSON[_0x130bd7(0x23e)](JSON[_0x130bd7(0x224)](baseItem));_0x579013['setItemVariantValues']=_0x5f5e0e,_0x579013['setItemVariantName']=baseItem['setItemName']+'\x20'+Object[_0x130bd7(0x1fb)](_0x5f5e0e)[_0x130bd7(0x14c)](_0x49ef6a=>_0x49ef6a[0x0]+'\x20'+_0x49ef6a[0x1])['join']('\x20'),newItems[_0x130bd7(0x16a)](_0x579013);var _0x48b7bc=document[_0x130bd7(0x16b)](_0x130bd7(0x169));_0x48b7bc['classList'][_0x130bd7(0x23d)]('variantForm'),_0x48b7bc[_0x130bd7(0x227)][_0x130bd7(0x236)]=_0x55931e,_0x48b7bc[_0x130bd7(0x24a)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x579013[_0x130bd7(0x202)]+_0x130bd7(0x159)+_0x579013[_0x130bd7(0x210)]+_0x130bd7(0x252)+_0x579013[_0x130bd7(0x22a)]+_0x130bd7(0x257)+_0x579013[_0x130bd7(0x263)]+_0x130bd7(0x177)+_0x55931e+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x55931e+_0x130bd7(0x238)+_0x55931e+_0x130bd7(0x268),varContainer[_0x130bd7(0x196)](_0x48b7bc),_0x48b7bc[_0x130bd7(0x150)]('.variantCode')[_0x130bd7(0x239)](_0x130bd7(0x183),_0x167412=>newItems[_0x55931e][_0x130bd7(0x210)]=_0x167412[_0x130bd7(0x1d0)]['value']),_0x48b7bc['querySelector']('.variantBarCode')[_0x130bd7(0x239)](_0x130bd7(0x183),_0x1d975f=>newItems[_0x55931e]['setItemBarCode']=_0x1d975f[_0x130bd7(0x1d0)][_0x130bd7(0x241)]),_0x48b7bc['querySelector']('.variantExpiry')['addEventListener']('change',_0x685ba5=>newItems[_0x55931e][_0x130bd7(0x263)]=_0x685ba5[_0x130bd7(0x1d0)][_0x130bd7(0x241)]),initVariantUnits(_0x55931e),initVariantComponents(_0x55931e),initVariantBranches(_0x55931e),_0x48b7bc[_0x130bd7(0x150)](_0x130bd7(0x269))[_0x130bd7(0x239)](_0x130bd7(0x245),function(){var _0x2b50d7=_0x130bd7,_0x6e0dbe=+_0x48b7bc[_0x2b50d7(0x227)]['idx'];newItems[_0x2b50d7(0x191)](_0x6e0dbe,0x1),_0x48b7bc[_0x2b50d7(0x1c8)](),document[_0x2b50d7(0x20a)](_0x2b50d7(0x189))[_0x2b50d7(0x170)](function(_0x56f736,_0x1f62e7){var _0x4c4226=_0x2b50d7;_0x56f736[_0x4c4226(0x227)]['idx']=_0x1f62e7;});});});if(newItems[_0x143e0f(0x1f3)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x4655ba){var _0xde03c=_0x1e6ccf,_0x1441d8=document['getElementById'](_0xde03c(0x1b8)+_0x4655ba+_0xde03c(0x23b)),_0x3e23f0=[];Array[_0xde03c(0x164)](_0x1441d8[_0xde03c(0x244)])[_0xde03c(0x170)](function(_0x51dbd1){var _0x3e7dd5=_0xde03c,_0x4604ba=+_0x51dbd1[_0x3e7dd5(0x150)]('.eqInput')[_0x3e7dd5(0x241)]||0x0,_0x1572b0=_0x51dbd1[_0x3e7dd5(0x150)]('.unitAlias')[_0x3e7dd5(0x241)][_0x3e7dd5(0x1f7)](),_0x513701=_0x51dbd1[_0x3e7dd5(0x150)](_0x3e7dd5(0x18d))[_0x3e7dd5(0x241)],_0x57083a=+_0x51dbd1[_0x3e7dd5(0x150)](_0x3e7dd5(0x242))[_0x3e7dd5(0x241)]||0x0,_0x510a29=+_0x51dbd1[_0x3e7dd5(0x150)]('.costInput')[_0x3e7dd5(0x241)]||0x0,_0x45175d=_0x51dbd1[_0x3e7dd5(0x227)][_0x3e7dd5(0x248)]===_0x3e7dd5(0x205),_0x266c31=+_0x1441d8[_0x3e7dd5(0x150)](_0x3e7dd5(0x1b6))[_0x3e7dd5(0x241)]||0x1,_0x59a40d=_0x45175d?0x1:_0x4604ba==_0x266c31?0x1:_0x4604ba<_0x266c31?_0x266c31/_0x4604ba:_0x4604ba/_0x266c31;_0x3e23f0[_0x3e7dd5(0x16a)]({'setAlias':_0x1572b0,'setUnitCode':_0x513701,'setEquivalence':_0x4604ba,'setFactor':_0x59a40d,'setPrice':_0x57083a,'setCost':_0x510a29,'setDefault':_0x45175d?0x1:0x0});}),newItems[_0x4655ba]['setItemUnits']=_0x3e23f0;}function initVariantUnits(_0x4f66c7){var _0x269c85=_0x1e6ccf,_0x4fa7de=document['getElementById']('variant_'+_0x4f66c7+_0x269c85(0x23b));_0x4fa7de[_0x269c85(0x24a)]='',newItems[_0x4f66c7]['setItemUnits'][_0x269c85(0x170)](function(_0x59b394){var _0x2a7c70=_0x269c85;addUnit(_0x59b394[_0x2a7c70(0x266)],_0x59b394[_0x2a7c70(0x247)],_0x59b394['setEquivalence'],_0x59b394['setDefault'],_0x59b394['setPrice'],_0x59b394[_0x2a7c70(0x15d)],_0x4fa7de);}),_0x4fa7de[_0x269c85(0x24b)][_0x269c85(0x150)](_0x269c85(0x161))[_0x269c85(0x239)](_0x269c85(0x245),function(){addUnit('','',0x1,![],'','',_0x4fa7de),updateVariantUnits(_0x4f66c7);});}function updateVariantUnits(_0x229924){var _0x3fc154=_0x1e6ccf,_0x3e63f9=document[_0x3fc154(0x1e5)](_0x3fc154(0x1b8)+_0x229924+_0x3fc154(0x23b)),_0x4378b0=_0x3e63f9[_0x3fc154(0x150)](_0x3fc154(0x1b6)),_0x203e2d=_0x4378b0?+_0x4378b0['value']:0x1,_0x102116=Array[_0x3fc154(0x164)](_0x3e63f9['children'])['map'](function(_0x4b9d5e){var _0xeb3545=_0x3fc154,_0x380f0c=_0x4b9d5e[_0xeb3545(0x150)](_0xeb3545(0x18e))['value']['trim'](),_0x1ead9c=_0x4b9d5e[_0xeb3545(0x150)]('.unitSelect')[_0xeb3545(0x241)],_0x129417=+_0x4b9d5e['querySelector'](_0xeb3545(0x1ff))[_0xeb3545(0x241)]||0x0,_0x1cb1d6=+_0x4b9d5e['querySelector'](_0xeb3545(0x242))[_0xeb3545(0x241)]||0x0,_0xe1eade=+_0x4b9d5e[_0xeb3545(0x150)](_0xeb3545(0x26a))[_0xeb3545(0x241)]||0x0,_0x4c8c56=_0x4b9d5e[_0xeb3545(0x227)]['default']===_0xeb3545(0x205);return{'setAlias':_0x380f0c,'setUnitCode':_0x1ead9c,'setEquivalence':_0x129417,'setFactor':_0x4c8c56?0x1:_0x129417==_0x203e2d?0x1:_0x129417<_0x203e2d?_0x203e2d/_0x129417:_0x129417/_0x203e2d,'setPrice':_0x1cb1d6,'setCost':_0xe1eade,'setDefault':_0x4c8c56?0x1:0x0};});newItems[_0x229924]['setItemUnits']=_0x102116;}function initVariantComponents(_0x50291e){var _0x552874=_0x1e6ccf,_0x590ef7=document['getElementById'](_0x552874(0x1b8)+_0x50291e+_0x552874(0x1dd));_0x590ef7[_0x552874(0x24a)]='',newItems[_0x50291e][_0x552874(0x267)][_0x552874(0x170)](function(_0x3f2839){var _0x2f50ea=_0x552874,_0x2f2c0b=document[_0x2f50ea(0x16b)]('div'),_0x218e40=Date[_0x2f50ea(0x181)]();_0x2f2c0b['dataset'][_0x2f50ea(0x236)]=_0x218e40,_0x2f2c0b[_0x2f50ea(0x24a)]=_0x2f50ea(0x198)+_0x218e40+_0x2f50ea(0x258)+_0x3f2839[_0x2f50ea(0x14d)]+_0x2f50ea(0x16e),_0x590ef7['appendChild'](_0x2f2c0b),initProdSearch(_0x2f2c0b[_0x2f50ea(0x150)](_0x2f50ea(0x1c4)),{'id':_0x3f2839[_0x2f50ea(0x18b)],'name':_0x3f2839[_0x2f50ea(0x1ce)]}),_0x2f2c0b[_0x2f50ea(0x150)](_0x2f50ea(0x199))[_0x2f50ea(0x239)](_0x2f50ea(0x183),function(){updateVariantComponents(_0x50291e);}),_0x2f2c0b[_0x2f50ea(0x150)]('.removeCombo')[_0x2f50ea(0x239)](_0x2f50ea(0x245),function(){var _0x53119f=_0x2f50ea;_0x2f2c0b[_0x53119f(0x1c8)](),updateVariantComponents(_0x50291e);});}),_0x590ef7[_0x552874(0x24b)][_0x552874(0x150)](_0x552874(0x1a3))['addEventListener'](_0x552874(0x245),function(){var _0x4b4a0e=_0x552874,_0x344f97=document[_0x4b4a0e(0x16b)](_0x4b4a0e(0x169)),_0x2671f7=Date[_0x4b4a0e(0x181)]();_0x344f97[_0x4b4a0e(0x227)]['idx']=_0x2671f7,_0x344f97[_0x4b4a0e(0x24a)]=_0x4b4a0e(0x198)+_0x2671f7+_0x4b4a0e(0x22f),_0x590ef7[_0x4b4a0e(0x196)](_0x344f97),initProdSearch(_0x344f97[_0x4b4a0e(0x150)](_0x4b4a0e(0x1c4))),_0x344f97['querySelector'](_0x4b4a0e(0x199))['addEventListener'](_0x4b4a0e(0x183),function(){updateVariantComponents(_0x50291e);}),_0x344f97['querySelector'](_0x4b4a0e(0x17a))[_0x4b4a0e(0x239)](_0x4b4a0e(0x245),function(){var _0x5cfa79=_0x4b4a0e;_0x344f97[_0x5cfa79(0x1c8)](),updateVariantComponents(_0x50291e);});});}function updateVariantComponents(_0x57739c){var _0x36be13=_0x1e6ccf,_0x49cd17=document[_0x36be13(0x1e5)](_0x36be13(0x1b8)+_0x57739c+_0x36be13(0x1dd)),_0x17274f=Array[_0x36be13(0x164)](_0x49cd17[_0x36be13(0x244)])[_0x36be13(0x14c)](function(_0x3a8f09){var _0x3f617f=_0x36be13,_0x243776=_0x3a8f09['querySelector'](_0x3f617f(0x1c4)),_0x4f4722=_0x243776[_0x3f617f(0x1e8)],_0x2e9fac=+_0x3a8f09[_0x3f617f(0x150)](_0x3f617f(0x199))[_0x3f617f(0x241)]||0x0;return _0x4f4722?{'setItemId':_0x4f4722['id'],'setDescripcion':_0x4f4722[_0x3f617f(0x20b)],'setCantidad':_0x2e9fac}:null;})[_0x36be13(0x230)](_0x1295ef=>_0x1295ef);newItems[_0x57739c]['setItemComponents']=_0x17274f;}function initVariantBranches(_0x2d34c3){var _0x2180e5=_0x1e6ccf;const _0x2a7d22=getAllWarehouses();var _0x1988a4=document[_0x2180e5(0x1e5)](_0x2180e5(0x1b8)+_0x2d34c3+_0x2180e5(0x262));_0x1988a4[_0x2180e5(0x24a)]='',newItems[_0x2d34c3][_0x2180e5(0x1c0)][_0x2180e5(0x170)](function(_0x430c7c){var _0x19f9ca=_0x2180e5,_0x4d7835=_0x2a7d22[_0x19f9ca(0x1cc)](_0x7f8651=>_0x7f8651[_0x19f9ca(0x265)]==_0x430c7c[_0x19f9ca(0x1db)]),_0x3a08a2=document[_0x19f9ca(0x16b)](_0x19f9ca(0x169));_0x3a08a2['innerHTML']=_0x19f9ca(0x228)+_0x430c7c[_0x19f9ca(0x1db)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x4d7835[_0x19f9ca(0x1fa)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x430c7c[_0x19f9ca(0x1db)]+_0x19f9ca(0x1a8)+_0x430c7c[_0x19f9ca(0x16c)]+_0x19f9ca(0x21a)+_0x430c7c[_0x19f9ca(0x1db)]+'\x22\x20value=\x22'+_0x430c7c[_0x19f9ca(0x24e)]+'\x22>',_0x1988a4[_0x19f9ca(0x196)](_0x3a08a2),_0x3a08a2[_0x19f9ca(0x20a)](_0x19f9ca(0x183))[_0x19f9ca(0x170)](function(_0x2e0d03){var _0x36bad3=_0x19f9ca;_0x2e0d03[_0x36bad3(0x239)](_0x36bad3(0x183),function(){updateVariantBranches(_0x2d34c3);});});}),_0x2a7d22[_0x2180e5(0x170)](function(_0x172631){var _0x923e73=_0x2180e5;if(!newItems[_0x2d34c3]['setItemWarehouses'][_0x923e73(0x1cc)](_0x9b35a4=>_0x9b35a4['setWarehouseCode']===_0x172631[_0x923e73(0x265)])){var _0x6468f6=document['createElement']('div');_0x6468f6['innerHTML']=_0x923e73(0x228)+_0x172631[_0x923e73(0x265)]+_0x923e73(0x1ea)+_0x172631[_0x923e73(0x1fa)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x172631['setWarehouseId']+_0x923e73(0x21a)+_0x172631['setWarehouseId']+'\x22>',_0x1988a4[_0x923e73(0x196)](_0x6468f6),_0x6468f6[_0x923e73(0x20a)]('input')[_0x923e73(0x170)](function(_0x5334b5){var _0x507825=_0x923e73;_0x5334b5[_0x507825(0x239)](_0x507825(0x183),function(){updateVariantBranches(_0x2d34c3);});});}});}function updateVariantBranches(_0xab786d){var _0x4feba6=_0x1e6ccf,_0xfdf204=document['getElementById'](_0x4feba6(0x1b8)+_0xab786d+'_branch_container'),_0x79f5ba=[];_0xfdf204[_0x4feba6(0x20a)]('div')[_0x4feba6(0x170)](function(_0x3dd04e){var _0x1af78e=_0x4feba6,_0xade4a3=_0x3dd04e[_0x1af78e(0x150)]('.branchChk');if(_0xade4a3[_0x1af78e(0x1f5)]){var _0xe6710d=+_0xade4a3[_0x1af78e(0x227)]['id'],_0x3800db=+_0x3dd04e[_0x1af78e(0x150)](_0x1af78e(0x206))[_0x1af78e(0x241)]||0x0,_0x211d16=+_0x3dd04e[_0x1af78e(0x150)](_0x1af78e(0x1ec))[_0x1af78e(0x241)]||0x0;_0x79f5ba[_0x1af78e(0x16a)]({'setWarehouseCode':_0xe6710d,'setStockInitial':_0x3800db,'setStockMinimum':_0x211d16});}}),newItems[_0xab786d]['setItemWarehouses']=_0x79f5ba;}async function storeOfflineProduct(_0x3861dc){var _0x5d5b28=_0x1e6ccf;try{const _0x58666b=await createCartStore(''),_0x50a1b8=_0x58666b[_0x5d5b28(0x16d)](_0x5d5b28(0x1af),_0x5d5b28(0x1b9)),_0x4b6cae=_0x50a1b8['objectStore'](_0x5d5b28(0x1af));_0x4b6cae[_0x5d5b28(0x23d)](_0x3861dc),_0x50a1b8[_0x5d5b28(0x175)]=()=>{var _0x13b910=_0x5d5b28;console[_0x13b910(0x235)](_0x13b910(0x171));},_0x50a1b8['onerror']=_0x2cba96=>{var _0x34d59f=_0x5d5b28;console[_0x34d59f(0x255)](_0x34d59f(0x232),_0x2cba96[_0x34d59f(0x1d0)]['error']);};}catch(_0x218b8){console[_0x5d5b28(0x255)]('Error\x20al\x20procesar\x20la\x20operaci贸n:',_0x218b8);}}document[_0x1e6ccf(0x1e5)]('btnItemSave')[_0x1e6ccf(0x239)](_0x1e6ccf(0x245),async function(_0x21cd14){var _0x17be1a=_0x1e6ccf;_0x21cd14[_0x17be1a(0x216)]();const _0xe45779=document[_0x17be1a(0x1e5)]('inputItemCode'),_0x347560=document[_0x17be1a(0x1e5)](_0x17be1a(0x153))[_0x17be1a(0x241)];if(!_0xe45779['value'][_0x17be1a(0x1f7)]()&&_0x347560==0x0){ntfShow('Ingresa\x20el\x20c贸digo\x20del\x20item',0x2,0x1);return;}const _0x300483=document[_0x17be1a(0x1e5)](_0x17be1a(0x231));if(!_0x300483['value'][_0x17be1a(0x1f7)]()){ntfShow(_0x17be1a(0x17f),0x2,0x1);return;}hideModalCreateItem(),showLoadingModal();newItems[_0x17be1a(0x1f3)]===0x0&&(newItems=[baseItem]);const _0xa835a8=document['getElementById'](_0x17be1a(0x182))[_0x17be1a(0x241)],_0x1826ec=window_options[_0xa835a8]['setMoneda'];let _0x4d3c4f=generateNumericUniqId()*0x64+0x1f4,_0x78a59a=generateNumericUniqId()*0xa;const _0x17df83=[];newItems[_0x17be1a(0x170)](_0x1a9094=>{var _0x17488c=_0x17be1a;const _0x3f2a98=++_0x78a59a;_0x1a9094[_0x17488c(0x19a)][_0x17488c(0x170)](_0x53b986=>{var _0x18d7a8=_0x17488c;const _0x8d6c27=++_0x4d3c4f;_0x53b986[_0x18d7a8(0x1e7)]=_0x8d6c27;const _0x4ca936={'id':_0x8d6c27,'setIdProducto':_0x3f2a98,'setCodProducto':_0x1a9094[_0x18d7a8(0x210)],'setDescripcion':_0x1a9094[_0x18d7a8(0x202)]!=''?_0x1a9094[_0x18d7a8(0x202)]:_0x1a9094[_0x18d7a8(0x212)],'setItemDescription':_0x1a9094[_0x18d7a8(0x209)],'setBatchExpirationDate':_0x1a9094[_0x18d7a8(0x263)],'setBatchName':'','setCategoria':_0x1a9094[_0x18d7a8(0x219)][0x0]||'','setMarca':_0x1a9094['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x53b986[_0x18d7a8(0x261)]),'setImages':[],'setImg':_0x18d7a8(0x20e),'setInventariable':0x1,'setItemIsBought':_0x1a9094[_0x18d7a8(0x1cf)]?0x1:0x0,'setItemIsSold':_0x1a9094[_0x18d7a8(0x1f2)]?0x1:0x0,'setPorcentajeIgv':_0x1a9094[_0x18d7a8(0x25c)],'setPrinters':[],'setTaxId':_0x1a9094[_0x18d7a8(0x160)],'setTipAfeIgv':_0x1a9094[_0x18d7a8(0x1a6)],'setUnidad':_0x53b986[_0x18d7a8(0x247)],'setUnidadCodigo':_0x53b986[_0x18d7a8(0x247)],'currency_data':[{'currency':_0x1826ec,'setMtoPrecioCostoUnitario':_0x53b986[_0x18d7a8(0x15d)],'setMtoPrecioUnitario':_0x53b986[_0x18d7a8(0x21f)],'setPriceLists':[]}],'sucursales':_0x1a9094['setItemWarehouses']['map'](_0x50e975=>({'setIdSucursal':_0x50e975['setWarehouseCode'],'setSucursalStock':_0x50e975[_0x18d7a8(0x16c)][_0x18d7a8(0x243)](),'setWarehouseStockMin':_0x50e975[_0x18d7a8(0x24e)][_0x18d7a8(0x243)]()})),'setItemFree':_0x1a9094[_0x18d7a8(0x153)],'setItemBarCode':_0x1a9094[_0x18d7a8(0x22a)],'setItemBrands':_0x1a9094[_0x18d7a8(0x20f)][_0x18d7a8(0x233)](),'setItemCategories':_0x1a9094[_0x18d7a8(0x219)]['slice'](),'setItemComponents':_0x1a9094[_0x18d7a8(0x267)]['map'](_0x3e24c1=>({..._0x3e24c1})),'setItemImages':_0x1a9094[_0x18d7a8(0x166)][_0x18d7a8(0x233)](),'setItemVariantName':_0x1a9094[_0x18d7a8(0x202)],'setItemVariantValues':{..._0x1a9094['setItemVariantValues']}};_0x17df83[_0x18d7a8(0x16a)](_0x4ca936),addToCart(_0x4ca936);});}),console[_0x17be1a(0x235)](_0x17be1a(0x1f0),newItems),await finalizeImport(_0x17df83,newItems,![]);}),[_0x1e6ccf(0x17e),_0x1e6ccf(0x1d3)][_0x1e6ccf(0x170)](_0x348074=>dropZone['addEventListener'](_0x348074,_0x50b19e=>{var _0x98a729=_0x1e6ccf;_0x50b19e['preventDefault'](),dropZone['classList'][_0x98a729(0x23d)]('dragover');})),[_0x1e6ccf(0x184),_0x1e6ccf(0x24d)][_0x1e6ccf(0x170)](_0x1a69cb=>dropZone['addEventListener'](_0x1a69cb,_0x2e1459=>{var _0x19aeec=_0x1e6ccf;_0x2e1459[_0x19aeec(0x216)](),dropZone['classList'][_0x19aeec(0x1c8)](_0x19aeec(0x1d3));})),dropZone[_0x1e6ccf(0x239)](_0x1e6ccf(0x24d),_0x2b034c=>{var _0x35e095=_0x1e6ccf;const _0x4b5b60=_0x2b034c[_0x35e095(0x1f6)][_0x35e095(0x1bc)][0x0];if(!_0x4b5b60)return;fileInput[_0x35e095(0x1bc)]=_0x2b034c[_0x35e095(0x1f6)]['files'],dropZone[_0x35e095(0x150)]('.drop-zone__prompt')[_0x35e095(0x151)]=_0x4b5b60['name'],removeBtn[_0x35e095(0x1b4)]=![],fileInput[_0x35e095(0x1bd)](new Event('change'));}),removeBtn['addEventListener'](_0x1e6ccf(0x245),()=>{var _0x20b3e8=_0x1e6ccf;fileInput[_0x20b3e8(0x241)]='',dropZone[_0x20b3e8(0x150)](_0x20b3e8(0x17c))[_0x20b3e8(0x151)]='Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x20b3e8(0x1b4)]=!![],progressBar[_0x20b3e8(0x19e)][_0x20b3e8(0x1eb)]=_0x20b3e8(0x195),statusDiv[_0x20b3e8(0x151)]='',uploadBtn[_0x20b3e8(0x162)]=!![];}),itemWorker[_0x1e6ccf(0x197)]=({data:_0x2d4fc7})=>{var _0x2ed911=_0x1e6ccf;const {type:_0x39e859,payload:_0x526a4d}=_0x2d4fc7;_0x39e859===_0x2ed911(0x18c)&&(progressBar['style'][_0x2ed911(0x1eb)]='block',progressBar[_0x2ed911(0x241)]=_0x526a4d[_0x2ed911(0x213)],statusDiv[_0x2ed911(0x151)]=_0x526a4d[_0x2ed911(0x225)]),_0x39e859==='done'&&(newItemsExcel=_0x526a4d[_0x2ed911(0x1d9)],statusDiv[_0x2ed911(0x151)]='\x20'+newItemsExcel['length']+_0x2ed911(0x259),uploadBtn[_0x2ed911(0x162)]=![],progressBar[_0x2ed911(0x241)]=0x64,console[_0x2ed911(0x235)](newItemsExcel)),_0x39e859===_0x2ed911(0x255)&&(statusDiv[_0x2ed911(0x151)]=_0x2ed911(0x1ac)+_0x526a4d,progressBar[_0x2ed911(0x19e)]['display']=_0x2ed911(0x195));},fileInput[_0x1e6ccf(0x239)](_0x1e6ccf(0x1d2),async _0x4f383e=>{var _0x3e946a=_0x1e6ccf;const _0xdd5ea0=_0x4f383e['target'][_0x3e946a(0x1bc)][0x0];if(!_0xdd5ea0)return;uploadBtn[_0x3e946a(0x162)]=!![],newItemsExcel=null,statusDiv[_0x3e946a(0x151)]='',progressBar[_0x3e946a(0x19e)][_0x3e946a(0x1eb)]=_0x3e946a(0x195),dropZone['querySelector'](_0x3e946a(0x17c))[_0x3e946a(0x151)]=_0xdd5ea0[_0x3e946a(0x20b)],removeBtn[_0x3e946a(0x1b4)]=![];try{const _0x29473d=await _0xdd5ea0[_0x3e946a(0x1c9)]();itemWorker[_0x3e946a(0x24c)]({'buf':_0x29473d,'maxRows':0x1388});}catch(_0xa2fb7e){statusDiv['textContent']=_0x3e946a(0x1b1);}finally{fileInput[_0x3e946a(0x241)]='';}}),uploadBtn['addEventListener']('click',async()=>{var _0x29eea5=_0x1e6ccf;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x25e58b=document[_0x29eea5(0x1e5)](_0x29eea5(0x182))[_0x29eea5(0x241)],_0x53a153=window_options[_0x25e58b]['setMoneda'],_0x3bb237=document[_0x29eea5(0x1e5)](_0x29eea5(0x265))['value'];let _0x20a1eb=generateNumericUniqId()*0x64+0x1f4,_0xe6c368=generateNumericUniqId()*0xa;const _0x26548b=[];newItemsExcel[_0x29eea5(0x170)](_0x485f78=>{var _0x44801c=_0x29eea5;const _0x1bd267=++_0xe6c368;_0x485f78[_0x44801c(0x1c0)]=[{'setStockInitial':_0x485f78[_0x44801c(0x16c)],'setStockMinimum':_0x485f78[_0x44801c(0x24e)],'setWarehouseCode':_0x3bb237}],_0x485f78[_0x44801c(0x19a)][_0x44801c(0x170)](_0x634766=>{var _0x35b819=_0x44801c;const _0x3f4931=++_0x20a1eb;_0x634766[_0x35b819(0x1e7)]=_0x3f4931;const _0x98968f={'id':_0x3f4931,'setIdProducto':_0x1bd267,'setCodProducto':_0x485f78[_0x35b819(0x210)],'setDescripcion':_0x485f78[_0x35b819(0x202)]||_0x485f78[_0x35b819(0x212)],'setItemDescription':_0x485f78[_0x35b819(0x209)],'setBatchExpirationDate':_0x485f78['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x485f78['setItemCategories'][0x0]||'','setMarca':_0x485f78['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x634766[_0x35b819(0x261)]),'setImages':[],'setImg':_0x35b819(0x20e),'setInventariable':_0x485f78[_0x35b819(0x1d4)]?0x1:0x0,'setItemIsBought':_0x485f78[_0x35b819(0x1cf)]?0x1:0x0,'setItemIsSold':_0x485f78['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x485f78[_0x35b819(0x25c)],'setPrinters':[],'setTaxId':_0x485f78['setItemTaxId'],'setTipAfeIgv':_0x485f78[_0x35b819(0x1a6)],'setUnidad':_0x634766[_0x35b819(0x247)],'setUnidadCodigo':_0x634766[_0x35b819(0x247)],'currency_data':[{'currency':_0x53a153,'setMtoPrecioCostoUnitario':_0x634766[_0x35b819(0x15d)],'setMtoPrecioUnitario':_0x634766[_0x35b819(0x21f)],'setPriceLists':[]}],'sucursales':_0x485f78['setItemWarehouses'][_0x35b819(0x14c)](_0x3a19cb=>({'setIdSucursal':_0x3a19cb['setWarehouseCode'],'setSucursalStock':_0x3a19cb[_0x35b819(0x16c)][_0x35b819(0x243)](),'setWarehouseStockMin':_0x3a19cb[_0x35b819(0x24e)][_0x35b819(0x243)]()})),'setItemFree':_0x485f78[_0x35b819(0x153)],'setItemBarCode':_0x485f78[_0x35b819(0x22a)],'setItemBrands':_0x485f78[_0x35b819(0x20f)][_0x35b819(0x233)](),'setItemCategories':_0x485f78[_0x35b819(0x219)][_0x35b819(0x233)](),'setItemComponents':_0x485f78[_0x35b819(0x267)][_0x35b819(0x14c)](_0x58345a=>({..._0x58345a})),'setItemImages':_0x485f78['setItemImages'][_0x35b819(0x233)](),'setItemVariantName':_0x485f78[_0x35b819(0x202)],'setItemVariantValues':{..._0x485f78[_0x35b819(0x1e1)]}};_0x26548b['push'](_0x98968f);});}),console[_0x29eea5(0x235)]('Items\x20finales:',newItems),await finalizeImport(_0x26548b,newItemsExcel,!![]);});function initializeFormImages(){var _0x6de6b4=_0x1e6ccf;currentImages=Array(MAX_IMAGES)[_0x6de6b4(0x254)](null),imgC['innerHTML']='',baseItem[_0x6de6b4(0x166)]=[];for(var _0x24b612=0x0;_0x24b612<MAX_IMAGES;_0x24b612++){(function(_0x2d2aaa){var _0x553eb2=_0x6de6b4,_0x1204be=document['createElement'](_0x553eb2(0x169));_0x1204be[_0x553eb2(0x24f)]=_0x553eb2(0x158),_0x1204be['dataset'][_0x553eb2(0x236)]=_0x2d2aaa;var _0x1b9d74=document[_0x553eb2(0x16b)]('input');_0x1b9d74[_0x553eb2(0x14a)]=_0x553eb2(0x22b),_0x1b9d74['accept']=_0x553eb2(0x192),_0x1b9d74[_0x553eb2(0x19e)][_0x553eb2(0x1eb)]=_0x553eb2(0x195);var _0x4dd5a1=document[_0x553eb2(0x16b)](_0x553eb2(0x165));_0x4dd5a1[_0x553eb2(0x151)]='+',_0x1204be[_0x553eb2(0x196)](_0x1b9d74),_0x1204be['appendChild'](_0x4dd5a1),imgC[_0x553eb2(0x196)](_0x1204be),_0x1204be[_0x553eb2(0x239)](_0x553eb2(0x245),function(){var _0x4c4351=_0x553eb2;_0x1b9d74[_0x4c4351(0x245)]();}),_0x1b9d74['addEventListener']('change',function(_0x5dcf3d){var _0x477ede=_0x553eb2,_0x490971=_0x5dcf3d[_0x477ede(0x1d0)][_0x477ede(0x1bc)][0x0];if(!_0x490971)return removeImg(_0x2d2aaa);var _0x4e13ef=new FileReader();_0x4e13ef['onload']=function(_0x2cbf89){var _0x503a42=_0x477ede;_0x1204be[_0x503a42(0x24a)]='<img\x20src=\x22'+_0x2cbf89[_0x503a42(0x1d0)]['result']+'\x22>';var _0x3625c6=document[_0x503a42(0x16b)](_0x503a42(0x165));_0x3625c6['className']=_0x503a42(0x1c8),_0x3625c6[_0x503a42(0x151)]='',_0x3625c6[_0x503a42(0x239)](_0x503a42(0x245),function(_0x3e0607){var _0x33f84c=_0x503a42;_0x3e0607[_0x33f84c(0x21b)](),removeImg(_0x2d2aaa);}),_0x1204be[_0x503a42(0x196)](_0x3625c6),currentImages[_0x2d2aaa]=_0x490971,baseItem['setItemImages']=currentImages[_0x503a42(0x230)](function(_0x5ea74a){return _0x5ea74a;});},_0x4e13ef[_0x477ede(0x1b2)](_0x490971);});}(_0x24b612));}}function initializeFormIsSoldIsBought(){var _0x54b993=_0x1e6ccf;document['getElementById'](_0x54b993(0x1f4))[_0x54b993(0x1f5)]=!![],document[_0x54b993(0x1e5)]('newItem_chk_sell')[_0x54b993(0x1f5)]=!![],baseItem[_0x54b993(0x1cf)]=!![],baseItem[_0x54b993(0x1f2)]=!![];}function initializeFormInputsBasic(){var _0x5b5f64=_0x1e6ccf;document[_0x5b5f64(0x1e5)](_0x5b5f64(0x1f1))[_0x5b5f64(0x241)]='1',document[_0x5b5f64(0x1e5)](_0x5b5f64(0x21d))[_0x5b5f64(0x241)]='',document[_0x5b5f64(0x1e5)](_0x5b5f64(0x231))[_0x5b5f64(0x241)]='',document['getElementById'](_0x5b5f64(0x1df))[_0x5b5f64(0x241)]='',document[_0x5b5f64(0x1e5)](_0x5b5f64(0x1bf))[_0x5b5f64(0x241)]='',document[_0x5b5f64(0x1e5)]('inputItemBarCode')['value']='',baseItem[_0x5b5f64(0x25f)]='1',baseItem[_0x5b5f64(0x210)]='',baseItem[_0x5b5f64(0x212)]='',baseItem['setItemDescription']='',baseItem[_0x5b5f64(0x263)]='',baseItem[_0x5b5f64(0x22a)]='';}function initializeFormTax(){var _0x145fd4=_0x1e6ccf;const _0x3f4189=myCompany[_0x145fd4(0x264)],_0xdeb931=document['getElementById'](_0x145fd4(0x1cb));_0xdeb931[_0x145fd4(0x241)]=_0x3f4189,baseItem[_0x145fd4(0x160)]=_0x3f4189;const _0x5104e2=company[0x0][_0x145fd4(0x187)][_0x145fd4(0x1cc)](_0x94a347=>_0x94a347['setTaxId']==_0x3f4189)?.[_0x145fd4(0x200)]||0x0,_0x276e16=company[0x0][_0x145fd4(0x187)][_0x145fd4(0x1cc)](_0x16a3ff=>_0x16a3ff['setTaxId']==_0x3f4189)?.[_0x145fd4(0x1d6)]||0x0;baseItem[_0x145fd4(0x1a6)]=_0x5104e2,baseItem[_0x145fd4(0x25c)]=_0x276e16;}function initializeFormCategoriesBrands(){var _0x3c217d=_0x1e6ccf;baseItem['setItemCategories']=[],baseItem[_0x3c217d(0x20f)]=[],document[_0x3c217d(0x150)](_0x3c217d(0x249))['innerHTML']='',document[_0x3c217d(0x150)](_0x3c217d(0x22e))['innerHTML']='',document[_0x3c217d(0x150)](_0x3c217d(0x176))[_0x3c217d(0x24a)]='',document[_0x3c217d(0x150)](_0x3c217d(0x15e))[_0x3c217d(0x24a)]='';const _0x5e32d3=uniqueValuesArray('setCategoria','setCategoria',products),_0x376a2f=uniqueValuesArray('setMarca',_0x3c217d(0x21c),products),_0x4b28e7=initMulti('newItem_categories_select',_0x5e32d3),_0x3f68ce=initMulti('newItem_brands_select',_0x376a2f);document[_0x3c217d(0x1e5)](_0x3c217d(0x1f8))['addEventListener'](_0x3c217d(0x1e0),function(_0x2010f3){var _0x5dc8cc=_0x3c217d;baseItem[_0x5dc8cc(0x219)]=_0x4b28e7[_0x5dc8cc(0x14c)](_0xe2a296=>_0xe2a296[_0x5dc8cc(0x156)]);}),document[_0x3c217d(0x1e5)](_0x3c217d(0x207))[_0x3c217d(0x239)]('selectionChange',function(_0x446d51){baseItem['setItemBrands']=_0x3f68ce['map'](_0x4856a9=>_0x4856a9['setCode']);});}function initializeFormUnits(){var _0x3fe7de=_0x1e6ccf;unitCount=0x0,document[_0x3fe7de(0x1e5)](_0x3fe7de(0x1b0))[_0x3fe7de(0x24a)]='',baseItem[_0x3fe7de(0x19a)]=[];var _0x132dd9=uniqueValuesArray('setUnidad',_0x3fe7de(0x214),products);addUnit('',_0x132dd9[0x0]&&_0x132dd9[0x0][_0x3fe7de(0x156)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x27d79b=_0x1e6ccf;prodC[_0x27d79b(0x24a)]='',baseItem[_0x27d79b(0x267)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x3c3fee=_0x1e6ccf;branchesC[_0x3c3fee(0x24a)]='',baseItem[_0x3c3fee(0x1c0)]=[];const _0x21bf7d=getAllWarehouses();_0x21bf7d[_0x3c3fee(0x170)](function(_0x274002){var _0xa6822a=_0x3c3fee,_0x53cc65=document[_0xa6822a(0x16b)](_0xa6822a(0x169));_0x53cc65[_0xa6822a(0x24a)]=_0xa6822a(0x21e)+'<div\x20class=\x22newItem_col\x22>'+_0xa6822a(0x25e)+_0x274002['setWarehouseId']+_0xa6822a(0x15b)+_0x274002[_0xa6822a(0x1fa)]+'</label>'+_0xa6822a(0x19c)+_0xa6822a(0x1e3)+_0xa6822a(0x1d1)+_0x274002[_0xa6822a(0x265)]+'\x22>'+_0xa6822a(0x19c)+_0xa6822a(0x1e3)+_0xa6822a(0x1a0)+_0x274002[_0xa6822a(0x265)]+'\x22>'+_0xa6822a(0x19c)+'</div>',branchesC[_0xa6822a(0x196)](_0x53cc65),_0x53cc65[_0xa6822a(0x20a)](_0xa6822a(0x183))[_0xa6822a(0x170)](function(_0x2242d8){var _0xb4f142=_0xa6822a;_0x2242d8['addEventListener'](_0xb4f142(0x183),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x1e789c=_0x1e6ccf;baseItem[_0x1e789c(0x202)]='',baseItem[_0x1e789c(0x1e1)]={},vgC[_0x1e789c(0x24a)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x28a3de,_0x4ea2df,_0x352c07=![]){var _0x48903b=_0x1e6ccf;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x48903b(0x1c6),'setToken':company[0x0][_0x48903b(0x1ae)],'setWebhook':company[0x0][_0x48903b(0x222)],'newItems':_0x4ea2df}),products[_0x48903b(0x16a)](..._0x28a3de),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x48903b(0x180)),_0x352c07?(fileInput[_0x48903b(0x241)]='',uploadBtn[_0x48903b(0x162)]=!![],statusDiv['textContent']='',progressBar[_0x48903b(0x19e)][_0x48903b(0x1eb)]=_0x48903b(0x195),progressBar[_0x48903b(0x241)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}