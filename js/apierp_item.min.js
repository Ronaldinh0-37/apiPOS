/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.8
*/

var _0x2adf4c=_0x2125;(function(_0x5c0e77,_0xd14e14){var _0x2dd7e0=_0x2125,_0x50ae81=_0x5c0e77();while(!![]){try{var _0x452470=parseInt(_0x2dd7e0(0x21d))/0x1*(parseInt(_0x2dd7e0(0x18a))/0x2)+-parseInt(_0x2dd7e0(0x1b9))/0x3+parseInt(_0x2dd7e0(0x26b))/0x4*(parseInt(_0x2dd7e0(0x1dd))/0x5)+-parseInt(_0x2dd7e0(0x162))/0x6*(parseInt(_0x2dd7e0(0x1a6))/0x7)+parseInt(_0x2dd7e0(0x18e))/0x8+-parseInt(_0x2dd7e0(0x294))/0x9*(parseInt(_0x2dd7e0(0x1f0))/0xa)+parseInt(_0x2dd7e0(0x18c))/0xb;if(_0x452470===_0xd14e14)break;else _0x50ae81['push'](_0x50ae81['shift']());}catch(_0x20bb19){_0x50ae81['push'](_0x50ae81['shift']());}}}(_0x5a0b,0xb2db6));var _0x102089=(function(){var _0x3dff63=!![];return function(_0x4093db,_0x171a8c){var _0x38f743=_0x3dff63?function(){var _0x1d4092=_0x2125;if(_0x171a8c){var _0x2768a1=_0x171a8c[_0x1d4092(0x261)](_0x4093db,arguments);return _0x171a8c=null,_0x2768a1;}}:function(){};return _0x3dff63=![],_0x38f743;};}()),_0x5944ca=_0x102089(this,function(){var _0x57f846=_0x2125;return _0x5944ca['toString']()[_0x57f846(0x24f)](_0x57f846(0x214))[_0x57f846(0x1c8)]()[_0x57f846(0x28d)](_0x5944ca)['search']('(((.+)+)+)+$');});_0x5944ca();var _0x29735b=(function(){var _0x250260=!![];return function(_0x514a35,_0x448266){var _0x45f257=_0x250260?function(){var _0x3af497=_0x2125;if(_0x448266){var _0x4c3bc7=_0x448266[_0x3af497(0x261)](_0x514a35,arguments);return _0x448266=null,_0x4c3bc7;}}:function(){};return _0x250260=![],_0x45f257;};}()),_0x390493=_0x29735b(this,function(){var _0x57c0aa=_0x2125,_0x1e547b=function(){var _0x26413b=_0x2125,_0x11fb48;try{_0x11fb48=Function('return\x20(function()\x20'+_0x26413b(0x27c)+');')();}catch(_0xfbcb7b){_0x11fb48=window;}return _0x11fb48;},_0x191834=_0x1e547b(),_0x3054d0=_0x191834['console']=_0x191834[_0x57c0aa(0x195)]||{},_0x3e53d2=[_0x57c0aa(0x208),_0x57c0aa(0x167),_0x57c0aa(0x1df),'error',_0x57c0aa(0x28b),'table',_0x57c0aa(0x225)];for(var _0x26423c=0x0;_0x26423c<_0x3e53d2[_0x57c0aa(0x187)];_0x26423c++){var _0x3ae3e2=_0x29735b[_0x57c0aa(0x28d)]['prototype'][_0x57c0aa(0x1ce)](_0x29735b),_0x31bf16=_0x3e53d2[_0x26423c],_0x38b190=_0x3054d0[_0x31bf16]||_0x3ae3e2;_0x3ae3e2[_0x57c0aa(0x1f3)]=_0x29735b['bind'](_0x29735b),_0x3ae3e2[_0x57c0aa(0x1c8)]=_0x38b190[_0x57c0aa(0x1c8)][_0x57c0aa(0x1ce)](_0x38b190),_0x3054d0[_0x31bf16]=_0x3ae3e2;}});_0x390493();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById'](_0x2adf4c(0x297)),unitCount=0x0,branchesC=document[_0x2adf4c(0x175)](_0x2adf4c(0x181)),prodC=document[_0x2adf4c(0x175)](_0x2adf4c(0x186)),vgCount=0x0,varContainer=document[_0x2adf4c(0x175)](_0x2adf4c(0x1a5)),vgC=document[_0x2adf4c(0x175)](_0x2adf4c(0x266));const fileInput=document['getElementById'](_0x2adf4c(0x28f)),progressBar=document[_0x2adf4c(0x175)](_0x2adf4c(0x1b8)),statusDiv=document[_0x2adf4c(0x175)]('status'),uploadBtn=document['getElementById'](_0x2adf4c(0x283));let newItemsExcel=null;const itemWorker=new Worker(_0x2adf4c(0x1dc)),dropZone=document[_0x2adf4c(0x175)]('drop-zone'),removeBtn=document[_0x2adf4c(0x175)]('remove-file');function showModalCreateItem(_0x39ebeb){var _0x2e8a1a=_0x2adf4c;const _0x174957=document['getElementById'](_0x2e8a1a(0x226)),_0x2718be=document[_0x2e8a1a(0x175)](_0x2e8a1a(0x230));_0x174957[_0x2e8a1a(0x197)][_0x2e8a1a(0x164)](_0x2e8a1a(0x279)),_0x2718be['style'][_0x2e8a1a(0x1c6)]=_0x2e8a1a(0x1d8);const _0x4976e9=document[_0x2e8a1a(0x175)]('setItemFree');_0x4976e9[_0x2e8a1a(0x23b)]=parseInt(_0x39ebeb),baseItem[_0x2e8a1a(0x1a3)]=parseInt(_0x39ebeb);const _0x574681=document[_0x2e8a1a(0x175)](_0x2e8a1a(0x263));_0x39ebeb==0x0&&(_0x574681[_0x2e8a1a(0x247)]=_0x2e8a1a(0x286));_0x39ebeb==0x1&&(_0x574681[_0x2e8a1a(0x247)]='Producto\x20Libre');const _0x17728f=document[_0x2e8a1a(0x165)](_0x2e8a1a(0x166));for(let _0x5c5cd8=0x0;_0x5c5cd8<_0x17728f[_0x2e8a1a(0x187)];_0x5c5cd8++){const _0x17b40b=_0x17728f[_0x5c5cd8];if(_0x39ebeb==0x0)_0x17b40b['classList'][_0x2e8a1a(0x22d)](_0x2e8a1a(0x288));else _0x39ebeb==0x1&&_0x17b40b[_0x2e8a1a(0x197)][_0x2e8a1a(0x164)](_0x2e8a1a(0x288));}}function hideModalCreateItem(){var _0x4b86ff=_0x2adf4c;const _0x3fa25f=document['getElementById'](_0x4b86ff(0x226)),_0x129143=document[_0x4b86ff(0x175)](_0x4b86ff(0x230));_0x3fa25f['classList'][_0x4b86ff(0x22d)]('active'),_0x129143[_0x4b86ff(0x1d5)][_0x4b86ff(0x1c6)]='none';}document[_0x2adf4c(0x175)]('closeModalCreateItem')[_0x2adf4c(0x194)]('click',hideModalCreateItem),document[_0x2adf4c(0x175)](_0x2adf4c(0x230))[_0x2adf4c(0x194)](_0x2adf4c(0x178),_0x443819=>{var _0x6e0938=_0x2adf4c;_0x443819[_0x6e0938(0x275)]==_0x443819[_0x6e0938(0x22a)]&&_0x443819[_0x6e0938(0x1b5)]();});function loadTaxData(){var _0x517f24=_0x2adf4c;const _0x4e208b=document[_0x517f24(0x175)](_0x517f24(0x24e));_0x4e208b['innerHTML']='',company[0x0][_0x517f24(0x1b6)][_0x517f24(0x1a0)](function(_0x1d34f5){var _0x3afe25=_0x517f24;const _0x1cdcdc=document[_0x3afe25(0x207)]('option');_0x1cdcdc[_0x3afe25(0x23b)]=_0x1d34f5[_0x3afe25(0x1ed)],_0x1cdcdc[_0x3afe25(0x247)]=_0x1d34f5[_0x3afe25(0x295)]+'\x20('+_0x1d34f5[_0x3afe25(0x23e)]+'%)',_0x1d34f5[_0x3afe25(0x1ed)]==company[0x0][_0x3afe25(0x173)]&&(_0x1cdcdc[_0x3afe25(0x1cf)]=!![]),_0x4e208b[_0x3afe25(0x17b)](_0x1cdcdc);});}function uniqueValuesArray(_0x16e127,_0x4c738d,_0x59c7df){var _0xb86318=_0x2adf4c;const _0x35b35b=Array['from'](new Set(_0x59c7df['map'](_0x572661=>{var _0xa0ea08=_0x2125;const _0x3d84f7=_0x572661[_0x16e127];return typeof _0x3d84f7===_0xa0ea08(0x1f2)?_0x3d84f7['trim']():_0x3d84f7;})[_0xb86318(0x233)](_0x1d89e8=>_0x1d89e8!=null&&_0x1d89e8!=='')));return _0x35b35b[_0xb86318(0x291)](_0x5f51ee=>{var _0x12ab63=_0xb86318;const _0x2b177a=_0x59c7df[_0x12ab63(0x245)](_0x24c9de=>_0x24c9de[_0x16e127]===_0x5f51ee),_0x5c25e7=_0x2b177a&&_0x2b177a[_0x4c738d]!=null?String(_0x2b177a[_0x4c738d])[_0x12ab63(0x22f)]():_0x5f51ee;return{'setCode':_0x5f51ee,'setName':_0x5c25e7};});}function fillSelect(_0x412be1,_0x45fb37,_0x1fdb63,_0x2f4c87){var _0x38fa01=_0x2adf4c;_0x412be1[_0x38fa01(0x247)]='',_0x45fb37[_0x38fa01(0x1a0)](function(_0x4a2a8b){var _0x20fda8=_0x38fa01,_0x256a8c=new Option(_0x4a2a8b[_0x2f4c87],_0x4a2a8b[_0x1fdb63]);_0x412be1[_0x20fda8(0x164)](_0x256a8c);});}function initMulti(_0x444c48,_0x1fbf61){var _0x24312d=_0x2adf4c,_0xc851d2=document['getElementById'](_0x444c48),_0x4f3b82=_0xc851d2[_0x24312d(0x27f)]('.ms_input'),_0x331301=_0xc851d2[_0x24312d(0x27f)]('.options_list'),_0x199537=_0xc851d2[_0x24312d(0x27f)](_0x24312d(0x255)),_0x47fa6c=_0x1fbf61[_0x24312d(0x1fc)](),_0xcdc2ac=[];let _0x1dec9f=null,_0x5a0cdb=![];function _0x159a4d(){var _0xd16b6d=_0x24312d;const _0x399df9=_0x4f3b82[_0xd16b6d(0x23b)][_0xd16b6d(0x22f)]();if(!_0x399df9)return;const _0xcc047c=_0x47fa6c[_0xd16b6d(0x245)](_0x440ec5=>_0x440ec5[_0xd16b6d(0x15f)][_0xd16b6d(0x1a4)]()===_0x399df9[_0xd16b6d(0x1a4)]());if(_0xcc047c)_0xcdc2ac[_0xd16b6d(0x260)](_0xcc047c),_0x47fa6c[_0xd16b6d(0x213)](_0x47fa6c['findIndex'](_0x251256=>_0x251256[_0xd16b6d(0x1f5)]===_0xcc047c[_0xd16b6d(0x1f5)]),0x1);else{const _0x3c7774=_0xcdc2ac[_0xd16b6d(0x232)](_0x52c8e4=>_0x52c8e4[_0xd16b6d(0x15f)]['toLowerCase']()===_0x399df9[_0xd16b6d(0x1a4)]());!_0x3c7774&&_0xcdc2ac[_0xd16b6d(0x260)]({'setCode':_0x399df9,'setName':_0x399df9});}_0x3f6ab7(),_0x5b13c8(),_0x4f3b82[_0xd16b6d(0x23b)]='';}function _0x5b13c8(){var _0x4cf47b=_0x24312d;_0x331301[_0x4cf47b(0x247)]='',_0x47fa6c[_0x4cf47b(0x233)](_0x91b342=>_0x91b342['setName'][_0x4cf47b(0x1a4)]()[_0x4cf47b(0x1fb)](_0x4f3b82[_0x4cf47b(0x23b)][_0x4cf47b(0x1a4)]()))[_0x4cf47b(0x1fc)](0x0,0x14)[_0x4cf47b(0x1a0)](_0x708db8=>{var _0x28fb75=_0x4cf47b,_0x5469ed=document['createElement'](_0x28fb75(0x1e5));_0x5469ed[_0x28fb75(0x1e3)]=_0x708db8[_0x28fb75(0x15f)],_0x5469ed[_0x28fb75(0x20a)][_0x28fb75(0x223)]=_0x708db8[_0x28fb75(0x1f5)],_0x331301[_0x28fb75(0x17b)](_0x5469ed),_0x5469ed['addEventListener'](_0x28fb75(0x1b7),()=>_0x5a0cdb=!![]),_0x5469ed[_0x28fb75(0x194)]('click',function(){var _0x115773=_0x28fb75;_0x5a0cdb=![],_0xcdc2ac[_0x115773(0x260)](_0x708db8),_0x47fa6c[_0x115773(0x213)](_0x47fa6c[_0x115773(0x26a)](_0x4c3fe4=>_0x4c3fe4[_0x115773(0x1f5)]===_0x708db8[_0x115773(0x1f5)]),0x1),_0x4f3b82['value']='',_0x3f6ab7(),_0x5b13c8();});});}function _0x3f6ab7(){var _0x14789b=_0x24312d;_0x199537[_0x14789b(0x247)]='',_0xcdc2ac[_0x14789b(0x1a0)](_0x17f71c=>{var _0x2deb15=_0x14789b,_0x1f5914=document[_0x2deb15(0x207)](_0x2deb15(0x1e5));_0x1f5914[_0x2deb15(0x24a)]=_0x2deb15(0x16b),_0x1f5914['textContent']=_0x17f71c['setName'];var _0x12c033=document[_0x2deb15(0x207)](_0x2deb15(0x218));_0x12c033[_0x2deb15(0x24a)]=_0x2deb15(0x17e),_0x12c033[_0x2deb15(0x1e3)]='',_0x12c033[_0x2deb15(0x194)](_0x2deb15(0x178),function(){var _0x4aa97e=_0x2deb15;_0x47fa6c[_0x4aa97e(0x260)](_0x17f71c);const _0x5995f4=_0xcdc2ac['findIndex'](_0x5280df=>_0x5280df[_0x4aa97e(0x1f5)]===_0x17f71c[_0x4aa97e(0x1f5)]);if(_0x5995f4>-0x1)_0xcdc2ac[_0x4aa97e(0x213)](_0x5995f4,0x1);_0x3f6ab7(),_0x5b13c8();}),_0x1f5914[_0x2deb15(0x17b)](_0x12c033),_0x199537[_0x2deb15(0x17b)](_0x1f5914);}),_0xc851d2[_0x14789b(0x27b)](new CustomEvent(_0x14789b(0x20d),{'detail':_0xcdc2ac,'bubbles':!![]}));}return _0x4f3b82[_0x24312d(0x194)](_0x24312d(0x203),function(){var _0x35bc78=_0x24312d;_0x1dec9f&&(clearTimeout(_0x1dec9f),_0x1dec9f=null),_0x331301['classList'][_0x35bc78(0x22d)](_0x35bc78(0x21a));}),_0x4f3b82['addEventListener']('input',_0x5b13c8),_0x4f3b82['addEventListener'](_0x24312d(0x17a),function(_0x26bcf8){var _0x14ea77=_0x24312d;_0x26bcf8[_0x14ea77(0x224)]===_0x14ea77(0x25f)&&(_0x26bcf8['preventDefault'](),_0x159a4d());}),_0x4f3b82[_0x24312d(0x194)](_0x24312d(0x1c4),function(){if(_0x5a0cdb)return;_0x1dec9f=setTimeout(()=>{_0x159a4d(),_0x1dec9f=null;},0xc8);}),document[_0x24312d(0x194)](_0x24312d(0x178),function(_0x329469){var _0x5f4d9a=_0x24312d;!_0xc851d2[_0x5f4d9a(0x243)](_0x329469[_0x5f4d9a(0x275)])&&_0x331301[_0x5f4d9a(0x197)][_0x5f4d9a(0x164)](_0x5f4d9a(0x21a));}),_0x5b13c8(),_0xcdc2ac;}function getLastCode(_0x41d3ac){var _0x3a36a8=_0x2adf4c;const _0x2cbba7=_0x41d3ac['map'](_0x2ff585=>String(_0x2ff585[_0x3a36a8(0x16e)])[_0x3a36a8(0x22f)]())['filter'](_0xe608b2=>_0xe608b2!=='');if(_0x2cbba7[_0x3a36a8(0x187)]===0x0)return'';const _0x4d02fa=_0x2cbba7[_0x3a36a8(0x1db)](_0x397024=>/^\d+$/[_0x3a36a8(0x2a5)](_0x397024));if(_0x4d02fa){const _0xafb591=_0x2cbba7[_0x3a36a8(0x291)](Number),_0xde808d=Math[_0x3a36a8(0x237)](..._0xafb591);return String(_0xde808d);}let _0x51517f;if(typeof Intl!==_0x3a36a8(0x1bb)&&Intl[_0x3a36a8(0x2a9)]){const _0x339292=new Intl[(_0x3a36a8(0x2a9))](undefined,{'numeric':!![],'sensitivity':_0x3a36a8(0x29d)});_0x51517f=_0x2cbba7[_0x3a36a8(0x1fc)]()[_0x3a36a8(0x246)](_0x339292[_0x3a36a8(0x1e7)]);}else{const _0x115872=_0x2cbba7[_0x3a36a8(0x1db)](_0x4bc476=>/^\d+$/[_0x3a36a8(0x2a5)](_0x4bc476));_0x115872?_0x51517f=_0x2cbba7['map'](Number)[_0x3a36a8(0x246)]((_0x2659eb,_0x37b86b)=>_0x2659eb-_0x37b86b)[_0x3a36a8(0x291)](String):_0x51517f=_0x2cbba7[_0x3a36a8(0x1fc)]()[_0x3a36a8(0x246)]();}return _0x51517f[_0x51517f[_0x3a36a8(0x187)]-0x1];}function getNextCode(_0x34ce23){var _0x1c52dd=_0x2adf4c;const _0x53303d=getLastCode(_0x34ce23);if(!_0x53303d)return'';if(/^\d+$/[_0x1c52dd(0x2a5)](_0x53303d))return String(Number(_0x53303d)+0x1);const _0x4c9cd9=_0x53303d['match'](/^([A-Za-z]*)(\d+)$/);if(_0x4c9cd9){const [,_0x1acab2,_0x426700]=_0x4c9cd9,_0x422a30=String(Number(_0x426700)+0x1)[_0x1c52dd(0x1cb)](_0x426700['length'],'0');return _0x1acab2+_0x422a30;}return _0x53303d;}function _0x2125(_0x4075b6,_0x228697){var _0x3a5282=_0x5a0b();return _0x2125=function(_0x390493,_0x29735b){_0x390493=_0x390493-0x15c;var _0x415486=_0x3a5282[_0x390493];return _0x415486;},_0x2125(_0x4075b6,_0x228697);}document[_0x2adf4c(0x175)](_0x2adf4c(0x244))[_0x2adf4c(0x194)](_0x2adf4c(0x29e),function(_0x20509b){var _0x5007d0=_0x2adf4c;baseItem[_0x5007d0(0x1af)]=_0x20509b[_0x5007d0(0x275)][_0x5007d0(0x23b)];}),document['getElementById']('inputItemDescription')['addEventListener'](_0x2adf4c(0x29e),function(_0x1db313){var _0x127215=_0x2adf4c;baseItem[_0x127215(0x1cc)]=_0x1db313[_0x127215(0x275)][_0x127215(0x23b)];}),document['getElementById'](_0x2adf4c(0x1ca))['addEventListener']('input',function(_0x2ca22d){var _0x3b6f2c=_0x2adf4c;baseItem[_0x3b6f2c(0x257)]=_0x2ca22d[_0x3b6f2c(0x275)][_0x3b6f2c(0x23b)];}),document['getElementById'](_0x2adf4c(0x1a2))[_0x2adf4c(0x194)](_0x2adf4c(0x1b3),function(_0x5ba90b){var _0x478ff7=_0x2adf4c;baseItem[_0x478ff7(0x25a)]=_0x5ba90b[_0x478ff7(0x275)][_0x478ff7(0x23b)];}),document[_0x2adf4c(0x175)](_0x2adf4c(0x24e))[_0x2adf4c(0x194)]('change',function(_0xff2107){var _0x48b813=_0x2adf4c;baseItem[_0x48b813(0x23a)]=_0xff2107[_0x48b813(0x275)]['value'];const _0x26c3f9=_0xff2107[_0x48b813(0x275)][_0x48b813(0x23b)],_0x2f9352=company[0x0][_0x48b813(0x1b6)][_0x48b813(0x245)](_0x11ab39=>_0x11ab39[_0x48b813(0x1ed)]==_0x26c3f9)?.['setImpuestoCode']||0x0,_0x217221=company[0x0]['setImpuestos'][_0x48b813(0x245)](_0x3ba518=>_0x3ba518[_0x48b813(0x1ed)]==_0x26c3f9)?.[_0x48b813(0x23e)]||0x0;baseItem[_0x48b813(0x184)]=_0x2f9352,baseItem[_0x48b813(0x199)]=_0x217221;}),document[_0x2adf4c(0x175)](_0x2adf4c(0x22c))[_0x2adf4c(0x194)](_0x2adf4c(0x1b3),function(_0x2f1256){var _0x369c6b=_0x2adf4c;baseItem[_0x369c6b(0x212)]=_0x2f1256[_0x369c6b(0x275)]['checked'];}),document[_0x2adf4c(0x175)](_0x2adf4c(0x21e))[_0x2adf4c(0x194)]('change',function(_0x51ed09){var _0x3ec880=_0x2adf4c;baseItem['setItemIsSold']=_0x51ed09['target'][_0x3ec880(0x27d)];}),document[_0x2adf4c(0x175)](_0x2adf4c(0x1cd))[_0x2adf4c(0x194)](_0x2adf4c(0x29e),function(_0x46b24a){var _0x598215=_0x2adf4c;baseItem[_0x598215(0x204)]=_0x46b24a['target']['value'];}),document[_0x2adf4c(0x175)](_0x2adf4c(0x21b))['addEventListener'](_0x2adf4c(0x29e),function(_0x4f745b){var _0x4edf76=_0x2adf4c;baseItem['setItemBarCode']=_0x4f745b[_0x4edf76(0x275)][_0x4edf76(0x23b)];}),document[_0x2adf4c(0x175)](_0x2adf4c(0x200))['addEventListener'](_0x2adf4c(0x178),function(){addUnit(),updateUnitsArray();}),document[_0x2adf4c(0x175)](_0x2adf4c(0x1cd))[_0x2adf4c(0x194)](_0x2adf4c(0x1c4),function(){var _0x2323f0=_0x2adf4c;const _0x152623=this[_0x2323f0(0x23b)]['trim']();if(_0x152623==='')return;const _0x2dd879=products[_0x2323f0(0x232)](_0x4b96d5=>_0x4b96d5[_0x2323f0(0x16e)]==_0x152623),_0x2175ab=getLastCode(products);_0x2dd879?ntfShow(_0x2323f0(0x171)+_0x2175ab,0x2,0x1):ntfShow(_0x2323f0(0x19a),0x1,0x1);});function removeImg(_0x1fc93e){var _0x32c8cc=_0x2adf4c;currentImages[_0x1fc93e]=null;var _0x2bdd22=imgC[_0x32c8cc(0x27f)](_0x32c8cc(0x1be)+_0x1fc93e+'\x22]');_0x2bdd22[_0x32c8cc(0x247)]='';var _0x3dd7b1=document[_0x32c8cc(0x207)](_0x32c8cc(0x29e));_0x3dd7b1['type']='file',_0x3dd7b1[_0x32c8cc(0x220)]=_0x32c8cc(0x1f8),_0x3dd7b1[_0x32c8cc(0x1d5)][_0x32c8cc(0x1c6)]=_0x32c8cc(0x1d2);var _0x2b9b0d=document[_0x32c8cc(0x207)](_0x32c8cc(0x218));_0x2b9b0d[_0x32c8cc(0x1e3)]='+',_0x2bdd22[_0x32c8cc(0x17b)](_0x3dd7b1),_0x2bdd22[_0x32c8cc(0x17b)](_0x2b9b0d),_0x2bdd22[_0x32c8cc(0x194)]('click',function(){var _0x268048=_0x32c8cc;_0x3dd7b1[_0x268048(0x178)]();}),baseItem[_0x32c8cc(0x281)]=currentImages[_0x32c8cc(0x233)](function(_0x3e98d1){return _0x3e98d1;});}function addUnit(_0x371c17,_0x31af93,_0x2a0765,_0x13df3b,_0x432952,_0x56ea77,_0x40cfd0){var _0x309f4a=_0x2adf4c,_0x4b964a=uniqueValuesArray(_0x309f4a(0x2a7),_0x309f4a(0x202),myCompany[_0x309f4a(0x24c)]);_0x371c17=_0x371c17||'',_0x31af93=_0x31af93||_0x4b964a[0x3a]&&_0x4b964a[0x3a][_0x309f4a(0x1f5)]||'',_0x2a0765=_0x2a0765!==undefined?_0x2a0765:0x1,_0x13df3b=!!_0x13df3b,_0x432952=_0x432952||'',_0x56ea77=_0x56ea77||'';var _0x5a4768=unitCount++,_0x1c91ba=document[_0x309f4a(0x207)](_0x309f4a(0x1e5));_0x1c91ba[_0x309f4a(0x20a)][_0x309f4a(0x1fd)]=_0x5a4768,_0x1c91ba['dataset'][_0x309f4a(0x25c)]=_0x13df3b,_0x1c91ba[_0x309f4a(0x247)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x5a4768+_0x309f4a(0x2a3)+_0x371c17+_0x309f4a(0x1d0)+_0x5a4768+_0x309f4a(0x22e)+_0x5a4768+'\x22\x20value=\x22'+_0x2a0765+'\x22\x20'+(_0x13df3b?'disabled':'')+_0x309f4a(0x20b)+_0x5a4768+_0x309f4a(0x2a3)+_0x432952+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0x5a4768+_0x309f4a(0x2a3)+_0x56ea77+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x13df3b?_0x309f4a(0x1f6):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x1c91ba[_0x309f4a(0x27f)](_0x309f4a(0x16a)),_0x4b964a,'setCode','setName'),_0x1c91ba[_0x309f4a(0x27f)](_0x309f4a(0x16a))[_0x309f4a(0x23b)]=_0x31af93,[_0x309f4a(0x168),_0x309f4a(0x253),_0x309f4a(0x25b),'priceInput',_0x309f4a(0x19c)][_0x309f4a(0x1a0)](function(_0x4d5814){var _0x3ab253=_0x309f4a;_0x1c91ba[_0x3ab253(0x27f)]('.'+_0x4d5814)[_0x3ab253(0x194)](_0x3ab253(0x29e),function(){var _0x1ef9c5=_0x3ab253,_0x5bef79=_0x40cfd0?+_0x40cfd0['id'][_0x1ef9c5(0x1f4)]('_')[0x1]:null;if(_0x40cfd0)updateVariantUnits(_0x5bef79);else updateUnitsArray();});}),_0x1c91ba[_0x309f4a(0x27f)](_0x309f4a(0x29f))[_0x309f4a(0x194)](_0x309f4a(0x178),function(){var _0x5d700a=_0x309f4a;_0x1c91ba[_0x5d700a(0x22d)]();var _0x39a4c3=_0x40cfd0?+_0x40cfd0['id'][_0x5d700a(0x1f4)]('_')[0x1]:null;if(_0x40cfd0)updateVariantUnits(_0x39a4c3);else updateUnitsArray();});var _0x3932f7=_0x40cfd0||document['getElementById'](_0x309f4a(0x1e9));_0x3932f7[_0x309f4a(0x17b)](_0x1c91ba);}function containerIdx(_0x37142e){return+_0x37142e['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x1bd7bb=_0x2adf4c,_0x4f3c24=[],_0x13e078=Array[_0x1bd7bb(0x2a0)](document[_0x1bd7bb(0x1fa)]('#newItem_units_container\x20>\x20div')),_0x54c8f9=_0x13e078['find'](_0x15e07f=>_0x15e07f[_0x1bd7bb(0x20a)][_0x1bd7bb(0x25c)]===_0x1bd7bb(0x180)),_0xfaf43e=_0x54c8f9?+_0x54c8f9[_0x1bd7bb(0x27f)]('.eqInput')[_0x1bd7bb(0x23b)]:0x1;_0x13e078[_0x1bd7bb(0x1a0)](function(_0x3124db){var _0x4126bf=_0x1bd7bb,_0x3b7d1b=+_0x3124db['querySelector'](_0x4126bf(0x1d7))[_0x4126bf(0x23b)]||0x0,_0x57b455=+_0x3124db[_0x4126bf(0x27f)](_0x4126bf(0x229))['value']||0x0,_0x41b8fc=+_0x3124db['querySelector'](_0x4126bf(0x240))[_0x4126bf(0x23b)]||0x0;_0x4f3c24[_0x4126bf(0x260)]({'setAlias':_0x3124db[_0x4126bf(0x27f)](_0x4126bf(0x249))[_0x4126bf(0x23b)][_0x4126bf(0x22f)](),'setUnitCode':_0x3124db[_0x4126bf(0x27f)]('.unitSelect')['value'],'setEquivalence':_0x3b7d1b,'setFactor':_0x3124db[_0x4126bf(0x20a)][_0x4126bf(0x25c)]===_0x4126bf(0x180)?0x1:_0x3b7d1b==_0xfaf43e?0x1:_0x3b7d1b<_0xfaf43e?_0xfaf43e/_0x3b7d1b:_0x3b7d1b/_0xfaf43e,'setPrice':_0x57b455,'setCost':_0x41b8fc,'setDefault':_0x3124db['dataset'][_0x4126bf(0x25c)]==='true'?0x1:0x0});}),baseItem[_0x1bd7bb(0x28e)]=_0x4f3c24;}function updateBranches(){var _0x257f8d=_0x2adf4c,_0x73c681=[];document['querySelectorAll'](_0x257f8d(0x201))['forEach'](function(_0xfa1522){var _0x1fb877=_0x257f8d,_0x29da86=_0xfa1522[_0x1fb877(0x27f)]('.branchChk');if(_0x29da86[_0x1fb877(0x27d)]){var _0x222326=+_0x29da86[_0x1fb877(0x20a)]['id'],_0x13566b=+_0xfa1522['querySelector'](_0x1fb877(0x1b2))[_0x1fb877(0x23b)],_0x1182e6=+_0xfa1522['querySelector']('.branchMin')[_0x1fb877(0x23b)];_0x73c681[_0x1fb877(0x260)]({'setWarehouseCode':_0x222326,'setStockInitial':_0x13566b,'setStockMinimum':_0x1182e6});}}),baseItem['setItemWarehouses']=_0x73c681;}function _0x5a0b(){var _0x390463=['btnExportarItems','14JHygot','newItem_chk_sell','setItemUnitId','accept','setUnidadCodigo','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','code','key','trace','detalleModalCreateItem','result','setWarehouseName','.priceInput','currentTarget','newItem_title_table_cp','newItem_chk_buy','remove','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','trim','modalOverlayCreateItem','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','some','filter','assign','name','setItemCategories','max','currency','setItemBarCode','setItemTaxId','value','.variantForm','download','setImpuestoValue','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','.costInput','[id$=\x22_comp_container\x22]','Error\x20al\x20guardar\x20Producto\x20Offline:','contains','inputItemName','find','sort','innerHTML','drop','.unitAlias','className','.vgVals','setUnits','closest','inputItemTax','search','#newItem_categories_select\x20.options_list','setItemWarehouses','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','unitSelect','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','.selected_tags','dragenter','setItemDateExpiry','isArray','setIdSucursal','setItemType','eqInput','default','.vgName','.variantCode','Enter','push','apply','import','modalProductNewTitle','setItemIsSold','reduce','newItem_variant_groups','selectedItem','setItemCommissionPercentage','setMtoPrecioUnitario','findIndex','4504rDSnCI','#newItem_brands_select\x20.options_list','\x20items\x20procesados.','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','setFactor','dragover','parentNode','setItemId','\x20Error:\x20','setItemVariantValues','target','variant_','.xlsx','setBatchName','active','newItem_btn_addProdItem','dispatchEvent','{}.constructor(\x22return\x20this\x22)(\x20)','checked','setItemInventoriable','querySelector','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','setItemImages','setStockMinimum','upload-btn','setAlias','USD','Nuevo\x20Producto','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','hidden','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','setDescripcion','exception','</div>','constructor','setItemUnits','file-input','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','map','items','setMarca','9wJDcWm','setImpuestoName','sucursales','newItem_images_container','_branch_container','setCostUSD','.options_list','setConversionFactor','setItemVariantName','base','input','.removeUnit','from','Ingresa\x20el\x20c贸digo\x20del\x20item','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','\x22\x20value=\x22','<img\x20src=\x22','test','children','setUnitCode','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','Collator','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','setWarehouseCode','setItemCategoryName','setName','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','6yXcawg','setCantidad','add','getElementsByClassName','productType1','warn','unitAlias','.removeCombo','.unitSelect','tag','setInventariable','percent','setCodProducto','\x22\x20class=\x22branchChk\x22\x20checked>\x20','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','now','setTaxIdDefault','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','getElementById','setItemComponents','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','click','readAsDataURL','keydown','appendChild','.branchChk','setCategoria','remove-tag','href','true','newItem_branches_container','Ingresa\x20el\x20nombre\x20del\x20item','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','setItemTaxCode','setItemBrandName','newItem_proditems_container','length','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','detail','2194CCMKwM','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','16148451uKuios','_comp_container','339568WQzHYM','./excel/Plantilla-Items.xlsx','parse','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','Generando\x20Excel...','setWebhook','addEventListener','console','vals','classList','setMtoPrecioCostoUnitario','setItemTaxValue','隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!','offline_operations','costInput','setIdProducto','setStockInitial','newItem_addToCart','forEach','setItemBrands','inputItemType','setItemFree','toLowerCase','newItem_variants_forms','2263597uNCPmT','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','preventDefault','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','stringify','newItem_brands_select','dataTransfer','Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar','setPriceUSD','setItemName','disabled','div[data-default=\x22true\x22]\x20.eqInput','.branchInit','change','.variantBarCode','stopPropagation','setImpuestos','mousedown','progress','1083579bIWWJt','dragleave','undefined','setWarehouseStockMin','setWarehouseId','[data-idx=\x22','</label>','Error\x20al\x20procesar\x20la\x20operaci贸n:','newItem_categories_select','readwrite','_units_container','blur','PEN','display','files','toString','Items\x20finales:','inputItemDateExpiry','padStart','setItemDescription','inputItemCode','bind','selected','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','setItemUnitAlias','none','#newItem_brands_select\x20.selected_tags','toggle','style','\x20items.','.eqInput','block','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','entries','every','./js/apierp_item_wk.min.js','1415NvWJUh','<div\x20class=\x22newItem_col\x22>','info','Error\x20al\x20obtener\x20la\x20plantilla:\x20','.options_list\x20div','\x22\x20class=\x22branchChk\x22>\x20','textContent','onmessage','div','currency_data','compare','setPrice','newItem_units_container','setCost','.branchMin','newItem_title_table','setTaxId','file','done','4273410pLwiyB','\x20Exportaci贸n\x20completada:\x20','string','__proto__','split','setCode','style=\x22display:none\x22','setDefault','image/*','newItem_btn_addVariantGroup','querySelectorAll','includes','slice','idx','error','.drop-zone__prompt','newItem_btn_addUnit','#newItem_branches_container\x20>\x20div','setUnitName','focus','setItemCode','./img/product.png','join','createElement','log','setBatchExpirationDate','dataset','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','arrayBuffer','selectionChange','inputItemDescription','setAuthToken','.prod_input_container','setMoneda','setItemIsBought','splice','(((.+)+)+)+$','postMessage','.prodQty','objectStore','span','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','newItem_hidden','inputItemBarCode'];_0x5a0b=function(){return _0x390463;};return _0x5a0b();}document[_0x2adf4c(0x175)](_0x2adf4c(0x27a))[_0x2adf4c(0x194)]('click',function(){var _0xdbfb2d=_0x2adf4c,_0x3b4d74=Date[_0xdbfb2d(0x172)](),_0x5efaca=document[_0xdbfb2d(0x207)](_0xdbfb2d(0x1e5));_0x5efaca[_0xdbfb2d(0x20a)]['idx']=_0x3b4d74,_0x5efaca[_0xdbfb2d(0x247)]=_0xdbfb2d(0x177)+_0x3b4d74+_0xdbfb2d(0x170)+_0x3b4d74+_0xdbfb2d(0x23f),prodC[_0xdbfb2d(0x17b)](_0x5efaca),initProdSearch(_0x5efaca[_0xdbfb2d(0x27f)](_0xdbfb2d(0x210))),_0x5efaca[_0xdbfb2d(0x27f)]('.removeProd')[_0xdbfb2d(0x194)]('click',function(){var _0x51d777=_0xdbfb2d;_0x5efaca[_0x51d777(0x22d)](),updateProdItems();}),_0x5efaca[_0xdbfb2d(0x27f)](_0xdbfb2d(0x216))[_0xdbfb2d(0x194)](_0xdbfb2d(0x29e),updateProdItems),document[_0xdbfb2d(0x175)]('newItem_title_table_cp')['classList'][_0xdbfb2d(0x1d4)](_0xdbfb2d(0x1ec),!![]),document[_0xdbfb2d(0x175)](_0xdbfb2d(0x22b))[_0xdbfb2d(0x197)][_0xdbfb2d(0x1d4)](_0xdbfb2d(0x21a),![]);});function initProdSearch(_0x78aa97,_0xd540b9){var _0xed796e=_0x2adf4c,_0x4545af=_0x78aa97[_0xed796e(0x27f)]('.prodInput'),_0x5bf436=_0x78aa97[_0xed796e(0x27f)](_0xed796e(0x29a)),_0x63480b=_0xd540b9||null;if(_0xd540b9)_0x4545af[_0xed796e(0x23b)]=_0xd540b9[_0xed796e(0x235)];_0x4545af[_0xed796e(0x194)](_0xed796e(0x29e),function(){var _0x1dcea5=_0xed796e,_0x453861=_0x4545af[_0x1dcea5(0x23b)][_0x1dcea5(0x1a4)]()['trim']();_0x5bf436[_0x1dcea5(0x247)]='';if(!_0x453861)return;products[_0x1dcea5(0x233)](_0x2c964f=>_0x2c964f[_0x1dcea5(0x28a)][_0x1dcea5(0x1a4)]()[_0x1dcea5(0x1fb)](_0x453861))[_0x1dcea5(0x1fc)](0x0,0x14)[_0x1dcea5(0x1a0)](function(_0x4adbb6){var _0x69ef3b=_0x1dcea5,_0x1e663e=document['createElement']('div');_0x1e663e['textContent']=_0x4adbb6[_0x69ef3b(0x28a)],_0x1e663e[_0x69ef3b(0x20a)]['id']=_0x4adbb6['id'],_0x1e663e['dataset'][_0x69ef3b(0x235)]=_0x4adbb6[_0x69ef3b(0x28a)],_0x5bf436[_0x69ef3b(0x17b)](_0x1e663e),_0x1e663e[_0x69ef3b(0x194)](_0x69ef3b(0x178),function(){var _0x21c049=_0x69ef3b;_0x63480b={'id':_0x4adbb6['id'],'name':_0x4adbb6[_0x21c049(0x28a)]},_0x4545af['value']=_0x4adbb6[_0x21c049(0x28a)],_0x5bf436[_0x21c049(0x247)]='';var _0x5c374d=_0x78aa97[_0x21c049(0x24d)](_0x21c049(0x241));if(_0x5c374d){var _0x3bea51=+_0x5c374d['id'][_0x21c049(0x1f4)]('_')[0x1];updateVariantComponents(_0x3bea51);}else updateProdItems();});});}),_0x4545af[_0xed796e(0x194)](_0xed796e(0x203),function(){var _0x5b9171=_0xed796e;_0x5bf436[_0x5b9171(0x197)][_0x5b9171(0x22d)](_0x5b9171(0x21a));}),document[_0xed796e(0x194)](_0xed796e(0x178),function(_0x477e79){var _0x5f2104=_0xed796e;if(!_0x78aa97[_0x5f2104(0x243)](_0x477e79[_0x5f2104(0x275)]))_0x5bf436[_0x5f2104(0x197)][_0x5f2104(0x164)]('newItem_hidden');}),Object['defineProperty'](_0x78aa97,_0xed796e(0x267),{'get':()=>_0x63480b});}function updateProdItems(){var _0x45ad67=_0x2adf4c,_0x529609=[];Array[_0x45ad67(0x2a0)](prodC[_0x45ad67(0x2a6)])[_0x45ad67(0x1a0)](function(_0x478d50){var _0x5a30fd=_0x45ad67,_0x41301b=_0x478d50['querySelector'](_0x5a30fd(0x210));if(!_0x41301b)return;var _0x2aeb0d=_0x478d50[_0x5a30fd(0x27f)](_0x5a30fd(0x216)),_0x4aae01=_0x41301b['selectedItem'];_0x4aae01&&_0x529609[_0x5a30fd(0x260)]({'setItemId':_0x4aae01['id'],'setDescripcion':_0x4aae01[_0x5a30fd(0x235)],'setCantidad':+_0x2aeb0d[_0x5a30fd(0x23b)]});}),baseItem[_0x45ad67(0x176)]=_0x529609,_0x529609['length']===0x0&&(document['getElementById']('newItem_title_table_cp')['classList'][_0x45ad67(0x1d4)]('newItem_title_table',![]),document[_0x45ad67(0x175)](_0x45ad67(0x22b))[_0x45ad67(0x197)][_0x45ad67(0x1d4)](_0x45ad67(0x21a),!![]));}document[_0x2adf4c(0x175)](_0x2adf4c(0x1f9))[_0x2adf4c(0x194)](_0x2adf4c(0x178),function(){var _0x58cc33=_0x2adf4c,_0x39d3c0=vgCount++,_0x2c3c87=document[_0x58cc33(0x207)](_0x58cc33(0x1e5));_0x2c3c87[_0x58cc33(0x20a)][_0x58cc33(0x1fd)]=_0x39d3c0,_0x2c3c87[_0x58cc33(0x247)]=_0x58cc33(0x2a2)+_0x39d3c0+'\x22>'+_0x58cc33(0x219)+_0x39d3c0+'\x22>'+_0x58cc33(0x18b),vgC['appendChild'](_0x2c3c87),_0x2c3c87['querySelector']('.vgName')[_0x58cc33(0x194)](_0x58cc33(0x1c4),generateVariants),_0x2c3c87['querySelector'](_0x58cc33(0x24b))['addEventListener'](_0x58cc33(0x1c4),generateVariants),_0x2c3c87['querySelector']('.removeGroup')[_0x58cc33(0x194)]('click',function(){_0x2c3c87['remove'](),generateVariants();});});function generateVariants(){var _0x541053=_0x2adf4c,_0x9f18f1=[];vgC[_0x541053(0x1fa)](_0x541053(0x1e5))[_0x541053(0x1a0)](function(_0x2b5368){var _0x17ea80=_0x541053,_0xdd0072=_0x2b5368[_0x17ea80(0x27f)](_0x17ea80(0x25d))['value'][_0x17ea80(0x22f)](),_0xdca0e=_0x2b5368[_0x17ea80(0x27f)](_0x17ea80(0x24b))[_0x17ea80(0x23b)][_0x17ea80(0x1f4)](',')[_0x17ea80(0x291)](_0x3b4f34=>_0x3b4f34[_0x17ea80(0x22f)]())[_0x17ea80(0x233)](_0x8d81c2=>_0x8d81c2);if(_0xdd0072&&_0xdca0e[_0x17ea80(0x187)])_0x9f18f1[_0x17ea80(0x260)]({'name':_0xdd0072,'vals':_0xdca0e});});var _0x2491b4=[{}];_0x9f18f1[_0x541053(0x1a0)](function(_0x21a5a1){_0x2491b4=_0x2491b4['flatMap'](function(_0x5dd529){var _0xdfe825=_0x2125;return _0x21a5a1[_0xdfe825(0x196)]['map'](function(_0x14562a){var _0x37ff1a=_0xdfe825,_0x1b7431=Object[_0x37ff1a(0x234)]({},_0x5dd529);return _0x1b7431[_0x21a5a1[_0x37ff1a(0x235)]]=_0x14562a,_0x1b7431;});});}),newItems=[],varContainer['innerHTML']='',_0x2491b4[_0x541053(0x1a0)](function(_0x493771,_0x4b59f4){var _0x2ef323=_0x541053,_0x2a2af9=JSON[_0x2ef323(0x190)](JSON[_0x2ef323(0x1aa)](baseItem));_0x2a2af9[_0x2ef323(0x274)]=_0x493771,_0x2a2af9[_0x2ef323(0x29c)]=baseItem[_0x2ef323(0x1af)]+'\x20'+Object[_0x2ef323(0x1da)](_0x493771)[_0x2ef323(0x291)](_0x168877=>_0x168877[0x0]+'\x20'+_0x168877[0x1])[_0x2ef323(0x206)]('\x20'),newItems[_0x2ef323(0x260)](_0x2a2af9);var _0x8658b7=document[_0x2ef323(0x207)](_0x2ef323(0x1e5));_0x8658b7[_0x2ef323(0x197)][_0x2ef323(0x164)]('variantForm'),_0x8658b7[_0x2ef323(0x20a)][_0x2ef323(0x1fd)]=_0x4b59f4,_0x8658b7[_0x2ef323(0x247)]=_0x2ef323(0x1d9)+_0x2a2af9['setItemVariantName']+_0x2ef323(0x174)+_0x2a2af9['setItemCode']+_0x2ef323(0x160)+_0x2a2af9['setItemBarCode']+_0x2ef323(0x290)+_0x2a2af9[_0x2ef323(0x257)]+_0x2ef323(0x161)+_0x4b59f4+_0x2ef323(0x287)+_0x4b59f4+_0x2ef323(0x252)+_0x4b59f4+_0x2ef323(0x280),varContainer[_0x2ef323(0x17b)](_0x8658b7),_0x8658b7[_0x2ef323(0x27f)](_0x2ef323(0x25e))['addEventListener'](_0x2ef323(0x29e),_0x188f79=>newItems[_0x4b59f4][_0x2ef323(0x204)]=_0x188f79[_0x2ef323(0x275)]['value']),_0x8658b7[_0x2ef323(0x27f)](_0x2ef323(0x1b4))[_0x2ef323(0x194)](_0x2ef323(0x29e),_0x6ba65c=>newItems[_0x4b59f4]['setItemBarCode']=_0x6ba65c[_0x2ef323(0x275)][_0x2ef323(0x23b)]),_0x8658b7[_0x2ef323(0x27f)]('.variantExpiry')['addEventListener'](_0x2ef323(0x1b3),_0x3381c2=>newItems[_0x4b59f4]['setItemDateExpiry']=_0x3381c2['target'][_0x2ef323(0x23b)]),initVariantUnits(_0x4b59f4),initVariantComponents(_0x4b59f4),initVariantBranches(_0x4b59f4),_0x8658b7[_0x2ef323(0x27f)]('.removeVariant')[_0x2ef323(0x194)](_0x2ef323(0x178),function(){var _0x5e6b80=_0x2ef323,_0x4fcd97=+_0x8658b7[_0x5e6b80(0x20a)][_0x5e6b80(0x1fd)];newItems[_0x5e6b80(0x213)](_0x4fcd97,0x1),_0x8658b7[_0x5e6b80(0x22d)](),document[_0x5e6b80(0x1fa)](_0x5e6b80(0x23c))[_0x5e6b80(0x1a0)](function(_0x5c7f16,_0x17791c){var _0x509988=_0x5e6b80;_0x5c7f16['dataset'][_0x509988(0x1fd)]=_0x17791c;});});});if(newItems[_0x541053(0x187)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x4270c7){var _0x42d185=_0x2adf4c,_0x34bf34=document['getElementById'](_0x42d185(0x276)+_0x4270c7+'_units_container'),_0x46a85e=[];Array['from'](_0x34bf34['children'])[_0x42d185(0x1a0)](function(_0x473d05){var _0x582fde=_0x42d185,_0x5084ef=+_0x473d05[_0x582fde(0x27f)]('.eqInput')[_0x582fde(0x23b)]||0x0,_0x3be8da=_0x473d05[_0x582fde(0x27f)](_0x582fde(0x249))[_0x582fde(0x23b)][_0x582fde(0x22f)](),_0x5c3d47=_0x473d05[_0x582fde(0x27f)](_0x582fde(0x16a))[_0x582fde(0x23b)],_0x4e21c3=+_0x473d05['querySelector'](_0x582fde(0x229))[_0x582fde(0x23b)]||0x0,_0x238ec0=+_0x473d05['querySelector'](_0x582fde(0x240))['value']||0x0,_0x59e4ae=_0x473d05[_0x582fde(0x20a)][_0x582fde(0x25c)]===_0x582fde(0x180),_0x2c7124=+_0x34bf34['querySelector'](_0x582fde(0x1b1))[_0x582fde(0x23b)]||0x1,_0x226009=_0x59e4ae?0x1:_0x5084ef==_0x2c7124?0x1:_0x5084ef<_0x2c7124?_0x2c7124/_0x5084ef:_0x5084ef/_0x2c7124;_0x46a85e[_0x582fde(0x260)]({'setAlias':_0x3be8da,'setUnitCode':_0x5c3d47,'setEquivalence':_0x5084ef,'setFactor':_0x226009,'setPrice':_0x4e21c3,'setCost':_0x238ec0,'setDefault':_0x59e4ae?0x1:0x0});}),newItems[_0x4270c7][_0x42d185(0x28e)]=_0x46a85e;}function initVariantUnits(_0x434e48){var _0x422604=_0x2adf4c,_0xe2d2ea=document['getElementById'](_0x422604(0x276)+_0x434e48+'_units_container');_0xe2d2ea[_0x422604(0x247)]='',newItems[_0x434e48][_0x422604(0x28e)][_0x422604(0x1a0)](function(_0x9f5537){var _0xccd1fb=_0x422604;addUnit(_0x9f5537['setAlias'],_0x9f5537['setUnitCode'],_0x9f5537['setEquivalence'],_0x9f5537[_0xccd1fb(0x1f7)],_0x9f5537[_0xccd1fb(0x1e8)],_0x9f5537['setCost'],_0xe2d2ea);}),_0xe2d2ea[_0x422604(0x271)]['querySelector']('.addVariantUnit')[_0x422604(0x194)](_0x422604(0x178),function(){addUnit('','',0x1,![],'','',_0xe2d2ea),updateVariantUnits(_0x434e48);});}function updateVariantUnits(_0x229813){var _0x12a3a7=_0x2adf4c,_0x1214ab=document[_0x12a3a7(0x175)]('variant_'+_0x229813+_0x12a3a7(0x1c3)),_0x11d4fc=_0x1214ab[_0x12a3a7(0x27f)]('div[data-default=\x22true\x22]\x20.eqInput'),_0x55f96b=_0x11d4fc?+_0x11d4fc[_0x12a3a7(0x23b)]:0x1,_0x343e19=Array['from'](_0x1214ab[_0x12a3a7(0x2a6)])[_0x12a3a7(0x291)](function(_0x39ca15){var _0x1bc5e3=_0x12a3a7,_0x398dd6=_0x39ca15[_0x1bc5e3(0x27f)](_0x1bc5e3(0x249))['value'][_0x1bc5e3(0x22f)](),_0x213860=_0x39ca15[_0x1bc5e3(0x27f)](_0x1bc5e3(0x16a))[_0x1bc5e3(0x23b)],_0x48fe91=+_0x39ca15[_0x1bc5e3(0x27f)](_0x1bc5e3(0x1d7))['value']||0x0,_0x21e590=+_0x39ca15[_0x1bc5e3(0x27f)](_0x1bc5e3(0x229))[_0x1bc5e3(0x23b)]||0x0,_0x395fdc=+_0x39ca15['querySelector'](_0x1bc5e3(0x240))[_0x1bc5e3(0x23b)]||0x0,_0x5cfc2d=_0x39ca15[_0x1bc5e3(0x20a)]['default']===_0x1bc5e3(0x180);return{'setAlias':_0x398dd6,'setUnitCode':_0x213860,'setEquivalence':_0x48fe91,'setFactor':_0x5cfc2d?0x1:_0x48fe91==_0x55f96b?0x1:_0x48fe91<_0x55f96b?_0x55f96b/_0x48fe91:_0x48fe91/_0x55f96b,'setPrice':_0x21e590,'setCost':_0x395fdc,'setDefault':_0x5cfc2d?0x1:0x0};});newItems[_0x229813][_0x12a3a7(0x28e)]=_0x343e19;}function initVariantComponents(_0xc182f9){var _0x47295f=_0x2adf4c,_0x5b35fa=document['getElementById'](_0x47295f(0x276)+_0xc182f9+'_comp_container');_0x5b35fa['innerHTML']='',newItems[_0xc182f9][_0x47295f(0x176)][_0x47295f(0x1a0)](function(_0x355bcf){var _0x2916ad=_0x47295f,_0x451958=document[_0x2916ad(0x207)](_0x2916ad(0x1e5)),_0xe3a7aa=Date['now']();_0x451958[_0x2916ad(0x20a)][_0x2916ad(0x1fd)]=_0xe3a7aa,_0x451958[_0x2916ad(0x247)]=_0x2916ad(0x188)+_0xe3a7aa+_0x2916ad(0x289)+_0x355bcf[_0x2916ad(0x163)]+_0x2916ad(0x2a8),_0x5b35fa[_0x2916ad(0x17b)](_0x451958),initProdSearch(_0x451958[_0x2916ad(0x27f)](_0x2916ad(0x210)),{'id':_0x355bcf[_0x2916ad(0x272)],'name':_0x355bcf[_0x2916ad(0x28a)]}),_0x451958[_0x2916ad(0x27f)](_0x2916ad(0x216))[_0x2916ad(0x194)]('input',function(){updateVariantComponents(_0xc182f9);}),_0x451958[_0x2916ad(0x27f)](_0x2916ad(0x169))[_0x2916ad(0x194)](_0x2916ad(0x178),function(){var _0xaa40be=_0x2916ad;_0x451958[_0xaa40be(0x22d)](),updateVariantComponents(_0xc182f9);});}),_0x5b35fa['parentNode']['querySelector']('.addVariantComp')['addEventListener'](_0x47295f(0x178),function(){var _0x5873c5=_0x47295f,_0x36679a=document['createElement'](_0x5873c5(0x1e5)),_0x408265=Date[_0x5873c5(0x172)]();_0x36679a['dataset'][_0x5873c5(0x1fd)]=_0x408265,_0x36679a[_0x5873c5(0x247)]=_0x5873c5(0x188)+_0x408265+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x5b35fa['appendChild'](_0x36679a),initProdSearch(_0x36679a['querySelector'](_0x5873c5(0x210))),_0x36679a[_0x5873c5(0x27f)](_0x5873c5(0x216))[_0x5873c5(0x194)](_0x5873c5(0x29e),function(){updateVariantComponents(_0xc182f9);}),_0x36679a['querySelector']('.removeCombo')[_0x5873c5(0x194)](_0x5873c5(0x178),function(){var _0x1b77ae=_0x5873c5;_0x36679a[_0x1b77ae(0x22d)](),updateVariantComponents(_0xc182f9);});});}function updateVariantComponents(_0x324219){var _0x2fe373=_0x2adf4c,_0x173da9=document[_0x2fe373(0x175)](_0x2fe373(0x276)+_0x324219+_0x2fe373(0x18d)),_0x5b62a1=Array[_0x2fe373(0x2a0)](_0x173da9['children'])[_0x2fe373(0x291)](function(_0x2f8881){var _0xe67b09=_0x2fe373,_0x1765b3=_0x2f8881[_0xe67b09(0x27f)](_0xe67b09(0x210)),_0x1710c0=_0x1765b3[_0xe67b09(0x267)],_0x2ec335=+_0x2f8881[_0xe67b09(0x27f)](_0xe67b09(0x216))['value']||0x0;return _0x1710c0?{'setItemId':_0x1710c0['id'],'setDescripcion':_0x1710c0['name'],'setCantidad':_0x2ec335}:null;})[_0x2fe373(0x233)](_0x5d2ca0=>_0x5d2ca0);newItems[_0x324219][_0x2fe373(0x176)]=_0x5b62a1;}function initVariantBranches(_0x1f23ba){var _0x49663d=_0x2adf4c;const _0x3d70c5=getAllWarehouses();var _0x4afcc7=document[_0x49663d(0x175)](_0x49663d(0x276)+_0x1f23ba+_0x49663d(0x298));_0x4afcc7['innerHTML']='',newItems[_0x1f23ba][_0x49663d(0x251)][_0x49663d(0x1a0)](function(_0x5dd399){var _0x22aec5=_0x49663d,_0x155fff=_0x3d70c5[_0x22aec5(0x245)](_0x47d0ac=>_0x47d0ac[_0x22aec5(0x1bd)]==_0x5dd399[_0x22aec5(0x15d)]),_0x3cf4c8=document[_0x22aec5(0x207)]('div');_0x3cf4c8[_0x22aec5(0x247)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x5dd399[_0x22aec5(0x15d)]+_0x22aec5(0x16f)+_0x155fff[_0x22aec5(0x228)]+_0x22aec5(0x1a9)+_0x5dd399[_0x22aec5(0x15d)]+_0x22aec5(0x2a3)+_0x5dd399[_0x22aec5(0x19e)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x5dd399[_0x22aec5(0x15d)]+_0x22aec5(0x2a3)+_0x5dd399[_0x22aec5(0x282)]+'\x22>',_0x4afcc7[_0x22aec5(0x17b)](_0x3cf4c8),_0x3cf4c8[_0x22aec5(0x1fa)](_0x22aec5(0x29e))[_0x22aec5(0x1a0)](function(_0x3ee352){var _0x48ff65=_0x22aec5;_0x3ee352[_0x48ff65(0x194)]('input',function(){updateVariantBranches(_0x1f23ba);});});}),_0x3d70c5[_0x49663d(0x1a0)](function(_0x4567dc){var _0x11a412=_0x49663d;if(!newItems[_0x1f23ba][_0x11a412(0x251)][_0x11a412(0x245)](_0x510eaa=>_0x510eaa[_0x11a412(0x15d)]===_0x4567dc['setWarehouseId'])){var _0x23b024=document[_0x11a412(0x207)](_0x11a412(0x1e5));_0x23b024[_0x11a412(0x247)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x4567dc[_0x11a412(0x1bd)]+_0x11a412(0x1e2)+_0x4567dc[_0x11a412(0x228)]+_0x11a412(0x1a9)+_0x4567dc[_0x11a412(0x1bd)]+_0x11a412(0x1a7)+_0x4567dc[_0x11a412(0x1bd)]+'\x22>',_0x4afcc7[_0x11a412(0x17b)](_0x23b024),_0x23b024[_0x11a412(0x1fa)](_0x11a412(0x29e))[_0x11a412(0x1a0)](function(_0x57ad80){var _0x575eaf=_0x11a412;_0x57ad80['addEventListener'](_0x575eaf(0x29e),function(){updateVariantBranches(_0x1f23ba);});});}});}function updateVariantBranches(_0x1555b8){var _0x2ecdff=_0x2adf4c,_0x3b5bd3=document[_0x2ecdff(0x175)](_0x2ecdff(0x276)+_0x1555b8+_0x2ecdff(0x298)),_0x2159c9=[];_0x3b5bd3[_0x2ecdff(0x1fa)]('div')['forEach'](function(_0x5a442f){var _0x4195fe=_0x2ecdff,_0x40a554=_0x5a442f[_0x4195fe(0x27f)](_0x4195fe(0x17c));if(_0x40a554[_0x4195fe(0x27d)]){var _0x2d99c8=+_0x40a554[_0x4195fe(0x20a)]['id'],_0x76e236=+_0x5a442f['querySelector']('.branchInit')[_0x4195fe(0x23b)]||0x0,_0x1ccb0f=+_0x5a442f[_0x4195fe(0x27f)](_0x4195fe(0x1eb))[_0x4195fe(0x23b)]||0x0;_0x2159c9[_0x4195fe(0x260)]({'setWarehouseCode':_0x2d99c8,'setStockInitial':_0x76e236,'setStockMinimum':_0x1ccb0f});}}),newItems[_0x1555b8]['setItemWarehouses']=_0x2159c9;}async function storeOfflineProduct(_0x565f0a){var _0x4abf18=_0x2adf4c;try{const _0x2755be=await createCartStore(''),_0x7fdd3c=_0x2755be['transaction'](_0x4abf18(0x19b),_0x4abf18(0x1c2)),_0x3c249f=_0x7fdd3c[_0x4abf18(0x217)](_0x4abf18(0x19b));_0x3c249f[_0x4abf18(0x164)](_0x565f0a),_0x7fdd3c['oncomplete']=()=>{console['log']('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x7fdd3c['onerror']=_0x5cf7e4=>{var _0x446e4a=_0x4abf18;console[_0x446e4a(0x1fe)](_0x446e4a(0x242),_0x5cf7e4[_0x446e4a(0x275)][_0x446e4a(0x1fe)]);};}catch(_0x13c08d){console[_0x4abf18(0x1fe)](_0x4abf18(0x1c0),_0x13c08d);}}document[_0x2adf4c(0x175)]('btnItemSave')[_0x2adf4c(0x194)](_0x2adf4c(0x178),async function(_0x20fa56){var _0x32cf62=_0x2adf4c;_0x20fa56['preventDefault']();const _0x5acfef=document[_0x32cf62(0x175)](_0x32cf62(0x1cd)),_0x4cd15b=document[_0x32cf62(0x175)](_0x32cf62(0x1a3))[_0x32cf62(0x23b)];if(!_0x5acfef[_0x32cf62(0x23b)]['trim']()&&_0x4cd15b==0x0){ntfShow(_0x32cf62(0x2a1),0x2,0x1);return;}_0x4cd15b==0x1&&(_0x5acfef[_0x32cf62(0x23b)]='',baseItem['setItemCode']='');const _0x8a5acf=document[_0x32cf62(0x175)](_0x32cf62(0x244));if(!_0x8a5acf[_0x32cf62(0x23b)][_0x32cf62(0x22f)]()){ntfShow(_0x32cf62(0x182),0x2,0x1);return;}const _0x328c2b=document['getElementById'](_0x32cf62(0x19f));hideModalCreateItem(),showLoadingModal();newItems[_0x32cf62(0x187)]===0x0&&(newItems=[baseItem]);const _0x227cf2=document[_0x32cf62(0x175)]('windowId')['value'],_0x3ee6b7=window_options[_0x227cf2][_0x32cf62(0x211)],_0x47d14a=[];newItems[_0x32cf62(0x1a0)](_0x1d50e5=>{var _0x15a48b=_0x32cf62;const _0x1c7122=generateNumericUniqId();_0x1d50e5[_0x15a48b(0x28e)]['forEach'](_0x44fcb5=>{var _0x42ef3e=_0x15a48b;const _0x2708ed=generateNumericUniqId();_0x44fcb5['setItemUnitId']=_0x2708ed;const _0x2ce763={'id':_0x2708ed,'setIdProducto':_0x1c7122,'setCodProducto':_0x1d50e5[_0x42ef3e(0x204)],'setDescripcion':_0x1d50e5['setItemName'],'setItemDescription':_0x1d50e5[_0x42ef3e(0x1cc)],'setBatchExpirationDate':_0x1d50e5[_0x42ef3e(0x257)],'setBatchName':'','setCategoria':_0x1d50e5[_0x42ef3e(0x236)][0x0]||'','setMarca':_0x1d50e5[_0x42ef3e(0x1a1)][0x0]||'','setConversionFactor':parseFloat(_0x44fcb5[_0x42ef3e(0x26f)]),'setImages':[],'setImg':_0x42ef3e(0x205),'setInventariable':0x1,'setItemIsBought':_0x1d50e5[_0x42ef3e(0x212)]?0x1:0x0,'setItemIsSold':_0x1d50e5[_0x42ef3e(0x264)]?0x1:0x0,'setPorcentajeIgv':_0x1d50e5[_0x42ef3e(0x199)],'setPrinters':[],'setTaxId':_0x1d50e5[_0x42ef3e(0x23a)],'setTipAfeIgv':_0x1d50e5[_0x42ef3e(0x184)],'setUnidad':_0x44fcb5[_0x42ef3e(0x2a7)],'setUnidadCodigo':_0x44fcb5[_0x42ef3e(0x2a7)],'setItemUnitAlias':_0x44fcb5['setAlias'],'currency_data':[{'currency':_0x3ee6b7,'setMtoPrecioCostoUnitario':_0x44fcb5[_0x42ef3e(0x1ea)],'setMtoPrecioUnitario':_0x44fcb5['setPrice'],'setPriceLists':[]}],'sucursales':_0x1d50e5[_0x42ef3e(0x251)][_0x42ef3e(0x291)](_0x360be4=>({'setIdSucursal':_0x360be4[_0x42ef3e(0x15d)],'setSucursalStock':_0x360be4[_0x42ef3e(0x19e)][_0x42ef3e(0x1c8)](),'setWarehouseStockMin':_0x360be4['setStockMinimum'][_0x42ef3e(0x1c8)]()})),'setItemFree':_0x1d50e5['setItemFree'],'setItemBarCode':_0x1d50e5[_0x42ef3e(0x239)],'setItemBrands':_0x1d50e5[_0x42ef3e(0x1a1)][_0x42ef3e(0x1fc)](),'setItemCategories':_0x1d50e5[_0x42ef3e(0x236)]['slice'](),'setItemComponents':_0x1d50e5['setItemComponents'][_0x42ef3e(0x291)](_0x311f2e=>({..._0x311f2e})),'setItemImages':_0x1d50e5[_0x42ef3e(0x281)][_0x42ef3e(0x1fc)](),'setItemVariantName':_0x1d50e5['setItemVariantName'],'setItemVariantValues':{..._0x1d50e5[_0x42ef3e(0x274)]}};_0x47d14a['push'](_0x2ce763),(_0x328c2b['checked']||_0x4cd15b==0x1)&&addToCart(_0x2ce763);});}),console[_0x32cf62(0x208)](_0x32cf62(0x1c9),newItems),await finalizeImport(_0x47d14a,newItems,![]);}),[_0x2adf4c(0x256),_0x2adf4c(0x270)][_0x2adf4c(0x1a0)](_0x45e3f7=>dropZone[_0x2adf4c(0x194)](_0x45e3f7,_0x52dd32=>{var _0x2a593b=_0x2adf4c;_0x52dd32['preventDefault'](),dropZone[_0x2a593b(0x197)][_0x2a593b(0x164)](_0x2a593b(0x270));})),[_0x2adf4c(0x1ba),'drop'][_0x2adf4c(0x1a0)](_0x5bd48d=>dropZone[_0x2adf4c(0x194)](_0x5bd48d,_0x3cef1c=>{var _0xf9a030=_0x2adf4c;_0x3cef1c[_0xf9a030(0x1a8)](),dropZone[_0xf9a030(0x197)][_0xf9a030(0x22d)]('dragover');})),dropZone[_0x2adf4c(0x194)](_0x2adf4c(0x248),_0x2af664=>{var _0x3f82cb=_0x2adf4c;const _0x31eb67=_0x2af664[_0x3f82cb(0x1ac)]['files'][0x0];if(!_0x31eb67)return;fileInput['files']=_0x2af664[_0x3f82cb(0x1ac)][_0x3f82cb(0x1c7)],dropZone[_0x3f82cb(0x27f)](_0x3f82cb(0x1ff))['textContent']=_0x31eb67[_0x3f82cb(0x235)],removeBtn[_0x3f82cb(0x288)]=![],fileInput[_0x3f82cb(0x27b)](new Event(_0x3f82cb(0x1b3)));}),removeBtn[_0x2adf4c(0x194)](_0x2adf4c(0x178),()=>{var _0x5d8bd6=_0x2adf4c;fileInput[_0x5d8bd6(0x23b)]='',dropZone[_0x5d8bd6(0x27f)](_0x5d8bd6(0x1ff))['textContent']=_0x5d8bd6(0x1ad),removeBtn[_0x5d8bd6(0x288)]=!![],progressBar[_0x5d8bd6(0x1d5)][_0x5d8bd6(0x1c6)]=_0x5d8bd6(0x1d2),statusDiv[_0x5d8bd6(0x1e3)]='',uploadBtn[_0x5d8bd6(0x1b0)]=!![];});const exportBtn=document[_0x2adf4c(0x175)](_0x2adf4c(0x21c));exportBtn[_0x2adf4c(0x194)](_0x2adf4c(0x178),onClickExportarItems);async function onClickExportarItems(){var _0x509289=_0x2adf4c;if(!Array[_0x509289(0x258)](products)||!products[_0x509289(0x187)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0xb44c4a=await fetch(_0x509289(0x18f));if(!_0xb44c4a['ok'])throw new Error(_0x509289(0x191));const _0x6df807=await _0xb44c4a[_0x509289(0x20c)](),_0x4fd88c=document[_0x509289(0x175)]('setWarehouseId')[_0x509289(0x23b)];let _0x28d960=products;const _0x4ac7f0=getUserPermissionApiERP(0x2);_0x4ac7f0==0x1&&(_0x28d960=products[_0x509289(0x233)](_0x54742a=>Array[_0x509289(0x258)](_0x54742a[_0x509289(0x296)])&&_0x54742a[_0x509289(0x296)][_0x509289(0x232)](_0xf9af4e=>String(_0xf9af4e[_0x509289(0x259)])==String(_0x4fd88c))));const _0x1dad45=_0x28d960[_0x509289(0x265)]((_0x33bf71,_0x3e5f69)=>{var _0x2483e8=_0x509289;const _0x124357=_0x3e5f69[_0x2483e8(0x19d)];if(!_0x33bf71[_0x124357])_0x33bf71[_0x124357]=[];return _0x33bf71[_0x124357][_0x2483e8(0x260)](_0x3e5f69),_0x33bf71;},{}),_0x280c95=Object['values'](_0x1dad45)[_0x509289(0x291)](_0x3880a2=>{var _0x346850=_0x509289;const _0x59f543=_0x3880a2[0x0],_0x76faf6=_0x3880a2[0x1]||{},_0x12ceae=_0x3880a2[0x2]||{};function _0x4a44f0(_0x4958a8,_0x2c6d89,_0x2a521c){var _0x3e15c4=_0x2125;if(!_0x4958a8||!Array[_0x3e15c4(0x258)](_0x4958a8[_0x3e15c4(0x1e6)]))return'';const _0x1d0368=_0x4958a8[_0x3e15c4(0x1e6)]['find'](_0x149509=>_0x149509[_0x3e15c4(0x238)]===_0x2c6d89);return _0x1d0368?_0x1d0368[_0x2a521c]:'';}return{'id':_0x59f543[_0x346850(0x19d)],'setItemType':_0x59f543[_0x346850(0x25a)],'setCodProducto':_0x59f543[_0x346850(0x16e)],'setDescripcion':_0x59f543['setDescripcion'],'setItemDescription':_0x59f543['setItemDescription'],'setItemIsSold':_0x59f543[_0x346850(0x264)],'setItemIsBought':_0x59f543['setItemIsBought'],'setCategoria':_0x59f543['setCategoria'],'setMarca':_0x59f543[_0x346850(0x293)],'setTaxId':_0x59f543[_0x346850(0x1ed)],'setUnitId':_0x59f543['id'],'setItemBarCode':_0x59f543[_0x346850(0x239)],'setUnidadCodigo':_0x59f543[_0x346850(0x221)],'setItemUnitAlias':_0x59f543[_0x346850(0x1d1)]??'','PEN_setMtoPrecioUnitario':_0x4a44f0(_0x59f543,'PEN',_0x346850(0x269)),'PEN_setMtoPrecioCostoUnitario':_0x4a44f0(_0x59f543,_0x346850(0x1c5),_0x346850(0x198)),'USD_setMtoPrecioUnitario':_0x4a44f0(_0x59f543,'USD','setMtoPrecioUnitario'),'USD_setMtoPrecioCostoUnitario':_0x4a44f0(_0x59f543,_0x346850(0x285),_0x346850(0x198)),'setItemCommissionPercentage':_0x59f543[_0x346850(0x268)]?parseFloat(_0x59f543[_0x346850(0x268)]):'','setUnitId2':_0x76faf6['id']??'','setItemBarCode2':_0x76faf6[_0x346850(0x239)]??'','setUnidadCodigo2':_0x76faf6['setUnidadCodigo']??'','setItemUnitAlias2':_0x76faf6[_0x346850(0x1d1)]??'','setUnidadEquivalencia2':_0x76faf6[_0x346850(0x29b)]??'','PEN_setMtoPrecioUnitario2':_0x4a44f0(_0x76faf6,_0x346850(0x1c5),_0x346850(0x269))??'','PEN_setMtoPrecioCostoUnitario2':_0x4a44f0(_0x76faf6,'PEN','setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x4a44f0(_0x76faf6,_0x346850(0x285),_0x346850(0x269))??'','USD_setMtoPrecioCostoUnitario2':_0x4a44f0(_0x76faf6,'USD','setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage2':_0x76faf6[_0x346850(0x268)]?parseFloat(_0x76faf6[_0x346850(0x268)]):'','setUnitId3':_0x12ceae['id']??'','setItemBarCode3':_0x12ceae[_0x346850(0x239)]??'','setUnidadCodigo3':_0x12ceae['setUnidadCodigo']??'','setItemUnitAlias3':_0x12ceae[_0x346850(0x1d1)]??'','setUnidadEquivalencia3':_0x12ceae['setConversionFactor']??'','PEN_setMtoPrecioUnitario3':_0x4a44f0(_0x12ceae,_0x346850(0x1c5),_0x346850(0x269))??'','PEN_setMtoPrecioCostoUnitario3':_0x4a44f0(_0x12ceae,'PEN',_0x346850(0x198))??'','USD_setMtoPrecioUnitario3':_0x4a44f0(_0x12ceae,_0x346850(0x285),_0x346850(0x269))??'','USD_setMtoPrecioCostoUnitario3':_0x4a44f0(_0x12ceae,_0x346850(0x285),_0x346850(0x198))??'','setItemCommissionPercentage3':_0x12ceae[_0x346850(0x268)]?parseFloat(_0x12ceae[_0x346850(0x268)]):'','setInventariable':_0x59f543[_0x346850(0x16c)],'setSucursalStock':_0x4ac7f0==0x1?_0x59f543[_0x346850(0x296)][_0x346850(0x245)](_0x204dd6=>String(_0x204dd6[_0x346850(0x259)])==String(_0x4fd88c))['setSucursalStock']:'','setWarehouseStockMin':_0x4ac7f0==0x1?_0x59f543[_0x346850(0x296)][_0x346850(0x245)](_0x2fc0b9=>String(_0x2fc0b9[_0x346850(0x259)])==String(_0x4fd88c))[_0x346850(0x1bc)]:'','setBatchName':_0x59f543[_0x346850(0x278)],'setBatchExpirationDate':_0x59f543['setBatchExpirationDate'],..._0x59f543[_0x346850(0x274)]};});try{JSON[_0x509289(0x1aa)](_0x280c95);}catch(_0x3ed6d6){console[_0x509289(0x1fe)]('ERROR:\x20plainProducts\x20no\x20serializable:',_0x3ed6d6),ntfShow(_0x509289(0x15c));return;}statusDiv[_0x509289(0x1e3)]=_0x509289(0x192),progressBar[_0x509289(0x1d5)][_0x509289(0x1c6)]=_0x509289(0x1d8),progressBar['value']=0x0,itemWorker['postMessage']({'action':'exportItems','products':_0x280c95,'plantillaBuf':_0x6df807},[_0x6df807]);}catch(_0x13d09c){console[_0x509289(0x1fe)](_0x13d09c),ntfShow(_0x509289(0x1e0)+_0x13d09c['message']);}}itemWorker[_0x2adf4c(0x1e4)]=({data:_0x3a7d4a})=>{var _0x598cc6=_0x2adf4c;const {type:_0x28cca0,payload:_0x5378d5}=_0x3a7d4a;_0x28cca0==='progress'&&(progressBar[_0x598cc6(0x1d5)]['display']='block',progressBar[_0x598cc6(0x23b)]=_0x5378d5[_0x598cc6(0x16d)],statusDiv['textContent']=_0x5378d5['message']);_0x28cca0===_0x598cc6(0x1ef)&&(newItemsExcel=_0x5378d5[_0x598cc6(0x292)],statusDiv[_0x598cc6(0x1e3)]='\x20'+newItemsExcel['length']+_0x598cc6(0x26d),uploadBtn[_0x598cc6(0x1b0)]=![],progressBar[_0x598cc6(0x23b)]=0x64,console[_0x598cc6(0x208)](newItemsExcel));_0x28cca0===_0x598cc6(0x1fe)&&(statusDiv[_0x598cc6(0x1e3)]=_0x598cc6(0x273)+_0x5378d5,progressBar[_0x598cc6(0x1d5)][_0x598cc6(0x1c6)]='none');if(_0x28cca0==='exportDone'){const {wbout:_0x5a90c5,count:_0x4af5a6}=_0x5378d5,_0x502414=new Blob([_0x5a90c5],{'type':'application/octet-stream'}),_0x49d1be=URL['createObjectURL'](_0x502414),_0xdfa0bf=document[_0x598cc6(0x207)]('a'),_0x25b58a=new Date()['toISOString']()['slice'](0x0,0xa);_0xdfa0bf[_0x598cc6(0x23d)]='Plantilla-Items-Export-'+_0x25b58a+_0x598cc6(0x277),_0xdfa0bf[_0x598cc6(0x17f)]=_0x49d1be,_0xdfa0bf['click'](),URL['revokeObjectURL'](_0x49d1be),statusDiv[_0x598cc6(0x1e3)]=_0x598cc6(0x1f1)+_0x4af5a6+_0x598cc6(0x1d6),progressBar['style'][_0x598cc6(0x1c6)]=_0x598cc6(0x1d2);}},fileInput['addEventListener']('change',async _0x25ea1a=>{var _0x2e6554=_0x2adf4c;const _0x4dcffc=_0x25ea1a[_0x2e6554(0x275)]['files'][0x0];if(!_0x4dcffc)return;uploadBtn[_0x2e6554(0x1b0)]=!![],newItemsExcel=null,statusDiv[_0x2e6554(0x1e3)]='',progressBar[_0x2e6554(0x1d5)][_0x2e6554(0x1c6)]=_0x2e6554(0x1d2),dropZone[_0x2e6554(0x27f)](_0x2e6554(0x1ff))[_0x2e6554(0x1e3)]=_0x4dcffc['name'],removeBtn[_0x2e6554(0x288)]=![];try{const _0x10ce4b=await _0x4dcffc['arrayBuffer']();itemWorker[_0x2e6554(0x215)]({'action':_0x2e6554(0x262),'buf':_0x10ce4b,'maxRows':0x1388});}catch(_0x28313d){statusDiv[_0x2e6554(0x1e3)]=_0x2e6554(0x222);}finally{fileInput[_0x2e6554(0x23b)]='';}}),uploadBtn['addEventListener']('click',async()=>{var _0x57c2c5=_0x2adf4c;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x194b3e=document[_0x57c2c5(0x175)](_0x57c2c5(0x1bd))[_0x57c2c5(0x23b)],_0x4bb79c=[];newItemsExcel[_0x57c2c5(0x1a0)](_0x43d89b=>{var _0x457d34=_0x57c2c5;const _0x1b32e1=Boolean(_0x43d89b['setItemId']),_0xc46917=_0x1b32e1?_0x43d89b[_0x457d34(0x272)]:generateNumericUniqId();_0x43d89b['setItemWarehouses']=[{'setStockInitial':_0x43d89b[_0x457d34(0x19e)],'setStockMinimum':_0x43d89b[_0x457d34(0x282)],'setWarehouseCode':_0x194b3e}],_0x43d89b[_0x457d34(0x28e)][_0x457d34(0x1a0)](_0x2bb300=>{var _0x568493=_0x457d34;const _0x21d3c8=Boolean(_0x2bb300['setItemUnitId']),_0x3bb1ff=_0x21d3c8?_0x2bb300[_0x568493(0x21f)]:generateNumericUniqId();_0x2bb300[_0x568493(0x21f)]=_0x3bb1ff;const _0x3141a4=[];_0x3141a4[_0x568493(0x260)]({'currency':_0x568493(0x1c5),'setMtoPrecioCostoUnitario':_0x2bb300[_0x568493(0x1ea)],'setMtoPrecioUnitario':_0x2bb300[_0x568493(0x1e8)],'setPriceLists':[]});const _0x1bc4d5=_0x2bb300[_0x568493(0x299)]!=null&&_0x2bb300[_0x568493(0x1ae)]!=null&&(!isNaN(_0x2bb300['setCostUSD'])||!isNaN(_0x2bb300['setPriceUSD']));_0x1bc4d5&&_0x3141a4['push']({'currency':_0x568493(0x285),'setMtoPrecioCostoUnitario':_0x2bb300[_0x568493(0x299)],'setMtoPrecioUnitario':_0x2bb300[_0x568493(0x1ae)],'setPriceLists':[]});const _0x448d6e={'id':_0x3bb1ff,'setIdProducto':_0xc46917,'setItemBarCode':_0x2bb300['setItemBarCode'],'setCodProducto':_0x43d89b[_0x568493(0x204)],'setDescripcion':_0x43d89b[_0x568493(0x1af)],'setItemDescription':_0x43d89b[_0x568493(0x1cc)],'setBatchExpirationDate':_0x43d89b['setItemDateExpiry'],'setBatchName':_0x43d89b[_0x568493(0x278)],'setItemIsSold':_0x43d89b[_0x568493(0x264)],'setItemIsBought':_0x43d89b['setItemIsBought'],'setCategoria':_0x43d89b[_0x568493(0x236)][0x0]||'','setMarca':_0x43d89b[_0x568493(0x1a1)][0x0]||'','setConversionFactor':parseFloat(_0x2bb300[_0x568493(0x26f)]),'setImages':[],'setImg':_0x568493(0x205),'setInventariable':_0x43d89b[_0x568493(0x27e)],'setPorcentajeIgv':_0x43d89b[_0x568493(0x199)],'setPrinters':[],'setTaxId':_0x43d89b['setItemTaxId'],'setTipAfeIgv':_0x43d89b['setItemTaxCode'],'setUnidad':_0x2bb300[_0x568493(0x2a7)],'setUnidadCodigo':_0x2bb300[_0x568493(0x2a7)],'setItemUnitAlias':_0x2bb300[_0x568493(0x284)],'setItemCommissionPercentage':_0x2bb300[_0x568493(0x268)],'currency_data':_0x3141a4,'sucursales':_0x43d89b['setItemWarehouses'][_0x568493(0x291)](_0xd3444f=>({'setIdSucursal':_0xd3444f['setWarehouseCode'],'setSucursalStock':_0xd3444f[_0x568493(0x19e)][_0x568493(0x1c8)](),'setWarehouseStockMin':_0xd3444f[_0x568493(0x282)]['toString']()})),'setItemFree':_0x43d89b['setItemFree'],'setItemBrands':_0x43d89b[_0x568493(0x1a1)][_0x568493(0x1fc)](),'setItemCategories':_0x43d89b[_0x568493(0x236)][_0x568493(0x1fc)](),'setItemComponents':_0x43d89b[_0x568493(0x176)][_0x568493(0x291)](_0x11d7dc=>({..._0x11d7dc})),'setItemImages':_0x43d89b[_0x568493(0x281)][_0x568493(0x1fc)](),'setItemVariantName':_0x43d89b[_0x568493(0x29c)],'setItemVariantValues':{..._0x43d89b[_0x568493(0x274)]}},_0x299d83=products['findIndex'](_0x384ccf=>_0x384ccf['id']==_0x3bb1ff&&_0x384ccf[_0x568493(0x19d)]==_0xc46917);_0x299d83>-0x1?Object[_0x568493(0x234)](products[_0x299d83],_0x448d6e):_0x4bb79c['push'](_0x448d6e);});}),console[_0x57c2c5(0x208)](_0x57c2c5(0x1c9),newItemsExcel),await finalizeImport(_0x4bb79c,newItemsExcel,!![]);});function initializeFormImages(){var _0x47e646=_0x2adf4c;currentImages=Array(MAX_IMAGES)['fill'](null),imgC['innerHTML']='',baseItem[_0x47e646(0x281)]=[];for(var _0x4a9bc4=0x0;_0x4a9bc4<MAX_IMAGES;_0x4a9bc4++){(function(_0x10ff70){var _0x2bd8e0=_0x47e646,_0x2cedb1=document['createElement'](_0x2bd8e0(0x1e5));_0x2cedb1[_0x2bd8e0(0x24a)]='image_box',_0x2cedb1[_0x2bd8e0(0x20a)][_0x2bd8e0(0x1fd)]=_0x10ff70;var _0x16fad4=document[_0x2bd8e0(0x207)]('input');_0x16fad4['type']=_0x2bd8e0(0x1ee),_0x16fad4[_0x2bd8e0(0x220)]=_0x2bd8e0(0x1f8),_0x16fad4[_0x2bd8e0(0x1d5)]['display']=_0x2bd8e0(0x1d2);var _0x192116=document[_0x2bd8e0(0x207)](_0x2bd8e0(0x218));_0x192116[_0x2bd8e0(0x1e3)]='+',_0x2cedb1[_0x2bd8e0(0x17b)](_0x16fad4),_0x2cedb1[_0x2bd8e0(0x17b)](_0x192116),imgC[_0x2bd8e0(0x17b)](_0x2cedb1),_0x2cedb1[_0x2bd8e0(0x194)]('click',function(){_0x16fad4['click']();}),_0x16fad4[_0x2bd8e0(0x194)](_0x2bd8e0(0x1b3),function(_0x51578c){var _0x4f72ad=_0x2bd8e0,_0x20acf6=_0x51578c['target'][_0x4f72ad(0x1c7)][0x0];if(!_0x20acf6)return removeImg(_0x10ff70);var _0x3d4003=new FileReader();_0x3d4003['onload']=function(_0xdf874a){var _0x1a049e=_0x4f72ad;_0x2cedb1[_0x1a049e(0x247)]=_0x1a049e(0x2a4)+_0xdf874a['target'][_0x1a049e(0x227)]+'\x22>';var _0x5e38af=document[_0x1a049e(0x207)](_0x1a049e(0x218));_0x5e38af[_0x1a049e(0x24a)]='remove',_0x5e38af[_0x1a049e(0x1e3)]='',_0x5e38af[_0x1a049e(0x194)](_0x1a049e(0x178),function(_0x2a2da5){var _0x154eeb=_0x1a049e;_0x2a2da5[_0x154eeb(0x1b5)](),removeImg(_0x10ff70);}),_0x2cedb1['appendChild'](_0x5e38af),currentImages[_0x10ff70]=_0x20acf6,baseItem[_0x1a049e(0x281)]=currentImages[_0x1a049e(0x233)](function(_0x44871b){return _0x44871b;});},_0x3d4003[_0x4f72ad(0x179)](_0x20acf6);});}(_0x4a9bc4));}}function initializeFormIsSoldIsBought(_0x164b70=0x0){var _0xfd79c1=_0x2adf4c;let _0x398f4c,_0x39f2b8;if(_0x164b70!=0x0){const _0x482a2b=products['find'](_0x5a0d46=>_0x5a0d46['id']==_0x164b70);_0x398f4c=_0x482a2b['setItemIsBought']==0x1||_0x482a2b[_0xfd79c1(0x212)]==!![]?!![]:![],_0x39f2b8=_0x482a2b[_0xfd79c1(0x264)]==0x1||_0x482a2b[_0xfd79c1(0x264)]==!![]?!![]:![];}else _0x398f4c=!![],_0x39f2b8=!![];document[_0xfd79c1(0x175)](_0xfd79c1(0x22c))[_0xfd79c1(0x27d)]=_0x398f4c,document[_0xfd79c1(0x175)]('newItem_chk_sell')[_0xfd79c1(0x27d)]=_0x39f2b8,baseItem[_0xfd79c1(0x212)]=_0x398f4c,baseItem[_0xfd79c1(0x264)]=_0x39f2b8;}function initializeFormInputsBasic(_0x5d2c8f=0x0){var _0x32de30=_0x2adf4c;let _0x4d9c05,_0x3d60a8,_0x2277d8,_0x41ea49,_0x2198bb,_0x1560a2;if(_0x5d2c8f!=0x0){const _0x1b2e04=products[_0x32de30(0x245)](_0x2d9c49=>_0x2d9c49['id']==_0x5d2c8f);_0x4d9c05=_0x1b2e04[_0x32de30(0x25a)]??'1',_0x3d60a8=_0x1b2e04['setCodProducto'],_0x2277d8=_0x1b2e04[_0x32de30(0x28a)],_0x41ea49=_0x1b2e04['setItemDescription'],_0x2198bb=_0x1b2e04[_0x32de30(0x209)]??'',_0x1560a2=_0x1b2e04[_0x32de30(0x239)];}else _0x4d9c05='1',_0x3d60a8=getNextCode(products),_0x2277d8='',_0x41ea49='',_0x2198bb='',_0x1560a2='';document[_0x32de30(0x175)](_0x32de30(0x1a2))[_0x32de30(0x23b)]=_0x4d9c05,document[_0x32de30(0x175)](_0x32de30(0x1cd))['value']=_0x3d60a8,document[_0x32de30(0x175)](_0x32de30(0x244))['value']=_0x2277d8,document[_0x32de30(0x175)](_0x32de30(0x20e))[_0x32de30(0x23b)]=_0x41ea49,document['getElementById'](_0x32de30(0x1ca))[_0x32de30(0x23b)]=_0x2198bb,document[_0x32de30(0x175)](_0x32de30(0x21b))['value']=_0x1560a2,baseItem[_0x32de30(0x25a)]=_0x4d9c05,baseItem[_0x32de30(0x204)]=_0x3d60a8,baseItem['setItemName']=_0x2277d8,baseItem[_0x32de30(0x1cc)]=_0x41ea49,baseItem[_0x32de30(0x257)]=_0x2198bb,baseItem[_0x32de30(0x239)]=_0x1560a2,document['getElementById'](_0x32de30(0x19f))[_0x32de30(0x27d)]=![];}function initializeFormTax(_0x15c937=0x0){var _0x468e15=_0x2adf4c;let _0x3713bd;if(_0x15c937!=0x0){const _0x14446f=products[_0x468e15(0x245)](_0x4b41e3=>_0x4b41e3['id']==_0x15c937);_0x3713bd=_0x14446f['setTaxId'];}else _0x3713bd=myCompany[_0x468e15(0x173)];const _0x4ac585=document[_0x468e15(0x175)](_0x468e15(0x24e));_0x4ac585[_0x468e15(0x23b)]=_0x3713bd,baseItem[_0x468e15(0x23a)]=_0x3713bd;const _0x1967a9=company[0x0]['setImpuestos'][_0x468e15(0x245)](_0x3473d8=>_0x3473d8[_0x468e15(0x1ed)]==_0x3713bd)?.['setImpuestoCode']||0x0,_0x414674=company[0x0]['setImpuestos'][_0x468e15(0x245)](_0x1d5a91=>_0x1d5a91[_0x468e15(0x1ed)]==_0x3713bd)?.[_0x468e15(0x23e)]||0x0;baseItem[_0x468e15(0x184)]=_0x1967a9,baseItem[_0x468e15(0x199)]=_0x414674;}function initializeFormCategoriesBrands(_0x19f1ba=0x0){var _0x3397be=_0x2adf4c;baseItem[_0x3397be(0x236)]=[],baseItem[_0x3397be(0x1a1)]=[],document[_0x3397be(0x27f)]('#newItem_categories_select\x20.selected_tags')[_0x3397be(0x247)]='',document[_0x3397be(0x27f)](_0x3397be(0x250))[_0x3397be(0x247)]='',document[_0x3397be(0x27f)](_0x3397be(0x1d3))[_0x3397be(0x247)]='',document[_0x3397be(0x27f)](_0x3397be(0x26c))[_0x3397be(0x247)]='';const _0x4a28a5=myCompany['setItemCategories'][_0x3397be(0x291)](_0x16d9e5=>({'setCode':_0x16d9e5[_0x3397be(0x15e)],'setName':_0x16d9e5[_0x3397be(0x15e)]})),_0x113bf6=myCompany[_0x3397be(0x1a1)][_0x3397be(0x291)](_0x23e54d=>({'setCode':_0x23e54d[_0x3397be(0x185)],'setName':_0x23e54d[_0x3397be(0x185)]}));initMulti('newItem_categories_select',_0x4a28a5),initMulti(_0x3397be(0x1ab),_0x113bf6),document[_0x3397be(0x175)](_0x3397be(0x1c1))[_0x3397be(0x194)](_0x3397be(0x20d),function(_0x4dae81){var _0x150025=_0x3397be;baseItem[_0x150025(0x236)]=_0x4dae81[_0x150025(0x189)][_0x150025(0x291)](_0x54eaab=>_0x54eaab[_0x150025(0x1f5)]);}),document[_0x3397be(0x175)](_0x3397be(0x1ab))['addEventListener'](_0x3397be(0x20d),function(_0x1d2d91){var _0x3012e4=_0x3397be;baseItem[_0x3012e4(0x1a1)]=_0x1d2d91[_0x3012e4(0x189)]['map'](_0x599efa=>_0x599efa[_0x3012e4(0x1f5)]);});if(_0x19f1ba!=0x0){const _0x64e980=products['find'](_0x457524=>_0x457524['id']==_0x19f1ba);if(_0x64e980[_0x3397be(0x17d)]){const _0x3db61a=document[_0x3397be(0x175)](_0x3397be(0x1c1)),_0x884823=Array[_0x3397be(0x2a0)](_0x3db61a[_0x3397be(0x1fa)](_0x3397be(0x1e1)))[_0x3397be(0x245)](_0xc9be2=>_0xc9be2['dataset']['code']==_0x64e980[_0x3397be(0x17d)]);_0x884823&&_0x884823['click']();}if(_0x64e980['setMarca']){const _0x4a5504=document[_0x3397be(0x175)](_0x3397be(0x1ab)),_0x483a9d=Array[_0x3397be(0x2a0)](_0x4a5504[_0x3397be(0x1fa)](_0x3397be(0x1e1)))['find'](_0x1ae7f5=>_0x1ae7f5[_0x3397be(0x20a)][_0x3397be(0x223)]==_0x64e980[_0x3397be(0x293)]);_0x483a9d&&_0x483a9d['click']();}}}function initializeFormUnits(){var _0x277577=_0x2adf4c;unitCount=0x0,document[_0x277577(0x175)](_0x277577(0x1e9))['innerHTML']='',baseItem[_0x277577(0x28e)]=[];var _0x500f02=uniqueValuesArray('setUnitCode',_0x277577(0x202),myCompany['setUnits']);addUnit('',_0x500f02[0x3a]&&_0x500f02[0x3a][_0x277577(0x1f5)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x56b534=_0x2adf4c;prodC['innerHTML']='',baseItem[_0x56b534(0x176)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x1dd241=_0x2adf4c;branchesC[_0x1dd241(0x247)]='',baseItem[_0x1dd241(0x251)]=[];const _0x560a9d=getAllWarehouses();_0x560a9d[_0x1dd241(0x1a0)](function(_0x20d33a){var _0x14a959=_0x1dd241,_0x3cff96=document[_0x14a959(0x207)](_0x14a959(0x1e5));_0x3cff96[_0x14a959(0x247)]=_0x14a959(0x231)+'<div\x20class=\x22newItem_col\x22>'+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x20d33a['setWarehouseId']+_0x14a959(0x16f)+_0x20d33a[_0x14a959(0x228)]+_0x14a959(0x1bf)+_0x14a959(0x28c)+'<div\x20class=\x22newItem_col\x22>'+_0x14a959(0x183)+_0x20d33a[_0x14a959(0x1bd)]+'\x22>'+_0x14a959(0x28c)+_0x14a959(0x1de)+_0x14a959(0x254)+_0x20d33a[_0x14a959(0x1bd)]+'\x22>'+_0x14a959(0x28c)+'</div>',branchesC[_0x14a959(0x17b)](_0x3cff96),_0x3cff96['querySelectorAll'](_0x14a959(0x29e))['forEach'](function(_0x511c1a){var _0x10315e=_0x14a959;_0x511c1a['addEventListener'](_0x10315e(0x29e),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x3726b9=_0x2adf4c;baseItem[_0x3726b9(0x29c)]='',baseItem[_0x3726b9(0x274)]={},vgC[_0x3726b9(0x247)]='',varContainer[_0x3726b9(0x247)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x316fc1,_0x3b03a9,_0x243f8b=![]){var _0x4ee315=_0x2adf4c;const _0xca28b=0xc8,_0x223d01={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0][_0x4ee315(0x20f)],'setWebhook':company[0x0][_0x4ee315(0x193)]};for(let _0x32fef5=0x0;_0x32fef5<_0x3b03a9[_0x4ee315(0x187)];_0x32fef5+=_0xca28b){const _0x6f81e8=_0x3b03a9[_0x4ee315(0x1fc)](_0x32fef5,_0x32fef5+_0xca28b);await storeOfflineProduct({..._0x223d01,'newItems':_0x6f81e8});}products['push'](..._0x316fc1),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x4ee315(0x26e)),_0x243f8b?(fileInput[_0x4ee315(0x23b)]='',uploadBtn[_0x4ee315(0x1b0)]=!![],statusDiv['textContent']='',progressBar['style'][_0x4ee315(0x1c6)]='none',progressBar[_0x4ee315(0x23b)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}