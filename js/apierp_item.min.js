/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.7
*/

var _0x3ac7cc=_0x15ad;(function(_0x53f3a5,_0x5d4d46){var _0x4f8b1e=_0x15ad,_0x49cbe9=_0x53f3a5();while(!![]){try{var _0x4ae663=-parseInt(_0x4f8b1e(0x1ac))/0x1+parseInt(_0x4f8b1e(0x1ca))/0x2+parseInt(_0x4f8b1e(0x19e))/0x3+parseInt(_0x4f8b1e(0x26e))/0x4*(-parseInt(_0x4f8b1e(0x270))/0x5)+parseInt(_0x4f8b1e(0x2a8))/0x6+parseInt(_0x4f8b1e(0x2cd))/0x7+parseInt(_0x4f8b1e(0x288))/0x8*(-parseInt(_0x4f8b1e(0x26f))/0x9);if(_0x4ae663===_0x5d4d46)break;else _0x49cbe9['push'](_0x49cbe9['shift']());}catch(_0x4190aa){_0x49cbe9['push'](_0x49cbe9['shift']());}}}(_0x4a05,0x36310));var _0x187c8e=(function(){var _0x494d50=!![];return function(_0x3c4feb,_0x585eea){var _0x2f7001=_0x494d50?function(){var _0x3d453f=_0x15ad;if(_0x585eea){var _0x4ba889=_0x585eea[_0x3d453f(0x2c8)](_0x3c4feb,arguments);return _0x585eea=null,_0x4ba889;}}:function(){};return _0x494d50=![],_0x2f7001;};}()),_0x3903cb=_0x187c8e(this,function(){var _0x3f54f8=_0x15ad;return _0x3903cb[_0x3f54f8(0x1dc)]()[_0x3f54f8(0x1f9)](_0x3f54f8(0x216))[_0x3f54f8(0x1dc)]()['constructor'](_0x3903cb)[_0x3f54f8(0x1f9)](_0x3f54f8(0x216));});_0x3903cb();function _0x4a05(){var _0x5f00f3=['setItemWarehouses','exportItems','setCostUSD','setItemDescription','newItem_proditems_container','change','inputItemTax','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','\x20items\x20procesados.','.drop-zone__prompt','./excel/Plantilla-Items.xlsx','revokeObjectURL','.removeCombo','search','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','add','classList','No\x20hay\x20items\x20para\x20exportar.','input','setWarehouseCode','newItem_addToCart','blur','test','filter','newItem_hidden','image/*','setImpuestoValue','vals','display','style','dragover','setCodProducto','accept','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setUnits','setItemImages','setItemCode','.costInput','done','setWarehouseName','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','(((.+)+)+)+$','dragenter','.xlsx','option','.prodQty','idx','slice','newItem_categories_select','.branchChk','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','default','setItemBarCode','setItemUnitId','setWarehouseId','.branchInit','assign','.options_list\x20div','.unitSelect','dataTransfer','appendChild','postMessage','inputItemType','selectionChange','setInventariable','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','string','length','innerHTML','btnItemSave','textContent','Producto\x20Libre','setItemCategories','bind','onerror','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','Producto\x20Guardado\x20Offline\x20Correctamente.','setItemType','name','arrayBuffer','error','selected','push','Items\x20finales:','setItemDateExpiry','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','currentTarget','entries','none','.removeProd','setCantidad','.addVariantUnit','newItem_units_container','_comp_container','setTaxIdDefault','Ingresa\x20el\x20c贸digo\x20del\x20item','code','setUnitCode','_branch_container','setIdSucursal','setSucursalStock','forEach','.priceInput','querySelectorAll','findIndex','newItem_branches_container','setCost','fill','files','splice','.removeUnit','windowId','./img/product.png','#newItem_categories_select\x20.selected_tags','setAlias','setPrice','Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar','.ms_input','setPriceUSD','application/octet-stream','setUnidadCodigo','tag','block','.selected_tags','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','newItem_images_container','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','[data-idx=\x22','stopPropagation','32444CLiNME','81tqnMPv','190NMJIMJ','setBatchExpirationDate','setItemBrands','setMoneda','setImpuestoCode','import','drop','setItemVariantValues','children','setIdProducto','</div>','flatMap','newItem_variants_forms','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','setItemFree','join','sort','exception','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','setItemUnits','drop-zone','Error\x20al\x20obtener\x20la\x20plantilla:\x20','find','\x22\x20class=\x22branchChk\x22\x20checked>\x20','253112YKDBLJ','.unitAlias','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','file-input','.branchMin','Error\x20al\x20guardar\x20Producto\x20Offline:','toISOString','keydown','setImpuestos','modalProductNewTitle','Enter','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','detail','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','.variantExpiry','.addVariantComp','true','oncomplete','productType1','unitSelect','.eqInput','now','match','remove-file','createObjectURL','inputItemDescription','Nuevo\x20Producto','setFactor','addEventListener','setItemTaxCode','newItem_chk_sell','className','1082136UNrYAm','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','closeModalCreateItem','detalleModalCreateItem','costInput','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','parse','.prod_input_container','active','createElement','USD','#newItem_branches_container\x20>\x20div','objectStore','some','setBatchName','return\x20(function()\x20','setName','target','values','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','setItemInventoriable','setAuthToken','readwrite','setMtoPrecioCostoUnitario','every','result','inputItemName','./js/apierp_item_wk.min.js','hidden','table','closest','\x22\x20value=\x22','apply','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setItemName','querySelector','\x20Error:\x20','3055752qmXwnf','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','prototype','key','</label>','preventDefault','file','undefined','btnExportarItems','getElementById','Ingresa\x20el\x20nombre\x20del\x20item','setCategoria','dataset','setItemComponents','newItem_title_table','setTaxId','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','.prodInput','setConversionFactor','style=\x22display:none\x22','padStart','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setItemTaxId','div[data-default=\x22true\x22]\x20.eqInput','[id$=\x22_comp_container\x22]','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setDefault','log','span','newItem_brands_select','image_box','currency_data','setStockMinimum','#newItem_brands_select\x20.options_list','683499ROmlwm','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','trim','from','{}.constructor(\x22return\x20this\x22)(\x20)','newItem_btn_addVariantGroup','focus','value','newItem_title_table_cp','modalOverlayCreateItem','100','parentNode','selectedItem','#newItem_brands_select\x20.selected_tags','48327DXomvy','setUnitName','newItem_chk_buy','console','setMtoPrecioUnitario','base','getElementsByClassName','download','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','.variantForm','.variantCode','setItemVariantName','div','Collator','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','split','priceInput','.vgName','setCode','<div\x20class=\x22newItem_col\x22>','.removeGroup','indexOf','type','click','variant_','dragleave','progress','.vgVals','inputItemBarCode','remove','37078RUFVPP','variantForm','setItemIsBought','toLowerCase','setWebhook','#newItem_categories_select\x20.options_list','PEN','setDescripcion','max','inputItemDateExpiry','#newItem_units_container\x20>\x20div','compare','\x20items.','inputItemCode','setStockInitial','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','toggle','setMarca','toString','setItemIsSold','_units_container','setItemTaxValue','\x20Exportaci贸n\x20completada:\x20','setItemId','ERROR:\x20plainProducts\x20no\x20serializable:','map','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','\x22\x20class=\x22branchChk\x22>\x20','disabled','checked','sucursales','Plantilla-Items-Export-','setEquivalence','status'];_0x4a05=function(){return _0x5f00f3;};return _0x4a05();}var _0x4b8006=(function(){var _0x5ca4dc=!![];return function(_0x154df0,_0x5cb172){var _0x47b590=_0x5ca4dc?function(){if(_0x5cb172){var _0x5b9b70=_0x5cb172['apply'](_0x154df0,arguments);return _0x5cb172=null,_0x5b9b70;}}:function(){};return _0x5ca4dc=![],_0x47b590;};}()),_0xdb489e=_0x4b8006(this,function(){var _0x5c153c=_0x15ad,_0x4eb037;try{var _0xa1fee6=Function(_0x5c153c(0x2b7)+_0x5c153c(0x1a2)+');');_0x4eb037=_0xa1fee6();}catch(_0x8fda42){_0x4eb037=window;}var _0x146b9d=_0x4eb037[_0x5c153c(0x1af)]=_0x4eb037[_0x5c153c(0x1af)]||{},_0x212304=['log','warn','info',_0x5c153c(0x23d),_0x5c153c(0x281),_0x5c153c(0x2c5),'trace'];for(var _0xec3594=0x0;_0xec3594<_0x212304[_0x5c153c(0x230)];_0xec3594++){var _0x34e251=_0x4b8006['constructor'][_0x5c153c(0x17e)]['bind'](_0x4b8006),_0xf8ddc4=_0x212304[_0xec3594],_0x3c94b7=_0x146b9d[_0xf8ddc4]||_0x34e251;_0x34e251['__proto__']=_0x4b8006[_0x5c153c(0x236)](_0x4b8006),_0x34e251[_0x5c153c(0x1dc)]=_0x3c94b7[_0x5c153c(0x1dc)]['bind'](_0x3c94b7),_0x146b9d[_0xf8ddc4]=_0x34e251;}});_0xdb489e();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x3ac7cc(0x185)](_0x3ac7cc(0x26a)),unitCount=0x0,branchesC=document[_0x3ac7cc(0x185)](_0x3ac7cc(0x256)),prodC=document['getElementById'](_0x3ac7cc(0x1f0)),vgCount=0x0,varContainer=document[_0x3ac7cc(0x185)](_0x3ac7cc(0x27c)),vgC=document[_0x3ac7cc(0x185)]('newItem_variant_groups');const fileInput=document[_0x3ac7cc(0x185)](_0x3ac7cc(0x28b)),progressBar=document[_0x3ac7cc(0x185)](_0x3ac7cc(0x1c6)),statusDiv=document[_0x3ac7cc(0x185)](_0x3ac7cc(0x1eb)),uploadBtn=document[_0x3ac7cc(0x185)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x3ac7cc(0x2c3)),dropZone=document[_0x3ac7cc(0x185)](_0x3ac7cc(0x284)),removeBtn=document[_0x3ac7cc(0x185)](_0x3ac7cc(0x29f));function showModalCreateItem(_0x56d002){var _0x4f4893=_0x3ac7cc;const _0x275fb6=document[_0x4f4893(0x185)](_0x4f4893(0x2ab)),_0x3071f6=document[_0x4f4893(0x185)]('modalOverlayCreateItem');_0x275fb6[_0x4f4893(0x1fd)][_0x4f4893(0x1fc)](_0x4f4893(0x2b0)),_0x3071f6['style'][_0x4f4893(0x209)]=_0x4f4893(0x267);const _0x2ca6bc=document[_0x4f4893(0x185)](_0x4f4893(0x27e));_0x2ca6bc[_0x4f4893(0x1a5)]=parseInt(_0x56d002),baseItem[_0x4f4893(0x27e)]=parseInt(_0x56d002);const _0x5ab3d2=document[_0x4f4893(0x185)](_0x4f4893(0x291));_0x56d002==0x0&&(_0x5ab3d2[_0x4f4893(0x231)]=_0x4f4893(0x2a2));_0x56d002==0x1&&(_0x5ab3d2[_0x4f4893(0x231)]=_0x4f4893(0x234));const _0x51c162=document[_0x4f4893(0x1b2)](_0x4f4893(0x29a));for(let _0x49b1e3=0x0;_0x49b1e3<_0x51c162[_0x4f4893(0x230)];_0x49b1e3++){const _0x2845cb=_0x51c162[_0x49b1e3];if(_0x56d002==0x0)_0x2845cb[_0x4f4893(0x1fd)]['remove'](_0x4f4893(0x2c4));else _0x56d002==0x1&&_0x2845cb[_0x4f4893(0x1fd)][_0x4f4893(0x1fc)](_0x4f4893(0x2c4));}}function hideModalCreateItem(){var _0x1e81d1=_0x3ac7cc;const _0x27b223=document['getElementById'](_0x1e81d1(0x2ab)),_0x262ce6=document[_0x1e81d1(0x185)](_0x1e81d1(0x1a7));_0x27b223[_0x1e81d1(0x1fd)][_0x1e81d1(0x1c9)]('active'),_0x262ce6[_0x1e81d1(0x20a)]['display']=_0x1e81d1(0x245);}document[_0x3ac7cc(0x185)](_0x3ac7cc(0x2aa))[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1c3),hideModalCreateItem),document['getElementById']('modalOverlayCreateItem')[_0x3ac7cc(0x2a4)]('click',_0x1c0f0a=>{var _0xf21b2c=_0x3ac7cc;_0x1c0f0a[_0xf21b2c(0x2b9)]==_0x1c0f0a[_0xf21b2c(0x243)]&&_0x1c0f0a[_0xf21b2c(0x26d)]();});function loadTaxData(){var _0x5b4b24=_0x3ac7cc;const _0x3d1ecb=document[_0x5b4b24(0x185)]('inputItemTax');_0x3d1ecb[_0x5b4b24(0x231)]='',company[0x0][_0x5b4b24(0x290)][_0x5b4b24(0x252)](function(_0x169dad){var _0x51c7b0=_0x5b4b24;const _0x5d5ec7=document[_0x51c7b0(0x2b1)](_0x51c7b0(0x219));_0x5d5ec7[_0x51c7b0(0x1a5)]=_0x169dad['setTaxId'],_0x5d5ec7[_0x51c7b0(0x231)]=_0x169dad['setImpuestoName']+'\x20('+_0x169dad['setImpuestoValue']+'%)',_0x169dad[_0x51c7b0(0x18b)]==company[0x0][_0x51c7b0(0x24b)]&&(_0x5d5ec7[_0x51c7b0(0x23e)]=!![]),_0x3d1ecb[_0x51c7b0(0x229)](_0x5d5ec7);});}function uniqueValuesArray(_0x126617,_0x58a308,_0x6ee94f){var _0x222e60=_0x3ac7cc;const _0x59f091=Array[_0x222e60(0x1a1)](new Set(_0x6ee94f[_0x222e60(0x1e3)](_0x4e888a=>{var _0x5b096d=_0x222e60;const _0x145e9e=_0x4e888a[_0x126617];return typeof _0x145e9e===_0x5b096d(0x22f)?_0x145e9e[_0x5b096d(0x1a0)]():_0x145e9e;})[_0x222e60(0x204)](_0x346005=>_0x346005!=null&&_0x346005!=='')));return _0x59f091[_0x222e60(0x1e3)](_0x4242fc=>{var _0x5a972d=_0x222e60;const _0x4ca179=_0x6ee94f[_0x5a972d(0x286)](_0x99125d=>_0x99125d[_0x126617]===_0x4242fc),_0x464f30=_0x4ca179&&_0x4ca179[_0x58a308]!=null?String(_0x4ca179[_0x58a308])[_0x5a972d(0x1a0)]():_0x4242fc;return{'setCode':_0x4242fc,'setName':_0x464f30};});}function fillSelect(_0x9ad98a,_0x4311d8,_0x1e184d,_0x28b9e3){var _0x34053f=_0x3ac7cc;_0x9ad98a[_0x34053f(0x231)]='',_0x4311d8[_0x34053f(0x252)](function(_0x4e707e){var _0x533fb6=new Option(_0x4e707e[_0x28b9e3],_0x4e707e[_0x1e184d]);_0x9ad98a['add'](_0x533fb6);});}function initMulti(_0x233066,_0x26710e){var _0x1ae6ed=_0x3ac7cc,_0x1dc7f4=document[_0x1ae6ed(0x185)](_0x233066),_0x183648=_0x1dc7f4[_0x1ae6ed(0x2cb)](_0x1ae6ed(0x262)),_0x214765=_0x1dc7f4['querySelector']('.options_list'),_0x30627b=_0x1dc7f4[_0x1ae6ed(0x2cb)](_0x1ae6ed(0x268)),_0x43e7c8=_0x26710e['slice'](),_0x2b0cb8=[];function _0x27ad5e(){var _0x1f43e8=_0x1ae6ed;_0x214765[_0x1f43e8(0x231)]='',_0x43e7c8['filter'](function(_0x983d96){var _0x1d39a1=_0x1f43e8;return _0x983d96[_0x1d39a1(0x2b8)][_0x1d39a1(0x1cd)]()[_0x1d39a1(0x1c1)](_0x183648[_0x1d39a1(0x1a5)][_0x1d39a1(0x1cd)]())!==-0x1;})['forEach'](function(_0x3a91d1){var _0x5cc8d3=_0x1f43e8,_0x54c6ed=document['createElement'](_0x5cc8d3(0x1b8));_0x54c6ed['textContent']=_0x3a91d1[_0x5cc8d3(0x2b8)],_0x54c6ed['dataset']['code']=_0x3a91d1[_0x5cc8d3(0x1be)],_0x214765[_0x5cc8d3(0x229)](_0x54c6ed),_0x54c6ed[_0x5cc8d3(0x2a4)](_0x5cc8d3(0x1c3),function(){var _0x282390=_0x5cc8d3;_0x2b0cb8[_0x282390(0x23f)](_0x3a91d1),_0x43e7c8[_0x282390(0x25a)](_0x43e7c8['findIndex'](function(_0x51393f){return _0x51393f['setCode']===_0x3a91d1['setCode'];}),0x1),_0x183648['value']='',_0x258eee(),_0x27ad5e();});});}function _0x258eee(){var _0x254d91=_0x1ae6ed;_0x30627b[_0x254d91(0x231)]='',_0x2b0cb8[_0x254d91(0x252)](function(_0x1630ee){var _0x24f226=_0x254d91,_0x16ae92=document[_0x24f226(0x2b1)](_0x24f226(0x1b8));_0x16ae92[_0x24f226(0x2a7)]=_0x24f226(0x266),_0x16ae92[_0x24f226(0x233)]=_0x1630ee['setName'];var _0x1ff8ea=document[_0x24f226(0x2b1)]('span');_0x1ff8ea[_0x24f226(0x2a7)]='remove-tag',_0x1ff8ea[_0x24f226(0x233)]='',_0x1ff8ea[_0x24f226(0x2a4)](_0x24f226(0x1c3),function(){var _0x90a9a1=_0x24f226;_0x43e7c8[_0x90a9a1(0x23f)](_0x1630ee);const _0x569d45=_0x2b0cb8['findIndex'](function(_0x4e1d42){var _0x5f35d1=_0x90a9a1;return _0x4e1d42[_0x5f35d1(0x1be)]===_0x1630ee[_0x5f35d1(0x1be)];});if(_0x569d45>-0x1)_0x2b0cb8[_0x90a9a1(0x25a)](_0x569d45,0x1);_0x258eee(),_0x27ad5e();}),_0x16ae92['appendChild'](_0x1ff8ea),_0x30627b['appendChild'](_0x16ae92);}),_0x1dc7f4['dispatchEvent'](new CustomEvent('selectionChange',{'detail':_0x2b0cb8,'bubbles':!![]}));}return _0x183648[_0x1ae6ed(0x2a4)](_0x1ae6ed(0x1a4),function(){var _0x3c593d=_0x1ae6ed;_0x214765['classList']['remove'](_0x3c593d(0x205));}),_0x183648['addEventListener'](_0x1ae6ed(0x1ff),_0x27ad5e),_0x183648['addEventListener'](_0x1ae6ed(0x28f),function(_0x4eedd1){var _0x235a30=_0x1ae6ed;if(_0x4eedd1[_0x235a30(0x17f)]===_0x235a30(0x292)){_0x4eedd1[_0x235a30(0x181)]();const _0x5db300=_0x183648['value'][_0x235a30(0x1a0)]();if(!_0x5db300)return;const _0x1b27f3=_0x2b0cb8['some'](_0x2e9d4c=>_0x2e9d4c[_0x235a30(0x2b8)]===_0x5db300),_0x5aa49=_0x43e7c8[_0x235a30(0x2b5)](_0x4abb08=>_0x4abb08['setName']===_0x5db300);if(!_0x1b27f3&&!_0x5aa49){const _0x39a16a={'setCode':_0x5db300,'setName':_0x5db300};_0x2b0cb8['push'](_0x39a16a),_0x258eee(),_0x27ad5e();}_0x183648[_0x235a30(0x1a5)]='';}}),document[_0x1ae6ed(0x2a4)](_0x1ae6ed(0x1c3),function(_0x4d5ce5){var _0x24465f=_0x1ae6ed;if(!_0x1dc7f4['contains'](_0x4d5ce5[_0x24465f(0x2b9)]))_0x214765['classList'][_0x24465f(0x1fc)](_0x24465f(0x205));}),_0x27ad5e(),_0x2b0cb8;}function getLastCode(_0x2922da){var _0x59a374=_0x3ac7cc;const _0x1ad6d7=_0x2922da[_0x59a374(0x1e3)](_0x597eda=>String(_0x597eda[_0x59a374(0x20c)])[_0x59a374(0x1a0)]())['filter'](_0x2fa479=>_0x2fa479!=='');if(_0x1ad6d7[_0x59a374(0x230)]===0x0)return'';const _0x3330fa=_0x1ad6d7[_0x59a374(0x2c0)](_0x1439d9=>/^\d+$/[_0x59a374(0x203)](_0x1439d9));if(_0x3330fa){const _0xeea112=_0x1ad6d7[_0x59a374(0x1e3)](Number),_0x31cdcb=Math[_0x59a374(0x1d2)](..._0xeea112);return String(_0x31cdcb);}let _0x1b1b59;if(typeof Intl!==_0x59a374(0x183)&&Intl[_0x59a374(0x1b9)]){const _0x6083aa=new Intl[(_0x59a374(0x1b9))](undefined,{'numeric':!![],'sensitivity':_0x59a374(0x1b1)});_0x1b1b59=_0x1ad6d7[_0x59a374(0x21c)]()[_0x59a374(0x280)](_0x6083aa[_0x59a374(0x1d5)]);}else{const _0x4e491a=_0x1ad6d7[_0x59a374(0x2c0)](_0x4b4a82=>/^\d+$/[_0x59a374(0x203)](_0x4b4a82));_0x4e491a?_0x1b1b59=_0x1ad6d7['map'](Number)['sort']((_0x2644f8,_0x53ffc0)=>_0x2644f8-_0x53ffc0)[_0x59a374(0x1e3)](String):_0x1b1b59=_0x1ad6d7[_0x59a374(0x21c)]()[_0x59a374(0x280)]();}return _0x1b1b59[_0x1b1b59['length']-0x1];}function getNextCode(_0x112f9a){var _0xb942ab=_0x3ac7cc;const _0x5e0dd4=getLastCode(_0x112f9a);if(!_0x5e0dd4)return'';if(/^\d+$/['test'](_0x5e0dd4))return String(Number(_0x5e0dd4)+0x1);const _0x184232=_0x5e0dd4[_0xb942ab(0x29e)](/^([A-Za-z]*)(\d+)$/);if(_0x184232){const [,_0x38bcd2,_0x212cea]=_0x184232,_0xbcdeab=String(Number(_0x212cea)+0x1)[_0xb942ab(0x190)](_0x212cea[_0xb942ab(0x230)],'0');return _0x38bcd2+_0xbcdeab;}return _0x5e0dd4;}document[_0x3ac7cc(0x185)](_0x3ac7cc(0x2c2))[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1ff),function(_0x5a8f07){var _0x1bf4a1=_0x3ac7cc;baseItem[_0x1bf4a1(0x2ca)]=_0x5a8f07['target']['value'];}),document['getElementById'](_0x3ac7cc(0x2a1))[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1ff),function(_0x3bb773){var _0x32cef3=_0x3ac7cc;baseItem[_0x32cef3(0x1ef)]=_0x3bb773['target'][_0x32cef3(0x1a5)];}),document[_0x3ac7cc(0x185)](_0x3ac7cc(0x1d3))[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1ff),function(_0x56bddf){var _0x5509e1=_0x3ac7cc;baseItem[_0x5509e1(0x241)]=_0x56bddf[_0x5509e1(0x2b9)][_0x5509e1(0x1a5)];}),document['getElementById'](_0x3ac7cc(0x22b))[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1f1),function(_0x3e333f){var _0x411ecf=_0x3ac7cc;baseItem[_0x411ecf(0x23a)]=_0x3e333f[_0x411ecf(0x2b9)][_0x411ecf(0x1a5)];}),document[_0x3ac7cc(0x185)](_0x3ac7cc(0x1f2))['addEventListener']('change',function(_0x546cb3){var _0x1dcb98=_0x3ac7cc;baseItem['setItemTaxId']=_0x546cb3[_0x1dcb98(0x2b9)][_0x1dcb98(0x1a5)];const _0x373470=_0x546cb3[_0x1dcb98(0x2b9)][_0x1dcb98(0x1a5)],_0xec48e9=company[0x0][_0x1dcb98(0x290)][_0x1dcb98(0x286)](_0x5bb490=>_0x5bb490['setTaxId']==_0x373470)?.[_0x1dcb98(0x274)]||0x0,_0x596268=company[0x0][_0x1dcb98(0x290)]['find'](_0x2e5f5c=>_0x2e5f5c[_0x1dcb98(0x18b)]==_0x373470)?.[_0x1dcb98(0x207)]||0x0;baseItem[_0x1dcb98(0x2a5)]=_0xec48e9,baseItem['setItemTaxValue']=_0x596268;}),document[_0x3ac7cc(0x185)](_0x3ac7cc(0x1ae))[_0x3ac7cc(0x2a4)]('change',function(_0x3a4784){var _0x4c33a5=_0x3ac7cc;baseItem[_0x4c33a5(0x1cc)]=_0x3a4784[_0x4c33a5(0x2b9)][_0x4c33a5(0x1e7)];}),document[_0x3ac7cc(0x185)](_0x3ac7cc(0x2a6))[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1f1),function(_0x3777db){var _0x5d99b5=_0x3ac7cc;baseItem[_0x5d99b5(0x1dd)]=_0x3777db['target'][_0x5d99b5(0x1e7)];}),document[_0x3ac7cc(0x185)](_0x3ac7cc(0x1d7))['addEventListener'](_0x3ac7cc(0x1ff),function(_0x3c5ad0){var _0x2c72a3=_0x3ac7cc;baseItem[_0x2c72a3(0x211)]=_0x3c5ad0[_0x2c72a3(0x2b9)][_0x2c72a3(0x1a5)];}),document[_0x3ac7cc(0x185)](_0x3ac7cc(0x1c8))[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1ff),function(_0x2202f9){var _0x135736=_0x3ac7cc;baseItem[_0x135736(0x221)]=_0x2202f9[_0x135736(0x2b9)]['value'];}),document['getElementById']('newItem_btn_addUnit')['addEventListener'](_0x3ac7cc(0x1c3),function(){addUnit(),updateUnitsArray();}),document[_0x3ac7cc(0x185)](_0x3ac7cc(0x1d7))[_0x3ac7cc(0x2a4)]('blur',function(){var _0x357271=_0x3ac7cc;const _0x3524df=this[_0x357271(0x1a5)][_0x357271(0x1a0)]();if(_0x3524df==='')return;const _0x2e9390=products['some'](_0x2d81f4=>_0x2d81f4[_0x357271(0x20c)]==_0x3524df),_0x299d43=getLastCode(products);_0x2e9390?ntfShow(_0x357271(0x282)+_0x299d43,0x2,0x1):ntfShow('隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!',0x1,0x1);});function removeImg(_0x89dd5){var _0x5c3f49=_0x3ac7cc;currentImages[_0x89dd5]=null;var _0x3c86f2=imgC[_0x5c3f49(0x2cb)](_0x5c3f49(0x26c)+_0x89dd5+'\x22]');_0x3c86f2[_0x5c3f49(0x231)]='';var _0x33fb34=document[_0x5c3f49(0x2b1)](_0x5c3f49(0x1ff));_0x33fb34[_0x5c3f49(0x1c2)]='file',_0x33fb34[_0x5c3f49(0x20d)]=_0x5c3f49(0x206),_0x33fb34[_0x5c3f49(0x20a)][_0x5c3f49(0x209)]=_0x5c3f49(0x245);var _0x34edb9=document[_0x5c3f49(0x2b1)]('span');_0x34edb9[_0x5c3f49(0x233)]='+',_0x3c86f2['appendChild'](_0x33fb34),_0x3c86f2[_0x5c3f49(0x229)](_0x34edb9),_0x3c86f2[_0x5c3f49(0x2a4)]('click',function(){_0x33fb34['click']();}),baseItem['setItemImages']=currentImages[_0x5c3f49(0x204)](function(_0x55b4e4){return _0x55b4e4;});}function addUnit(_0x499034,_0x40d72e,_0x56856b,_0x390376,_0x4fd0a5,_0x1e7113,_0x47537e){var _0x2e9704=_0x3ac7cc,_0x2cf2ef=uniqueValuesArray(_0x2e9704(0x24e),_0x2e9704(0x1ad),myCompany[_0x2e9704(0x20f)]);_0x499034=_0x499034||'',_0x40d72e=_0x40d72e||_0x2cf2ef[0x3a]&&_0x2cf2ef[0x3a][_0x2e9704(0x1be)]||'',_0x56856b=_0x56856b!==undefined?_0x56856b:0x1,_0x390376=!!_0x390376,_0x4fd0a5=_0x4fd0a5||'',_0x1e7113=_0x1e7113||'';var _0x144ff2=unitCount++,_0x3f34da=document[_0x2e9704(0x2b1)](_0x2e9704(0x1b8));_0x3f34da[_0x2e9704(0x188)][_0x2e9704(0x21b)]=_0x144ff2,_0x3f34da[_0x2e9704(0x188)][_0x2e9704(0x220)]=_0x390376,_0x3f34da[_0x2e9704(0x231)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x144ff2+_0x2e9704(0x2c7)+_0x499034+_0x2e9704(0x295)+_0x144ff2+_0x2e9704(0x1ba)+_0x144ff2+_0x2e9704(0x2c7)+_0x56856b+'\x22\x20'+(_0x390376?'disabled':'')+_0x2e9704(0x1e4)+_0x144ff2+_0x2e9704(0x2c7)+_0x4fd0a5+_0x2e9704(0x27d)+_0x144ff2+_0x2e9704(0x2c7)+_0x1e7113+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x390376?_0x2e9704(0x18f):'')+_0x2e9704(0x19f),fillSelect(_0x3f34da[_0x2e9704(0x2cb)](_0x2e9704(0x227)),_0x2cf2ef,_0x2e9704(0x1be),'setName'),_0x3f34da[_0x2e9704(0x2cb)](_0x2e9704(0x227))[_0x2e9704(0x1a5)]=_0x40d72e,['unitAlias',_0x2e9704(0x29b),'eqInput',_0x2e9704(0x1bc),_0x2e9704(0x2ac)]['forEach'](function(_0x2103e9){var _0x2f46d1=_0x2e9704;_0x3f34da['querySelector']('.'+_0x2103e9)[_0x2f46d1(0x2a4)](_0x2f46d1(0x1ff),function(){var _0x3d0525=_0x2f46d1,_0x2612b3=_0x47537e?+_0x47537e['id'][_0x3d0525(0x1bb)]('_')[0x1]:null;if(_0x47537e)updateVariantUnits(_0x2612b3);else updateUnitsArray();});}),_0x3f34da[_0x2e9704(0x2cb)](_0x2e9704(0x25b))[_0x2e9704(0x2a4)](_0x2e9704(0x1c3),function(){var _0x2b5e2c=_0x2e9704;_0x3f34da[_0x2b5e2c(0x1c9)]();var _0x174f17=_0x47537e?+_0x47537e['id'][_0x2b5e2c(0x1bb)]('_')[0x1]:null;if(_0x47537e)updateVariantUnits(_0x174f17);else updateUnitsArray();});var _0x21cd89=_0x47537e||document['getElementById'](_0x2e9704(0x249));_0x21cd89[_0x2e9704(0x229)](_0x3f34da);}function containerIdx(_0x1057f7){var _0x5a9f9a=_0x3ac7cc;return+_0x1057f7['id'][_0x5a9f9a(0x1bb)]('_')[0x1];}function updateUnitsArray(){var _0x40aee4=_0x3ac7cc,_0x331475=[],_0x3ac823=Array[_0x40aee4(0x1a1)](document[_0x40aee4(0x254)](_0x40aee4(0x1d4))),_0x2e6bfe=_0x3ac823[_0x40aee4(0x286)](_0x312da7=>_0x312da7['dataset'][_0x40aee4(0x220)]===_0x40aee4(0x298)),_0x20dbd1=_0x2e6bfe?+_0x2e6bfe[_0x40aee4(0x2cb)](_0x40aee4(0x29c))[_0x40aee4(0x1a5)]:0x1;_0x3ac823[_0x40aee4(0x252)](function(_0x415822){var _0x43f045=_0x40aee4,_0x303a4c=+_0x415822[_0x43f045(0x2cb)]('.eqInput')[_0x43f045(0x1a5)]||0x0,_0x2aca4f=+_0x415822['querySelector']('.priceInput')[_0x43f045(0x1a5)]||0x0,_0x296cba=+_0x415822[_0x43f045(0x2cb)](_0x43f045(0x212))[_0x43f045(0x1a5)]||0x0;_0x331475[_0x43f045(0x23f)]({'setAlias':_0x415822['querySelector'](_0x43f045(0x289))[_0x43f045(0x1a5)][_0x43f045(0x1a0)](),'setUnitCode':_0x415822[_0x43f045(0x2cb)]('.unitSelect')[_0x43f045(0x1a5)],'setEquivalence':_0x303a4c,'setFactor':_0x415822[_0x43f045(0x188)][_0x43f045(0x220)]===_0x43f045(0x298)?0x1:_0x303a4c==_0x20dbd1?0x1:_0x303a4c<_0x20dbd1?_0x20dbd1/_0x303a4c:_0x303a4c/_0x20dbd1,'setPrice':_0x2aca4f,'setCost':_0x296cba,'setDefault':_0x415822[_0x43f045(0x188)][_0x43f045(0x220)]==='true'?0x1:0x0});}),baseItem[_0x40aee4(0x283)]=_0x331475;}function updateBranches(){var _0x166b14=_0x3ac7cc,_0x3216b5=[];document[_0x166b14(0x254)](_0x166b14(0x2b3))['forEach'](function(_0x22713b){var _0x9bc2c5=_0x166b14,_0x2cddcd=_0x22713b[_0x9bc2c5(0x2cb)](_0x9bc2c5(0x21e));if(_0x2cddcd[_0x9bc2c5(0x1e7)]){var _0x265c42=+_0x2cddcd[_0x9bc2c5(0x188)]['id'],_0x4f7566=+_0x22713b[_0x9bc2c5(0x2cb)]('.branchInit')[_0x9bc2c5(0x1a5)],_0x354a9e=+_0x22713b[_0x9bc2c5(0x2cb)](_0x9bc2c5(0x28c))[_0x9bc2c5(0x1a5)];_0x3216b5[_0x9bc2c5(0x23f)]({'setWarehouseCode':_0x265c42,'setStockInitial':_0x4f7566,'setStockMinimum':_0x354a9e});}}),baseItem[_0x166b14(0x1ec)]=_0x3216b5;}document['getElementById']('newItem_btn_addProdItem')[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1c3),function(){var _0x290922=_0x3ac7cc,_0x5db3d4=Date[_0x290922(0x29d)](),_0x4147b4=document[_0x290922(0x2b1)](_0x290922(0x1b8));_0x4147b4[_0x290922(0x188)][_0x290922(0x21b)]=_0x5db3d4,_0x4147b4[_0x290922(0x231)]=_0x290922(0x26b)+_0x5db3d4+_0x290922(0x21f)+_0x5db3d4+_0x290922(0x1b4),prodC[_0x290922(0x229)](_0x4147b4),initProdSearch(_0x4147b4[_0x290922(0x2cb)](_0x290922(0x2af))),_0x4147b4['querySelector'](_0x290922(0x246))['addEventListener'](_0x290922(0x1c3),function(){var _0x27cb5d=_0x290922;_0x4147b4[_0x27cb5d(0x1c9)](),updateProdItems();}),_0x4147b4[_0x290922(0x2cb)](_0x290922(0x21a))['addEventListener'](_0x290922(0x1ff),updateProdItems),document[_0x290922(0x185)](_0x290922(0x1a6))['classList'][_0x290922(0x1da)](_0x290922(0x18a),!![]),document[_0x290922(0x185)](_0x290922(0x1a6))['classList']['toggle'](_0x290922(0x205),![]);});function initProdSearch(_0x45dd6c,_0x58be13){var _0x41ee61=_0x3ac7cc,_0x1b94b0=_0x45dd6c[_0x41ee61(0x2cb)](_0x41ee61(0x18d)),_0x2c99e5=_0x45dd6c[_0x41ee61(0x2cb)]('.options_list'),_0x2831c0=_0x58be13||null;if(_0x58be13)_0x1b94b0[_0x41ee61(0x1a5)]=_0x58be13['name'];_0x1b94b0[_0x41ee61(0x2a4)](_0x41ee61(0x1ff),function(){var _0x1a58bd=_0x41ee61,_0x281cf4=_0x1b94b0[_0x1a58bd(0x1a5)][_0x1a58bd(0x1cd)]()[_0x1a58bd(0x1a0)]();_0x2c99e5['innerHTML']='';if(!_0x281cf4)return;products[_0x1a58bd(0x204)](_0x4423dd=>_0x4423dd[_0x1a58bd(0x1d1)]['toLowerCase']()['includes'](_0x281cf4))[_0x1a58bd(0x21c)](0x0,0x14)[_0x1a58bd(0x252)](function(_0x129a38){var _0x36ff22=_0x1a58bd,_0x531940=document[_0x36ff22(0x2b1)](_0x36ff22(0x1b8));_0x531940['textContent']=_0x129a38[_0x36ff22(0x1d1)],_0x531940[_0x36ff22(0x188)]['id']=_0x129a38['id'],_0x531940[_0x36ff22(0x188)]['name']=_0x129a38[_0x36ff22(0x1d1)],_0x2c99e5[_0x36ff22(0x229)](_0x531940),_0x531940[_0x36ff22(0x2a4)]('click',function(){var _0x30dafa=_0x36ff22;_0x2831c0={'id':_0x129a38['id'],'name':_0x129a38[_0x30dafa(0x1d1)]},_0x1b94b0[_0x30dafa(0x1a5)]=_0x129a38[_0x30dafa(0x1d1)],_0x2c99e5[_0x30dafa(0x231)]='';var _0x2332e2=_0x45dd6c[_0x30dafa(0x2c6)](_0x30dafa(0x194));if(_0x2332e2){var _0x42b52d=+_0x2332e2['id'][_0x30dafa(0x1bb)]('_')[0x1];updateVariantComponents(_0x42b52d);}else updateProdItems();});});}),_0x1b94b0[_0x41ee61(0x2a4)](_0x41ee61(0x1a4),function(){var _0x1c4e0d=_0x41ee61;_0x2c99e5['classList'][_0x1c4e0d(0x1c9)](_0x1c4e0d(0x205));}),document['addEventListener'](_0x41ee61(0x1c3),function(_0x13ee7b){var _0x35d799=_0x41ee61;if(!_0x45dd6c['contains'](_0x13ee7b[_0x35d799(0x2b9)]))_0x2c99e5['classList'][_0x35d799(0x1fc)](_0x35d799(0x205));}),Object['defineProperty'](_0x45dd6c,_0x41ee61(0x1aa),{'get':()=>_0x2831c0});}function updateProdItems(){var _0x500ff5=_0x3ac7cc,_0x349701=[];Array[_0x500ff5(0x1a1)](prodC[_0x500ff5(0x278)])[_0x500ff5(0x252)](function(_0x2f1c98){var _0x1bb525=_0x500ff5,_0x36cd08=_0x2f1c98['querySelector'](_0x1bb525(0x2af));if(!_0x36cd08)return;var _0x3642ab=_0x2f1c98[_0x1bb525(0x2cb)](_0x1bb525(0x21a)),_0x123527=_0x36cd08[_0x1bb525(0x1aa)];_0x123527&&_0x349701[_0x1bb525(0x23f)]({'setItemId':_0x123527['id'],'setDescripcion':_0x123527[_0x1bb525(0x23b)],'setCantidad':+_0x3642ab[_0x1bb525(0x1a5)]});}),baseItem[_0x500ff5(0x189)]=_0x349701,_0x349701[_0x500ff5(0x230)]===0x0&&(document['getElementById']('newItem_title_table_cp')[_0x500ff5(0x1fd)]['toggle'](_0x500ff5(0x18a),![]),document[_0x500ff5(0x185)](_0x500ff5(0x1a6))[_0x500ff5(0x1fd)][_0x500ff5(0x1da)](_0x500ff5(0x205),!![]));}document['getElementById'](_0x3ac7cc(0x1a3))[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1c3),function(){var _0x396721=_0x3ac7cc,_0x3183db=vgCount++,_0x5bccff=document[_0x396721(0x2b1)]('div');_0x5bccff[_0x396721(0x188)][_0x396721(0x21b)]=_0x3183db,_0x5bccff[_0x396721(0x231)]=_0x396721(0x242)+_0x3183db+'\x22>'+_0x396721(0x195)+_0x3183db+'\x22>'+_0x396721(0x2c9),vgC[_0x396721(0x229)](_0x5bccff),_0x5bccff['querySelector'](_0x396721(0x1bd))[_0x396721(0x2a4)](_0x396721(0x202),generateVariants),_0x5bccff[_0x396721(0x2cb)](_0x396721(0x1c7))[_0x396721(0x2a4)]('blur',generateVariants),_0x5bccff[_0x396721(0x2cb)](_0x396721(0x1c0))[_0x396721(0x2a4)]('click',function(){var _0x517be8=_0x396721;_0x5bccff[_0x517be8(0x1c9)](),generateVariants();});});function generateVariants(){var _0x4297ee=_0x3ac7cc,_0x31dca5=[];vgC[_0x4297ee(0x254)]('div')[_0x4297ee(0x252)](function(_0x3726ac){var _0x58b4a0=_0x4297ee,_0x30090a=_0x3726ac[_0x58b4a0(0x2cb)](_0x58b4a0(0x1bd))[_0x58b4a0(0x1a5)][_0x58b4a0(0x1a0)](),_0x38cd0f=_0x3726ac['querySelector'](_0x58b4a0(0x1c7))[_0x58b4a0(0x1a5)][_0x58b4a0(0x1bb)](',')[_0x58b4a0(0x1e3)](_0x27a060=>_0x27a060[_0x58b4a0(0x1a0)]())[_0x58b4a0(0x204)](_0x2890a4=>_0x2890a4);if(_0x30090a&&_0x38cd0f[_0x58b4a0(0x230)])_0x31dca5[_0x58b4a0(0x23f)]({'name':_0x30090a,'vals':_0x38cd0f});});var _0x3696c5=[{}];_0x31dca5[_0x4297ee(0x252)](function(_0x3ed522){var _0x3de864=_0x4297ee;_0x3696c5=_0x3696c5[_0x3de864(0x27b)](function(_0x216ac5){var _0x90cb3c=_0x3de864;return _0x3ed522[_0x90cb3c(0x208)][_0x90cb3c(0x1e3)](function(_0x3cb828){var _0x14df7e=Object['assign']({},_0x216ac5);return _0x14df7e[_0x3ed522['name']]=_0x3cb828,_0x14df7e;});});}),newItems=[],varContainer[_0x4297ee(0x231)]='',_0x3696c5[_0x4297ee(0x252)](function(_0x42a3eb,_0x5f17ce){var _0xf2d263=_0x4297ee,_0x34e806=JSON[_0xf2d263(0x2ae)](JSON['stringify'](baseItem));_0x34e806[_0xf2d263(0x277)]=_0x42a3eb,_0x34e806[_0xf2d263(0x1b7)]=baseItem[_0xf2d263(0x2ca)]+'\x20'+Object[_0xf2d263(0x244)](_0x42a3eb)[_0xf2d263(0x1e3)](_0x4a5166=>_0x4a5166[0x0]+'\x20'+_0x4a5166[0x1])[_0xf2d263(0x27f)]('\x20'),newItems[_0xf2d263(0x23f)](_0x34e806);var _0x2795a5=document[_0xf2d263(0x2b1)](_0xf2d263(0x1b8));_0x2795a5[_0xf2d263(0x1fd)]['add'](_0xf2d263(0x1cb)),_0x2795a5[_0xf2d263(0x188)][_0xf2d263(0x21b)]=_0x5f17ce,_0x2795a5[_0xf2d263(0x231)]=_0xf2d263(0x28a)+_0x34e806['setItemVariantName']+_0xf2d263(0x2a9)+_0x34e806[_0xf2d263(0x211)]+_0xf2d263(0x2bb)+_0x34e806[_0xf2d263(0x221)]+_0xf2d263(0x18c)+_0x34e806['setItemDateExpiry']+_0xf2d263(0x191)+_0x5f17ce+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x5f17ce+_0xf2d263(0x269)+_0x5f17ce+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0xf2d263(0x229)](_0x2795a5),_0x2795a5[_0xf2d263(0x2cb)](_0xf2d263(0x1b6))[_0xf2d263(0x2a4)](_0xf2d263(0x1ff),_0x28d90a=>newItems[_0x5f17ce][_0xf2d263(0x211)]=_0x28d90a[_0xf2d263(0x2b9)][_0xf2d263(0x1a5)]),_0x2795a5[_0xf2d263(0x2cb)]('.variantBarCode')[_0xf2d263(0x2a4)]('input',_0x32fb5d=>newItems[_0x5f17ce][_0xf2d263(0x221)]=_0x32fb5d['target'][_0xf2d263(0x1a5)]),_0x2795a5[_0xf2d263(0x2cb)](_0xf2d263(0x296))['addEventListener'](_0xf2d263(0x1f1),_0x18c8a9=>newItems[_0x5f17ce][_0xf2d263(0x241)]=_0x18c8a9[_0xf2d263(0x2b9)][_0xf2d263(0x1a5)]),initVariantUnits(_0x5f17ce),initVariantComponents(_0x5f17ce),initVariantBranches(_0x5f17ce),_0x2795a5['querySelector']('.removeVariant')['addEventListener'](_0xf2d263(0x1c3),function(){var _0xdd7044=_0xf2d263,_0x39fb26=+_0x2795a5[_0xdd7044(0x188)][_0xdd7044(0x21b)];newItems[_0xdd7044(0x25a)](_0x39fb26,0x1),_0x2795a5[_0xdd7044(0x1c9)](),document[_0xdd7044(0x254)](_0xdd7044(0x1b5))['forEach'](function(_0x1bd897,_0x17d972){var _0xc9371c=_0xdd7044;_0x1bd897[_0xc9371c(0x188)][_0xc9371c(0x21b)]=_0x17d972;});});});if(newItems[_0x4297ee(0x230)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0xf9f9cc){var _0x20495f=_0x3ac7cc,_0x2a1289=document[_0x20495f(0x185)](_0x20495f(0x1c4)+_0xf9f9cc+'_units_container'),_0xfae9f3=[];Array['from'](_0x2a1289[_0x20495f(0x278)])['forEach'](function(_0x4697fe){var _0x121e31=_0x20495f,_0x168f3b=+_0x4697fe[_0x121e31(0x2cb)](_0x121e31(0x29c))[_0x121e31(0x1a5)]||0x0,_0x547dfd=_0x4697fe['querySelector']('.unitAlias')[_0x121e31(0x1a5)][_0x121e31(0x1a0)](),_0x4ff03f=_0x4697fe['querySelector'](_0x121e31(0x227))[_0x121e31(0x1a5)],_0x28008c=+_0x4697fe['querySelector'](_0x121e31(0x253))[_0x121e31(0x1a5)]||0x0,_0x3cc743=+_0x4697fe['querySelector']('.costInput')[_0x121e31(0x1a5)]||0x0,_0x2eea62=_0x4697fe['dataset'][_0x121e31(0x220)]===_0x121e31(0x298),_0xe90484=+_0x2a1289['querySelector']('div[data-default=\x22true\x22]\x20.eqInput')[_0x121e31(0x1a5)]||0x1,_0x1d68e4=_0x2eea62?0x1:_0x168f3b==_0xe90484?0x1:_0x168f3b<_0xe90484?_0xe90484/_0x168f3b:_0x168f3b/_0xe90484;_0xfae9f3[_0x121e31(0x23f)]({'setAlias':_0x547dfd,'setUnitCode':_0x4ff03f,'setEquivalence':_0x168f3b,'setFactor':_0x1d68e4,'setPrice':_0x28008c,'setCost':_0x3cc743,'setDefault':_0x2eea62?0x1:0x0});}),newItems[_0xf9f9cc][_0x20495f(0x283)]=_0xfae9f3;}function initVariantUnits(_0x19feae){var _0xd0ebcf=_0x3ac7cc,_0x614d3b=document[_0xd0ebcf(0x185)](_0xd0ebcf(0x1c4)+_0x19feae+_0xd0ebcf(0x1de));_0x614d3b[_0xd0ebcf(0x231)]='',newItems[_0x19feae][_0xd0ebcf(0x283)][_0xd0ebcf(0x252)](function(_0x32d92d){var _0x1b79a3=_0xd0ebcf;addUnit(_0x32d92d[_0x1b79a3(0x25f)],_0x32d92d[_0x1b79a3(0x24e)],_0x32d92d[_0x1b79a3(0x1ea)],_0x32d92d[_0x1b79a3(0x196)],_0x32d92d[_0x1b79a3(0x260)],_0x32d92d['setCost'],_0x614d3b);}),_0x614d3b['parentNode'][_0xd0ebcf(0x2cb)](_0xd0ebcf(0x248))['addEventListener'](_0xd0ebcf(0x1c3),function(){addUnit('','',0x1,![],'','',_0x614d3b),updateVariantUnits(_0x19feae);});}function updateVariantUnits(_0x3278ca){var _0x20e9d2=_0x3ac7cc,_0x5ee8fb=document[_0x20e9d2(0x185)](_0x20e9d2(0x1c4)+_0x3278ca+_0x20e9d2(0x1de)),_0x4b6844=_0x5ee8fb[_0x20e9d2(0x2cb)](_0x20e9d2(0x193)),_0x4d32d9=_0x4b6844?+_0x4b6844[_0x20e9d2(0x1a5)]:0x1,_0x5af719=Array[_0x20e9d2(0x1a1)](_0x5ee8fb[_0x20e9d2(0x278)])[_0x20e9d2(0x1e3)](function(_0x94b5cd){var _0x37898b=_0x20e9d2,_0x153c93=_0x94b5cd[_0x37898b(0x2cb)](_0x37898b(0x289))[_0x37898b(0x1a5)][_0x37898b(0x1a0)](),_0x5c7f7b=_0x94b5cd['querySelector']('.unitSelect')[_0x37898b(0x1a5)],_0x12b304=+_0x94b5cd[_0x37898b(0x2cb)](_0x37898b(0x29c))[_0x37898b(0x1a5)]||0x0,_0x27870d=+_0x94b5cd[_0x37898b(0x2cb)](_0x37898b(0x253))[_0x37898b(0x1a5)]||0x0,_0x242d58=+_0x94b5cd[_0x37898b(0x2cb)](_0x37898b(0x212))[_0x37898b(0x1a5)]||0x0,_0xfda274=_0x94b5cd[_0x37898b(0x188)][_0x37898b(0x220)]===_0x37898b(0x298);return{'setAlias':_0x153c93,'setUnitCode':_0x5c7f7b,'setEquivalence':_0x12b304,'setFactor':_0xfda274?0x1:_0x12b304==_0x4d32d9?0x1:_0x12b304<_0x4d32d9?_0x4d32d9/_0x12b304:_0x12b304/_0x4d32d9,'setPrice':_0x27870d,'setCost':_0x242d58,'setDefault':_0xfda274?0x1:0x0};});newItems[_0x3278ca]['setItemUnits']=_0x5af719;}function _0x15ad(_0x26be1b,_0x54392a){var _0x2235d5=_0x4a05();return _0x15ad=function(_0xdb489e,_0x4b8006){_0xdb489e=_0xdb489e-0x17e;var _0x193600=_0x2235d5[_0xdb489e];return _0x193600;},_0x15ad(_0x26be1b,_0x54392a);}function initVariantComponents(_0x579562){var _0x2ea682=_0x3ac7cc,_0x1a3286=document[_0x2ea682(0x185)](_0x2ea682(0x1c4)+_0x579562+_0x2ea682(0x24a));_0x1a3286[_0x2ea682(0x231)]='',newItems[_0x579562]['setItemComponents'][_0x2ea682(0x252)](function(_0x226ae2){var _0x34eb01=_0x2ea682,_0x259068=document[_0x34eb01(0x2b1)](_0x34eb01(0x1b8)),_0x370107=Date[_0x34eb01(0x29d)]();_0x259068['dataset'][_0x34eb01(0x21b)]=_0x370107,_0x259068[_0x34eb01(0x231)]=_0x34eb01(0x1fa)+_0x370107+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x226ae2[_0x34eb01(0x247)]+_0x34eb01(0x1f3),_0x1a3286[_0x34eb01(0x229)](_0x259068),initProdSearch(_0x259068['querySelector'](_0x34eb01(0x2af)),{'id':_0x226ae2[_0x34eb01(0x1e1)],'name':_0x226ae2[_0x34eb01(0x1d1)]}),_0x259068[_0x34eb01(0x2cb)](_0x34eb01(0x21a))[_0x34eb01(0x2a4)](_0x34eb01(0x1ff),function(){updateVariantComponents(_0x579562);}),_0x259068['querySelector'](_0x34eb01(0x1f8))[_0x34eb01(0x2a4)](_0x34eb01(0x1c3),function(){var _0x56c1e9=_0x34eb01;_0x259068[_0x56c1e9(0x1c9)](),updateVariantComponents(_0x579562);});}),_0x1a3286[_0x2ea682(0x1a9)][_0x2ea682(0x2cb)](_0x2ea682(0x297))[_0x2ea682(0x2a4)](_0x2ea682(0x1c3),function(){var _0x276805=_0x2ea682,_0x4eaf24=document[_0x276805(0x2b1)](_0x276805(0x1b8)),_0x38a270=Date[_0x276805(0x29d)]();_0x4eaf24['dataset'][_0x276805(0x21b)]=_0x38a270,_0x4eaf24[_0x276805(0x231)]=_0x276805(0x1fa)+_0x38a270+_0x276805(0x238),_0x1a3286['appendChild'](_0x4eaf24),initProdSearch(_0x4eaf24[_0x276805(0x2cb)](_0x276805(0x2af))),_0x4eaf24[_0x276805(0x2cb)](_0x276805(0x21a))[_0x276805(0x2a4)](_0x276805(0x1ff),function(){updateVariantComponents(_0x579562);}),_0x4eaf24[_0x276805(0x2cb)]('.removeCombo')[_0x276805(0x2a4)](_0x276805(0x1c3),function(){var _0x862252=_0x276805;_0x4eaf24[_0x862252(0x1c9)](),updateVariantComponents(_0x579562);});});}function updateVariantComponents(_0x51bd59){var _0x1bcad2=_0x3ac7cc,_0x355e2b=document[_0x1bcad2(0x185)](_0x1bcad2(0x1c4)+_0x51bd59+_0x1bcad2(0x24a)),_0x2032ea=Array['from'](_0x355e2b[_0x1bcad2(0x278)])[_0x1bcad2(0x1e3)](function(_0x55afa8){var _0x4224b3=_0x1bcad2,_0xcec6be=_0x55afa8['querySelector'](_0x4224b3(0x2af)),_0x3a834e=_0xcec6be['selectedItem'],_0x294b13=+_0x55afa8[_0x4224b3(0x2cb)](_0x4224b3(0x21a))[_0x4224b3(0x1a5)]||0x0;return _0x3a834e?{'setItemId':_0x3a834e['id'],'setDescripcion':_0x3a834e[_0x4224b3(0x23b)],'setCantidad':_0x294b13}:null;})['filter'](_0x300a0e=>_0x300a0e);newItems[_0x51bd59]['setItemComponents']=_0x2032ea;}function initVariantBranches(_0x22712d){var _0x508245=_0x3ac7cc;const _0x54a14e=getAllWarehouses();var _0x29f8e1=document[_0x508245(0x185)](_0x508245(0x1c4)+_0x22712d+_0x508245(0x24f));_0x29f8e1[_0x508245(0x231)]='',newItems[_0x22712d]['setItemWarehouses']['forEach'](function(_0x4a46b7){var _0x23137c=_0x508245,_0xb335e6=_0x54a14e[_0x23137c(0x286)](_0x2b99d8=>_0x2b99d8[_0x23137c(0x223)]==_0x4a46b7[_0x23137c(0x200)]),_0x25e769=document['createElement'](_0x23137c(0x1b8));_0x25e769[_0x23137c(0x231)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x4a46b7['setWarehouseCode']+_0x23137c(0x287)+_0xb335e6[_0x23137c(0x214)]+_0x23137c(0x1fb)+_0x4a46b7[_0x23137c(0x200)]+_0x23137c(0x2c7)+_0x4a46b7[_0x23137c(0x1d8)]+_0x23137c(0x20e)+_0x4a46b7[_0x23137c(0x200)]+_0x23137c(0x2c7)+_0x4a46b7[_0x23137c(0x19c)]+'\x22>',_0x29f8e1[_0x23137c(0x229)](_0x25e769),_0x25e769[_0x23137c(0x254)](_0x23137c(0x1ff))['forEach'](function(_0x309d15){var _0x3c43dc=_0x23137c;_0x309d15[_0x3c43dc(0x2a4)](_0x3c43dc(0x1ff),function(){updateVariantBranches(_0x22712d);});});}),_0x54a14e[_0x508245(0x252)](function(_0x140324){var _0x5a253a=_0x508245;if(!newItems[_0x22712d][_0x5a253a(0x1ec)][_0x5a253a(0x286)](_0x61e151=>_0x61e151[_0x5a253a(0x200)]===_0x140324['setWarehouseId'])){var _0x5f0849=document[_0x5a253a(0x2b1)](_0x5a253a(0x1b8));_0x5f0849[_0x5a253a(0x231)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x140324[_0x5a253a(0x223)]+_0x5a253a(0x1e5)+_0x140324[_0x5a253a(0x214)]+_0x5a253a(0x1fb)+_0x140324['setWarehouseId']+_0x5a253a(0x20e)+_0x140324[_0x5a253a(0x223)]+'\x22>',_0x29f8e1[_0x5a253a(0x229)](_0x5f0849),_0x5f0849[_0x5a253a(0x254)](_0x5a253a(0x1ff))[_0x5a253a(0x252)](function(_0x128e3f){var _0x94bb6e=_0x5a253a;_0x128e3f[_0x94bb6e(0x2a4)](_0x94bb6e(0x1ff),function(){updateVariantBranches(_0x22712d);});});}});}function updateVariantBranches(_0x4ceeff){var _0x5818a7=_0x3ac7cc,_0xae33cb=document[_0x5818a7(0x185)](_0x5818a7(0x1c4)+_0x4ceeff+_0x5818a7(0x24f)),_0x2c56ad=[];_0xae33cb[_0x5818a7(0x254)](_0x5818a7(0x1b8))[_0x5818a7(0x252)](function(_0x3f58f5){var _0xf45c9f=_0x5818a7,_0x372288=_0x3f58f5[_0xf45c9f(0x2cb)](_0xf45c9f(0x21e));if(_0x372288[_0xf45c9f(0x1e7)]){var _0x36c548=+_0x372288[_0xf45c9f(0x188)]['id'],_0x2eba23=+_0x3f58f5[_0xf45c9f(0x2cb)](_0xf45c9f(0x224))['value']||0x0,_0x2ac5ff=+_0x3f58f5['querySelector']('.branchMin')['value']||0x0;_0x2c56ad[_0xf45c9f(0x23f)]({'setWarehouseCode':_0x36c548,'setStockInitial':_0x2eba23,'setStockMinimum':_0x2ac5ff});}}),newItems[_0x4ceeff][_0x5818a7(0x1ec)]=_0x2c56ad;}async function storeOfflineProduct(_0x1232ad){var _0x18f487=_0x3ac7cc;try{const _0x1c1595=await createCartStore(''),_0x429a3c=_0x1c1595['transaction']('offline_operations',_0x18f487(0x2be)),_0xc48b83=_0x429a3c[_0x18f487(0x2b4)]('offline_operations');_0xc48b83[_0x18f487(0x1fc)](_0x1232ad),_0x429a3c[_0x18f487(0x299)]=()=>{var _0x50937d=_0x18f487;console[_0x50937d(0x197)](_0x50937d(0x239));},_0x429a3c[_0x18f487(0x237)]=_0x473fdb=>{var _0x3ed132=_0x18f487;console['error'](_0x3ed132(0x28d),_0x473fdb['target'][_0x3ed132(0x23d)]);};}catch(_0x279095){console[_0x18f487(0x23d)]('Error\x20al\x20procesar\x20la\x20operaci贸n:',_0x279095);}}document[_0x3ac7cc(0x185)](_0x3ac7cc(0x232))['addEventListener'](_0x3ac7cc(0x1c3),async function(_0x251526){var _0x3b1711=_0x3ac7cc;_0x251526[_0x3b1711(0x181)]();const _0x3ce02b=document['getElementById'](_0x3b1711(0x1d7)),_0x36d5da=document[_0x3b1711(0x185)](_0x3b1711(0x27e))[_0x3b1711(0x1a5)];if(!_0x3ce02b[_0x3b1711(0x1a5)][_0x3b1711(0x1a0)]()&&_0x36d5da==0x0){ntfShow(_0x3b1711(0x24c),0x2,0x1);return;}_0x36d5da==0x1&&(_0x3ce02b[_0x3b1711(0x1a5)]='',baseItem['setItemCode']='');const _0x18d7ed=document[_0x3b1711(0x185)](_0x3b1711(0x2c2));if(!_0x18d7ed[_0x3b1711(0x1a5)]['trim']()){ntfShow(_0x3b1711(0x186),0x2,0x1);return;}const _0x52b9aa=document[_0x3b1711(0x185)](_0x3b1711(0x201));hideModalCreateItem(),showLoadingModal();newItems[_0x3b1711(0x230)]===0x0&&(newItems=[baseItem]);const _0x2f85ce=document[_0x3b1711(0x185)](_0x3b1711(0x25c))[_0x3b1711(0x1a5)],_0x3e28b0=window_options[_0x2f85ce][_0x3b1711(0x273)],_0x4b8d19=[];newItems[_0x3b1711(0x252)](_0x152fa2=>{var _0x1d8aea=_0x3b1711;const _0x39b709=generateNumericUniqId();_0x152fa2[_0x1d8aea(0x283)]['forEach'](_0x52bfa7=>{var _0x1551b5=_0x1d8aea;const _0x29213b=generateNumericUniqId();_0x52bfa7[_0x1551b5(0x222)]=_0x29213b;const _0x36bf8={'id':_0x29213b,'setIdProducto':_0x39b709,'setCodProducto':_0x152fa2['setItemCode'],'setDescripcion':_0x152fa2[_0x1551b5(0x2ca)],'setItemDescription':_0x152fa2[_0x1551b5(0x1ef)],'setBatchExpirationDate':_0x152fa2[_0x1551b5(0x241)],'setBatchName':'','setCategoria':_0x152fa2['setItemCategories'][0x0]||'','setMarca':_0x152fa2[_0x1551b5(0x272)][0x0]||'','setConversionFactor':parseFloat(_0x52bfa7[_0x1551b5(0x2a3)]),'setImages':[],'setImg':_0x1551b5(0x25d),'setInventariable':0x1,'setItemIsBought':_0x152fa2['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x152fa2[_0x1551b5(0x1dd)]?0x1:0x0,'setPorcentajeIgv':_0x152fa2[_0x1551b5(0x1df)],'setPrinters':[],'setTaxId':_0x152fa2[_0x1551b5(0x192)],'setTipAfeIgv':_0x152fa2['setItemTaxCode'],'setUnidad':_0x52bfa7[_0x1551b5(0x24e)],'setUnidadCodigo':_0x52bfa7[_0x1551b5(0x24e)],'setItemUnitAlias':_0x52bfa7['setAlias'],'currency_data':[{'currency':_0x3e28b0,'setMtoPrecioCostoUnitario':_0x52bfa7[_0x1551b5(0x257)],'setMtoPrecioUnitario':_0x52bfa7[_0x1551b5(0x260)],'setPriceLists':[]}],'sucursales':_0x152fa2[_0x1551b5(0x1ec)][_0x1551b5(0x1e3)](_0x101a2a=>({'setIdSucursal':_0x101a2a[_0x1551b5(0x200)],'setSucursalStock':_0x101a2a[_0x1551b5(0x1d8)][_0x1551b5(0x1dc)](),'setWarehouseStockMin':_0x101a2a[_0x1551b5(0x19c)][_0x1551b5(0x1dc)]()})),'setItemFree':_0x152fa2[_0x1551b5(0x27e)],'setItemBarCode':_0x152fa2[_0x1551b5(0x221)],'setItemBrands':_0x152fa2['setItemBrands'][_0x1551b5(0x21c)](),'setItemCategories':_0x152fa2[_0x1551b5(0x235)][_0x1551b5(0x21c)](),'setItemComponents':_0x152fa2[_0x1551b5(0x189)]['map'](_0x1e413a=>({..._0x1e413a})),'setItemImages':_0x152fa2[_0x1551b5(0x210)][_0x1551b5(0x21c)](),'setItemVariantName':_0x152fa2[_0x1551b5(0x1b7)],'setItemVariantValues':{..._0x152fa2[_0x1551b5(0x277)]}};_0x4b8d19[_0x1551b5(0x23f)](_0x36bf8),(_0x52b9aa[_0x1551b5(0x1e7)]||_0x36d5da==0x1)&&addToCart(_0x36bf8);});}),console[_0x3b1711(0x197)]('Items\x20finales:',newItems),await finalizeImport(_0x4b8d19,newItems,![]);}),[_0x3ac7cc(0x217),'dragover'][_0x3ac7cc(0x252)](_0x53c251=>dropZone[_0x3ac7cc(0x2a4)](_0x53c251,_0x586aaa=>{var _0x51e4de=_0x3ac7cc;_0x586aaa['preventDefault'](),dropZone[_0x51e4de(0x1fd)]['add'](_0x51e4de(0x20b));})),[_0x3ac7cc(0x1c5),_0x3ac7cc(0x276)][_0x3ac7cc(0x252)](_0x3b2d3b=>dropZone[_0x3ac7cc(0x2a4)](_0x3b2d3b,_0x2fa160=>{var _0xa3b5a7=_0x3ac7cc;_0x2fa160[_0xa3b5a7(0x181)](),dropZone[_0xa3b5a7(0x1fd)][_0xa3b5a7(0x1c9)]('dragover');})),dropZone[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x276),_0x466be3=>{var _0x53862d=_0x3ac7cc;const _0x38b489=_0x466be3['dataTransfer'][_0x53862d(0x259)][0x0];if(!_0x38b489)return;fileInput[_0x53862d(0x259)]=_0x466be3[_0x53862d(0x228)]['files'],dropZone[_0x53862d(0x2cb)](_0x53862d(0x1f5))[_0x53862d(0x233)]=_0x38b489[_0x53862d(0x23b)],removeBtn[_0x53862d(0x2c4)]=![],fileInput['dispatchEvent'](new Event('change'));}),removeBtn[_0x3ac7cc(0x2a4)](_0x3ac7cc(0x1c3),()=>{var _0x20f833=_0x3ac7cc;fileInput[_0x20f833(0x1a5)]='',dropZone[_0x20f833(0x2cb)](_0x20f833(0x1f5))['textContent']=_0x20f833(0x261),removeBtn[_0x20f833(0x2c4)]=!![],progressBar[_0x20f833(0x20a)][_0x20f833(0x209)]=_0x20f833(0x245),statusDiv[_0x20f833(0x233)]='',uploadBtn[_0x20f833(0x1e6)]=!![];});const exportBtn=document[_0x3ac7cc(0x185)](_0x3ac7cc(0x184));exportBtn[_0x3ac7cc(0x2a4)]('click',onClickExportarItems);async function onClickExportarItems(){var _0xd44c50=_0x3ac7cc;if(!Array['isArray'](products)||!products[_0xd44c50(0x230)]){ntfShow(_0xd44c50(0x1fe));return;}try{const _0x5039c5=await fetch(_0xd44c50(0x1f6));if(!_0x5039c5['ok'])throw new Error('No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.');const _0x163431=await _0x5039c5[_0xd44c50(0x23c)](),_0x2292e0=document[_0xd44c50(0x185)](_0xd44c50(0x223))[_0xd44c50(0x1a5)];let _0x3356a6=products;const _0x5f3b28=getUserPermissionApiERP(0x2);_0x5f3b28==0x1&&(_0x3356a6=products[_0xd44c50(0x204)](_0x26d5cb=>Array['isArray'](_0x26d5cb[_0xd44c50(0x1e8)])&&_0x26d5cb['sucursales']['some'](_0x241b54=>String(_0x241b54[_0xd44c50(0x250)])==String(_0x2292e0))));const _0x245042=_0x3356a6['reduce']((_0x553f63,_0x28a15a)=>{var _0x266f5e=_0xd44c50;const _0x331989=_0x28a15a[_0x266f5e(0x279)];if(!_0x553f63[_0x331989])_0x553f63[_0x331989]=[];return _0x553f63[_0x331989][_0x266f5e(0x23f)](_0x28a15a),_0x553f63;},{}),_0x38df11=Object[_0xd44c50(0x2ba)](_0x245042)[_0xd44c50(0x1e3)](_0x5a4207=>{var _0x50674c=_0xd44c50;const _0x183a56=_0x5a4207[0x0],_0x1d8d2c=_0x5a4207[0x1]||{};function _0x513430(_0x50e28e,_0x52f63a,_0x79759f){var _0x2fbaf9=_0x15ad;if(!_0x50e28e||!Array['isArray'](_0x50e28e['currency_data']))return'';const _0x16e89c=_0x50e28e[_0x2fbaf9(0x19b)][_0x2fbaf9(0x286)](_0x507fd4=>_0x507fd4['currency']===_0x52f63a);return _0x16e89c?_0x16e89c[_0x79759f]:'';}return{'id':_0x183a56[_0x50674c(0x279)],'setItemType':_0x183a56['setItemType'],'setCodProducto':_0x183a56[_0x50674c(0x20c)],'setDescripcion':_0x183a56[_0x50674c(0x1d1)],'setItemDescription':_0x183a56[_0x50674c(0x1ef)],'setCategoria':_0x183a56[_0x50674c(0x187)],'setMarca':_0x183a56[_0x50674c(0x1db)],'setTaxId':_0x183a56[_0x50674c(0x18b)],'setUnitId':_0x183a56['id'],'setItemBarCode':_0x183a56['setItemBarCode'],'setUnidadCodigo':_0x183a56[_0x50674c(0x265)],'PEN_setMtoPrecioUnitario':_0x513430(_0x183a56,_0x50674c(0x1d0),'setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0x513430(_0x183a56,'PEN',_0x50674c(0x2bf)),'USD_setMtoPrecioUnitario':_0x513430(_0x183a56,'USD',_0x50674c(0x1b0)),'USD_setMtoPrecioCostoUnitario':_0x513430(_0x183a56,_0x50674c(0x2b2),_0x50674c(0x2bf)),'setUnitId2':_0x1d8d2c['id']??'','setItemBarCode2':_0x1d8d2c['setItemBarCode']??'','setUnidadCodigo2':_0x1d8d2c[_0x50674c(0x265)]??'','setUnidadEquivalencia2':_0x1d8d2c[_0x50674c(0x18e)]??'','PEN_setMtoPrecioUnitario2':_0x513430(_0x1d8d2c,'PEN',_0x50674c(0x1b0))??'','PEN_setMtoPrecioCostoUnitario2':_0x513430(_0x1d8d2c,_0x50674c(0x1d0),_0x50674c(0x2bf))??'','USD_setMtoPrecioUnitario2':_0x513430(_0x1d8d2c,_0x50674c(0x2b2),_0x50674c(0x1b0))??'','USD_setMtoPrecioCostoUnitario2':_0x513430(_0x1d8d2c,_0x50674c(0x2b2),'setMtoPrecioCostoUnitario')??'','setInventariable':_0x183a56[_0x50674c(0x22d)],'setSucursalStock':_0x5f3b28==0x1?_0x183a56[_0x50674c(0x1e8)][_0x50674c(0x286)](_0x584947=>String(_0x584947[_0x50674c(0x250)])==String(_0x2292e0))[_0x50674c(0x251)]:'','setWarehouseStockMin':_0x5f3b28==0x1?_0x183a56[_0x50674c(0x1e8)][_0x50674c(0x286)](_0x4c86ac=>String(_0x4c86ac[_0x50674c(0x250)])==String(_0x2292e0))['setWarehouseStockMin']:'','setBatchName':_0x183a56[_0x50674c(0x2b6)],'setBatchExpirationDate':_0x183a56['setBatchExpirationDate'],..._0x183a56[_0x50674c(0x277)]};});try{JSON['stringify'](_0x38df11);}catch(_0x2f9417){console[_0xd44c50(0x23d)](_0xd44c50(0x1e2),_0x2f9417),ntfShow(_0xd44c50(0x1d9));return;}statusDiv[_0xd44c50(0x233)]='Generando\x20Excel...',progressBar['style']['display']=_0xd44c50(0x267),progressBar[_0xd44c50(0x1a5)]=0x0,itemWorker[_0xd44c50(0x22a)]({'action':_0xd44c50(0x1ed),'products':_0x38df11,'plantillaBuf':_0x163431},[_0x163431]);}catch(_0x358575){console[_0xd44c50(0x23d)](_0x358575),ntfShow(_0xd44c50(0x285)+_0x358575['message']);}}itemWorker['onmessage']=({data:_0x1a3cc8})=>{var _0x310e72=_0x3ac7cc;const {type:_0x5e1d68,payload:_0x371ef9}=_0x1a3cc8;_0x5e1d68===_0x310e72(0x1c6)&&(progressBar['style'][_0x310e72(0x209)]='block',progressBar[_0x310e72(0x1a5)]=_0x371ef9['percent'],statusDiv['textContent']=_0x371ef9['message']);_0x5e1d68===_0x310e72(0x213)&&(newItemsExcel=_0x371ef9['items'],statusDiv[_0x310e72(0x233)]='\x20'+newItemsExcel['length']+_0x310e72(0x1f4),uploadBtn[_0x310e72(0x1e6)]=![],progressBar[_0x310e72(0x1a5)]=0x64,console[_0x310e72(0x197)](newItemsExcel));_0x5e1d68==='error'&&(statusDiv[_0x310e72(0x233)]=_0x310e72(0x2cc)+_0x371ef9,progressBar[_0x310e72(0x20a)][_0x310e72(0x209)]=_0x310e72(0x245));if(_0x5e1d68==='exportDone'){const {wbout:_0x1a1a0a,count:_0x29709f}=_0x371ef9,_0x49b4d6=new Blob([_0x1a1a0a],{'type':_0x310e72(0x264)}),_0x4f1eac=URL[_0x310e72(0x2a0)](_0x49b4d6),_0x336392=document[_0x310e72(0x2b1)]('a'),_0x53ca04=new Date()[_0x310e72(0x28e)]()['slice'](0x0,0xa);_0x336392[_0x310e72(0x1b3)]=_0x310e72(0x1e9)+_0x53ca04+_0x310e72(0x218),_0x336392['href']=_0x4f1eac,_0x336392[_0x310e72(0x1c3)](),URL[_0x310e72(0x1f7)](_0x4f1eac),statusDiv[_0x310e72(0x233)]=_0x310e72(0x1e0)+_0x29709f+_0x310e72(0x1d6),progressBar['style'][_0x310e72(0x209)]='none';}},fileInput['addEventListener'](_0x3ac7cc(0x1f1),async _0x1c0ea2=>{var _0x173805=_0x3ac7cc;const _0x3e410b=_0x1c0ea2[_0x173805(0x2b9)][_0x173805(0x259)][0x0];if(!_0x3e410b)return;uploadBtn[_0x173805(0x1e6)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar[_0x173805(0x20a)]['display']='none',dropZone[_0x173805(0x2cb)]('.drop-zone__prompt')['textContent']=_0x3e410b['name'],removeBtn[_0x173805(0x2c4)]=![];try{const _0x49279e=await _0x3e410b['arrayBuffer']();itemWorker[_0x173805(0x22a)]({'action':_0x173805(0x275),'buf':_0x49279e,'maxRows':0x1388});}catch(_0xde250e){statusDiv[_0x173805(0x233)]=_0x173805(0x2ad);}finally{fileInput['value']='';}}),uploadBtn['addEventListener'](_0x3ac7cc(0x1c3),async()=>{var _0x307b98=_0x3ac7cc;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x2139e5=document['getElementById'](_0x307b98(0x223))[_0x307b98(0x1a5)],_0x1573fd=[];newItemsExcel[_0x307b98(0x252)](_0x4337fd=>{var _0x99c0c4=_0x307b98;const _0x3d13c3=Boolean(_0x4337fd[_0x99c0c4(0x1e1)]),_0x21d5f0=_0x3d13c3?_0x4337fd[_0x99c0c4(0x1e1)]:generateNumericUniqId();_0x4337fd[_0x99c0c4(0x1ec)]=[{'setStockInitial':_0x4337fd[_0x99c0c4(0x1d8)],'setStockMinimum':_0x4337fd[_0x99c0c4(0x19c)],'setWarehouseCode':_0x2139e5}],_0x4337fd[_0x99c0c4(0x283)][_0x99c0c4(0x252)](_0x5b2481=>{var _0x31a7f0=_0x99c0c4;const _0x2534f3=Boolean(_0x5b2481[_0x31a7f0(0x222)]),_0x4175e3=_0x2534f3?_0x5b2481[_0x31a7f0(0x222)]:generateNumericUniqId();_0x5b2481[_0x31a7f0(0x222)]=_0x4175e3;const _0x330b7a=[];_0x330b7a[_0x31a7f0(0x23f)]({'currency':_0x31a7f0(0x1d0),'setMtoPrecioCostoUnitario':_0x5b2481[_0x31a7f0(0x257)],'setMtoPrecioUnitario':_0x5b2481[_0x31a7f0(0x260)],'setPriceLists':[]});const _0x1f4c1f=_0x5b2481[_0x31a7f0(0x1ee)]!=null&&_0x5b2481[_0x31a7f0(0x263)]!=null&&(!isNaN(_0x5b2481[_0x31a7f0(0x1ee)])||!isNaN(_0x5b2481['setPriceUSD']));_0x1f4c1f&&_0x330b7a['push']({'currency':'USD','setMtoPrecioCostoUnitario':_0x5b2481[_0x31a7f0(0x1ee)],'setMtoPrecioUnitario':_0x5b2481[_0x31a7f0(0x263)],'setPriceLists':[]});const _0x3427e3={'id':_0x4175e3,'setIdProducto':_0x21d5f0,'setItemBarCode':_0x5b2481[_0x31a7f0(0x221)],'setCodProducto':_0x4337fd[_0x31a7f0(0x211)],'setDescripcion':_0x4337fd[_0x31a7f0(0x2ca)],'setItemDescription':_0x4337fd[_0x31a7f0(0x1ef)],'setBatchExpirationDate':_0x4337fd[_0x31a7f0(0x241)],'setBatchName':_0x4337fd[_0x31a7f0(0x2b6)],'setCategoria':_0x4337fd[_0x31a7f0(0x235)][0x0]||'','setMarca':_0x4337fd['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x5b2481['setFactor']),'setImages':[],'setImg':_0x31a7f0(0x25d),'setInventariable':_0x4337fd[_0x31a7f0(0x2bc)],'setItemIsBought':_0x4337fd[_0x31a7f0(0x1cc)],'setItemIsSold':_0x4337fd[_0x31a7f0(0x1dd)],'setPorcentajeIgv':_0x4337fd[_0x31a7f0(0x1df)],'setPrinters':[],'setTaxId':_0x4337fd[_0x31a7f0(0x192)],'setTipAfeIgv':_0x4337fd[_0x31a7f0(0x2a5)],'setUnidad':_0x5b2481[_0x31a7f0(0x24e)],'setUnidadCodigo':_0x5b2481[_0x31a7f0(0x24e)],'setItemUnitAlias':_0x5b2481[_0x31a7f0(0x25f)],'currency_data':_0x330b7a,'sucursales':_0x4337fd[_0x31a7f0(0x1ec)][_0x31a7f0(0x1e3)](_0xa0ef54=>({'setIdSucursal':_0xa0ef54['setWarehouseCode'],'setSucursalStock':_0xa0ef54[_0x31a7f0(0x1d8)][_0x31a7f0(0x1dc)](),'setWarehouseStockMin':_0xa0ef54['setStockMinimum'][_0x31a7f0(0x1dc)]()})),'setItemFree':_0x4337fd[_0x31a7f0(0x27e)],'setItemBrands':_0x4337fd[_0x31a7f0(0x272)][_0x31a7f0(0x21c)](),'setItemCategories':_0x4337fd[_0x31a7f0(0x235)][_0x31a7f0(0x21c)](),'setItemComponents':_0x4337fd[_0x31a7f0(0x189)][_0x31a7f0(0x1e3)](_0x28149a=>({..._0x28149a})),'setItemImages':_0x4337fd[_0x31a7f0(0x210)][_0x31a7f0(0x21c)](),'setItemVariantName':_0x4337fd[_0x31a7f0(0x1b7)],'setItemVariantValues':{..._0x4337fd[_0x31a7f0(0x277)]}},_0x3fd775=products[_0x31a7f0(0x255)](_0xa00e7e=>_0xa00e7e['id']==_0x4175e3&&_0xa00e7e[_0x31a7f0(0x279)]==_0x21d5f0);_0x3fd775>-0x1?Object[_0x31a7f0(0x225)](products[_0x3fd775],_0x3427e3):_0x1573fd[_0x31a7f0(0x23f)](_0x3427e3);});}),console['log'](_0x307b98(0x240),newItemsExcel),await finalizeImport(_0x1573fd,newItemsExcel,!![]);});function initializeFormImages(){var _0x5d41de=_0x3ac7cc;currentImages=Array(MAX_IMAGES)[_0x5d41de(0x258)](null),imgC['innerHTML']='',baseItem['setItemImages']=[];for(var _0x4a08d1=0x0;_0x4a08d1<MAX_IMAGES;_0x4a08d1++){(function(_0x1f21c9){var _0x2718f0=_0x5d41de,_0x8da950=document[_0x2718f0(0x2b1)](_0x2718f0(0x1b8));_0x8da950[_0x2718f0(0x2a7)]=_0x2718f0(0x19a),_0x8da950[_0x2718f0(0x188)][_0x2718f0(0x21b)]=_0x1f21c9;var _0x1055ca=document[_0x2718f0(0x2b1)](_0x2718f0(0x1ff));_0x1055ca['type']=_0x2718f0(0x182),_0x1055ca[_0x2718f0(0x20d)]=_0x2718f0(0x206),_0x1055ca['style'][_0x2718f0(0x209)]=_0x2718f0(0x245);var _0x39b27c=document[_0x2718f0(0x2b1)]('span');_0x39b27c[_0x2718f0(0x233)]='+',_0x8da950['appendChild'](_0x1055ca),_0x8da950[_0x2718f0(0x229)](_0x39b27c),imgC[_0x2718f0(0x229)](_0x8da950),_0x8da950[_0x2718f0(0x2a4)]('click',function(){var _0x35e937=_0x2718f0;_0x1055ca[_0x35e937(0x1c3)]();}),_0x1055ca['addEventListener'](_0x2718f0(0x1f1),function(_0x5d4a36){var _0x485516=_0x2718f0,_0xf6ac3f=_0x5d4a36['target'][_0x485516(0x259)][0x0];if(!_0xf6ac3f)return removeImg(_0x1f21c9);var _0xf7a4f0=new FileReader();_0xf7a4f0['onload']=function(_0x2da487){var _0x37bc82=_0x485516;_0x8da950[_0x37bc82(0x231)]='<img\x20src=\x22'+_0x2da487[_0x37bc82(0x2b9)][_0x37bc82(0x2c1)]+'\x22>';var _0x3fb64b=document[_0x37bc82(0x2b1)](_0x37bc82(0x198));_0x3fb64b[_0x37bc82(0x2a7)]='remove',_0x3fb64b[_0x37bc82(0x233)]='',_0x3fb64b[_0x37bc82(0x2a4)](_0x37bc82(0x1c3),function(_0x360b74){var _0x4702b0=_0x37bc82;_0x360b74[_0x4702b0(0x26d)](),removeImg(_0x1f21c9);}),_0x8da950['appendChild'](_0x3fb64b),currentImages[_0x1f21c9]=_0xf6ac3f,baseItem[_0x37bc82(0x210)]=currentImages[_0x37bc82(0x204)](function(_0x870a7d){return _0x870a7d;});},_0xf7a4f0['readAsDataURL'](_0xf6ac3f);});}(_0x4a08d1));}}function initializeFormIsSoldIsBought(_0x471c38=0x0){var _0xc4254b=_0x3ac7cc;let _0x308b5f,_0x109eb8;if(_0x471c38!=0x0){const _0x54e69d=products[_0xc4254b(0x286)](_0x5dd29b=>_0x5dd29b['id']==_0x471c38);_0x308b5f=_0x54e69d[_0xc4254b(0x1cc)]==0x1||_0x54e69d['setItemIsBought']==!![]?!![]:![],_0x109eb8=_0x54e69d['setItemIsSold']==0x1||_0x54e69d[_0xc4254b(0x1dd)]==!![]?!![]:![];}else _0x308b5f=!![],_0x109eb8=!![];document['getElementById'](_0xc4254b(0x1ae))[_0xc4254b(0x1e7)]=_0x308b5f,document[_0xc4254b(0x185)]('newItem_chk_sell')[_0xc4254b(0x1e7)]=_0x109eb8,baseItem['setItemIsBought']=_0x308b5f,baseItem[_0xc4254b(0x1dd)]=_0x109eb8;}function initializeFormInputsBasic(_0x5eca0b=0x0){var _0x647c07=_0x3ac7cc;let _0x3a7e64,_0x30067f,_0x8d3b70,_0x2d1414,_0x4609b0,_0x58b5bd;if(_0x5eca0b!=0x0){const _0x18cb57=products[_0x647c07(0x286)](_0x1a9f2c=>_0x1a9f2c['id']==_0x5eca0b);_0x3a7e64=_0x18cb57['setItemType']??'1',_0x30067f=_0x18cb57[_0x647c07(0x20c)],_0x8d3b70=_0x18cb57[_0x647c07(0x1d1)],_0x2d1414=_0x18cb57['setItemDescription'],_0x4609b0=_0x18cb57[_0x647c07(0x271)]??'',_0x58b5bd=_0x18cb57[_0x647c07(0x221)];}else _0x3a7e64='1',_0x30067f=getNextCode(products),_0x8d3b70='',_0x2d1414='',_0x4609b0='',_0x58b5bd='';document[_0x647c07(0x185)](_0x647c07(0x22b))[_0x647c07(0x1a5)]=_0x3a7e64,document[_0x647c07(0x185)](_0x647c07(0x1d7))[_0x647c07(0x1a5)]=_0x30067f,document[_0x647c07(0x185)](_0x647c07(0x2c2))[_0x647c07(0x1a5)]=_0x8d3b70,document[_0x647c07(0x185)](_0x647c07(0x2a1))[_0x647c07(0x1a5)]=_0x2d1414,document['getElementById'](_0x647c07(0x1d3))['value']=_0x4609b0,document[_0x647c07(0x185)](_0x647c07(0x1c8))[_0x647c07(0x1a5)]=_0x58b5bd,baseItem['setItemType']=_0x3a7e64,baseItem[_0x647c07(0x211)]=_0x30067f,baseItem['setItemName']=_0x8d3b70,baseItem[_0x647c07(0x1ef)]=_0x2d1414,baseItem['setItemDateExpiry']=_0x4609b0,baseItem[_0x647c07(0x221)]=_0x58b5bd,document['getElementById'](_0x647c07(0x201))[_0x647c07(0x1e7)]=![];}function initializeFormTax(_0x5a84c4=0x0){var _0x16fc28=_0x3ac7cc;let _0x19468d;if(_0x5a84c4!=0x0){const _0x411bf2=products[_0x16fc28(0x286)](_0x42c014=>_0x42c014['id']==_0x5a84c4);_0x19468d=_0x411bf2[_0x16fc28(0x18b)];}else _0x19468d=myCompany['setTaxIdDefault'];const _0x27e5fb=document[_0x16fc28(0x185)](_0x16fc28(0x1f2));_0x27e5fb[_0x16fc28(0x1a5)]=_0x19468d,baseItem[_0x16fc28(0x192)]=_0x19468d;const _0x501a81=company[0x0][_0x16fc28(0x290)][_0x16fc28(0x286)](_0xc33d6b=>_0xc33d6b[_0x16fc28(0x18b)]==_0x19468d)?.[_0x16fc28(0x274)]||0x0,_0x2f7e3e=company[0x0]['setImpuestos'][_0x16fc28(0x286)](_0x1cef36=>_0x1cef36['setTaxId']==_0x19468d)?.[_0x16fc28(0x207)]||0x0;baseItem[_0x16fc28(0x2a5)]=_0x501a81,baseItem[_0x16fc28(0x1df)]=_0x2f7e3e;}function initializeFormCategoriesBrands(_0x1c9806=0x0){var _0x4440c9=_0x3ac7cc;baseItem[_0x4440c9(0x235)]=[],baseItem[_0x4440c9(0x272)]=[],document[_0x4440c9(0x2cb)](_0x4440c9(0x25e))['innerHTML']='',document[_0x4440c9(0x2cb)](_0x4440c9(0x1cf))[_0x4440c9(0x231)]='',document['querySelector'](_0x4440c9(0x1ab))[_0x4440c9(0x231)]='',document[_0x4440c9(0x2cb)](_0x4440c9(0x19d))[_0x4440c9(0x231)]='';const _0x3e502d=uniqueValuesArray(_0x4440c9(0x187),_0x4440c9(0x187),products),_0x4b1a81=uniqueValuesArray('setMarca','setMarca',products);initMulti(_0x4440c9(0x21d),_0x3e502d),initMulti('newItem_brands_select',_0x4b1a81),document[_0x4440c9(0x185)]('newItem_categories_select')[_0x4440c9(0x2a4)]('selectionChange',function(_0x129116){var _0x28f1c7=_0x4440c9;baseItem['setItemCategories']=_0x129116['detail'][_0x28f1c7(0x1e3)](_0x3cc3ba=>_0x3cc3ba['setCode']);}),document[_0x4440c9(0x185)]('newItem_brands_select')[_0x4440c9(0x2a4)](_0x4440c9(0x22c),function(_0x327c86){var _0x575ed2=_0x4440c9;baseItem[_0x575ed2(0x272)]=_0x327c86[_0x575ed2(0x294)]['map'](_0x396133=>_0x396133[_0x575ed2(0x1be)]);});if(_0x1c9806!=0x0){const _0xbffaed=products[_0x4440c9(0x286)](_0x3dc047=>_0x3dc047['id']==_0x1c9806);if(_0xbffaed[_0x4440c9(0x187)]){const _0x5dda1d=document['getElementById'](_0x4440c9(0x21d)),_0x77875=Array[_0x4440c9(0x1a1)](_0x5dda1d[_0x4440c9(0x254)](_0x4440c9(0x226)))['find'](_0x42c07a=>_0x42c07a[_0x4440c9(0x188)][_0x4440c9(0x24d)]==_0xbffaed[_0x4440c9(0x187)]);_0x77875&&_0x77875[_0x4440c9(0x1c3)]();}if(_0xbffaed[_0x4440c9(0x1db)]){const _0x335157=document[_0x4440c9(0x185)](_0x4440c9(0x199)),_0x21bc52=Array['from'](_0x335157['querySelectorAll'](_0x4440c9(0x226)))['find'](_0x2d160d=>_0x2d160d['dataset'][_0x4440c9(0x24d)]==_0xbffaed[_0x4440c9(0x1db)]);_0x21bc52&&_0x21bc52['click']();}}}function initializeFormUnits(){var _0x55df25=_0x3ac7cc;unitCount=0x0,document['getElementById'](_0x55df25(0x249))['innerHTML']='',baseItem[_0x55df25(0x283)]=[];var _0x1da63f=uniqueValuesArray('setUnitCode',_0x55df25(0x1ad),myCompany[_0x55df25(0x20f)]);addUnit('',_0x1da63f[0x3a]&&_0x1da63f[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x242ded=_0x3ac7cc;prodC['innerHTML']='',baseItem[_0x242ded(0x189)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x9e785a=_0x3ac7cc;branchesC[_0x9e785a(0x231)]='',baseItem['setItemWarehouses']=[];const _0x549b20=getAllWarehouses();_0x549b20[_0x9e785a(0x252)](function(_0x1e5487){var _0x560aae=_0x9e785a,_0x36cdcd=document['createElement'](_0x560aae(0x1b8));_0x36cdcd[_0x560aae(0x231)]=_0x560aae(0x215)+'<div\x20class=\x22newItem_col\x22>'+_0x560aae(0x22e)+_0x1e5487[_0x560aae(0x223)]+_0x560aae(0x287)+_0x1e5487[_0x560aae(0x214)]+_0x560aae(0x180)+_0x560aae(0x27a)+'<div\x20class=\x22newItem_col\x22>'+_0x560aae(0x2ce)+_0x1e5487[_0x560aae(0x223)]+'\x22>'+_0x560aae(0x27a)+_0x560aae(0x1bf)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x1e5487['setWarehouseId']+'\x22>'+_0x560aae(0x27a)+_0x560aae(0x27a),branchesC[_0x560aae(0x229)](_0x36cdcd),_0x36cdcd[_0x560aae(0x254)](_0x560aae(0x1ff))[_0x560aae(0x252)](function(_0x1c4bf6){var _0x22108f=_0x560aae;_0x1c4bf6[_0x22108f(0x2a4)](_0x22108f(0x1ff),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x1f26ca=_0x3ac7cc;baseItem[_0x1f26ca(0x1b7)]='',baseItem[_0x1f26ca(0x277)]={},vgC[_0x1f26ca(0x231)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x3ebf3b,_0x4b9995,_0x5de279=![]){var _0x40d0a8=_0x3ac7cc;const _0xc08bbd=0xc8,_0x3d799b={'apiPOSsendOffline':'1','setTipoOperacion':_0x40d0a8(0x1a8),'setToken':company[0x0][_0x40d0a8(0x2bd)],'setWebhook':company[0x0][_0x40d0a8(0x1ce)]};for(let _0x2c4381=0x0;_0x2c4381<_0x4b9995[_0x40d0a8(0x230)];_0x2c4381+=_0xc08bbd){const _0x280805=_0x4b9995['slice'](_0x2c4381,_0x2c4381+_0xc08bbd);await storeOfflineProduct({..._0x3d799b,'newItems':_0x280805});}products[_0x40d0a8(0x23f)](..._0x3ebf3b),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x40d0a8(0x293)),_0x5de279?(fileInput[_0x40d0a8(0x1a5)]='',uploadBtn[_0x40d0a8(0x1e6)]=!![],statusDiv[_0x40d0a8(0x233)]='',progressBar[_0x40d0a8(0x20a)][_0x40d0a8(0x209)]=_0x40d0a8(0x245),progressBar[_0x40d0a8(0x1a5)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}