/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.2
*/

var _0x218aa8=_0x4216;(function(_0x1bdabe,_0x30c3dc){var _0x4fb45c=_0x4216,_0xb182e5=_0x1bdabe();while(!![]){try{var _0x473bfa=-parseInt(_0x4fb45c(0x169))/0x1*(parseInt(_0x4fb45c(0x1d1))/0x2)+parseInt(_0x4fb45c(0x13a))/0x3+-parseInt(_0x4fb45c(0x183))/0x4+parseInt(_0x4fb45c(0x210))/0x5+parseInt(_0x4fb45c(0x120))/0x6+-parseInt(_0x4fb45c(0xde))/0x7+-parseInt(_0x4fb45c(0x12e))/0x8;if(_0x473bfa===_0x30c3dc)break;else _0xb182e5['push'](_0xb182e5['shift']());}catch(_0x1eb0a9){_0xb182e5['push'](_0xb182e5['shift']());}}}(_0x35a1,0x303e1));var _0x20f42d=(function(){var _0x547ba6=!![];return function(_0x52c65c,_0x469b8c){var _0xfc297d=_0x547ba6?function(){var _0x435cbb=_0x4216;if(_0x469b8c){var _0x4d42c1=_0x469b8c[_0x435cbb(0x1f8)](_0x52c65c,arguments);return _0x469b8c=null,_0x4d42c1;}}:function(){};return _0x547ba6=![],_0xfc297d;};}()),_0x139ed8=_0x20f42d(this,function(){var _0x4248e5=_0x4216;return _0x139ed8[_0x4248e5(0x12f)]()['search']('(((.+)+)+)+$')['toString']()[_0x4248e5(0x19f)](_0x139ed8)[_0x4248e5(0x12d)](_0x4248e5(0x1d0));});_0x139ed8();var _0x3ef7fc=(function(){var _0x246fc5=!![];return function(_0x4fd5a6,_0x3b223f){var _0x35d35c=_0x246fc5?function(){var _0x263c2c=_0x4216;if(_0x3b223f){var _0x567657=_0x3b223f[_0x263c2c(0x1f8)](_0x4fd5a6,arguments);return _0x3b223f=null,_0x567657;}}:function(){};return _0x246fc5=![],_0x35d35c;};}()),_0x4a207b=_0x3ef7fc(this,function(){var _0x1bc49a=_0x4216,_0x419d61=function(){var _0x5881cf=_0x4216,_0x2f9677;try{_0x2f9677=Function(_0x5881cf(0x201)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x20925b){_0x2f9677=window;}return _0x2f9677;},_0xc39f2b=_0x419d61(),_0x5af6a8=_0xc39f2b[_0x1bc49a(0x12a)]=_0xc39f2b[_0x1bc49a(0x12a)]||{},_0x3bb96e=['log',_0x1bc49a(0x175),_0x1bc49a(0x1b1),_0x1bc49a(0x16b),'exception',_0x1bc49a(0x1b0),_0x1bc49a(0x1b2)];for(var _0x51b069=0x0;_0x51b069<_0x3bb96e[_0x1bc49a(0x1d9)];_0x51b069++){var _0x8668cd=_0x3ef7fc[_0x1bc49a(0x19f)][_0x1bc49a(0xd7)][_0x1bc49a(0x1da)](_0x3ef7fc),_0x3dfd7c=_0x3bb96e[_0x51b069],_0x1848fd=_0x5af6a8[_0x3dfd7c]||_0x8668cd;_0x8668cd[_0x1bc49a(0x17f)]=_0x3ef7fc[_0x1bc49a(0x1da)](_0x3ef7fc),_0x8668cd[_0x1bc49a(0x12f)]=_0x1848fd[_0x1bc49a(0x12f)][_0x1bc49a(0x1da)](_0x1848fd),_0x5af6a8[_0x3dfd7c]=_0x8668cd;}});_0x4a207b();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x218aa8(0x19c)](_0x218aa8(0x129)),unitCount=0x0,branchesC=document['getElementById']('newItem_branches_container'),prodC=document[_0x218aa8(0x19c)](_0x218aa8(0xc5)),vgCount=0x0,varContainer=document[_0x218aa8(0x19c)](_0x218aa8(0x127)),vgC=document[_0x218aa8(0x19c)]('newItem_variant_groups');const fileInput=document[_0x218aa8(0x19c)]('file-input'),progressBar=document[_0x218aa8(0x19c)]('progress'),statusDiv=document[_0x218aa8(0x19c)](_0x218aa8(0xc6)),uploadBtn=document[_0x218aa8(0x19c)](_0x218aa8(0xfe));let newItemsExcel=null;const itemWorker=new Worker(_0x218aa8(0x10a)),dropZone=document[_0x218aa8(0x19c)](_0x218aa8(0x1ee)),removeBtn=document[_0x218aa8(0x19c)](_0x218aa8(0xfa));function showModalCreateItem(_0xea4b15){var _0x3071b2=_0x218aa8;const _0x4071e1=document[_0x3071b2(0x19c)]('detalleModalCreateItem'),_0x5330a1=document[_0x3071b2(0x19c)](_0x3071b2(0xd5));_0x4071e1['classList'][_0x3071b2(0x156)]('active'),_0x5330a1[_0x3071b2(0x147)]['display']=_0x3071b2(0x14e);const _0x1d2f9b=document['getElementById'](_0x3071b2(0x168));_0x1d2f9b[_0x3071b2(0x1aa)]=parseInt(_0xea4b15),baseItem['setItemFree']=parseInt(_0xea4b15);const _0x47f74a=document[_0x3071b2(0x19c)](_0x3071b2(0x1db));_0xea4b15==0x0&&(_0x47f74a[_0x3071b2(0x10d)]='Nuevo\x20Producto');_0xea4b15==0x1&&(_0x47f74a[_0x3071b2(0x10d)]='Producto\x20Libre');const _0x5c493e=document[_0x3071b2(0xd4)]('productType1');for(let _0x50127f=0x0;_0x50127f<_0x5c493e[_0x3071b2(0x1d9)];_0x50127f++){const _0x4e0e84=_0x5c493e[_0x50127f];if(_0xea4b15==0x0)_0x4e0e84['classList']['remove'](_0x3071b2(0x11a));else _0xea4b15==0x1&&_0x4e0e84['classList']['add']('hidden');}}function _0x35a1(){var _0x705002=['objectStore','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','every','ERROR:\x20plainProducts\x20no\x20serializable:','log','setAlias','setWebhook','setItemId','arrayBuffer','./excel/Plantilla-Items.xlsx','classList','setItemFree','118910DFZneo','setConversionFactor','error','\x22\x20value=\x22','.eqInput','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','btnExportarItems','Ingresa\x20el\x20c贸digo\x20del\x20item','vals','.addVariantUnit','assign','currency_data','warn','none','compare','setInventariable','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setItemDateExpiry','download','type','newItem_btn_addUnit','closest','__proto__','setPrice','#newItem_brands_select\x20.options_list','string','1182404BIcsgS','eqInput','.branchInit','readwrite','setItemCode','oncomplete','.selected_tags','sort','setMoneda','filter','Generando\x20Excel...','setItemBrandName','span','setItemVariantName','className','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','querySelector','.addVariantComp','setIdSucursal','target','change','image/*','Error\x20al\x20guardar\x20Producto\x20Offline:','setCantidad','setItemBarCode','getElementById','newItem_chk_sell','./img/product.png','constructor','checked','drop','setFactor','readAsDataURL','blur','setIdProducto','preventDefault','inputItemBarCode','match','setItemTaxValue','value','dataset','default','setBatchName','some','setStockMinimum','table','info','trace','setName','createElement','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','.vgVals','input','files','addEventListener','#newItem_categories_select\x20.options_list','setImpuestos','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','exportDone','setItemDescription','setImpuestoCode','#newItem_brands_select\x20.selected_tags','Enter','_branch_container','setImpuestoName','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','postMessage','push','trim','setItemCommissionPercentage','setItemIsBought','costInput','.costInput','inputItemTax','Producto\x20Guardado\x20Offline\x20Correctamente.','currentTarget','(((.+)+)+)+$','2XBtkIl','active','div[data-default=\x22true\x22]\x20.eqInput','#newItem_branches_container\x20>\x20div','setCodProducto','sucursales','selectedItem','setUnitCode','length','bind','modalProductNewTitle','setItemWarehouses','dragover','\x20Exportaci贸n\x20completada:\x20','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','setDescripcion','.options_list\x20div','.ms_input','offline_operations','display','setItemComponents','inputItemDateExpiry','setStockInitial','.xlsx','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','.prodQty','.prod_input_container','textContent','drop-zone','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','undefined','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','option','USD','href','variantForm','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','dataTransfer','apply','closeModalCreateItem','remove','.branchMin','setItemVariantValues','toLowerCase','detail','setItemImages','name','return\x20(function()\x20','setCost','tag','stringify','reduce','mousedown','inputItemType','\x22\x20class=\x22branchChk\x22>\x20','querySelectorAll','setCategoria','setUnitName','setItemCategories','percent','setCode','#newItem_categories_select\x20.selected_tags','1350645MxsHBN','</label>','.options_list','newItem_proditems_container','status','newItem_btn_addProdItem','find','progress','setUnidadCodigo','isArray','onerror','setMtoPrecioCostoUnitario','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','max','div','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setBatchExpirationDate','windowId','getElementsByClassName','modalOverlayCreateItem','.removeGroup','prototype','items','onload','setUnits','.vgName','\x20Error:\x20','includes','1219092lbOfFY','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar','newItem_btn_addVariantGroup','forEach','.priceInput','setEquivalence','_units_container','variant_','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','remove-tag','setItemUnits','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','<div\x20class=\x22newItem_col\x22>','createObjectURL','join','disabled','setTaxId','newItem_brands_select','setWarehouseCode','#newItem_units_container\x20>\x20div','setPriceUSD','file','setImpuestoValue','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','Error\x20al\x20obtener\x20la\x20plantilla:\x20','split','.variantForm','remove-file','now','dragenter','toggle','upload-btn','.unitSelect','true','.removeCombo','.removeUnit','</div>','inputItemDescription','setCostUSD','transaction','newItem_units_container','done','click','./js/apierp_item_wk.min.js','test','setWarehouseId','innerHTML','.unitAlias','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','splice','setItemName','Collator','from','map','slice','setItemTaxCode','[id$=\x22_comp_container\x22]','priceInput','隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!','hidden','newItem_chk_buy','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','setMarca','newItem_title_table','newItem_title_table_cp','2117298tjIwiX','appendChild','base','dispatchEvent','setItemTaxId','toISOString','\x22\x20class=\x22branchChk\x22\x20checked>\x20','newItem_variants_forms','setWarehouseName','newItem_images_container','console','100','<img\x20src=\x22','search','331312NtqIvs','toString','message','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','inputItemName','selectionChange','idx','findIndex','.removeProd','detalleModalCreateItem','Error\x20al\x20procesar\x20la\x20operaci贸n:','setMtoPrecioUnitario','614010sNKYdw','setItemCategoryName','flatMap','setItemUnitId','accept','unitAlias','values','newItem_categories_select','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','children','btnItemSave','unitSelect','contains','style','_comp_container','import','.branchChk','.drop-zone__prompt','PEN','newItem_hidden','block','parentNode','setItemUnitAlias','[data-idx=\x22','exportItems','.removeVariant','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setItemType','add','setItemBrands','onmessage','setItemInventoriable','currency','inputItemCode','setItemIsSold'];_0x35a1=function(){return _0x705002;};return _0x35a1();}function hideModalCreateItem(){var _0x13f22e=_0x218aa8;const _0x8433ac=document['getElementById'](_0x13f22e(0x137)),_0x1ebd4c=document[_0x13f22e(0x19c)](_0x13f22e(0xd5));_0x8433ac['classList']['remove'](_0x13f22e(0x1d2)),_0x1ebd4c[_0x13f22e(0x147)][_0x13f22e(0x1e4)]=_0x13f22e(0x176);}document[_0x218aa8(0x19c)](_0x218aa8(0x1f9))[_0x218aa8(0x1b9)](_0x218aa8(0x109),hideModalCreateItem),document['getElementById'](_0x218aa8(0xd5))[_0x218aa8(0x1b9)](_0x218aa8(0x109),_0xa32521=>{var _0x446e36=_0x218aa8;_0xa32521[_0x446e36(0x196)]==_0xa32521[_0x446e36(0x1cf)]&&_0xa32521['stopPropagation']();});function loadTaxData(){var _0x503642=_0x218aa8;const _0x7aa2a=document['getElementById'](_0x503642(0x1cd));_0x7aa2a[_0x503642(0x10d)]='',company[0x0][_0x503642(0x1bb)][_0x503642(0xe2)](function(_0x15290d){var _0x4342c1=_0x503642;const _0x565d2e=document[_0x4342c1(0x1b4)](_0x4342c1(0x1f2));_0x565d2e[_0x4342c1(0x1aa)]=_0x15290d[_0x4342c1(0xef)],_0x565d2e['innerHTML']=_0x15290d[_0x4342c1(0x1c4)]+'\x20('+_0x15290d[_0x4342c1(0xf5)]+'%)',_0x15290d[_0x4342c1(0xef)]==company[0x0]['setTaxIdDefault']&&(_0x565d2e['selected']=!![]),_0x7aa2a['appendChild'](_0x565d2e);});}function uniqueValuesArray(_0x521716,_0x255d91,_0x410318){var _0x76e9af=_0x218aa8;const _0x53d1c0=Array[_0x76e9af(0x113)](new Set(_0x410318['map'](_0x4dad16=>{var _0x21a59d=_0x76e9af;const _0x40d5a8=_0x4dad16[_0x521716];return typeof _0x40d5a8===_0x21a59d(0x182)?_0x40d5a8[_0x21a59d(0x1c8)]():_0x40d5a8;})[_0x76e9af(0x18c)](_0x965623=>_0x965623!=null&&_0x965623!=='')));return _0x53d1c0[_0x76e9af(0x114)](_0x2f538a=>{var _0x5629fd=_0x76e9af;const _0x4aa3f6=_0x410318[_0x5629fd(0xc8)](_0x24442d=>_0x24442d[_0x521716]===_0x2f538a),_0x557b4f=_0x4aa3f6&&_0x4aa3f6[_0x255d91]!=null?String(_0x4aa3f6[_0x255d91])[_0x5629fd(0x1c8)]():_0x2f538a;return{'setCode':_0x2f538a,'setName':_0x557b4f};});}function fillSelect(_0x1a8e35,_0x54e6a3,_0x45b4bd,_0x39aed){var _0x1cc507=_0x218aa8;_0x1a8e35[_0x1cc507(0x10d)]='',_0x54e6a3[_0x1cc507(0xe2)](function(_0x3e9595){var _0x30a848=_0x1cc507,_0x40e2dc=new Option(_0x3e9595[_0x39aed],_0x3e9595[_0x45b4bd]);_0x1a8e35[_0x30a848(0x156)](_0x40e2dc);});}function initMulti(_0x1694b6,_0x4340de){var _0x264fab=_0x218aa8,_0x47c8d5=document[_0x264fab(0x19c)](_0x1694b6),_0x24b5ed=_0x47c8d5[_0x264fab(0x193)](_0x264fab(0x1e2)),_0x327cb7=_0x47c8d5[_0x264fab(0x193)](_0x264fab(0x212)),_0x210ddf=_0x47c8d5[_0x264fab(0x193)](_0x264fab(0x189)),_0x2a4ff7=_0x4340de['slice'](),_0x2cd587=[];let _0x4d1534=null,_0x39d206=![];function _0x5e8123(){var _0xf9729a=_0x264fab;const _0x96dab7=_0x24b5ed['value'][_0xf9729a(0x1c8)]();if(!_0x96dab7)return;const _0x11dba4=_0x2a4ff7[_0xf9729a(0xc8)](_0x36dfa9=>_0x36dfa9[_0xf9729a(0x1b3)][_0xf9729a(0x1fd)]()===_0x96dab7[_0xf9729a(0x1fd)]());if(_0x11dba4)_0x2cd587[_0xf9729a(0x1c7)](_0x11dba4),_0x2a4ff7['splice'](_0x2a4ff7['findIndex'](_0x2cd62f=>_0x2cd62f[_0xf9729a(0x20e)]===_0x11dba4[_0xf9729a(0x20e)]),0x1);else{const _0x385ab8=_0x2cd587[_0xf9729a(0x1ae)](_0x54ab31=>_0x54ab31[_0xf9729a(0x1b3)][_0xf9729a(0x1fd)]()===_0x96dab7[_0xf9729a(0x1fd)]());!_0x385ab8&&_0x2cd587[_0xf9729a(0x1c7)]({'setCode':_0x96dab7,'setName':_0x96dab7});}_0x5c6adf(),_0x446995(),_0x24b5ed[_0xf9729a(0x1aa)]='';}function _0x446995(){var _0x1086de=_0x264fab;_0x327cb7[_0x1086de(0x10d)]='',_0x2a4ff7[_0x1086de(0x18c)](_0xffce6c=>_0xffce6c['setName'][_0x1086de(0x1fd)]()[_0x1086de(0xdd)](_0x24b5ed[_0x1086de(0x1aa)][_0x1086de(0x1fd)]()))[_0x1086de(0x115)](0x0,0x14)['forEach'](_0x5439be=>{var _0x30c7c3=_0x1086de,_0x1f2633=document[_0x30c7c3(0x1b4)]('div');_0x1f2633[_0x30c7c3(0x1ed)]=_0x5439be[_0x30c7c3(0x1b3)],_0x1f2633[_0x30c7c3(0x1ab)]['code']=_0x5439be['setCode'],_0x327cb7[_0x30c7c3(0x121)](_0x1f2633),_0x1f2633[_0x30c7c3(0x1b9)](_0x30c7c3(0x206),()=>_0x39d206=!![]),_0x1f2633[_0x30c7c3(0x1b9)](_0x30c7c3(0x109),function(){var _0x330c1e=_0x30c7c3;_0x39d206=![],_0x2cd587[_0x330c1e(0x1c7)](_0x5439be),_0x2a4ff7[_0x330c1e(0x110)](_0x2a4ff7[_0x330c1e(0x135)](_0x17c903=>_0x17c903[_0x330c1e(0x20e)]===_0x5439be[_0x330c1e(0x20e)]),0x1),_0x24b5ed[_0x330c1e(0x1aa)]='',_0x5c6adf(),_0x446995();});});}function _0x5c6adf(){var _0x5040f9=_0x264fab;_0x210ddf['innerHTML']='',_0x2cd587[_0x5040f9(0xe2)](_0x476d9a=>{var _0x5c6ed=_0x5040f9,_0x1af398=document[_0x5c6ed(0x1b4)]('div');_0x1af398[_0x5c6ed(0x191)]=_0x5c6ed(0x203),_0x1af398['textContent']=_0x476d9a[_0x5c6ed(0x1b3)];var _0x261a0e=document[_0x5c6ed(0x1b4)](_0x5c6ed(0x18f));_0x261a0e[_0x5c6ed(0x191)]=_0x5c6ed(0xe8),_0x261a0e[_0x5c6ed(0x1ed)]='',_0x261a0e[_0x5c6ed(0x1b9)](_0x5c6ed(0x109),function(){var _0x1e61f6=_0x5c6ed;_0x2a4ff7['push'](_0x476d9a);const _0x9347ed=_0x2cd587['findIndex'](_0x51911f=>_0x51911f[_0x1e61f6(0x20e)]===_0x476d9a[_0x1e61f6(0x20e)]);if(_0x9347ed>-0x1)_0x2cd587[_0x1e61f6(0x110)](_0x9347ed,0x1);_0x5c6adf(),_0x446995();}),_0x1af398['appendChild'](_0x261a0e),_0x210ddf[_0x5c6ed(0x121)](_0x1af398);}),_0x47c8d5[_0x5040f9(0x123)](new CustomEvent('selectionChange',{'detail':_0x2cd587,'bubbles':!![]}));}return _0x24b5ed['addEventListener']('focus',function(){var _0x21e5fa=_0x264fab;_0x4d1534&&(clearTimeout(_0x4d1534),_0x4d1534=null),_0x327cb7[_0x21e5fa(0x167)][_0x21e5fa(0x1fa)](_0x21e5fa(0x14d));}),_0x24b5ed[_0x264fab(0x1b9)](_0x264fab(0x1b7),_0x446995),_0x24b5ed[_0x264fab(0x1b9)]('keydown',function(_0x118356){var _0x17d258=_0x264fab;_0x118356['key']===_0x17d258(0x1c2)&&(_0x118356['preventDefault'](),_0x5e8123());}),_0x24b5ed['addEventListener'](_0x264fab(0x1a4),function(){if(_0x39d206)return;_0x4d1534=setTimeout(()=>{_0x5e8123(),_0x4d1534=null;},0xc8);}),document[_0x264fab(0x1b9)](_0x264fab(0x109),function(_0x135964){var _0x2d2a03=_0x264fab;!_0x47c8d5['contains'](_0x135964[_0x2d2a03(0x196)])&&_0x327cb7[_0x2d2a03(0x167)][_0x2d2a03(0x156)](_0x2d2a03(0x14d));}),_0x446995(),_0x2cd587;}function getLastCode(_0x43d4b4){var _0x2c6259=_0x218aa8;const _0x38c8e5=_0x43d4b4[_0x2c6259(0x114)](_0x4024d2=>String(_0x4024d2[_0x2c6259(0x1d5)])[_0x2c6259(0x1c8)]())[_0x2c6259(0x18c)](_0x42fbd4=>_0x42fbd4!=='');if(_0x38c8e5[_0x2c6259(0x1d9)]===0x0)return'';const _0x44772d=_0x38c8e5[_0x2c6259(0x15f)](_0x33ec85=>/^\d+$/[_0x2c6259(0x10b)](_0x33ec85));if(_0x44772d){const _0xf47278=_0x38c8e5[_0x2c6259(0x114)](Number),_0x2fe19d=Math[_0x2c6259(0xcf)](..._0xf47278);return String(_0x2fe19d);}let _0x45c177;if(typeof Intl!==_0x2c6259(0x1f0)&&Intl[_0x2c6259(0x112)]){const _0x2b92e3=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x2c6259(0x122)});_0x45c177=_0x38c8e5['slice']()[_0x2c6259(0x18a)](_0x2b92e3[_0x2c6259(0x177)]);}else{const _0x323127=_0x38c8e5[_0x2c6259(0x15f)](_0x29784b=>/^\d+$/[_0x2c6259(0x10b)](_0x29784b));_0x323127?_0x45c177=_0x38c8e5[_0x2c6259(0x114)](Number)[_0x2c6259(0x18a)]((_0x522689,_0x3c81eb)=>_0x522689-_0x3c81eb)[_0x2c6259(0x114)](String):_0x45c177=_0x38c8e5[_0x2c6259(0x115)]()[_0x2c6259(0x18a)]();}return _0x45c177[_0x45c177[_0x2c6259(0x1d9)]-0x1];}function getNextCode(_0x3df121){var _0x4c749f=_0x218aa8;const _0x59e48d=getLastCode(_0x3df121);if(!_0x59e48d)return'';if(/^\d+$/[_0x4c749f(0x10b)](_0x59e48d))return String(Number(_0x59e48d)+0x1);const _0x540869=_0x59e48d[_0x4c749f(0x1a8)](/^([A-Za-z]*)(\d+)$/);if(_0x540869){const [,_0x38ef13,_0x1d08e7]=_0x540869,_0x292372=String(Number(_0x1d08e7)+0x1)['padStart'](_0x1d08e7[_0x4c749f(0x1d9)],'0');return _0x38ef13+_0x292372;}return _0x59e48d;}document[_0x218aa8(0x19c)](_0x218aa8(0x132))[_0x218aa8(0x1b9)](_0x218aa8(0x1b7),function(_0x3b4303){var _0x453dfe=_0x218aa8;baseItem[_0x453dfe(0x111)]=_0x3b4303[_0x453dfe(0x196)][_0x453dfe(0x1aa)];}),document[_0x218aa8(0x19c)](_0x218aa8(0x104))[_0x218aa8(0x1b9)](_0x218aa8(0x1b7),function(_0x41960d){var _0x2764ec=_0x218aa8;baseItem['setItemDescription']=_0x41960d['target'][_0x2764ec(0x1aa)];}),document[_0x218aa8(0x19c)]('inputItemDateExpiry')[_0x218aa8(0x1b9)](_0x218aa8(0x1b7),function(_0xd5fc0e){var _0x3d54f9=_0x218aa8;baseItem[_0x3d54f9(0x17a)]=_0xd5fc0e['target']['value'];}),document[_0x218aa8(0x19c)](_0x218aa8(0x207))[_0x218aa8(0x1b9)](_0x218aa8(0x197),function(_0x4e2377){var _0x3b7de5=_0x218aa8;baseItem[_0x3b7de5(0x155)]=_0x4e2377[_0x3b7de5(0x196)][_0x3b7de5(0x1aa)];}),document['getElementById']('inputItemTax')[_0x218aa8(0x1b9)]('change',function(_0x2ec51e){var _0x54ef9f=_0x218aa8;baseItem['setItemTaxId']=_0x2ec51e[_0x54ef9f(0x196)][_0x54ef9f(0x1aa)];const _0x13469e=_0x2ec51e[_0x54ef9f(0x196)][_0x54ef9f(0x1aa)],_0x2dc7a4=company[0x0][_0x54ef9f(0x1bb)][_0x54ef9f(0xc8)](_0x2ca277=>_0x2ca277[_0x54ef9f(0xef)]==_0x13469e)?.[_0x54ef9f(0x1c0)]||0x0,_0x18f883=company[0x0][_0x54ef9f(0x1bb)]['find'](_0x5bda76=>_0x5bda76['setTaxId']==_0x13469e)?.[_0x54ef9f(0xf5)]||0x0;baseItem[_0x54ef9f(0x116)]=_0x2dc7a4,baseItem[_0x54ef9f(0x1a9)]=_0x18f883;}),document[_0x218aa8(0x19c)](_0x218aa8(0x11b))[_0x218aa8(0x1b9)](_0x218aa8(0x197),function(_0x25260e){var _0x2f1d07=_0x218aa8;baseItem[_0x2f1d07(0x1ca)]=_0x25260e[_0x2f1d07(0x196)][_0x2f1d07(0x1a0)];}),document['getElementById'](_0x218aa8(0x19d))['addEventListener']('change',function(_0x3cb834){var _0x344f18=_0x218aa8;baseItem[_0x344f18(0x15c)]=_0x3cb834['target']['checked'];}),document[_0x218aa8(0x19c)](_0x218aa8(0x15b))['addEventListener']('input',function(_0x37e19e){var _0x475120=_0x218aa8;baseItem[_0x475120(0x187)]=_0x37e19e[_0x475120(0x196)][_0x475120(0x1aa)];}),document[_0x218aa8(0x19c)](_0x218aa8(0x1a7))[_0x218aa8(0x1b9)](_0x218aa8(0x1b7),function(_0x54c99b){var _0x24d354=_0x218aa8;baseItem[_0x24d354(0x19b)]=_0x54c99b[_0x24d354(0x196)][_0x24d354(0x1aa)];}),document[_0x218aa8(0x19c)](_0x218aa8(0x17d))[_0x218aa8(0x1b9)](_0x218aa8(0x109),function(){addUnit(),updateUnitsArray();}),document['getElementById'](_0x218aa8(0x15b))[_0x218aa8(0x1b9)](_0x218aa8(0x1a4),function(){var _0x111299=_0x218aa8;const _0x5e4eb8=this[_0x111299(0x1aa)]['trim']();if(_0x5e4eb8==='')return;const _0x2c99e9=products[_0x111299(0x1ae)](_0x55c920=>_0x55c920[_0x111299(0x1d5)]==_0x5e4eb8),_0x36bee5=getLastCode(products);_0x2c99e9?ntfShow(_0x111299(0xf6)+_0x36bee5,0x2,0x1):ntfShow(_0x111299(0x119),0x1,0x1);});function removeImg(_0x37b72a){var _0x251878=_0x218aa8;currentImages[_0x37b72a]=null;var _0xd0efef=imgC[_0x251878(0x193)](_0x251878(0x151)+_0x37b72a+'\x22]');_0xd0efef[_0x251878(0x10d)]='';var _0x3a943f=document['createElement'](_0x251878(0x1b7));_0x3a943f[_0x251878(0x17c)]=_0x251878(0xf4),_0x3a943f[_0x251878(0x13e)]=_0x251878(0x198),_0x3a943f[_0x251878(0x147)][_0x251878(0x1e4)]=_0x251878(0x176);var _0x162207=document[_0x251878(0x1b4)]('span');_0x162207[_0x251878(0x1ed)]='+',_0xd0efef[_0x251878(0x121)](_0x3a943f),_0xd0efef['appendChild'](_0x162207),_0xd0efef[_0x251878(0x1b9)]('click',function(){var _0x85d963=_0x251878;_0x3a943f[_0x85d963(0x109)]();}),baseItem[_0x251878(0x1ff)]=currentImages['filter'](function(_0x4de75f){return _0x4de75f;});}function addUnit(_0x308d0e,_0x409881,_0x27a62e,_0x22e9c9,_0x2e8df3,_0xf310ad,_0x2f4528){var _0x45f28e=_0x218aa8,_0x5c8694=uniqueValuesArray('setUnitCode',_0x45f28e(0x20b),myCompany[_0x45f28e(0xda)]);_0x308d0e=_0x308d0e||'',_0x409881=_0x409881||_0x5c8694[0x3a]&&_0x5c8694[0x3a][_0x45f28e(0x20e)]||'',_0x27a62e=_0x27a62e!==undefined?_0x27a62e:0x1,_0x22e9c9=!!_0x22e9c9,_0x2e8df3=_0x2e8df3||'',_0xf310ad=_0xf310ad||'';var _0x55bfed=unitCount++,_0x9e059c=document['createElement'](_0x45f28e(0xd0));_0x9e059c[_0x45f28e(0x1ab)]['idx']=_0x55bfed,_0x9e059c[_0x45f28e(0x1ab)][_0x45f28e(0x1ac)]=_0x22e9c9,_0x9e059c[_0x45f28e(0x10d)]=_0x45f28e(0x1b5)+_0x55bfed+_0x45f28e(0x16c)+_0x308d0e+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x55bfed+_0x45f28e(0x192)+_0x55bfed+_0x45f28e(0x16c)+_0x27a62e+'\x22\x20'+(_0x22e9c9?_0x45f28e(0xee):'')+'>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22'+_0x55bfed+_0x45f28e(0x16c)+_0x2e8df3+_0x45f28e(0xce)+_0x55bfed+_0x45f28e(0x16c)+_0xf310ad+_0x45f28e(0x1df)+(_0x22e9c9?'style=\x22display:none\x22':'')+_0x45f28e(0x10f),fillSelect(_0x9e059c[_0x45f28e(0x193)](_0x45f28e(0xff)),_0x5c8694,_0x45f28e(0x20e),'setName'),_0x9e059c[_0x45f28e(0x193)](_0x45f28e(0xff))[_0x45f28e(0x1aa)]=_0x409881,[_0x45f28e(0x13f),_0x45f28e(0x145),_0x45f28e(0x184),_0x45f28e(0x118),_0x45f28e(0x1cb)][_0x45f28e(0xe2)](function(_0x315a4c){var _0x10a789=_0x45f28e;_0x9e059c['querySelector']('.'+_0x315a4c)[_0x10a789(0x1b9)](_0x10a789(0x1b7),function(){var _0x3c14f9=_0x10a789,_0x46ef69=_0x2f4528?+_0x2f4528['id'][_0x3c14f9(0xf8)]('_')[0x1]:null;if(_0x2f4528)updateVariantUnits(_0x46ef69);else updateUnitsArray();});}),_0x9e059c[_0x45f28e(0x193)](_0x45f28e(0x102))[_0x45f28e(0x1b9)](_0x45f28e(0x109),function(){var _0x368cba=_0x45f28e;_0x9e059c[_0x368cba(0x1fa)]();var _0x5df2c8=_0x2f4528?+_0x2f4528['id'][_0x368cba(0xf8)]('_')[0x1]:null;if(_0x2f4528)updateVariantUnits(_0x5df2c8);else updateUnitsArray();});var _0x410edf=_0x2f4528||document[_0x45f28e(0x19c)]('newItem_units_container');_0x410edf[_0x45f28e(0x121)](_0x9e059c);}function containerIdx(_0x2edee0){var _0x13c3c8=_0x218aa8;return+_0x2edee0['id'][_0x13c3c8(0xf8)]('_')[0x1];}function updateUnitsArray(){var _0x2d8aaf=_0x218aa8,_0xacc208=[],_0x139716=Array[_0x2d8aaf(0x113)](document[_0x2d8aaf(0x209)](_0x2d8aaf(0xf2))),_0x21dab1=_0x139716[_0x2d8aaf(0xc8)](_0x1d2af0=>_0x1d2af0[_0x2d8aaf(0x1ab)][_0x2d8aaf(0x1ac)]===_0x2d8aaf(0x100)),_0x187558=_0x21dab1?+_0x21dab1[_0x2d8aaf(0x193)]('.eqInput')['value']:0x1;_0x139716['forEach'](function(_0x5257ad){var _0x459e0a=_0x2d8aaf,_0x415521=+_0x5257ad[_0x459e0a(0x193)]('.eqInput')[_0x459e0a(0x1aa)]||0x0,_0x2f008a=+_0x5257ad['querySelector'](_0x459e0a(0xe3))[_0x459e0a(0x1aa)]||0x0,_0x4b8fb8=+_0x5257ad[_0x459e0a(0x193)](_0x459e0a(0x1cc))[_0x459e0a(0x1aa)]||0x0;_0xacc208[_0x459e0a(0x1c7)]({'setAlias':_0x5257ad[_0x459e0a(0x193)](_0x459e0a(0x10e))['value'][_0x459e0a(0x1c8)](),'setUnitCode':_0x5257ad[_0x459e0a(0x193)](_0x459e0a(0xff))[_0x459e0a(0x1aa)],'setEquivalence':_0x415521,'setFactor':_0x5257ad[_0x459e0a(0x1ab)]['default']===_0x459e0a(0x100)?0x1:_0x415521==_0x187558?0x1:_0x415521<_0x187558?_0x187558/_0x415521:_0x415521/_0x187558,'setPrice':_0x2f008a,'setCost':_0x4b8fb8,'setDefault':_0x5257ad[_0x459e0a(0x1ab)]['default']===_0x459e0a(0x100)?0x1:0x0});}),baseItem[_0x2d8aaf(0xe9)]=_0xacc208;}function updateBranches(){var _0x4869c2=_0x218aa8,_0x11b727=[];document[_0x4869c2(0x209)](_0x4869c2(0x1d4))[_0x4869c2(0xe2)](function(_0x5d7d84){var _0x45433d=_0x4869c2,_0x522375=_0x5d7d84[_0x45433d(0x193)](_0x45433d(0x14a));if(_0x522375[_0x45433d(0x1a0)]){var _0x3376e4=+_0x522375[_0x45433d(0x1ab)]['id'],_0x5c1490=+_0x5d7d84['querySelector']('.branchInit')['value'],_0x37a780=+_0x5d7d84[_0x45433d(0x193)](_0x45433d(0x1fb))['value'];_0x11b727[_0x45433d(0x1c7)]({'setWarehouseCode':_0x3376e4,'setStockInitial':_0x5c1490,'setStockMinimum':_0x37a780});}}),baseItem[_0x4869c2(0x1dc)]=_0x11b727;}document[_0x218aa8(0x19c)](_0x218aa8(0xc7))[_0x218aa8(0x1b9)](_0x218aa8(0x109),function(){var _0x292cfb=_0x218aa8,_0x19f084=Date[_0x292cfb(0xfb)](),_0x5eba9e=document[_0x292cfb(0x1b4)](_0x292cfb(0xd0));_0x5eba9e[_0x292cfb(0x1ab)]['idx']=_0x19f084,_0x5eba9e['innerHTML']='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x19f084+_0x292cfb(0x11c)+_0x19f084+_0x292cfb(0xdf),prodC[_0x292cfb(0x121)](_0x5eba9e),initProdSearch(_0x5eba9e[_0x292cfb(0x193)](_0x292cfb(0x1ec))),_0x5eba9e[_0x292cfb(0x193)](_0x292cfb(0x136))['addEventListener'](_0x292cfb(0x109),function(){_0x5eba9e['remove'](),updateProdItems();}),_0x5eba9e[_0x292cfb(0x193)](_0x292cfb(0x1eb))['addEventListener'](_0x292cfb(0x1b7),updateProdItems),document['getElementById'](_0x292cfb(0x11f))['classList']['toggle'](_0x292cfb(0x11e),!![]),document[_0x292cfb(0x19c)](_0x292cfb(0x11f))[_0x292cfb(0x167)][_0x292cfb(0xfd)](_0x292cfb(0x14d),![]);});function initProdSearch(_0x3a13ac,_0x4f963a){var _0x2396d8=_0x218aa8,_0x2066cd=_0x3a13ac[_0x2396d8(0x193)]('.prodInput'),_0x1ac628=_0x3a13ac[_0x2396d8(0x193)](_0x2396d8(0x212)),_0x2fb962=_0x4f963a||null;if(_0x4f963a)_0x2066cd[_0x2396d8(0x1aa)]=_0x4f963a[_0x2396d8(0x200)];_0x2066cd[_0x2396d8(0x1b9)](_0x2396d8(0x1b7),function(){var _0x32e605=_0x2396d8,_0x109c99=_0x2066cd[_0x32e605(0x1aa)][_0x32e605(0x1fd)]()[_0x32e605(0x1c8)]();_0x1ac628[_0x32e605(0x10d)]='';if(!_0x109c99)return;products[_0x32e605(0x18c)](_0x509d9a=>_0x509d9a[_0x32e605(0x1e0)][_0x32e605(0x1fd)]()[_0x32e605(0xdd)](_0x109c99))['slice'](0x0,0x14)['forEach'](function(_0x3c9a6d){var _0x19a68c=_0x32e605,_0x3e52c1=document[_0x19a68c(0x1b4)](_0x19a68c(0xd0));_0x3e52c1['textContent']=_0x3c9a6d[_0x19a68c(0x1e0)],_0x3e52c1[_0x19a68c(0x1ab)]['id']=_0x3c9a6d['id'],_0x3e52c1[_0x19a68c(0x1ab)][_0x19a68c(0x200)]=_0x3c9a6d[_0x19a68c(0x1e0)],_0x1ac628[_0x19a68c(0x121)](_0x3e52c1),_0x3e52c1['addEventListener'](_0x19a68c(0x109),function(){var _0x37dbd7=_0x19a68c;_0x2fb962={'id':_0x3c9a6d['id'],'name':_0x3c9a6d[_0x37dbd7(0x1e0)]},_0x2066cd[_0x37dbd7(0x1aa)]=_0x3c9a6d[_0x37dbd7(0x1e0)],_0x1ac628[_0x37dbd7(0x10d)]='';var _0x1c137b=_0x3a13ac[_0x37dbd7(0x17e)](_0x37dbd7(0x117));if(_0x1c137b){var _0x580a44=+_0x1c137b['id'][_0x37dbd7(0xf8)]('_')[0x1];updateVariantComponents(_0x580a44);}else updateProdItems();});});}),_0x2066cd['addEventListener']('focus',function(){var _0x5b60b5=_0x2396d8;_0x1ac628[_0x5b60b5(0x167)][_0x5b60b5(0x1fa)](_0x5b60b5(0x14d));}),document['addEventListener']('click',function(_0x2eac3d){var _0x1228a5=_0x2396d8;if(!_0x3a13ac[_0x1228a5(0x146)](_0x2eac3d['target']))_0x1ac628['classList'][_0x1228a5(0x156)](_0x1228a5(0x14d));}),Object['defineProperty'](_0x3a13ac,_0x2396d8(0x1d7),{'get':()=>_0x2fb962});}function updateProdItems(){var _0x31c4da=_0x218aa8,_0x529be5=[];Array[_0x31c4da(0x113)](prodC[_0x31c4da(0x143)])[_0x31c4da(0xe2)](function(_0x52cc2b){var _0x44eaee=_0x31c4da,_0x241a35=_0x52cc2b[_0x44eaee(0x193)](_0x44eaee(0x1ec));if(!_0x241a35)return;var _0x33856f=_0x52cc2b[_0x44eaee(0x193)](_0x44eaee(0x1eb)),_0x2e4849=_0x241a35['selectedItem'];_0x2e4849&&_0x529be5['push']({'setItemId':_0x2e4849['id'],'setDescripcion':_0x2e4849['name'],'setCantidad':+_0x33856f[_0x44eaee(0x1aa)]});}),baseItem[_0x31c4da(0x1e5)]=_0x529be5,_0x529be5[_0x31c4da(0x1d9)]===0x0&&(document['getElementById']('newItem_title_table_cp')['classList'][_0x31c4da(0xfd)](_0x31c4da(0x11e),![]),document['getElementById'](_0x31c4da(0x11f))[_0x31c4da(0x167)]['toggle'](_0x31c4da(0x14d),!![]));}document[_0x218aa8(0x19c)](_0x218aa8(0xe1))[_0x218aa8(0x1b9)](_0x218aa8(0x109),function(){var _0xb51bc=_0x218aa8,_0x322354=vgCount++,_0x348a4c=document[_0xb51bc(0x1b4)](_0xb51bc(0xd0));_0x348a4c[_0xb51bc(0x1ab)][_0xb51bc(0x134)]=_0x322354,_0x348a4c['innerHTML']='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x322354+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x322354+'\x22>'+_0xb51bc(0xd1),vgC['appendChild'](_0x348a4c),_0x348a4c[_0xb51bc(0x193)](_0xb51bc(0xdb))['addEventListener']('blur',generateVariants),_0x348a4c[_0xb51bc(0x193)](_0xb51bc(0x1b6))[_0xb51bc(0x1b9)](_0xb51bc(0x1a4),generateVariants),_0x348a4c[_0xb51bc(0x193)](_0xb51bc(0xd6))['addEventListener']('click',function(){var _0xa25329=_0xb51bc;_0x348a4c[_0xa25329(0x1fa)](),generateVariants();});});function generateVariants(){var _0x3008ab=_0x218aa8,_0x31e7ee=[];vgC[_0x3008ab(0x209)](_0x3008ab(0xd0))[_0x3008ab(0xe2)](function(_0xd1b89c){var _0x475a18=_0x3008ab,_0x384425=_0xd1b89c[_0x475a18(0x193)](_0x475a18(0xdb))['value'][_0x475a18(0x1c8)](),_0x482858=_0xd1b89c[_0x475a18(0x193)](_0x475a18(0x1b6))['value'][_0x475a18(0xf8)](',')[_0x475a18(0x114)](_0x36d77f=>_0x36d77f[_0x475a18(0x1c8)]())[_0x475a18(0x18c)](_0x5214d6=>_0x5214d6);if(_0x384425&&_0x482858[_0x475a18(0x1d9)])_0x31e7ee[_0x475a18(0x1c7)]({'name':_0x384425,'vals':_0x482858});});var _0x11b413=[{}];_0x31e7ee[_0x3008ab(0xe2)](function(_0x2cf99b){var _0x1ad2b9=_0x3008ab;_0x11b413=_0x11b413[_0x1ad2b9(0x13c)](function(_0x1c7ed1){var _0xaa8025=_0x1ad2b9;return _0x2cf99b[_0xaa8025(0x171)][_0xaa8025(0x114)](function(_0x6d4587){var _0x657adb=_0xaa8025,_0x426397=Object[_0x657adb(0x173)]({},_0x1c7ed1);return _0x426397[_0x2cf99b['name']]=_0x6d4587,_0x426397;});});}),newItems=[],varContainer[_0x3008ab(0x10d)]='',_0x11b413[_0x3008ab(0xe2)](function(_0x937c29,_0x51f3a8){var _0x1f2da2=_0x3008ab,_0x49eeea=JSON['parse'](JSON[_0x1f2da2(0x204)](baseItem));_0x49eeea[_0x1f2da2(0x1fc)]=_0x937c29,_0x49eeea['setItemVariantName']=baseItem[_0x1f2da2(0x111)]+'\x20'+Object['entries'](_0x937c29)['map'](_0x1a0e79=>_0x1a0e79[0x0]+'\x20'+_0x1a0e79[0x1])[_0x1f2da2(0xed)]('\x20'),newItems[_0x1f2da2(0x1c7)](_0x49eeea);var _0x4182ff=document[_0x1f2da2(0x1b4)]('div');_0x4182ff[_0x1f2da2(0x167)][_0x1f2da2(0x156)](_0x1f2da2(0x1f5)),_0x4182ff[_0x1f2da2(0x1ab)][_0x1f2da2(0x134)]=_0x51f3a8,_0x4182ff[_0x1f2da2(0x10d)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x49eeea[_0x1f2da2(0x190)]+_0x1f2da2(0x154)+_0x49eeea['setItemCode']+_0x1f2da2(0xea)+_0x49eeea[_0x1f2da2(0x19b)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x49eeea[_0x1f2da2(0x17a)]+_0x1f2da2(0x1f1)+_0x51f3a8+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x51f3a8+_0x1f2da2(0x1bc)+_0x51f3a8+_0x1f2da2(0x1f6),varContainer[_0x1f2da2(0x121)](_0x4182ff),_0x4182ff['querySelector']('.variantCode')[_0x1f2da2(0x1b9)](_0x1f2da2(0x1b7),_0x7d94a9=>newItems[_0x51f3a8][_0x1f2da2(0x187)]=_0x7d94a9[_0x1f2da2(0x196)][_0x1f2da2(0x1aa)]),_0x4182ff[_0x1f2da2(0x193)]('.variantBarCode')[_0x1f2da2(0x1b9)](_0x1f2da2(0x1b7),_0x35b14b=>newItems[_0x51f3a8][_0x1f2da2(0x19b)]=_0x35b14b[_0x1f2da2(0x196)][_0x1f2da2(0x1aa)]),_0x4182ff[_0x1f2da2(0x193)]('.variantExpiry')[_0x1f2da2(0x1b9)](_0x1f2da2(0x197),_0x30655b=>newItems[_0x51f3a8][_0x1f2da2(0x17a)]=_0x30655b[_0x1f2da2(0x196)][_0x1f2da2(0x1aa)]),initVariantUnits(_0x51f3a8),initVariantComponents(_0x51f3a8),initVariantBranches(_0x51f3a8),_0x4182ff[_0x1f2da2(0x193)](_0x1f2da2(0x153))[_0x1f2da2(0x1b9)]('click',function(){var _0xdb0665=_0x1f2da2,_0x1feade=+_0x4182ff['dataset'][_0xdb0665(0x134)];newItems['splice'](_0x1feade,0x1),_0x4182ff['remove'](),document[_0xdb0665(0x209)](_0xdb0665(0xf9))[_0xdb0665(0xe2)](function(_0x20eff0,_0x10a9b5){var _0xe5a56=_0xdb0665;_0x20eff0[_0xe5a56(0x1ab)]['idx']=_0x10a9b5;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0xc7e665){var _0x52b649=_0x218aa8,_0x3ec456=document[_0x52b649(0x19c)](_0x52b649(0xe6)+_0xc7e665+_0x52b649(0xe5)),_0x1109af=[];Array['from'](_0x3ec456['children'])[_0x52b649(0xe2)](function(_0x18fd43){var _0x71ee0a=_0x52b649,_0x2c90f4=+_0x18fd43[_0x71ee0a(0x193)]('.eqInput')[_0x71ee0a(0x1aa)]||0x0,_0x5d5cbe=_0x18fd43['querySelector'](_0x71ee0a(0x10e))[_0x71ee0a(0x1aa)]['trim'](),_0x819799=_0x18fd43['querySelector']('.unitSelect')[_0x71ee0a(0x1aa)],_0x5555a5=+_0x18fd43[_0x71ee0a(0x193)]('.priceInput')['value']||0x0,_0x232277=+_0x18fd43[_0x71ee0a(0x193)]('.costInput')[_0x71ee0a(0x1aa)]||0x0,_0xa1a29c=_0x18fd43[_0x71ee0a(0x1ab)][_0x71ee0a(0x1ac)]==='true',_0x15f159=+_0x3ec456[_0x71ee0a(0x193)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x71ee0a(0x1aa)]||0x1,_0x290678=_0xa1a29c?0x1:_0x2c90f4==_0x15f159?0x1:_0x2c90f4<_0x15f159?_0x15f159/_0x2c90f4:_0x2c90f4/_0x15f159;_0x1109af[_0x71ee0a(0x1c7)]({'setAlias':_0x5d5cbe,'setUnitCode':_0x819799,'setEquivalence':_0x2c90f4,'setFactor':_0x290678,'setPrice':_0x5555a5,'setCost':_0x232277,'setDefault':_0xa1a29c?0x1:0x0});}),newItems[_0xc7e665]['setItemUnits']=_0x1109af;}function initVariantUnits(_0x1716a8){var _0x142a81=_0x218aa8,_0x367bee=document[_0x142a81(0x19c)](_0x142a81(0xe6)+_0x1716a8+'_units_container');_0x367bee[_0x142a81(0x10d)]='',newItems[_0x1716a8][_0x142a81(0xe9)][_0x142a81(0xe2)](function(_0x4305fe){var _0x1e2915=_0x142a81;addUnit(_0x4305fe[_0x1e2915(0x162)],_0x4305fe[_0x1e2915(0x1d8)],_0x4305fe[_0x1e2915(0xe4)],_0x4305fe['setDefault'],_0x4305fe[_0x1e2915(0x180)],_0x4305fe[_0x1e2915(0x202)],_0x367bee);}),_0x367bee['parentNode'][_0x142a81(0x193)](_0x142a81(0x172))['addEventListener'](_0x142a81(0x109),function(){addUnit('','',0x1,![],'','',_0x367bee),updateVariantUnits(_0x1716a8);});}function updateVariantUnits(_0x3e13ce){var _0x4bbdee=_0x218aa8,_0x274cbc=document['getElementById'](_0x4bbdee(0xe6)+_0x3e13ce+_0x4bbdee(0xe5)),_0x51b91b=_0x274cbc[_0x4bbdee(0x193)](_0x4bbdee(0x1d3)),_0xdf82df=_0x51b91b?+_0x51b91b[_0x4bbdee(0x1aa)]:0x1,_0x11e87b=Array[_0x4bbdee(0x113)](_0x274cbc[_0x4bbdee(0x143)])[_0x4bbdee(0x114)](function(_0xb88e41){var _0x4fb94e=_0x4bbdee,_0x545eaa=_0xb88e41['querySelector'](_0x4fb94e(0x10e))[_0x4fb94e(0x1aa)][_0x4fb94e(0x1c8)](),_0x304f11=_0xb88e41[_0x4fb94e(0x193)](_0x4fb94e(0xff))[_0x4fb94e(0x1aa)],_0x4a5654=+_0xb88e41['querySelector'](_0x4fb94e(0x16d))[_0x4fb94e(0x1aa)]||0x0,_0x2183e2=+_0xb88e41['querySelector'](_0x4fb94e(0xe3))[_0x4fb94e(0x1aa)]||0x0,_0x189b9f=+_0xb88e41[_0x4fb94e(0x193)]('.costInput')[_0x4fb94e(0x1aa)]||0x0,_0x2e4a39=_0xb88e41[_0x4fb94e(0x1ab)][_0x4fb94e(0x1ac)]==='true';return{'setAlias':_0x545eaa,'setUnitCode':_0x304f11,'setEquivalence':_0x4a5654,'setFactor':_0x2e4a39?0x1:_0x4a5654==_0xdf82df?0x1:_0x4a5654<_0xdf82df?_0xdf82df/_0x4a5654:_0x4a5654/_0xdf82df,'setPrice':_0x2183e2,'setCost':_0x189b9f,'setDefault':_0x2e4a39?0x1:0x0};});newItems[_0x3e13ce][_0x4bbdee(0xe9)]=_0x11e87b;}function initVariantComponents(_0x273495){var _0xfca252=_0x218aa8,_0x3391ab=document['getElementById'](_0xfca252(0xe6)+_0x273495+'_comp_container');_0x3391ab['innerHTML']='',newItems[_0x273495][_0xfca252(0x1e5)][_0xfca252(0xe2)](function(_0x3b6258){var _0x262eb1=_0xfca252,_0x512c0b=document['createElement'](_0x262eb1(0xd0)),_0x54af94=Date[_0x262eb1(0xfb)]();_0x512c0b[_0x262eb1(0x1ab)]['idx']=_0x54af94,_0x512c0b['innerHTML']=_0x262eb1(0x131)+_0x54af94+_0x262eb1(0x15e)+_0x3b6258[_0x262eb1(0x19a)]+_0x262eb1(0x1bd),_0x3391ab[_0x262eb1(0x121)](_0x512c0b),initProdSearch(_0x512c0b[_0x262eb1(0x193)](_0x262eb1(0x1ec)),{'id':_0x3b6258['setItemId'],'name':_0x3b6258[_0x262eb1(0x1e0)]}),_0x512c0b['querySelector']('.prodQty')[_0x262eb1(0x1b9)](_0x262eb1(0x1b7),function(){updateVariantComponents(_0x273495);}),_0x512c0b[_0x262eb1(0x193)](_0x262eb1(0x101))['addEventListener']('click',function(){var _0x2f8b31=_0x262eb1;_0x512c0b[_0x2f8b31(0x1fa)](),updateVariantComponents(_0x273495);});}),_0x3391ab[_0xfca252(0x14f)]['querySelector'](_0xfca252(0x194))[_0xfca252(0x1b9)](_0xfca252(0x109),function(){var _0x373b8d=_0xfca252,_0x961089=document['createElement']('div'),_0x47678f=Date[_0x373b8d(0xfb)]();_0x961089[_0x373b8d(0x1ab)][_0x373b8d(0x134)]=_0x47678f,_0x961089['innerHTML']=_0x373b8d(0x131)+_0x47678f+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x3391ab[_0x373b8d(0x121)](_0x961089),initProdSearch(_0x961089[_0x373b8d(0x193)](_0x373b8d(0x1ec))),_0x961089[_0x373b8d(0x193)](_0x373b8d(0x1eb))[_0x373b8d(0x1b9)]('input',function(){updateVariantComponents(_0x273495);}),_0x961089['querySelector']('.removeCombo')[_0x373b8d(0x1b9)](_0x373b8d(0x109),function(){var _0x32e691=_0x373b8d;_0x961089[_0x32e691(0x1fa)](),updateVariantComponents(_0x273495);});});}function updateVariantComponents(_0x4fbf10){var _0x27cdcd=_0x218aa8,_0x49c447=document['getElementById'](_0x27cdcd(0xe6)+_0x4fbf10+_0x27cdcd(0x148)),_0x4888f3=Array['from'](_0x49c447[_0x27cdcd(0x143)])[_0x27cdcd(0x114)](function(_0x338a3f){var _0x443344=_0x27cdcd,_0x4ab977=_0x338a3f[_0x443344(0x193)](_0x443344(0x1ec)),_0x3540de=_0x4ab977[_0x443344(0x1d7)],_0xa237a5=+_0x338a3f[_0x443344(0x193)](_0x443344(0x1eb))[_0x443344(0x1aa)]||0x0;return _0x3540de?{'setItemId':_0x3540de['id'],'setDescripcion':_0x3540de[_0x443344(0x200)],'setCantidad':_0xa237a5}:null;})[_0x27cdcd(0x18c)](_0x18bc28=>_0x18bc28);newItems[_0x4fbf10][_0x27cdcd(0x1e5)]=_0x4888f3;}function initVariantBranches(_0x1d78a1){var _0x3113af=_0x218aa8;const _0x401a19=getAllWarehouses();var _0x1b1a13=document[_0x3113af(0x19c)](_0x3113af(0xe6)+_0x1d78a1+_0x3113af(0x1c3));_0x1b1a13[_0x3113af(0x10d)]='',newItems[_0x1d78a1]['setItemWarehouses']['forEach'](function(_0x364d42){var _0x5d1379=_0x3113af,_0x3a9e1a=_0x401a19[_0x5d1379(0xc8)](_0x289627=>_0x289627[_0x5d1379(0x10c)]==_0x364d42[_0x5d1379(0xf1)]),_0x45f032=document[_0x5d1379(0x1b4)](_0x5d1379(0xd0));_0x45f032['innerHTML']='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x364d42[_0x5d1379(0xf1)]+_0x5d1379(0x126)+_0x3a9e1a['setWarehouseName']+_0x5d1379(0x142)+_0x364d42['setWarehouseCode']+_0x5d1379(0x16c)+_0x364d42['setStockInitial']+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x364d42[_0x5d1379(0xf1)]+_0x5d1379(0x16c)+_0x364d42[_0x5d1379(0x1af)]+'\x22>',_0x1b1a13[_0x5d1379(0x121)](_0x45f032),_0x45f032[_0x5d1379(0x209)](_0x5d1379(0x1b7))['forEach'](function(_0x3b81bc){var _0x43738c=_0x5d1379;_0x3b81bc['addEventListener'](_0x43738c(0x1b7),function(){updateVariantBranches(_0x1d78a1);});});}),_0x401a19['forEach'](function(_0x55ddba){var _0x7ed54f=_0x3113af;if(!newItems[_0x1d78a1][_0x7ed54f(0x1dc)][_0x7ed54f(0xc8)](_0x1a5d3d=>_0x1a5d3d[_0x7ed54f(0xf1)]===_0x55ddba['setWarehouseId'])){var _0x3f4302=document['createElement'](_0x7ed54f(0xd0));_0x3f4302[_0x7ed54f(0x10d)]=_0x7ed54f(0x1ef)+_0x55ddba[_0x7ed54f(0x10c)]+_0x7ed54f(0x208)+_0x55ddba[_0x7ed54f(0x128)]+_0x7ed54f(0x142)+_0x55ddba[_0x7ed54f(0x10c)]+_0x7ed54f(0x179)+_0x55ddba[_0x7ed54f(0x10c)]+'\x22>',_0x1b1a13['appendChild'](_0x3f4302),_0x3f4302['querySelectorAll'](_0x7ed54f(0x1b7))[_0x7ed54f(0xe2)](function(_0x536325){var _0x360102=_0x7ed54f;_0x536325[_0x360102(0x1b9)](_0x360102(0x1b7),function(){updateVariantBranches(_0x1d78a1);});});}});}function updateVariantBranches(_0x54e712){var _0xfee177=_0x218aa8,_0x315368=document[_0xfee177(0x19c)]('variant_'+_0x54e712+_0xfee177(0x1c3)),_0x2582a1=[];_0x315368['querySelectorAll'](_0xfee177(0xd0))[_0xfee177(0xe2)](function(_0x4cdd44){var _0x5aba73=_0xfee177,_0x4ef0a0=_0x4cdd44[_0x5aba73(0x193)](_0x5aba73(0x14a));if(_0x4ef0a0[_0x5aba73(0x1a0)]){var _0x3512ba=+_0x4ef0a0[_0x5aba73(0x1ab)]['id'],_0x4619fc=+_0x4cdd44[_0x5aba73(0x193)](_0x5aba73(0x185))[_0x5aba73(0x1aa)]||0x0,_0x5df2c6=+_0x4cdd44[_0x5aba73(0x193)](_0x5aba73(0x1fb))[_0x5aba73(0x1aa)]||0x0;_0x2582a1[_0x5aba73(0x1c7)]({'setWarehouseCode':_0x3512ba,'setStockInitial':_0x4619fc,'setStockMinimum':_0x5df2c6});}}),newItems[_0x54e712][_0xfee177(0x1dc)]=_0x2582a1;}async function storeOfflineProduct(_0x2429e5){var _0x418505=_0x218aa8;try{const _0x42e605=await createCartStore(''),_0x493619=_0x42e605[_0x418505(0x106)](_0x418505(0x1e3),_0x418505(0x186)),_0x423910=_0x493619[_0x418505(0x15d)](_0x418505(0x1e3));_0x423910[_0x418505(0x156)](_0x2429e5),_0x493619[_0x418505(0x188)]=()=>{var _0x4fe5d7=_0x418505;console['log'](_0x4fe5d7(0x1ce));},_0x493619[_0x418505(0xcc)]=_0x1b4477=>{var _0x28fccc=_0x418505;console[_0x28fccc(0x16b)](_0x28fccc(0x199),_0x1b4477[_0x28fccc(0x196)][_0x28fccc(0x16b)]);};}catch(_0x12e860){console[_0x418505(0x16b)](_0x418505(0x138),_0x12e860);}}document[_0x218aa8(0x19c)](_0x218aa8(0x144))[_0x218aa8(0x1b9)](_0x218aa8(0x109),async function(_0x490d15){var _0x5ab75f=_0x218aa8;_0x490d15[_0x5ab75f(0x1a6)]();const _0x390573=document['getElementById'](_0x5ab75f(0x15b)),_0x1810bd=document[_0x5ab75f(0x19c)]('setItemFree')[_0x5ab75f(0x1aa)];if(!_0x390573[_0x5ab75f(0x1aa)][_0x5ab75f(0x1c8)]()&&_0x1810bd==0x0){ntfShow(_0x5ab75f(0x170),0x2,0x1);return;}_0x1810bd==0x1&&(_0x390573[_0x5ab75f(0x1aa)]='',baseItem[_0x5ab75f(0x187)]='');const _0x619ef3=document[_0x5ab75f(0x19c)](_0x5ab75f(0x132));if(!_0x619ef3['value'][_0x5ab75f(0x1c8)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x5d6e8c=document[_0x5ab75f(0x19c)]('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x321c07=document['getElementById'](_0x5ab75f(0xd3))[_0x5ab75f(0x1aa)],_0x40dccf=window_options[_0x321c07][_0x5ab75f(0x18b)],_0x2e8846=[];newItems[_0x5ab75f(0xe2)](_0x302a8c=>{var _0x4d9596=_0x5ab75f;const _0x42f3ba=generateNumericUniqId();_0x302a8c[_0x4d9596(0xe9)][_0x4d9596(0xe2)](_0xaa2dad=>{var _0x3dcbfc=_0x4d9596;const _0xa36e77=generateNumericUniqId();_0xaa2dad[_0x3dcbfc(0x13d)]=_0xa36e77;const _0x2c7a89={'id':_0xa36e77,'setIdProducto':_0x42f3ba,'setCodProducto':_0x302a8c[_0x3dcbfc(0x187)],'setDescripcion':_0x302a8c[_0x3dcbfc(0x111)],'setItemDescription':_0x302a8c['setItemDescription'],'setBatchExpirationDate':_0x302a8c[_0x3dcbfc(0x17a)],'setBatchName':'','setCategoria':_0x302a8c[_0x3dcbfc(0x20c)][0x0]||'','setMarca':_0x302a8c['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0xaa2dad[_0x3dcbfc(0x1a2)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x302a8c[_0x3dcbfc(0x1ca)]?0x1:0x0,'setItemIsSold':_0x302a8c[_0x3dcbfc(0x15c)]?0x1:0x0,'setPorcentajeIgv':_0x302a8c['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x302a8c['setItemTaxId'],'setTipAfeIgv':_0x302a8c[_0x3dcbfc(0x116)],'setUnidad':_0xaa2dad[_0x3dcbfc(0x1d8)],'setUnidadCodigo':_0xaa2dad[_0x3dcbfc(0x1d8)],'setItemUnitAlias':_0xaa2dad[_0x3dcbfc(0x162)],'currency_data':[{'currency':_0x40dccf,'setMtoPrecioCostoUnitario':_0xaa2dad[_0x3dcbfc(0x202)],'setMtoPrecioUnitario':_0xaa2dad[_0x3dcbfc(0x180)],'setPriceLists':[]}],'sucursales':_0x302a8c['setItemWarehouses'][_0x3dcbfc(0x114)](_0x570ec1=>({'setIdSucursal':_0x570ec1[_0x3dcbfc(0xf1)],'setSucursalStock':_0x570ec1[_0x3dcbfc(0x1e7)]['toString'](),'setWarehouseStockMin':_0x570ec1[_0x3dcbfc(0x1af)]['toString']()})),'setItemFree':_0x302a8c[_0x3dcbfc(0x168)],'setItemBarCode':_0x302a8c[_0x3dcbfc(0x19b)],'setItemBrands':_0x302a8c[_0x3dcbfc(0x157)]['slice'](),'setItemCategories':_0x302a8c['setItemCategories']['slice'](),'setItemComponents':_0x302a8c['setItemComponents'][_0x3dcbfc(0x114)](_0x384594=>({..._0x384594})),'setItemImages':_0x302a8c[_0x3dcbfc(0x1ff)]['slice'](),'setItemVariantName':_0x302a8c[_0x3dcbfc(0x190)],'setItemVariantValues':{..._0x302a8c['setItemVariantValues']}};_0x2e8846['push'](_0x2c7a89),(_0x5d6e8c[_0x3dcbfc(0x1a0)]||_0x1810bd==0x1)&&addToCart(_0x2c7a89);});}),console[_0x5ab75f(0x161)]('Items\x20finales:',newItems),await finalizeImport(_0x2e8846,newItems,![]);}),[_0x218aa8(0xfc),_0x218aa8(0x1dd)][_0x218aa8(0xe2)](_0x3d4a72=>dropZone[_0x218aa8(0x1b9)](_0x3d4a72,_0x207cef=>{var _0x55d6f8=_0x218aa8;_0x207cef[_0x55d6f8(0x1a6)](),dropZone[_0x55d6f8(0x167)][_0x55d6f8(0x156)](_0x55d6f8(0x1dd));})),['dragleave','drop'][_0x218aa8(0xe2)](_0x47ed5a=>dropZone['addEventListener'](_0x47ed5a,_0x19ae40=>{var _0x4556de=_0x218aa8;_0x19ae40[_0x4556de(0x1a6)](),dropZone['classList'][_0x4556de(0x1fa)](_0x4556de(0x1dd));})),dropZone[_0x218aa8(0x1b9)](_0x218aa8(0x1a1),_0xd698f4=>{var _0x28bcbe=_0x218aa8;const _0x513967=_0xd698f4['dataTransfer'][_0x28bcbe(0x1b8)][0x0];if(!_0x513967)return;fileInput[_0x28bcbe(0x1b8)]=_0xd698f4[_0x28bcbe(0x1f7)]['files'],dropZone[_0x28bcbe(0x193)](_0x28bcbe(0x14b))[_0x28bcbe(0x1ed)]=_0x513967['name'],removeBtn[_0x28bcbe(0x11a)]=![],fileInput['dispatchEvent'](new Event(_0x28bcbe(0x197)));}),removeBtn[_0x218aa8(0x1b9)](_0x218aa8(0x109),()=>{var _0x35aca1=_0x218aa8;fileInput['value']='',dropZone['querySelector'](_0x35aca1(0x14b))[_0x35aca1(0x1ed)]=_0x35aca1(0xe0),removeBtn[_0x35aca1(0x11a)]=!![],progressBar[_0x35aca1(0x147)][_0x35aca1(0x1e4)]=_0x35aca1(0x176),statusDiv['textContent']='',uploadBtn[_0x35aca1(0xee)]=!![];});const exportBtn=document[_0x218aa8(0x19c)](_0x218aa8(0x16f));exportBtn['addEventListener'](_0x218aa8(0x109),onClickExportarItems);async function onClickExportarItems(){var _0x224116=_0x218aa8;if(!Array[_0x224116(0xcb)](products)||!products[_0x224116(0x1d9)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0x1be3d8=await fetch(_0x224116(0x166));if(!_0x1be3d8['ok'])throw new Error(_0x224116(0x1c5));const _0x5278e3=await _0x1be3d8[_0x224116(0x165)](),_0x1dc961=document[_0x224116(0x19c)](_0x224116(0x10c))[_0x224116(0x1aa)];let _0x196b07=products;const _0xc8a67c=getUserPermissionApiERP(0x2);_0xc8a67c==0x1&&(_0x196b07=products[_0x224116(0x18c)](_0x58e65d=>Array[_0x224116(0xcb)](_0x58e65d[_0x224116(0x1d6)])&&_0x58e65d[_0x224116(0x1d6)]['some'](_0x432b91=>String(_0x432b91[_0x224116(0x195)])==String(_0x1dc961))));const _0x5d2b4e=_0x196b07[_0x224116(0x205)]((_0x52990e,_0x21cfe4)=>{var _0x2bf098=_0x224116;const _0x4e4710=_0x21cfe4[_0x2bf098(0x1a5)];if(!_0x52990e[_0x4e4710])_0x52990e[_0x4e4710]=[];return _0x52990e[_0x4e4710][_0x2bf098(0x1c7)](_0x21cfe4),_0x52990e;},{}),_0x1af08d=Object[_0x224116(0x140)](_0x5d2b4e)[_0x224116(0x114)](_0x53ec56=>{var _0x1368ac=_0x224116;const _0x46028b=_0x53ec56[0x0],_0x3d20c9=_0x53ec56[0x1]||{},_0x36d445=_0x53ec56[0x2]||{};function _0x442f69(_0x4b4f5a,_0x1e360b,_0x299123){var _0x1b49e4=_0x4216;if(!_0x4b4f5a||!Array[_0x1b49e4(0xcb)](_0x4b4f5a['currency_data']))return'';const _0x5dbb31=_0x4b4f5a[_0x1b49e4(0x174)][_0x1b49e4(0xc8)](_0x1071c6=>_0x1071c6[_0x1b49e4(0x15a)]===_0x1e360b);return _0x5dbb31?_0x5dbb31[_0x299123]:'';}return{'id':_0x46028b[_0x1368ac(0x1a5)],'setItemType':_0x46028b[_0x1368ac(0x155)],'setCodProducto':_0x46028b['setCodProducto'],'setDescripcion':_0x46028b['setDescripcion'],'setItemDescription':_0x46028b[_0x1368ac(0x1bf)],'setItemIsSold':_0x46028b[_0x1368ac(0x15c)],'setItemIsBought':_0x46028b[_0x1368ac(0x1ca)],'setCategoria':_0x46028b[_0x1368ac(0x20a)],'setMarca':_0x46028b[_0x1368ac(0x11d)],'setTaxId':_0x46028b[_0x1368ac(0xef)],'setUnitId':_0x46028b['id'],'setItemBarCode':_0x46028b[_0x1368ac(0x19b)],'setUnidadCodigo':_0x46028b[_0x1368ac(0xca)],'setItemUnitAlias':_0x46028b[_0x1368ac(0x150)]??'','PEN_setMtoPrecioUnitario':_0x442f69(_0x46028b,_0x1368ac(0x14c),_0x1368ac(0x139)),'PEN_setMtoPrecioCostoUnitario':_0x442f69(_0x46028b,'PEN',_0x1368ac(0xcd)),'USD_setMtoPrecioUnitario':_0x442f69(_0x46028b,_0x1368ac(0x1f3),_0x1368ac(0x139)),'USD_setMtoPrecioCostoUnitario':_0x442f69(_0x46028b,_0x1368ac(0x1f3),_0x1368ac(0xcd)),'setItemCommissionPercentage':_0x46028b[_0x1368ac(0x1c9)]?parseFloat(_0x46028b['setItemCommissionPercentage']):'','setUnitId2':_0x3d20c9['id']??'','setItemBarCode2':_0x3d20c9['setItemBarCode']??'','setUnidadCodigo2':_0x3d20c9[_0x1368ac(0xca)]??'','setItemUnitAlias2':_0x3d20c9[_0x1368ac(0x150)]??'','setUnidadEquivalencia2':_0x3d20c9[_0x1368ac(0x16a)]??'','PEN_setMtoPrecioUnitario2':_0x442f69(_0x3d20c9,'PEN',_0x1368ac(0x139))??'','PEN_setMtoPrecioCostoUnitario2':_0x442f69(_0x3d20c9,_0x1368ac(0x14c),_0x1368ac(0xcd))??'','USD_setMtoPrecioUnitario2':_0x442f69(_0x3d20c9,_0x1368ac(0x1f3),_0x1368ac(0x139))??'','USD_setMtoPrecioCostoUnitario2':_0x442f69(_0x3d20c9,_0x1368ac(0x1f3),_0x1368ac(0xcd))??'','setItemCommissionPercentage2':_0x3d20c9[_0x1368ac(0x1c9)]?parseFloat(_0x3d20c9[_0x1368ac(0x1c9)]):'','setUnitId3':_0x36d445['id']??'','setItemBarCode3':_0x36d445[_0x1368ac(0x19b)]??'','setUnidadCodigo3':_0x36d445[_0x1368ac(0xca)]??'','setItemUnitAlias3':_0x36d445[_0x1368ac(0x150)]??'','setUnidadEquivalencia3':_0x36d445[_0x1368ac(0x16a)]??'','PEN_setMtoPrecioUnitario3':_0x442f69(_0x36d445,_0x1368ac(0x14c),_0x1368ac(0x139))??'','PEN_setMtoPrecioCostoUnitario3':_0x442f69(_0x36d445,_0x1368ac(0x14c),_0x1368ac(0xcd))??'','USD_setMtoPrecioUnitario3':_0x442f69(_0x36d445,_0x1368ac(0x1f3),_0x1368ac(0x139))??'','USD_setMtoPrecioCostoUnitario3':_0x442f69(_0x36d445,'USD',_0x1368ac(0xcd))??'','setItemCommissionPercentage3':_0x36d445[_0x1368ac(0x1c9)]?parseFloat(_0x36d445['setItemCommissionPercentage']):'','setInventariable':_0x46028b[_0x1368ac(0x178)],'setSucursalStock':_0xc8a67c==0x1?_0x46028b[_0x1368ac(0x1d6)][_0x1368ac(0xc8)](_0x1c089f=>String(_0x1c089f['setIdSucursal'])==String(_0x1dc961))['setSucursalStock']:'','setWarehouseStockMin':_0xc8a67c==0x1?_0x46028b[_0x1368ac(0x1d6)][_0x1368ac(0xc8)](_0x4b7106=>String(_0x4b7106[_0x1368ac(0x195)])==String(_0x1dc961))['setWarehouseStockMin']:'','setBatchName':_0x46028b[_0x1368ac(0x1ad)],'setBatchExpirationDate':_0x46028b[_0x1368ac(0xd2)],..._0x46028b[_0x1368ac(0x1fc)]};});try{JSON[_0x224116(0x204)](_0x1af08d);}catch(_0x240f10){console[_0x224116(0x16b)](_0x224116(0x160),_0x240f10),ntfShow(_0x224116(0x16e));return;}statusDiv['textContent']=_0x224116(0x18d),progressBar['style'][_0x224116(0x1e4)]=_0x224116(0x14e),progressBar['value']=0x0,itemWorker[_0x224116(0x1c6)]({'action':_0x224116(0x152),'products':_0x1af08d,'plantillaBuf':_0x5278e3},[_0x5278e3]);}catch(_0xa55e01){console[_0x224116(0x16b)](_0xa55e01),ntfShow(_0x224116(0xf7)+_0xa55e01[_0x224116(0x130)]);}}itemWorker[_0x218aa8(0x158)]=({data:_0xc8e71})=>{var _0x1f5454=_0x218aa8;const {type:_0x3793af,payload:_0x519c94}=_0xc8e71;_0x3793af===_0x1f5454(0xc9)&&(progressBar[_0x1f5454(0x147)][_0x1f5454(0x1e4)]='block',progressBar[_0x1f5454(0x1aa)]=_0x519c94[_0x1f5454(0x20d)],statusDiv['textContent']=_0x519c94[_0x1f5454(0x130)]);_0x3793af===_0x1f5454(0x108)&&(newItemsExcel=_0x519c94[_0x1f5454(0xd8)],statusDiv[_0x1f5454(0x1ed)]='\x20'+newItemsExcel[_0x1f5454(0x1d9)]+'\x20items\x20procesados.',uploadBtn[_0x1f5454(0xee)]=![],progressBar['value']=0x64,console[_0x1f5454(0x161)](newItemsExcel));_0x3793af===_0x1f5454(0x16b)&&(statusDiv[_0x1f5454(0x1ed)]=_0x1f5454(0xdc)+_0x519c94,progressBar[_0x1f5454(0x147)]['display']=_0x1f5454(0x176));if(_0x3793af===_0x1f5454(0x1be)){const {wbout:_0x8b1615,count:_0x390682}=_0x519c94,_0x56be60=new Blob([_0x8b1615],{'type':'application/octet-stream'}),_0x3bdfef=URL[_0x1f5454(0xec)](_0x56be60),_0x217a95=document[_0x1f5454(0x1b4)]('a'),_0x271bd5=new Date()[_0x1f5454(0x125)]()[_0x1f5454(0x115)](0x0,0xa);_0x217a95[_0x1f5454(0x17b)]='Plantilla-Items-Export-'+_0x271bd5+_0x1f5454(0x1e8),_0x217a95[_0x1f5454(0x1f4)]=_0x3bdfef,_0x217a95[_0x1f5454(0x109)](),URL['revokeObjectURL'](_0x3bdfef),statusDiv[_0x1f5454(0x1ed)]=_0x1f5454(0x1de)+_0x390682+'\x20items.',progressBar[_0x1f5454(0x147)][_0x1f5454(0x1e4)]=_0x1f5454(0x176);}},fileInput[_0x218aa8(0x1b9)](_0x218aa8(0x197),async _0x298e83=>{var _0x438344=_0x218aa8;const _0x26e074=_0x298e83['target'][_0x438344(0x1b8)][0x0];if(!_0x26e074)return;uploadBtn[_0x438344(0xee)]=!![],newItemsExcel=null,statusDiv[_0x438344(0x1ed)]='',progressBar[_0x438344(0x147)][_0x438344(0x1e4)]=_0x438344(0x176),dropZone[_0x438344(0x193)](_0x438344(0x14b))[_0x438344(0x1ed)]=_0x26e074[_0x438344(0x200)],removeBtn[_0x438344(0x11a)]=![];try{const _0x117f25=await _0x26e074[_0x438344(0x165)]();itemWorker[_0x438344(0x1c6)]({'action':_0x438344(0x149),'buf':_0x117f25,'maxRows':0x1388});}catch(_0x14d37a){statusDiv[_0x438344(0x1ed)]='\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput['value']='';}}),uploadBtn[_0x218aa8(0x1b9)]('click',async()=>{var _0x575dd9=_0x218aa8;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x2fb905=document[_0x575dd9(0x19c)](_0x575dd9(0x10c))[_0x575dd9(0x1aa)],_0xa91f93=[];newItemsExcel['forEach'](_0x3daa5a=>{var _0xbbc0f6=_0x575dd9;const _0x113628=Boolean(_0x3daa5a[_0xbbc0f6(0x164)]),_0x44d20a=_0x113628?_0x3daa5a[_0xbbc0f6(0x164)]:generateNumericUniqId();_0x3daa5a[_0xbbc0f6(0x1dc)]=[{'setStockInitial':_0x3daa5a['setStockInitial'],'setStockMinimum':_0x3daa5a['setStockMinimum'],'setWarehouseCode':_0x2fb905}],_0x3daa5a[_0xbbc0f6(0xe9)][_0xbbc0f6(0xe2)](_0x1831bd=>{var _0x3407ae=_0xbbc0f6;const _0x33a523=Boolean(_0x1831bd[_0x3407ae(0x13d)]),_0x1d6c76=_0x33a523?_0x1831bd[_0x3407ae(0x13d)]:generateNumericUniqId();_0x1831bd[_0x3407ae(0x13d)]=_0x1d6c76;const _0x3c822c=[];_0x3c822c[_0x3407ae(0x1c7)]({'currency':_0x3407ae(0x14c),'setMtoPrecioCostoUnitario':_0x1831bd[_0x3407ae(0x202)],'setMtoPrecioUnitario':_0x1831bd[_0x3407ae(0x180)],'setPriceLists':[]});const _0x13c90a=_0x1831bd[_0x3407ae(0x105)]!=null&&_0x1831bd[_0x3407ae(0xf3)]!=null&&(!isNaN(_0x1831bd[_0x3407ae(0x105)])||!isNaN(_0x1831bd[_0x3407ae(0xf3)]));_0x13c90a&&_0x3c822c[_0x3407ae(0x1c7)]({'currency':'USD','setMtoPrecioCostoUnitario':_0x1831bd[_0x3407ae(0x105)],'setMtoPrecioUnitario':_0x1831bd[_0x3407ae(0xf3)],'setPriceLists':[]});const _0x2e39bf={'id':_0x1d6c76,'setIdProducto':_0x44d20a,'setItemBarCode':_0x1831bd[_0x3407ae(0x19b)],'setCodProducto':_0x3daa5a[_0x3407ae(0x187)],'setDescripcion':_0x3daa5a[_0x3407ae(0x111)],'setItemDescription':_0x3daa5a[_0x3407ae(0x1bf)],'setBatchExpirationDate':_0x3daa5a['setItemDateExpiry'],'setBatchName':_0x3daa5a[_0x3407ae(0x1ad)],'setItemIsSold':_0x3daa5a[_0x3407ae(0x15c)],'setItemIsBought':_0x3daa5a['setItemIsBought'],'setCategoria':_0x3daa5a[_0x3407ae(0x20c)][0x0]||'','setMarca':_0x3daa5a[_0x3407ae(0x157)][0x0]||'','setConversionFactor':parseFloat(_0x1831bd[_0x3407ae(0x1a2)]),'setImages':[],'setImg':_0x3407ae(0x19e),'setInventariable':_0x3daa5a[_0x3407ae(0x159)],'setPorcentajeIgv':_0x3daa5a['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x3daa5a[_0x3407ae(0x124)],'setTipAfeIgv':_0x3daa5a[_0x3407ae(0x116)],'setUnidad':_0x1831bd[_0x3407ae(0x1d8)],'setUnidadCodigo':_0x1831bd['setUnitCode'],'setItemUnitAlias':_0x1831bd[_0x3407ae(0x162)],'setItemCommissionPercentage':_0x1831bd[_0x3407ae(0x1c9)],'currency_data':_0x3c822c,'sucursales':_0x3daa5a[_0x3407ae(0x1dc)][_0x3407ae(0x114)](_0x17c755=>({'setIdSucursal':_0x17c755[_0x3407ae(0xf1)],'setSucursalStock':_0x17c755[_0x3407ae(0x1e7)][_0x3407ae(0x12f)](),'setWarehouseStockMin':_0x17c755[_0x3407ae(0x1af)]['toString']()})),'setItemFree':_0x3daa5a['setItemFree'],'setItemBrands':_0x3daa5a[_0x3407ae(0x157)][_0x3407ae(0x115)](),'setItemCategories':_0x3daa5a[_0x3407ae(0x20c)][_0x3407ae(0x115)](),'setItemComponents':_0x3daa5a[_0x3407ae(0x1e5)][_0x3407ae(0x114)](_0xaf4b68=>({..._0xaf4b68})),'setItemImages':_0x3daa5a[_0x3407ae(0x1ff)]['slice'](),'setItemVariantName':_0x3daa5a[_0x3407ae(0x190)],'setItemVariantValues':{..._0x3daa5a[_0x3407ae(0x1fc)]}},_0x13d9cc=products['findIndex'](_0x1f266e=>_0x1f266e['id']==_0x1d6c76&&_0x1f266e[_0x3407ae(0x1a5)]==_0x44d20a);_0x13d9cc>-0x1?Object[_0x3407ae(0x173)](products[_0x13d9cc],_0x2e39bf):_0xa91f93['push'](_0x2e39bf);});}),console[_0x575dd9(0x161)]('Items\x20finales:',newItemsExcel),await finalizeImport(_0xa91f93,newItemsExcel,!![]);});function initializeFormImages(){var _0x5559f7=_0x218aa8;currentImages=Array(MAX_IMAGES)['fill'](null),imgC[_0x5559f7(0x10d)]='',baseItem[_0x5559f7(0x1ff)]=[];for(var _0x3863d3=0x0;_0x3863d3<MAX_IMAGES;_0x3863d3++){(function(_0x3b636e){var _0xe570b2=_0x5559f7,_0x25ba69=document[_0xe570b2(0x1b4)](_0xe570b2(0xd0));_0x25ba69[_0xe570b2(0x191)]='image_box',_0x25ba69[_0xe570b2(0x1ab)][_0xe570b2(0x134)]=_0x3b636e;var _0xaf4bc4=document['createElement'](_0xe570b2(0x1b7));_0xaf4bc4[_0xe570b2(0x17c)]=_0xe570b2(0xf4),_0xaf4bc4[_0xe570b2(0x13e)]=_0xe570b2(0x198),_0xaf4bc4[_0xe570b2(0x147)]['display']=_0xe570b2(0x176);var _0x3c257d=document[_0xe570b2(0x1b4)]('span');_0x3c257d['textContent']='+',_0x25ba69[_0xe570b2(0x121)](_0xaf4bc4),_0x25ba69[_0xe570b2(0x121)](_0x3c257d),imgC['appendChild'](_0x25ba69),_0x25ba69['addEventListener'](_0xe570b2(0x109),function(){var _0x3baded=_0xe570b2;_0xaf4bc4[_0x3baded(0x109)]();}),_0xaf4bc4['addEventListener'](_0xe570b2(0x197),function(_0x50de93){var _0x293b14=_0xe570b2,_0x226092=_0x50de93[_0x293b14(0x196)][_0x293b14(0x1b8)][0x0];if(!_0x226092)return removeImg(_0x3b636e);var _0x15fae5=new FileReader();_0x15fae5[_0x293b14(0xd9)]=function(_0x539ec2){var _0x3bcae4=_0x293b14;_0x25ba69[_0x3bcae4(0x10d)]=_0x3bcae4(0x12c)+_0x539ec2['target']['result']+'\x22>';var _0x438704=document[_0x3bcae4(0x1b4)](_0x3bcae4(0x18f));_0x438704['className']=_0x3bcae4(0x1fa),_0x438704[_0x3bcae4(0x1ed)]='',_0x438704['addEventListener'](_0x3bcae4(0x109),function(_0x50816e){_0x50816e['stopPropagation'](),removeImg(_0x3b636e);}),_0x25ba69[_0x3bcae4(0x121)](_0x438704),currentImages[_0x3b636e]=_0x226092,baseItem[_0x3bcae4(0x1ff)]=currentImages[_0x3bcae4(0x18c)](function(_0x5a2722){return _0x5a2722;});},_0x15fae5[_0x293b14(0x1a3)](_0x226092);});}(_0x3863d3));}}function initializeFormIsSoldIsBought(_0x3bedec=0x0){var _0x441ef2=_0x218aa8;let _0x3c7baf,_0x364569;if(_0x3bedec!=0x0){const _0x4d926c=products[_0x441ef2(0xc8)](_0x1e373c=>_0x1e373c['id']==_0x3bedec);_0x3c7baf=_0x4d926c['setItemIsBought']==0x1||_0x4d926c[_0x441ef2(0x1ca)]==!![]?!![]:![],_0x364569=_0x4d926c['setItemIsSold']==0x1||_0x4d926c[_0x441ef2(0x15c)]==!![]?!![]:![];}else _0x3c7baf=!![],_0x364569=!![];document['getElementById'](_0x441ef2(0x11b))[_0x441ef2(0x1a0)]=_0x3c7baf,document[_0x441ef2(0x19c)](_0x441ef2(0x19d))[_0x441ef2(0x1a0)]=_0x364569,baseItem[_0x441ef2(0x1ca)]=_0x3c7baf,baseItem[_0x441ef2(0x15c)]=_0x364569;}function initializeFormInputsBasic(_0x5e8481=0x0){var _0x4f0c70=_0x218aa8;let _0x3b61d4,_0x286e97,_0x3c36c9,_0x214d69,_0x49da00,_0x2260c2;if(_0x5e8481!=0x0){const _0x4a3e9f=products['find'](_0x5f0073=>_0x5f0073['id']==_0x5e8481);_0x3b61d4=_0x4a3e9f['setItemType']??'1',_0x286e97=_0x4a3e9f[_0x4f0c70(0x1d5)],_0x3c36c9=_0x4a3e9f[_0x4f0c70(0x1e0)],_0x214d69=_0x4a3e9f[_0x4f0c70(0x1bf)],_0x49da00=_0x4a3e9f['setBatchExpirationDate']??'',_0x2260c2=_0x4a3e9f[_0x4f0c70(0x19b)];}else _0x3b61d4='1',_0x286e97=getNextCode(products),_0x3c36c9='',_0x214d69='',_0x49da00='',_0x2260c2='';document['getElementById']('inputItemType')[_0x4f0c70(0x1aa)]=_0x3b61d4,document[_0x4f0c70(0x19c)](_0x4f0c70(0x15b))[_0x4f0c70(0x1aa)]=_0x286e97,document['getElementById'](_0x4f0c70(0x132))['value']=_0x3c36c9,document[_0x4f0c70(0x19c)](_0x4f0c70(0x104))[_0x4f0c70(0x1aa)]=_0x214d69,document[_0x4f0c70(0x19c)](_0x4f0c70(0x1e6))[_0x4f0c70(0x1aa)]=_0x49da00,document[_0x4f0c70(0x19c)](_0x4f0c70(0x1a7))[_0x4f0c70(0x1aa)]=_0x2260c2,baseItem['setItemType']=_0x3b61d4,baseItem['setItemCode']=_0x286e97,baseItem[_0x4f0c70(0x111)]=_0x3c36c9,baseItem[_0x4f0c70(0x1bf)]=_0x214d69,baseItem[_0x4f0c70(0x17a)]=_0x49da00,baseItem['setItemBarCode']=_0x2260c2,document['getElementById']('newItem_addToCart')[_0x4f0c70(0x1a0)]=![];}function initializeFormTax(_0x4f3bf4=0x0){var _0x58f439=_0x218aa8;let _0x28decc;if(_0x4f3bf4!=0x0){const _0x3b8907=products[_0x58f439(0xc8)](_0xca98f7=>_0xca98f7['id']==_0x4f3bf4);_0x28decc=_0x3b8907['setTaxId'];}else _0x28decc=myCompany['setTaxIdDefault'];const _0x4fb014=document['getElementById']('inputItemTax');_0x4fb014[_0x58f439(0x1aa)]=_0x28decc,baseItem[_0x58f439(0x124)]=_0x28decc;const _0x62056=company[0x0]['setImpuestos'][_0x58f439(0xc8)](_0x55dc8e=>_0x55dc8e[_0x58f439(0xef)]==_0x28decc)?.[_0x58f439(0x1c0)]||0x0,_0x918b7d=company[0x0][_0x58f439(0x1bb)]['find'](_0x202559=>_0x202559[_0x58f439(0xef)]==_0x28decc)?.[_0x58f439(0xf5)]||0x0;baseItem[_0x58f439(0x116)]=_0x62056,baseItem[_0x58f439(0x1a9)]=_0x918b7d;}function initializeFormCategoriesBrands(_0x353cb4=0x0){var _0x38a08d=_0x218aa8;baseItem[_0x38a08d(0x20c)]=[],baseItem['setItemBrands']=[],document[_0x38a08d(0x193)](_0x38a08d(0x20f))[_0x38a08d(0x10d)]='',document[_0x38a08d(0x193)](_0x38a08d(0x1ba))[_0x38a08d(0x10d)]='',document[_0x38a08d(0x193)](_0x38a08d(0x1c1))[_0x38a08d(0x10d)]='',document['querySelector'](_0x38a08d(0x181))[_0x38a08d(0x10d)]='';const _0x515129=myCompany[_0x38a08d(0x20c)]['map'](_0x3de228=>({'setCode':_0x3de228[_0x38a08d(0x13b)],'setName':_0x3de228[_0x38a08d(0x13b)]})),_0x53f67e=myCompany[_0x38a08d(0x157)][_0x38a08d(0x114)](_0x108067=>({'setCode':_0x108067[_0x38a08d(0x18e)],'setName':_0x108067[_0x38a08d(0x18e)]}));initMulti(_0x38a08d(0x141),_0x515129),initMulti(_0x38a08d(0xf0),_0x53f67e),document['getElementById'](_0x38a08d(0x141))[_0x38a08d(0x1b9)](_0x38a08d(0x133),function(_0x25f53c){var _0x41dfa7=_0x38a08d;baseItem['setItemCategories']=_0x25f53c[_0x41dfa7(0x1fe)][_0x41dfa7(0x114)](_0x44218b=>_0x44218b[_0x41dfa7(0x20e)]);}),document[_0x38a08d(0x19c)](_0x38a08d(0xf0))[_0x38a08d(0x1b9)](_0x38a08d(0x133),function(_0xc90989){var _0x2a5f43=_0x38a08d;baseItem[_0x2a5f43(0x157)]=_0xc90989[_0x2a5f43(0x1fe)][_0x2a5f43(0x114)](_0x47899f=>_0x47899f['setCode']);});if(_0x353cb4!=0x0){const _0x32546f=products[_0x38a08d(0xc8)](_0x3bf414=>_0x3bf414['id']==_0x353cb4);if(_0x32546f[_0x38a08d(0x20a)]){const _0x395d8e=document[_0x38a08d(0x19c)]('newItem_categories_select'),_0x49e367=Array[_0x38a08d(0x113)](_0x395d8e[_0x38a08d(0x209)](_0x38a08d(0x1e1)))[_0x38a08d(0xc8)](_0x5da426=>_0x5da426[_0x38a08d(0x1ab)]['code']==_0x32546f['setCategoria']);_0x49e367&&_0x49e367[_0x38a08d(0x109)]();}if(_0x32546f[_0x38a08d(0x11d)]){const _0x408f0b=document[_0x38a08d(0x19c)](_0x38a08d(0xf0)),_0x39a0e3=Array[_0x38a08d(0x113)](_0x408f0b['querySelectorAll'](_0x38a08d(0x1e1)))[_0x38a08d(0xc8)](_0x104dba=>_0x104dba[_0x38a08d(0x1ab)]['code']==_0x32546f['setMarca']);_0x39a0e3&&_0x39a0e3[_0x38a08d(0x109)]();}}}function _0x4216(_0xfbc337,_0x270c78){var _0xf8393d=_0x35a1();return _0x4216=function(_0x4a207b,_0x3ef7fc){_0x4a207b=_0x4a207b-0xc5;var _0x461096=_0xf8393d[_0x4a207b];return _0x461096;},_0x4216(_0xfbc337,_0x270c78);}function initializeFormUnits(){var _0xfeb94a=_0x218aa8;unitCount=0x0,document[_0xfeb94a(0x19c)](_0xfeb94a(0x107))[_0xfeb94a(0x10d)]='',baseItem['setItemUnits']=[];var _0x59052e=uniqueValuesArray('setUnitCode','setUnitName',myCompany['setUnits']);addUnit('',_0x59052e[0x3a]&&_0x59052e[0x3a][_0xfeb94a(0x20e)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x17dc9c=_0x218aa8;prodC['innerHTML']='',baseItem[_0x17dc9c(0x1e5)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x5a50fa=_0x218aa8;branchesC[_0x5a50fa(0x10d)]='',baseItem[_0x5a50fa(0x1dc)]=[];const _0x2c0e72=getAllWarehouses();_0x2c0e72[_0x5a50fa(0xe2)](function(_0x533524){var _0xab7e7f=_0x5a50fa,_0x5e0209=document[_0xab7e7f(0x1b4)](_0xab7e7f(0xd0));_0x5e0209['innerHTML']='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0xab7e7f(0xeb)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x533524[_0xab7e7f(0x10c)]+_0xab7e7f(0x126)+_0x533524[_0xab7e7f(0x128)]+_0xab7e7f(0x211)+_0xab7e7f(0x103)+_0xab7e7f(0xeb)+_0xab7e7f(0xe7)+_0x533524[_0xab7e7f(0x10c)]+'\x22>'+_0xab7e7f(0x103)+_0xab7e7f(0xeb)+_0xab7e7f(0x1ea)+_0x533524[_0xab7e7f(0x10c)]+'\x22>'+'</div>'+'</div>',branchesC[_0xab7e7f(0x121)](_0x5e0209),_0x5e0209[_0xab7e7f(0x209)](_0xab7e7f(0x1b7))[_0xab7e7f(0xe2)](function(_0x2f21b6){var _0x3f0fcf=_0xab7e7f;_0x2f21b6['addEventListener'](_0x3f0fcf(0x1b7),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x7e5e88=_0x218aa8;baseItem[_0x7e5e88(0x190)]='',baseItem[_0x7e5e88(0x1fc)]={},vgC[_0x7e5e88(0x10d)]='',varContainer[_0x7e5e88(0x10d)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x4736bb,_0x267281,_0x387284=![]){var _0x295acd=_0x218aa8;const _0xcd3d84=0xc8,_0x2d0798={'apiPOSsendOffline':'1','setTipoOperacion':_0x295acd(0x12b),'setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x295acd(0x163)]};for(let _0x1728f1=0x0;_0x1728f1<_0x267281[_0x295acd(0x1d9)];_0x1728f1+=_0xcd3d84){const _0xb5222d=_0x267281[_0x295acd(0x115)](_0x1728f1,_0x1728f1+_0xcd3d84);await storeOfflineProduct({..._0x2d0798,'newItems':_0xb5222d});}products[_0x295acd(0x1c7)](..._0x4736bb),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x295acd(0x1e9)),_0x387284?(fileInput[_0x295acd(0x1aa)]='',uploadBtn[_0x295acd(0xee)]=!![],statusDiv['textContent']='',progressBar[_0x295acd(0x147)]['display']=_0x295acd(0x176),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}