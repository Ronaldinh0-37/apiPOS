/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.4
*/

var _0x5b5353=_0x43de;(function(_0x5a345c,_0x90fbf2){var _0x1e925a=_0x43de,_0x1e24c3=_0x5a345c();while(!![]){try{var _0x551a01=-parseInt(_0x1e925a(0x1ce))/0x1+parseInt(_0x1e925a(0x1ca))/0x2+parseInt(_0x1e925a(0x1dd))/0x3*(-parseInt(_0x1e925a(0x17a))/0x4)+-parseInt(_0x1e925a(0x1f1))/0x5+-parseInt(_0x1e925a(0x17e))/0x6*(-parseInt(_0x1e925a(0x186))/0x7)+-parseInt(_0x1e925a(0x1c5))/0x8*(parseInt(_0x1e925a(0x1fd))/0x9)+parseInt(_0x1e925a(0x150))/0xa;if(_0x551a01===_0x90fbf2)break;else _0x1e24c3['push'](_0x1e24c3['shift']());}catch(_0x3c8fcf){_0x1e24c3['push'](_0x1e24c3['shift']());}}}(_0x55c5,0xc3001));var _0x4e3bc8=(function(){var _0x1f515f=!![];return function(_0x30f3b5,_0x54f58a){var _0xe5d8f3=_0x1f515f?function(){var _0x4945d4=_0x43de;if(_0x54f58a){var _0x5aa6dd=_0x54f58a[_0x4945d4(0x217)](_0x30f3b5,arguments);return _0x54f58a=null,_0x5aa6dd;}}:function(){};return _0x1f515f=![],_0xe5d8f3;};}()),_0x592217=_0x4e3bc8(this,function(){var _0x5204d3=_0x43de;return _0x592217['toString']()[_0x5204d3(0x196)](_0x5204d3(0x19c))[_0x5204d3(0x1ee)]()['constructor'](_0x592217)[_0x5204d3(0x196)](_0x5204d3(0x19c));});_0x592217();var _0x55e4b2=(function(){var _0x26a653=!![];return function(_0x1f1331,_0x1e3d2f){var _0xaed77a=_0x26a653?function(){var _0x2f56cf=_0x43de;if(_0x1e3d2f){var _0x5a262c=_0x1e3d2f[_0x2f56cf(0x217)](_0x1f1331,arguments);return _0x1e3d2f=null,_0x5a262c;}}:function(){};return _0x26a653=![],_0xaed77a;};}()),_0x30cf21=_0x55e4b2(this,function(){var _0x50617e=_0x43de,_0x52d330;try{var _0x44a2ac=Function(_0x50617e(0x12d)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x52d330=_0x44a2ac();}catch(_0x304599){_0x52d330=window;}var _0x40b950=_0x52d330[_0x50617e(0x1aa)]=_0x52d330[_0x50617e(0x1aa)]||{},_0x30650a=[_0x50617e(0x224),'warn',_0x50617e(0x1ef),'error',_0x50617e(0x16f),_0x50617e(0x18c),_0x50617e(0x167)];for(var _0x5acb77=0x0;_0x5acb77<_0x30650a[_0x50617e(0x1b5)];_0x5acb77++){var _0x35aea2=_0x55e4b2[_0x50617e(0x272)]['prototype'][_0x50617e(0x23b)](_0x55e4b2),_0x2af676=_0x30650a[_0x5acb77],_0x390fe7=_0x40b950[_0x2af676]||_0x35aea2;_0x35aea2[_0x50617e(0x25a)]=_0x55e4b2['bind'](_0x55e4b2),_0x35aea2[_0x50617e(0x1ee)]=_0x390fe7[_0x50617e(0x1ee)][_0x50617e(0x23b)](_0x390fe7),_0x40b950[_0x2af676]=_0x35aea2;}});_0x30cf21();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x5b5353(0x15d)]('newItem_images_container'),unitCount=0x0,branchesC=document[_0x5b5353(0x15d)]('newItem_branches_container'),prodC=document[_0x5b5353(0x15d)](_0x5b5353(0x251)),vgCount=0x0,varContainer=document[_0x5b5353(0x15d)](_0x5b5353(0x26c)),vgC=document[_0x5b5353(0x15d)](_0x5b5353(0x1a0));const fileInput=document[_0x5b5353(0x15d)](_0x5b5353(0x263)),progressBar=document[_0x5b5353(0x15d)](_0x5b5353(0x218)),statusDiv=document['getElementById'](_0x5b5353(0x1a6)),uploadBtn=document[_0x5b5353(0x15d)](_0x5b5353(0x22a));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x5b5353(0x15d)]('drop-zone'),removeBtn=document[_0x5b5353(0x15d)]('remove-file');function showModalCreateItem(_0x3b3941){var _0x5f3bdd=_0x5b5353;const _0x1b870f=document[_0x5f3bdd(0x15d)]('detalleModalCreateItem'),_0x1a8d7e=document[_0x5f3bdd(0x15d)]('modalOverlayCreateItem');_0x1b870f[_0x5f3bdd(0x22c)][_0x5f3bdd(0x256)](_0x5f3bdd(0x177)),_0x1a8d7e[_0x5f3bdd(0x15a)][_0x5f3bdd(0x14a)]=_0x5f3bdd(0x1f0);const _0x16cb77=document[_0x5f3bdd(0x15d)]('setItemFree');_0x16cb77[_0x5f3bdd(0x169)]=parseInt(_0x3b3941),baseItem['setItemFree']=parseInt(_0x3b3941);const _0x419fe9=document['getElementById'](_0x5f3bdd(0x192));_0x3b3941==0x0&&(_0x419fe9['innerHTML']=_0x5f3bdd(0x1fa));_0x3b3941==0x1&&(_0x419fe9[_0x5f3bdd(0x1e6)]=_0x5f3bdd(0x1f4));const _0x1a63a6=document[_0x5f3bdd(0x130)](_0x5f3bdd(0x17d));for(let _0x5dec91=0x0;_0x5dec91<_0x1a63a6['length'];_0x5dec91++){const _0x440b9a=_0x1a63a6[_0x5dec91];if(_0x3b3941==0x0)_0x440b9a[_0x5f3bdd(0x22c)][_0x5f3bdd(0x204)](_0x5f3bdd(0x1ae));else _0x3b3941==0x1&&_0x440b9a[_0x5f3bdd(0x22c)]['add'](_0x5f3bdd(0x1ae));}}function hideModalCreateItem(){var _0xaf4e0=_0x5b5353;const _0x3c1ec2=document[_0xaf4e0(0x15d)](_0xaf4e0(0x1ad)),_0x23ba5e=document[_0xaf4e0(0x15d)](_0xaf4e0(0x18f));_0x3c1ec2[_0xaf4e0(0x22c)][_0xaf4e0(0x204)]('active'),_0x23ba5e[_0xaf4e0(0x15a)][_0xaf4e0(0x14a)]=_0xaf4e0(0x1c6);}document[_0x5b5353(0x15d)](_0x5b5353(0x1dc))[_0x5b5353(0x268)](_0x5b5353(0x26f),hideModalCreateItem),document['getElementById'](_0x5b5353(0x18f))['addEventListener'](_0x5b5353(0x26f),_0x427697=>{var _0x38119b=_0x5b5353;_0x427697['target']==_0x427697[_0x38119b(0x26e)]&&_0x427697[_0x38119b(0x242)]();});function loadTaxData(){var _0x42fa4d=_0x5b5353;const _0x44736b=document[_0x42fa4d(0x15d)]('inputItemTax');_0x44736b[_0x42fa4d(0x1e6)]='',company[0x0][_0x42fa4d(0x271)][_0x42fa4d(0x1a7)](function(_0xa2e202){var _0x517cfd=_0x42fa4d;const _0x3efb28=document[_0x517cfd(0x197)](_0x517cfd(0x259));_0x3efb28[_0x517cfd(0x169)]=_0xa2e202[_0x517cfd(0x1db)],_0x3efb28['innerHTML']=_0xa2e202[_0x517cfd(0x14e)]+'\x20('+_0xa2e202[_0x517cfd(0x24c)]+'%)',_0xa2e202['setTaxId']==company[0x0][_0x517cfd(0x253)]&&(_0x3efb28[_0x517cfd(0x1fe)]=!![]),_0x44736b[_0x517cfd(0x1b7)](_0x3efb28);});}function uniqueValuesArray(_0x39ac09,_0x1ea7b5,_0x1f1cf5){var _0x4f7f83=_0x5b5353;const _0x16f05a=Array['from'](new Set(_0x1f1cf5[_0x4f7f83(0x1f2)](_0x569f92=>{var _0x593070=_0x4f7f83;const _0x3b3baa=_0x569f92[_0x39ac09];return typeof _0x3b3baa===_0x593070(0x194)?_0x3b3baa['trim']():_0x3b3baa;})[_0x4f7f83(0x25c)](_0x4df019=>_0x4df019!=null&&_0x4df019!=='')));return _0x16f05a[_0x4f7f83(0x1f2)](_0x3e70c3=>{var _0x42adf1=_0x4f7f83;const _0x142eb9=_0x1f1cf5[_0x42adf1(0x1ac)](_0x1ec93e=>_0x1ec93e[_0x39ac09]===_0x3e70c3),_0x471a0c=_0x142eb9&&_0x142eb9[_0x1ea7b5]!=null?String(_0x142eb9[_0x1ea7b5])['trim']():_0x3e70c3;return{'setCode':_0x3e70c3,'setName':_0x471a0c};});}function fillSelect(_0x87d614,_0x2d2fc9,_0x3668ab,_0x40d506){var _0x52dc84=_0x5b5353;_0x87d614[_0x52dc84(0x1e6)]='',_0x2d2fc9[_0x52dc84(0x1a7)](function(_0x5384ac){var _0x111f2c=_0x52dc84,_0x39e30c=new Option(_0x5384ac[_0x40d506],_0x5384ac[_0x3668ab]);_0x87d614[_0x111f2c(0x256)](_0x39e30c);});}function initMulti(_0x49fef0,_0x4184bc){var _0x1e8d83=_0x5b5353,_0x49e5f4=document[_0x1e8d83(0x15d)](_0x49fef0),_0x264818=_0x49e5f4[_0x1e8d83(0x1d3)](_0x1e8d83(0x230)),_0x20de77=_0x49e5f4[_0x1e8d83(0x1d3)](_0x1e8d83(0x17f)),_0x41bb6a=_0x49e5f4[_0x1e8d83(0x1d3)](_0x1e8d83(0x254)),_0x39e20e=_0x4184bc[_0x1e8d83(0x139)](),_0x575593=[];function _0x488215(){var _0x570525=_0x1e8d83;_0x20de77[_0x570525(0x1e6)]='',_0x39e20e['filter'](function(_0x426abb){var _0xb4772c=_0x570525;return _0x426abb[_0xb4772c(0x1e7)][_0xb4772c(0x193)]()['indexOf'](_0x264818[_0xb4772c(0x169)][_0xb4772c(0x193)]())!==-0x1;})['forEach'](function(_0x17cda2){var _0x2bbd25=_0x570525,_0x372f79=document[_0x2bbd25(0x197)](_0x2bbd25(0x21c));_0x372f79['textContent']=_0x17cda2[_0x2bbd25(0x1e7)],_0x372f79[_0x2bbd25(0x165)][_0x2bbd25(0x14f)]=_0x17cda2[_0x2bbd25(0x14d)],_0x20de77['appendChild'](_0x372f79),_0x372f79[_0x2bbd25(0x268)](_0x2bbd25(0x26f),function(){var _0x19ad14=_0x2bbd25;_0x575593[_0x19ad14(0x16c)](_0x17cda2),_0x39e20e[_0x19ad14(0x23f)](_0x39e20e[_0x19ad14(0x137)](function(_0x12b994){var _0x37815b=_0x19ad14;return _0x12b994[_0x37815b(0x14d)]===_0x17cda2[_0x37815b(0x14d)];}),0x1),_0x264818[_0x19ad14(0x169)]='',_0x5f15f5(),_0x488215();});});}function _0x5f15f5(){var _0x382766=_0x1e8d83;_0x41bb6a[_0x382766(0x1e6)]='',_0x575593[_0x382766(0x1a7)](function(_0x27392e){var _0x2054a5=_0x382766,_0x2c64ad=document['createElement'](_0x2054a5(0x21c));_0x2c64ad[_0x2054a5(0x19f)]=_0x2054a5(0x20f),_0x2c64ad['textContent']=_0x27392e[_0x2054a5(0x1e7)];var _0x2393db=document[_0x2054a5(0x197)](_0x2054a5(0x241));_0x2393db[_0x2054a5(0x19f)]=_0x2054a5(0x164),_0x2393db['textContent']='',_0x2393db['addEventListener'](_0x2054a5(0x26f),function(){var _0x58b40b=_0x2054a5;_0x39e20e[_0x58b40b(0x16c)](_0x27392e);const _0x331240=_0x575593['findIndex'](function(_0x57084d){var _0x24f351=_0x58b40b;return _0x57084d['setCode']===_0x27392e[_0x24f351(0x14d)];});if(_0x331240>-0x1)_0x575593['splice'](_0x331240,0x1);_0x5f15f5(),_0x488215();}),_0x2c64ad[_0x2054a5(0x1b7)](_0x2393db),_0x41bb6a['appendChild'](_0x2c64ad);}),_0x49e5f4[_0x382766(0x1e5)](new CustomEvent(_0x382766(0x202),{'bubbles':!![]}));}return _0x264818[_0x1e8d83(0x268)](_0x1e8d83(0x154),function(){var _0x39da0c=_0x1e8d83;_0x20de77[_0x39da0c(0x22c)][_0x39da0c(0x204)](_0x39da0c(0x13c));}),_0x264818[_0x1e8d83(0x268)](_0x1e8d83(0x182),_0x488215),_0x264818['addEventListener']('keydown',function(_0x512990){var _0x3b13c7=_0x1e8d83;if(_0x512990[_0x3b13c7(0x21e)]===_0x3b13c7(0x20e)){_0x512990[_0x3b13c7(0x1c7)]();const _0x422843=_0x264818[_0x3b13c7(0x169)][_0x3b13c7(0x222)]();if(!_0x422843)return;const _0x8fe4d6=_0x575593[_0x3b13c7(0x1c0)](_0x1a52e8=>_0x1a52e8[_0x3b13c7(0x1e7)]===_0x422843),_0x3ee9ce=_0x39e20e['some'](_0xc07d8e=>_0xc07d8e[_0x3b13c7(0x1e7)]===_0x422843);if(!_0x8fe4d6&&!_0x3ee9ce){const _0x4c3db2={'setCode':_0x422843,'setName':_0x422843};_0x575593[_0x3b13c7(0x16c)](_0x4c3db2),_0x5f15f5(),_0x488215();}_0x264818[_0x3b13c7(0x169)]='';}}),document['addEventListener']('click',function(_0x56640c){var _0x2d1e12=_0x1e8d83;if(!_0x49e5f4[_0x2d1e12(0x1fc)](_0x56640c['target']))_0x20de77[_0x2d1e12(0x22c)][_0x2d1e12(0x256)](_0x2d1e12(0x13c));}),_0x488215(),_0x575593;}function getLastCode(_0x2b80c2){var _0x72d1b1=_0x5b5353;const _0x6d5348=_0x2b80c2[_0x72d1b1(0x1f2)](_0x92a15a=>String(_0x92a15a[_0x72d1b1(0x262)])['trim']())[_0x72d1b1(0x25c)](_0x32a15c=>_0x32a15c!=='');if(_0x6d5348[_0x72d1b1(0x1b5)]===0x0)return'';const _0x184973=_0x6d5348[_0x72d1b1(0x20a)](_0xc0d4ed=>/^\d+$/[_0x72d1b1(0x237)](_0xc0d4ed));if(_0x184973){const _0x479058=_0x6d5348[_0x72d1b1(0x1f2)](Number),_0x5a06d9=Math['max'](..._0x479058);return String(_0x5a06d9);}let _0x1a7d0e;if(typeof Intl!=='undefined'&&Intl[_0x72d1b1(0x1da)]){const _0x4076ae=new Intl[(_0x72d1b1(0x1da))](undefined,{'numeric':!![],'sensitivity':_0x72d1b1(0x214)});_0x1a7d0e=_0x6d5348[_0x72d1b1(0x139)]()[_0x72d1b1(0x17c)](_0x4076ae['compare']);}else{const _0x940280=_0x6d5348[_0x72d1b1(0x20a)](_0x399350=>/^\d+$/['test'](_0x399350));_0x940280?_0x1a7d0e=_0x6d5348[_0x72d1b1(0x1f2)](Number)[_0x72d1b1(0x17c)]((_0x16291f,_0x33b744)=>_0x16291f-_0x33b744)[_0x72d1b1(0x1f2)](String):_0x1a7d0e=_0x6d5348['slice']()[_0x72d1b1(0x17c)]();}return _0x1a7d0e[_0x1a7d0e[_0x72d1b1(0x1b5)]-0x1];}function getNextCode(_0x127687){var _0x18571b=_0x5b5353;const _0x1a2019=getLastCode(_0x127687);if(!_0x1a2019)return'';if(/^\d+$/[_0x18571b(0x237)](_0x1a2019))return String(Number(_0x1a2019)+0x1);const _0x287216=_0x1a2019[_0x18571b(0x152)](/^([A-Za-z]*)(\d+)$/);if(_0x287216){const [,_0x714c2b,_0x125c93]=_0x287216,_0x58694d=String(Number(_0x125c93)+0x1)[_0x18571b(0x16b)](_0x125c93['length'],'0');return _0x714c2b+_0x58694d;}return _0x1a2019;}document['getElementById'](_0x5b5353(0x269))[_0x5b5353(0x268)]('input',function(_0x33ca29){var _0x5ba828=_0x5b5353;baseItem[_0x5ba828(0x163)]=_0x33ca29[_0x5ba828(0x264)][_0x5ba828(0x169)];}),document[_0x5b5353(0x15d)](_0x5b5353(0x1f9))[_0x5b5353(0x268)](_0x5b5353(0x182),function(_0x20bede){var _0x33ba4b=_0x5b5353;baseItem[_0x33ba4b(0x136)]=_0x20bede[_0x33ba4b(0x264)]['value'];}),document[_0x5b5353(0x15d)](_0x5b5353(0x149))[_0x5b5353(0x268)](_0x5b5353(0x182),function(_0x16bb56){var _0x1fd885=_0x5b5353;baseItem[_0x1fd885(0x22e)]=_0x16bb56['target']['value'];}),document[_0x5b5353(0x15d)](_0x5b5353(0x20c))[_0x5b5353(0x268)](_0x5b5353(0x188),function(_0x139351){var _0x45a018=_0x5b5353;baseItem[_0x45a018(0x18e)]=_0x139351[_0x45a018(0x264)]['value'];}),document[_0x5b5353(0x15d)](_0x5b5353(0x23c))[_0x5b5353(0x268)](_0x5b5353(0x188),function(_0x33d956){var _0x26909e=_0x5b5353;baseItem[_0x26909e(0x170)]=_0x33d956[_0x26909e(0x264)][_0x26909e(0x169)];const _0x827280=_0x33d956[_0x26909e(0x264)][_0x26909e(0x169)],_0x5816d6=company[0x0][_0x26909e(0x271)][_0x26909e(0x1ac)](_0x408009=>_0x408009['setTaxId']==_0x827280)?.[_0x26909e(0x1d1)]||0x0,_0x2ae8d9=company[0x0][_0x26909e(0x271)][_0x26909e(0x1ac)](_0x21baf8=>_0x21baf8['setTaxId']==_0x827280)?.['setImpuestoValue']||0x0;baseItem[_0x26909e(0x210)]=_0x5816d6,baseItem['setItemTaxValue']=_0x2ae8d9;}),document[_0x5b5353(0x15d)](_0x5b5353(0x1e2))[_0x5b5353(0x268)]('change',function(_0x26a968){var _0x59682b=_0x5b5353;baseItem[_0x59682b(0x221)]=_0x26a968[_0x59682b(0x264)][_0x59682b(0x25d)];}),document['getElementById'](_0x5b5353(0x142))[_0x5b5353(0x268)](_0x5b5353(0x188),function(_0x5ba345){var _0x159534=_0x5b5353;baseItem[_0x159534(0x1a1)]=_0x5ba345[_0x159534(0x264)][_0x159534(0x25d)];}),document[_0x5b5353(0x15d)](_0x5b5353(0x1f6))[_0x5b5353(0x268)](_0x5b5353(0x182),function(_0x3a4b1f){var _0x5e8ecf=_0x5b5353;baseItem['setItemCode']=_0x3a4b1f[_0x5e8ecf(0x264)][_0x5e8ecf(0x169)];}),document[_0x5b5353(0x15d)](_0x5b5353(0x1a5))['addEventListener'](_0x5b5353(0x182),function(_0x51542f){var _0x3c709b=_0x5b5353;baseItem[_0x3c709b(0x15e)]=_0x51542f[_0x3c709b(0x264)][_0x3c709b(0x169)];}),document[_0x5b5353(0x15d)]('newItem_btn_addUnit')['addEventListener'](_0x5b5353(0x26f),function(){addUnit(),updateUnitsArray();}),document['getElementById']('inputItemCode')[_0x5b5353(0x268)](_0x5b5353(0x231),function(){var _0x45e647=_0x5b5353;const _0x26c0e1=this[_0x45e647(0x169)][_0x45e647(0x222)]();if(_0x26c0e1==='')return;const _0x12143f=products[_0x45e647(0x1c0)](_0x4024aa=>_0x4024aa[_0x45e647(0x262)]==_0x26c0e1),_0x1b06b7=getLastCode(products);_0x12143f?ntfShow(_0x45e647(0x1f7)+_0x1b06b7,0x2,0x1):ntfShow('隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!',0x1,0x1);});function _0x55c5(){var _0x2589cd=['modalOverlayCreateItem','setMarca','.branchChk','modalProductNewTitle','toLowerCase','string','join','search','createElement','#newItem_brands_select\x20.selected_tags','div[data-default=\x22true\x22]\x20.eqInput','.costInput','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','(((.+)+)+)+$','fill','\x22\x20class=\x22branchChk\x22\x20checked>\x20','className','newItem_variant_groups','setItemIsSold','setItemInventoriable','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','idx','inputItemBarCode','status','forEach','_comp_container','PEN','console','parse','find','detalleModalCreateItem','hidden','setIdSucursal','setUnidadCodigo','exportDone','setBatchExpirationDate','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','length','newItem_brands_select','appendChild','setSucursalStock','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','setItemVariantName','offline_operations','setItemImages','toggle','[id$=\x22_comp_container\x22]','transaction','some','setCost','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','.removeProd','40XDHszq','none','preventDefault','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','isArray','2644198ynWPzi','#newItem_brands_select\x20.options_list','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','dragover','1209429EdQdEE','setDescripcion','setAlias','setImpuestoCode','message','querySelector','Error\x20al\x20guardar\x20Producto\x20Offline:','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','newItem_title_table','accept','.options_list\x20div','#newItem_units_container\x20>\x20div','Collator','setTaxId','closeModalCreateItem','537798qtxNcK','setItemWarehouses','\x22\x20class=\x22branchChk\x22>\x20','setItemUnits','.branchMin','newItem_chk_buy','dataTransfer','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','dispatchEvent','innerHTML','setName','#newItem_branches_container\x20>\x20div','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','image_box','variant_','setBatchName','parentNode','toString','info','block','5238900IFLToJ','map','currency_data','Producto\x20Libre','textContent','inputItemCode','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','setMtoPrecioUnitario','inputItemDescription','Nuevo\x20Producto','./img/product.png','contains','1628541EHtBpQ','selected','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','selectedItem','Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar','selectionChange','.drop-zone__prompt','remove','files','.variantCode','setItemVariantValues','Producto\x20Guardado\x20Offline\x20Correctamente.','.removeGroup','every','setItemComponents','inputItemType','percent','Enter','tag','setItemTaxCode','setItemCode','setWarehouseStockMin','.removeCombo','base','closest','setStockInitial','apply','progress','Error\x20al\x20procesar\x20la\x20operaci贸n:','setCantidad','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','div','.unitAlias','key','reduce','.prodQty','setItemIsBought','trim','newItem_btn_addVariantGroup','log','setItemUnitId','_units_container','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','.addVariantUnit','disabled','upload-btn','#newItem_categories_select\x20.options_list','classList','setWebhook','setItemDateExpiry','ERROR:\x20plainProducts\x20no\x20serializable:','.ms_input','blur','_branch_container','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setItemTaxValue','setItemBrands','items','test','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','defineProperty','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','bind','inputItemTax','.addVariantComp','Items\x20finales:','splice','btnExportarItems','span','stopPropagation','done','.unitSelect','name','onmessage','type','setCostUSD','assign','[data-idx=\x22','.branchInit','setImpuestoValue','querySelectorAll','setWarehouseName','currency','.eqInput','newItem_proditems_container','priceInput','setTaxIdDefault','.selected_tags','.variantForm','add','createObjectURL','default','option','__proto__','setWarehouseId','filter','checked','postMessage','./excel/Plantilla-Items.xlsx','<div\x20class=\x22newItem_col\x22>','\x20Error:\x20','setCodProducto','file-input','target','values','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','setIdProducto','addEventListener','inputItemName','setPrice','.removeUnit','newItem_variants_forms','variantForm','currentTarget','click','eqInput','setImpuestos','constructor','return\x20(function()\x20','newItem_categories_select','</label>','getElementsByClassName','style=\x22display:none\x22','setDefault','setPriceUSD','drop','.prodInput','setItemDescription','findIndex','toISOString','slice','setUnits','unitSelect','newItem_hidden','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','.prod_input_container','</div>','.variantExpiry','newItem_units_container','newItem_chk_sell','No\x20hay\x20items\x20para\x20exportar.','Ingresa\x20el\x20c贸digo\x20del\x20item','revokeObjectURL','\x20items.','arrayBuffer','setMtoPrecioCostoUnitario','inputItemDateExpiry','display','now','.removeVariant','setCode','setImpuestoName','code','22987880oVHHjd','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','match','setItemFree','focus','\x22\x20value=\x22','href','.vgVals','.xlsx','setMoneda','style','setItemCategories','error','getElementById','setItemBarCode','stringify','setItemId','true','newItem_addToCart','setItemName','remove-tag','dataset','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','trace','from','value','.priceInput','padStart','push','readwrite','split','exception','setItemTaxId','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setWarehouseCode','setUnitCode','\x20Exportaci贸n\x20completada:\x20','setCategoria','active','setStockMinimum','children','20RkRvuX','costInput','sort','productType1','570516givvpd','.options_list','newItem_title_table_cp','setConversionFactor','input','setFactor','USD','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','91oICwov','sucursales','change','unitAlias','Generando\x20Excel...','image/*','table','.vgName','setItemType'];_0x55c5=function(){return _0x2589cd;};return _0x55c5();}function removeImg(_0x3b3d26){var _0x37329c=_0x5b5353;currentImages[_0x3b3d26]=null;var _0x13c914=imgC['querySelector'](_0x37329c(0x24a)+_0x3b3d26+'\x22]');_0x13c914[_0x37329c(0x1e6)]='';var _0x1afefd=document[_0x37329c(0x197)](_0x37329c(0x182));_0x1afefd[_0x37329c(0x247)]='file',_0x1afefd[_0x37329c(0x1d7)]=_0x37329c(0x18b),_0x1afefd[_0x37329c(0x15a)][_0x37329c(0x14a)]=_0x37329c(0x1c6);var _0x1f2377=document[_0x37329c(0x197)](_0x37329c(0x241));_0x1f2377[_0x37329c(0x1f5)]='+',_0x13c914[_0x37329c(0x1b7)](_0x1afefd),_0x13c914['appendChild'](_0x1f2377),_0x13c914['addEventListener'](_0x37329c(0x26f),function(){var _0x3c71c9=_0x37329c;_0x1afefd[_0x3c71c9(0x26f)]();}),baseItem[_0x37329c(0x1bc)]=currentImages[_0x37329c(0x25c)](function(_0x1368ed){return _0x1368ed;});}function addUnit(_0x1d63cd,_0x30486a,_0x460846,_0x11268f,_0x4f0939,_0x344c5d,_0x255a12){var _0x1c324f=_0x5b5353,_0x13c3b0=uniqueValuesArray(_0x1c324f(0x174),'setUnitName',myCompany[_0x1c324f(0x13a)]);_0x1d63cd=_0x1d63cd||'',_0x30486a=_0x30486a||_0x13c3b0[0x3a]&&_0x13c3b0[0x3a][_0x1c324f(0x14d)]||'',_0x460846=_0x460846!==undefined?_0x460846:0x1,_0x11268f=!!_0x11268f,_0x4f0939=_0x4f0939||'',_0x344c5d=_0x344c5d||'';var _0x9c46c4=unitCount++,_0x5844ec=document['createElement'](_0x1c324f(0x21c));_0x5844ec[_0x1c324f(0x165)][_0x1c324f(0x1a4)]=_0x9c46c4,_0x5844ec[_0x1c324f(0x165)][_0x1c324f(0x258)]=_0x11268f,_0x5844ec[_0x1c324f(0x1e6)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x9c46c4+'\x22\x20value=\x22'+_0x1d63cd+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x9c46c4+_0x1c324f(0x171)+_0x9c46c4+_0x1c324f(0x155)+_0x460846+'\x22\x20'+(_0x11268f?_0x1c324f(0x229):'')+_0x1c324f(0x166)+_0x9c46c4+_0x1c324f(0x155)+_0x4f0939+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0x9c46c4+_0x1c324f(0x155)+_0x344c5d+_0x1c324f(0x21b)+(_0x11268f?_0x1c324f(0x131):'')+_0x1c324f(0x266),fillSelect(_0x5844ec[_0x1c324f(0x1d3)]('.unitSelect'),_0x13c3b0,_0x1c324f(0x14d),_0x1c324f(0x1e7)),_0x5844ec[_0x1c324f(0x1d3)](_0x1c324f(0x244))['value']=_0x30486a,[_0x1c324f(0x189),_0x1c324f(0x13b),_0x1c324f(0x270),_0x1c324f(0x252),_0x1c324f(0x17b)][_0x1c324f(0x1a7)](function(_0x3f1451){var _0x2a2afd=_0x1c324f;_0x5844ec[_0x2a2afd(0x1d3)]('.'+_0x3f1451)['addEventListener']('input',function(){var _0x1f6279=_0x2a2afd,_0x5f8116=_0x255a12?+_0x255a12['id'][_0x1f6279(0x16e)]('_')[0x1]:null;if(_0x255a12)updateVariantUnits(_0x5f8116);else updateUnitsArray();});}),_0x5844ec[_0x1c324f(0x1d3)](_0x1c324f(0x26b))[_0x1c324f(0x268)]('click',function(){var _0x48d008=_0x1c324f;_0x5844ec[_0x48d008(0x204)]();var _0x347fd9=_0x255a12?+_0x255a12['id']['split']('_')[0x1]:null;if(_0x255a12)updateVariantUnits(_0x347fd9);else updateUnitsArray();});var _0x48f5d3=_0x255a12||document[_0x1c324f(0x15d)](_0x1c324f(0x141));_0x48f5d3[_0x1c324f(0x1b7)](_0x5844ec);}function containerIdx(_0x4a450b){var _0x45d6b7=_0x5b5353;return+_0x4a450b['id'][_0x45d6b7(0x16e)]('_')[0x1];}function updateUnitsArray(){var _0x27f0cc=_0x5b5353,_0x3e2b97=[],_0x4a205a=Array['from'](document[_0x27f0cc(0x24d)](_0x27f0cc(0x1d9))),_0x6c5820=_0x4a205a[_0x27f0cc(0x1ac)](_0x218902=>_0x218902['dataset']['default']===_0x27f0cc(0x161)),_0x2dbea2=_0x6c5820?+_0x6c5820['querySelector'](_0x27f0cc(0x250))[_0x27f0cc(0x169)]:0x1;_0x4a205a[_0x27f0cc(0x1a7)](function(_0x2e94da){var _0x17b01c=_0x27f0cc,_0x382f37=+_0x2e94da[_0x17b01c(0x1d3)](_0x17b01c(0x250))[_0x17b01c(0x169)]||0x0,_0x1b40db=+_0x2e94da[_0x17b01c(0x1d3)]('.priceInput')[_0x17b01c(0x169)]||0x0,_0x21395d=+_0x2e94da[_0x17b01c(0x1d3)](_0x17b01c(0x19a))[_0x17b01c(0x169)]||0x0;_0x3e2b97['push']({'setAlias':_0x2e94da[_0x17b01c(0x1d3)](_0x17b01c(0x21d))[_0x17b01c(0x169)][_0x17b01c(0x222)](),'setUnitCode':_0x2e94da[_0x17b01c(0x1d3)](_0x17b01c(0x244))[_0x17b01c(0x169)],'setEquivalence':_0x382f37,'setFactor':_0x2e94da[_0x17b01c(0x165)][_0x17b01c(0x258)]===_0x17b01c(0x161)?0x1:_0x382f37==_0x2dbea2?0x1:_0x382f37<_0x2dbea2?_0x2dbea2/_0x382f37:_0x382f37/_0x2dbea2,'setPrice':_0x1b40db,'setCost':_0x21395d,'setDefault':_0x2e94da[_0x17b01c(0x165)][_0x17b01c(0x258)]==='true'?0x1:0x0});}),baseItem['setItemUnits']=_0x3e2b97;}function updateBranches(){var _0x45070b=_0x5b5353,_0x12db7b=[];document[_0x45070b(0x24d)](_0x45070b(0x1e8))[_0x45070b(0x1a7)](function(_0x48581c){var _0x59845f=_0x45070b,_0x4b177b=_0x48581c[_0x59845f(0x1d3)](_0x59845f(0x191));if(_0x4b177b[_0x59845f(0x25d)]){var _0x3753d5=+_0x4b177b[_0x59845f(0x165)]['id'],_0x5889cc=+_0x48581c[_0x59845f(0x1d3)](_0x59845f(0x24b))['value'],_0xb274f4=+_0x48581c[_0x59845f(0x1d3)]('.branchMin')[_0x59845f(0x169)];_0x12db7b[_0x59845f(0x16c)]({'setWarehouseCode':_0x3753d5,'setStockInitial':_0x5889cc,'setStockMinimum':_0xb274f4});}}),baseItem['setItemWarehouses']=_0x12db7b;}document[_0x5b5353(0x15d)]('newItem_btn_addProdItem')[_0x5b5353(0x268)]('click',function(){var _0x3f590f=_0x5b5353,_0x589261=Date[_0x3f590f(0x14b)](),_0x3eca10=document[_0x3f590f(0x197)](_0x3f590f(0x21c));_0x3eca10[_0x3f590f(0x165)]['idx']=_0x589261,_0x3eca10['innerHTML']='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x589261+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x589261+_0x3f590f(0x23a),prodC['appendChild'](_0x3eca10),initProdSearch(_0x3eca10[_0x3f590f(0x1d3)]('.prod_input_container')),_0x3eca10[_0x3f590f(0x1d3)](_0x3f590f(0x1c4))[_0x3f590f(0x268)](_0x3f590f(0x26f),function(){var _0x3443c7=_0x3f590f;_0x3eca10[_0x3443c7(0x204)](),updateProdItems();}),_0x3eca10['querySelector'](_0x3f590f(0x220))[_0x3f590f(0x268)](_0x3f590f(0x182),updateProdItems),document['getElementById'](_0x3f590f(0x180))[_0x3f590f(0x22c)]['toggle']('newItem_title_table',!![]),document[_0x3f590f(0x15d)](_0x3f590f(0x180))[_0x3f590f(0x22c)][_0x3f590f(0x1bd)](_0x3f590f(0x13c),![]);});function initProdSearch(_0x4b2c04,_0x399586){var _0x2d53d6=_0x5b5353,_0x4059f9=_0x4b2c04['querySelector'](_0x2d53d6(0x135)),_0x371bf7=_0x4b2c04[_0x2d53d6(0x1d3)]('.options_list'),_0x45deb2=_0x399586||null;if(_0x399586)_0x4059f9[_0x2d53d6(0x169)]=_0x399586[_0x2d53d6(0x245)];_0x4059f9[_0x2d53d6(0x268)](_0x2d53d6(0x182),function(){var _0x2c84db=_0x2d53d6,_0x375d5e=_0x4059f9[_0x2c84db(0x169)][_0x2c84db(0x193)]()['trim']();_0x371bf7['innerHTML']='';if(!_0x375d5e)return;products[_0x2c84db(0x25c)](_0x2b6e9b=>_0x2b6e9b['setDescripcion'][_0x2c84db(0x193)]()['includes'](_0x375d5e))[_0x2c84db(0x139)](0x0,0x14)['forEach'](function(_0x598039){var _0x26d643=_0x2c84db,_0xf2aad0=document[_0x26d643(0x197)](_0x26d643(0x21c));_0xf2aad0['textContent']=_0x598039[_0x26d643(0x1cf)],_0xf2aad0['dataset']['id']=_0x598039['id'],_0xf2aad0['dataset']['name']=_0x598039[_0x26d643(0x1cf)],_0x371bf7[_0x26d643(0x1b7)](_0xf2aad0),_0xf2aad0[_0x26d643(0x268)]('click',function(){var _0x4c234c=_0x26d643;_0x45deb2={'id':_0x598039['id'],'name':_0x598039[_0x4c234c(0x1cf)]},_0x4059f9['value']=_0x598039[_0x4c234c(0x1cf)],_0x371bf7['innerHTML']='';var _0x2b44cf=_0x4b2c04[_0x4c234c(0x215)](_0x4c234c(0x1be));if(_0x2b44cf){var _0x51ea8d=+_0x2b44cf['id'][_0x4c234c(0x16e)]('_')[0x1];updateVariantComponents(_0x51ea8d);}else updateProdItems();});});}),_0x4059f9[_0x2d53d6(0x268)]('focus',function(){var _0x28f5d9=_0x2d53d6;_0x371bf7[_0x28f5d9(0x22c)][_0x28f5d9(0x204)](_0x28f5d9(0x13c));}),document['addEventListener'](_0x2d53d6(0x26f),function(_0x4f7484){var _0x5ea30a=_0x2d53d6;if(!_0x4b2c04[_0x5ea30a(0x1fc)](_0x4f7484['target']))_0x371bf7['classList']['add'](_0x5ea30a(0x13c));}),Object[_0x2d53d6(0x239)](_0x4b2c04,_0x2d53d6(0x200),{'get':()=>_0x45deb2});}function updateProdItems(){var _0xb2512a=_0x5b5353,_0x10eb0a=[];Array[_0xb2512a(0x168)](prodC[_0xb2512a(0x179)])[_0xb2512a(0x1a7)](function(_0xc2af40){var _0x24af86=_0xb2512a,_0x1a4b99=_0xc2af40[_0x24af86(0x1d3)](_0x24af86(0x13e));if(!_0x1a4b99)return;var _0x104150=_0xc2af40['querySelector'](_0x24af86(0x220)),_0x2d1bfb=_0x1a4b99[_0x24af86(0x200)];_0x2d1bfb&&_0x10eb0a[_0x24af86(0x16c)]({'setItemId':_0x2d1bfb['id'],'setDescripcion':_0x2d1bfb['name'],'setCantidad':+_0x104150[_0x24af86(0x169)]});}),baseItem[_0xb2512a(0x20b)]=_0x10eb0a,_0x10eb0a[_0xb2512a(0x1b5)]===0x0&&(document[_0xb2512a(0x15d)](_0xb2512a(0x180))[_0xb2512a(0x22c)]['toggle'](_0xb2512a(0x1d6),![]),document[_0xb2512a(0x15d)](_0xb2512a(0x180))[_0xb2512a(0x22c)]['toggle'](_0xb2512a(0x13c),!![]));}document['getElementById'](_0x5b5353(0x223))[_0x5b5353(0x268)]('click',function(){var _0x104db3=_0x5b5353,_0x282381=vgCount++,_0x276cd7=document[_0x104db3(0x197)]('div');_0x276cd7[_0x104db3(0x165)]['idx']=_0x282381,_0x276cd7[_0x104db3(0x1e6)]=_0x104db3(0x227)+_0x282381+'\x22>'+_0x104db3(0x1c2)+_0x282381+'\x22>'+_0x104db3(0x1d5),vgC[_0x104db3(0x1b7)](_0x276cd7),_0x276cd7[_0x104db3(0x1d3)](_0x104db3(0x18d))[_0x104db3(0x268)]('blur',generateVariants),_0x276cd7[_0x104db3(0x1d3)](_0x104db3(0x157))['addEventListener']('blur',generateVariants),_0x276cd7[_0x104db3(0x1d3)](_0x104db3(0x209))['addEventListener'](_0x104db3(0x26f),function(){var _0x779c=_0x104db3;_0x276cd7[_0x779c(0x204)](),generateVariants();});});function generateVariants(){var _0x2c53b8=_0x5b5353,_0x32dd02=[];vgC[_0x2c53b8(0x24d)](_0x2c53b8(0x21c))[_0x2c53b8(0x1a7)](function(_0x426b2b){var _0x405120=_0x2c53b8,_0x3cb5ff=_0x426b2b['querySelector'](_0x405120(0x18d))[_0x405120(0x169)][_0x405120(0x222)](),_0x2e34b4=_0x426b2b[_0x405120(0x1d3)]('.vgVals')['value'][_0x405120(0x16e)](',')[_0x405120(0x1f2)](_0x490bc6=>_0x490bc6['trim']())[_0x405120(0x25c)](_0x2f97a2=>_0x2f97a2);if(_0x3cb5ff&&_0x2e34b4[_0x405120(0x1b5)])_0x32dd02[_0x405120(0x16c)]({'name':_0x3cb5ff,'vals':_0x2e34b4});});var _0x5a0b75=[{}];_0x32dd02[_0x2c53b8(0x1a7)](function(_0x2bf4d4){_0x5a0b75=_0x5a0b75['flatMap'](function(_0xfdcab4){var _0x19d4a2=_0x43de;return _0x2bf4d4['vals'][_0x19d4a2(0x1f2)](function(_0x43e009){var _0x3ea051=_0x19d4a2,_0x5347c5=Object[_0x3ea051(0x249)]({},_0xfdcab4);return _0x5347c5[_0x2bf4d4[_0x3ea051(0x245)]]=_0x43e009,_0x5347c5;});});}),newItems=[],varContainer['innerHTML']='',_0x5a0b75['forEach'](function(_0x3696b4,_0x40b4b3){var _0x2a1d7f=_0x2c53b8,_0x5cd9d6=JSON[_0x2a1d7f(0x1ab)](JSON[_0x2a1d7f(0x15f)](baseItem));_0x5cd9d6['setItemVariantValues']=_0x3696b4,_0x5cd9d6['setItemVariantName']=baseItem[_0x2a1d7f(0x163)]+'\x20'+Object['entries'](_0x3696b4)['map'](_0x5b5c1f=>_0x5b5c1f[0x0]+'\x20'+_0x5b5c1f[0x1])[_0x2a1d7f(0x195)]('\x20'),newItems[_0x2a1d7f(0x16c)](_0x5cd9d6);var _0x10c0ae=document[_0x2a1d7f(0x197)]('div');_0x10c0ae[_0x2a1d7f(0x22c)][_0x2a1d7f(0x256)](_0x2a1d7f(0x26d)),_0x10c0ae['dataset'][_0x2a1d7f(0x1a4)]=_0x40b4b3,_0x10c0ae[_0x2a1d7f(0x1e6)]=_0x2a1d7f(0x1c3)+_0x5cd9d6['setItemVariantName']+_0x2a1d7f(0x233)+_0x5cd9d6[_0x2a1d7f(0x211)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x5cd9d6[_0x2a1d7f(0x15e)]+_0x2a1d7f(0x1b4)+_0x5cd9d6[_0x2a1d7f(0x22e)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x40b4b3+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x40b4b3+_0x2a1d7f(0x1ff)+_0x40b4b3+_0x2a1d7f(0x151),varContainer['appendChild'](_0x10c0ae),_0x10c0ae[_0x2a1d7f(0x1d3)](_0x2a1d7f(0x206))['addEventListener'](_0x2a1d7f(0x182),_0x1b5a60=>newItems[_0x40b4b3]['setItemCode']=_0x1b5a60[_0x2a1d7f(0x264)]['value']),_0x10c0ae[_0x2a1d7f(0x1d3)]('.variantBarCode')['addEventListener'](_0x2a1d7f(0x182),_0x331f2e=>newItems[_0x40b4b3][_0x2a1d7f(0x15e)]=_0x331f2e[_0x2a1d7f(0x264)][_0x2a1d7f(0x169)]),_0x10c0ae[_0x2a1d7f(0x1d3)](_0x2a1d7f(0x140))[_0x2a1d7f(0x268)](_0x2a1d7f(0x188),_0x4b2241=>newItems[_0x40b4b3][_0x2a1d7f(0x22e)]=_0x4b2241[_0x2a1d7f(0x264)][_0x2a1d7f(0x169)]),initVariantUnits(_0x40b4b3),initVariantComponents(_0x40b4b3),initVariantBranches(_0x40b4b3),_0x10c0ae[_0x2a1d7f(0x1d3)](_0x2a1d7f(0x14c))[_0x2a1d7f(0x268)]('click',function(){var _0x23590f=_0x2a1d7f,_0x33814f=+_0x10c0ae['dataset'][_0x23590f(0x1a4)];newItems[_0x23590f(0x23f)](_0x33814f,0x1),_0x10c0ae['remove'](),document['querySelectorAll'](_0x23590f(0x255))[_0x23590f(0x1a7)](function(_0x1ec87f,_0x2ee123){var _0x2bda12=_0x23590f;_0x1ec87f[_0x2bda12(0x165)]['idx']=_0x2ee123;});});});if(newItems[_0x2c53b8(0x1b5)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x40a1a7){var _0x3e7570=_0x5b5353,_0x579f20=document[_0x3e7570(0x15d)]('variant_'+_0x40a1a7+_0x3e7570(0x226)),_0x49bfdc=[];Array[_0x3e7570(0x168)](_0x579f20[_0x3e7570(0x179)])[_0x3e7570(0x1a7)](function(_0x3e7261){var _0x5f2a3b=_0x3e7570,_0x4d4914=+_0x3e7261[_0x5f2a3b(0x1d3)]('.eqInput')['value']||0x0,_0x29b400=_0x3e7261[_0x5f2a3b(0x1d3)](_0x5f2a3b(0x21d))[_0x5f2a3b(0x169)]['trim'](),_0x4bac99=_0x3e7261[_0x5f2a3b(0x1d3)](_0x5f2a3b(0x244))[_0x5f2a3b(0x169)],_0x43a8ab=+_0x3e7261['querySelector'](_0x5f2a3b(0x16a))['value']||0x0,_0x80519c=+_0x3e7261[_0x5f2a3b(0x1d3)](_0x5f2a3b(0x19a))[_0x5f2a3b(0x169)]||0x0,_0x465633=_0x3e7261[_0x5f2a3b(0x165)][_0x5f2a3b(0x258)]===_0x5f2a3b(0x161),_0x3878be=+_0x579f20['querySelector'](_0x5f2a3b(0x199))['value']||0x1,_0x332801=_0x465633?0x1:_0x4d4914==_0x3878be?0x1:_0x4d4914<_0x3878be?_0x3878be/_0x4d4914:_0x4d4914/_0x3878be;_0x49bfdc[_0x5f2a3b(0x16c)]({'setAlias':_0x29b400,'setUnitCode':_0x4bac99,'setEquivalence':_0x4d4914,'setFactor':_0x332801,'setPrice':_0x43a8ab,'setCost':_0x80519c,'setDefault':_0x465633?0x1:0x0});}),newItems[_0x40a1a7]['setItemUnits']=_0x49bfdc;}function _0x43de(_0x4bcd1d,_0x143794){var _0x101ab7=_0x55c5();return _0x43de=function(_0x30cf21,_0x55e4b2){_0x30cf21=_0x30cf21-0x12d;var _0xbaf3df=_0x101ab7[_0x30cf21];return _0xbaf3df;},_0x43de(_0x4bcd1d,_0x143794);}function initVariantUnits(_0x16ccb3){var _0x5cacba=_0x5b5353,_0x3b9bcf=document[_0x5cacba(0x15d)](_0x5cacba(0x1eb)+_0x16ccb3+_0x5cacba(0x226));_0x3b9bcf[_0x5cacba(0x1e6)]='',newItems[_0x16ccb3][_0x5cacba(0x1e0)]['forEach'](function(_0x516d17){var _0x52db83=_0x5cacba;addUnit(_0x516d17[_0x52db83(0x1d0)],_0x516d17[_0x52db83(0x174)],_0x516d17['setEquivalence'],_0x516d17[_0x52db83(0x132)],_0x516d17[_0x52db83(0x26a)],_0x516d17[_0x52db83(0x1c1)],_0x3b9bcf);}),_0x3b9bcf[_0x5cacba(0x1ed)][_0x5cacba(0x1d3)](_0x5cacba(0x228))[_0x5cacba(0x268)](_0x5cacba(0x26f),function(){addUnit('','',0x1,![],'','',_0x3b9bcf),updateVariantUnits(_0x16ccb3);});}function updateVariantUnits(_0x1da50a){var _0x188e22=_0x5b5353,_0x22fa5a=document[_0x188e22(0x15d)](_0x188e22(0x1eb)+_0x1da50a+'_units_container'),_0x1427b5=_0x22fa5a['querySelector']('div[data-default=\x22true\x22]\x20.eqInput'),_0x32479d=_0x1427b5?+_0x1427b5[_0x188e22(0x169)]:0x1,_0x4d60d7=Array['from'](_0x22fa5a['children'])['map'](function(_0x1c3700){var _0x2fbe4a=_0x188e22,_0x48d3c2=_0x1c3700[_0x2fbe4a(0x1d3)](_0x2fbe4a(0x21d))[_0x2fbe4a(0x169)]['trim'](),_0xf193b1=_0x1c3700[_0x2fbe4a(0x1d3)](_0x2fbe4a(0x244))[_0x2fbe4a(0x169)],_0x2e81a9=+_0x1c3700[_0x2fbe4a(0x1d3)](_0x2fbe4a(0x250))[_0x2fbe4a(0x169)]||0x0,_0x288631=+_0x1c3700['querySelector'](_0x2fbe4a(0x16a))[_0x2fbe4a(0x169)]||0x0,_0x3b4d8b=+_0x1c3700['querySelector']('.costInput')[_0x2fbe4a(0x169)]||0x0,_0x37cc71=_0x1c3700[_0x2fbe4a(0x165)][_0x2fbe4a(0x258)]===_0x2fbe4a(0x161);return{'setAlias':_0x48d3c2,'setUnitCode':_0xf193b1,'setEquivalence':_0x2e81a9,'setFactor':_0x37cc71?0x1:_0x2e81a9==_0x32479d?0x1:_0x2e81a9<_0x32479d?_0x32479d/_0x2e81a9:_0x2e81a9/_0x32479d,'setPrice':_0x288631,'setCost':_0x3b4d8b,'setDefault':_0x37cc71?0x1:0x0};});newItems[_0x1da50a]['setItemUnits']=_0x4d60d7;}function initVariantComponents(_0x4977f5){var _0x562a1b=_0x5b5353,_0x4ef214=document[_0x562a1b(0x15d)](_0x562a1b(0x1eb)+_0x4977f5+_0x562a1b(0x1a8));_0x4ef214[_0x562a1b(0x1e6)]='',newItems[_0x4977f5]['setItemComponents'][_0x562a1b(0x1a7)](function(_0x23e57e){var _0x101153=_0x562a1b,_0x9a1c57=document['createElement'](_0x101153(0x21c)),_0xa2938f=Date[_0x101153(0x14b)]();_0x9a1c57[_0x101153(0x165)]['idx']=_0xa2938f,_0x9a1c57['innerHTML']=_0x101153(0x1b3)+_0xa2938f+_0x101153(0x1a3)+_0x23e57e[_0x101153(0x21a)]+_0x101153(0x1e9),_0x4ef214[_0x101153(0x1b7)](_0x9a1c57),initProdSearch(_0x9a1c57[_0x101153(0x1d3)]('.prod_input_container'),{'id':_0x23e57e['setItemId'],'name':_0x23e57e['setDescripcion']}),_0x9a1c57[_0x101153(0x1d3)]('.prodQty')[_0x101153(0x268)](_0x101153(0x182),function(){updateVariantComponents(_0x4977f5);}),_0x9a1c57[_0x101153(0x1d3)]('.removeCombo')[_0x101153(0x268)](_0x101153(0x26f),function(){var _0x2b2364=_0x101153;_0x9a1c57[_0x2b2364(0x204)](),updateVariantComponents(_0x4977f5);});}),_0x4ef214[_0x562a1b(0x1ed)][_0x562a1b(0x1d3)](_0x562a1b(0x23d))[_0x562a1b(0x268)](_0x562a1b(0x26f),function(){var _0x2f7457=_0x562a1b,_0x4e8eb7=document['createElement'](_0x2f7457(0x21c)),_0x58718d=Date[_0x2f7457(0x14b)]();_0x4e8eb7[_0x2f7457(0x165)]['idx']=_0x58718d,_0x4e8eb7[_0x2f7457(0x1e6)]=_0x2f7457(0x1b3)+_0x58718d+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x4ef214[_0x2f7457(0x1b7)](_0x4e8eb7),initProdSearch(_0x4e8eb7['querySelector']('.prod_input_container')),_0x4e8eb7[_0x2f7457(0x1d3)]('.prodQty')[_0x2f7457(0x268)](_0x2f7457(0x182),function(){updateVariantComponents(_0x4977f5);}),_0x4e8eb7['querySelector'](_0x2f7457(0x213))[_0x2f7457(0x268)](_0x2f7457(0x26f),function(){_0x4e8eb7['remove'](),updateVariantComponents(_0x4977f5);});});}function updateVariantComponents(_0xfddfe7){var _0x59e20a=_0x5b5353,_0x10052f=document[_0x59e20a(0x15d)](_0x59e20a(0x1eb)+_0xfddfe7+_0x59e20a(0x1a8)),_0x2c861e=Array[_0x59e20a(0x168)](_0x10052f[_0x59e20a(0x179)])[_0x59e20a(0x1f2)](function(_0x339a69){var _0x531a25=_0x59e20a,_0x15f54d=_0x339a69[_0x531a25(0x1d3)]('.prod_input_container'),_0x1e4b08=_0x15f54d[_0x531a25(0x200)],_0x4fb187=+_0x339a69[_0x531a25(0x1d3)]('.prodQty')[_0x531a25(0x169)]||0x0;return _0x1e4b08?{'setItemId':_0x1e4b08['id'],'setDescripcion':_0x1e4b08[_0x531a25(0x245)],'setCantidad':_0x4fb187}:null;})[_0x59e20a(0x25c)](_0x43ac63=>_0x43ac63);newItems[_0xfddfe7][_0x59e20a(0x20b)]=_0x2c861e;}function initVariantBranches(_0x3fdf79){var _0x41afe1=_0x5b5353;const _0x343a22=getAllWarehouses();var _0x10eff8=document['getElementById'](_0x41afe1(0x1eb)+_0x3fdf79+'_branch_container');_0x10eff8[_0x41afe1(0x1e6)]='',newItems[_0x3fdf79][_0x41afe1(0x1de)][_0x41afe1(0x1a7)](function(_0x12e9d3){var _0x1604b3=_0x41afe1,_0x38f5fc=_0x343a22[_0x1604b3(0x1ac)](_0x54c117=>_0x54c117['setWarehouseId']==_0x12e9d3[_0x1604b3(0x173)]),_0x4f3913=document[_0x1604b3(0x197)]('div');_0x4f3913[_0x1604b3(0x1e6)]=_0x1604b3(0x19b)+_0x12e9d3[_0x1604b3(0x173)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x38f5fc[_0x1604b3(0x24e)]+_0x1604b3(0x172)+_0x12e9d3[_0x1604b3(0x173)]+_0x1604b3(0x155)+_0x12e9d3['setStockInitial']+_0x1604b3(0x1c8)+_0x12e9d3[_0x1604b3(0x173)]+_0x1604b3(0x155)+_0x12e9d3['setStockMinimum']+'\x22>',_0x10eff8['appendChild'](_0x4f3913),_0x4f3913[_0x1604b3(0x24d)](_0x1604b3(0x182))['forEach'](function(_0x2a9030){var _0x43c90e=_0x1604b3;_0x2a9030[_0x43c90e(0x268)](_0x43c90e(0x182),function(){updateVariantBranches(_0x3fdf79);});});}),_0x343a22[_0x41afe1(0x1a7)](function(_0x4ac551){var _0xfe6730=_0x41afe1;if(!newItems[_0x3fdf79]['setItemWarehouses'][_0xfe6730(0x1ac)](_0x1e1534=>_0x1e1534['setWarehouseCode']===_0x4ac551['setWarehouseId'])){var _0x404512=document[_0xfe6730(0x197)](_0xfe6730(0x21c));_0x404512[_0xfe6730(0x1e6)]=_0xfe6730(0x19b)+_0x4ac551['setWarehouseId']+_0xfe6730(0x1df)+_0x4ac551[_0xfe6730(0x24e)]+_0xfe6730(0x172)+_0x4ac551['setWarehouseId']+_0xfe6730(0x1c8)+_0x4ac551['setWarehouseId']+'\x22>',_0x10eff8[_0xfe6730(0x1b7)](_0x404512),_0x404512[_0xfe6730(0x24d)](_0xfe6730(0x182))[_0xfe6730(0x1a7)](function(_0x39891e){var _0x1f31c3=_0xfe6730;_0x39891e[_0x1f31c3(0x268)](_0x1f31c3(0x182),function(){updateVariantBranches(_0x3fdf79);});});}});}function updateVariantBranches(_0x12efbf){var _0x54a656=_0x5b5353,_0x2ef2d8=document[_0x54a656(0x15d)](_0x54a656(0x1eb)+_0x12efbf+_0x54a656(0x232)),_0x55c19d=[];_0x2ef2d8['querySelectorAll'](_0x54a656(0x21c))[_0x54a656(0x1a7)](function(_0x3a9164){var _0x3bfdb0=_0x54a656,_0x45303b=_0x3a9164[_0x3bfdb0(0x1d3)](_0x3bfdb0(0x191));if(_0x45303b[_0x3bfdb0(0x25d)]){var _0x443e6a=+_0x45303b[_0x3bfdb0(0x165)]['id'],_0x45fa0c=+_0x3a9164[_0x3bfdb0(0x1d3)](_0x3bfdb0(0x24b))[_0x3bfdb0(0x169)]||0x0,_0x349a9e=+_0x3a9164[_0x3bfdb0(0x1d3)](_0x3bfdb0(0x1e1))[_0x3bfdb0(0x169)]||0x0;_0x55c19d[_0x3bfdb0(0x16c)]({'setWarehouseCode':_0x443e6a,'setStockInitial':_0x45fa0c,'setStockMinimum':_0x349a9e});}}),newItems[_0x12efbf]['setItemWarehouses']=_0x55c19d;}async function storeOfflineProduct(_0x22a996){var _0x30bf4e=_0x5b5353;try{const _0x58583b=await createCartStore(''),_0x509617=_0x58583b[_0x30bf4e(0x1bf)]('offline_operations',_0x30bf4e(0x16d)),_0x1b9b7e=_0x509617['objectStore'](_0x30bf4e(0x1bb));_0x1b9b7e[_0x30bf4e(0x256)](_0x22a996),_0x509617['oncomplete']=()=>{var _0x2cb6b2=_0x30bf4e;console[_0x2cb6b2(0x224)](_0x2cb6b2(0x208));},_0x509617['onerror']=_0x29127a=>{var _0x2f66cf=_0x30bf4e;console[_0x2f66cf(0x15c)](_0x2f66cf(0x1d4),_0x29127a[_0x2f66cf(0x264)]['error']);};}catch(_0x2eb189){console[_0x30bf4e(0x15c)](_0x30bf4e(0x219),_0x2eb189);}}document[_0x5b5353(0x15d)]('btnItemSave')['addEventListener'](_0x5b5353(0x26f),async function(_0x1c093f){var _0x457eb6=_0x5b5353;_0x1c093f[_0x457eb6(0x1c7)]();const _0x5961b0=document[_0x457eb6(0x15d)](_0x457eb6(0x1f6)),_0x3e8231=document[_0x457eb6(0x15d)](_0x457eb6(0x153))[_0x457eb6(0x169)];if(!_0x5961b0[_0x457eb6(0x169)][_0x457eb6(0x222)]()&&_0x3e8231==0x0){ntfShow(_0x457eb6(0x144),0x2,0x1);return;}_0x3e8231==0x1&&(_0x5961b0[_0x457eb6(0x169)]='',baseItem[_0x457eb6(0x211)]='');const _0x5ab1f8=document[_0x457eb6(0x15d)](_0x457eb6(0x269));if(!_0x5ab1f8['value'][_0x457eb6(0x222)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x4c43fa=document['getElementById'](_0x457eb6(0x162));hideModalCreateItem(),showLoadingModal();newItems[_0x457eb6(0x1b5)]===0x0&&(newItems=[baseItem]);const _0x346f89=document['getElementById']('windowId')['value'],_0x128a4c=window_options[_0x346f89][_0x457eb6(0x159)],_0x3c68c9=[];newItems['forEach'](_0x24ce07=>{var _0x17d41d=_0x457eb6;const _0x5abb8c=generateNumericUniqId();_0x24ce07[_0x17d41d(0x1e0)]['forEach'](_0x57ae36=>{var _0x267a10=_0x17d41d;const _0x5364c0=generateNumericUniqId();_0x57ae36['setItemUnitId']=_0x5364c0;const _0x5459d9={'id':_0x5364c0,'setIdProducto':_0x5abb8c,'setCodProducto':_0x24ce07[_0x267a10(0x211)],'setDescripcion':_0x24ce07[_0x267a10(0x163)],'setItemDescription':_0x24ce07[_0x267a10(0x136)],'setBatchExpirationDate':_0x24ce07['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x24ce07[_0x267a10(0x15b)][0x0]||'','setMarca':_0x24ce07[_0x267a10(0x235)][0x0]||'','setConversionFactor':parseFloat(_0x57ae36[_0x267a10(0x183)]),'setImages':[],'setImg':_0x267a10(0x1fb),'setInventariable':0x1,'setItemIsBought':_0x24ce07[_0x267a10(0x221)]?0x1:0x0,'setItemIsSold':_0x24ce07['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x24ce07[_0x267a10(0x234)],'setPrinters':[],'setTaxId':_0x24ce07[_0x267a10(0x170)],'setTipAfeIgv':_0x24ce07[_0x267a10(0x210)],'setUnidad':_0x57ae36['setUnitCode'],'setUnidadCodigo':_0x57ae36['setUnitCode'],'setItemUnitAlias':_0x57ae36['setAlias'],'currency_data':[{'currency':_0x128a4c,'setMtoPrecioCostoUnitario':_0x57ae36[_0x267a10(0x1c1)],'setMtoPrecioUnitario':_0x57ae36[_0x267a10(0x26a)],'setPriceLists':[]}],'sucursales':_0x24ce07[_0x267a10(0x1de)][_0x267a10(0x1f2)](_0x1b58db=>({'setIdSucursal':_0x1b58db['setWarehouseCode'],'setSucursalStock':_0x1b58db['setStockInitial'][_0x267a10(0x1ee)](),'setWarehouseStockMin':_0x1b58db[_0x267a10(0x178)][_0x267a10(0x1ee)]()})),'setItemFree':_0x24ce07[_0x267a10(0x153)],'setItemBarCode':_0x24ce07['setItemBarCode'],'setItemBrands':_0x24ce07['setItemBrands'][_0x267a10(0x139)](),'setItemCategories':_0x24ce07['setItemCategories'][_0x267a10(0x139)](),'setItemComponents':_0x24ce07['setItemComponents']['map'](_0x4d4873=>({..._0x4d4873})),'setItemImages':_0x24ce07['setItemImages'][_0x267a10(0x139)](),'setItemVariantName':_0x24ce07[_0x267a10(0x1ba)],'setItemVariantValues':{..._0x24ce07[_0x267a10(0x207)]}};_0x3c68c9[_0x267a10(0x16c)](_0x5459d9),(_0x4c43fa[_0x267a10(0x25d)]||_0x3e8231==0x1)&&addToCart(_0x5459d9);});}),console[_0x457eb6(0x224)]('Items\x20finales:',newItems),await finalizeImport(_0x3c68c9,newItems,![]);}),['dragenter',_0x5b5353(0x1cd)]['forEach'](_0x490e62=>dropZone[_0x5b5353(0x268)](_0x490e62,_0xb72a75=>{var _0x24d312=_0x5b5353;_0xb72a75['preventDefault'](),dropZone[_0x24d312(0x22c)][_0x24d312(0x256)](_0x24d312(0x1cd));})),['dragleave','drop'][_0x5b5353(0x1a7)](_0x489166=>dropZone[_0x5b5353(0x268)](_0x489166,_0x5aeea9=>{var _0x910cb8=_0x5b5353;_0x5aeea9[_0x910cb8(0x1c7)](),dropZone[_0x910cb8(0x22c)]['remove']('dragover');})),dropZone[_0x5b5353(0x268)](_0x5b5353(0x134),_0x56bd7d=>{var _0xe37cea=_0x5b5353;const _0x37fa97=_0x56bd7d[_0xe37cea(0x1e3)][_0xe37cea(0x205)][0x0];if(!_0x37fa97)return;fileInput[_0xe37cea(0x205)]=_0x56bd7d[_0xe37cea(0x1e3)]['files'],dropZone[_0xe37cea(0x1d3)](_0xe37cea(0x203))[_0xe37cea(0x1f5)]=_0x37fa97[_0xe37cea(0x245)],removeBtn[_0xe37cea(0x1ae)]=![],fileInput['dispatchEvent'](new Event(_0xe37cea(0x188)));}),removeBtn[_0x5b5353(0x268)](_0x5b5353(0x26f),()=>{var _0x1e7404=_0x5b5353;fileInput['value']='',dropZone[_0x1e7404(0x1d3)](_0x1e7404(0x203))[_0x1e7404(0x1f5)]=_0x1e7404(0x201),removeBtn['hidden']=!![],progressBar[_0x1e7404(0x15a)][_0x1e7404(0x14a)]=_0x1e7404(0x1c6),statusDiv[_0x1e7404(0x1f5)]='',uploadBtn[_0x1e7404(0x229)]=!![];});const exportBtn=document[_0x5b5353(0x15d)](_0x5b5353(0x240));exportBtn[_0x5b5353(0x268)](_0x5b5353(0x26f),onClickExportarItems);async function onClickExportarItems(){var _0x46b034=_0x5b5353;if(!Array[_0x46b034(0x1c9)](products)||!products['length']){ntfShow(_0x46b034(0x143));return;}try{const _0x1587fd=await fetch(_0x46b034(0x25f));if(!_0x1587fd['ok'])throw new Error(_0x46b034(0x13d));const _0x628ea5=await _0x1587fd[_0x46b034(0x147)](),_0x14bafa=document[_0x46b034(0x15d)](_0x46b034(0x25b))[_0x46b034(0x169)],_0x495e0c=products[_0x46b034(0x25c)](_0x1778d3=>Array[_0x46b034(0x1c9)](_0x1778d3[_0x46b034(0x187)])&&_0x1778d3[_0x46b034(0x187)][_0x46b034(0x1c0)](_0x1cd771=>String(_0x1cd771[_0x46b034(0x1af)])==String(_0x14bafa))),_0x55dabb=_0x495e0c[_0x46b034(0x21f)]((_0x43de64,_0x42bcc1)=>{var _0x1dee1a=_0x46b034;const _0x10dd42=_0x42bcc1['setIdProducto'];if(!_0x43de64[_0x10dd42])_0x43de64[_0x10dd42]=[];return _0x43de64[_0x10dd42][_0x1dee1a(0x16c)](_0x42bcc1),_0x43de64;},{}),_0x1afb12=Object[_0x46b034(0x265)](_0x55dabb)[_0x46b034(0x1f2)](_0xfc6a6a=>{var _0x1781a1=_0x46b034;const _0x3cca33=_0xfc6a6a[0x0],_0x56d902=_0xfc6a6a[0x1]||{};function _0x129d04(_0x5d7291,_0x142639,_0x3b5d64){var _0x544d95=_0x43de;if(!_0x5d7291||!Array[_0x544d95(0x1c9)](_0x5d7291['currency_data']))return'';const _0x5a1431=_0x5d7291[_0x544d95(0x1f3)][_0x544d95(0x1ac)](_0x525958=>_0x525958[_0x544d95(0x24f)]===_0x142639);return _0x5a1431?_0x5a1431[_0x3b5d64]:'';}return{'id':_0x3cca33['setIdProducto'],'setItemType':_0x3cca33[_0x1781a1(0x18e)],'setCodProducto':_0x3cca33[_0x1781a1(0x262)],'setDescripcion':_0x3cca33[_0x1781a1(0x1cf)],'setItemDescription':_0x3cca33[_0x1781a1(0x136)],'setCategoria':_0x3cca33[_0x1781a1(0x176)],'setMarca':_0x3cca33[_0x1781a1(0x190)],'setTaxId':_0x3cca33[_0x1781a1(0x1db)],'setUnitId':_0x3cca33['id'],'setItemBarCode':_0x3cca33[_0x1781a1(0x15e)],'setUnidadCodigo':_0x3cca33[_0x1781a1(0x1b0)],'PEN_setMtoPrecioUnitario':_0x129d04(_0x3cca33,_0x1781a1(0x1a9),_0x1781a1(0x1f8)),'PEN_setMtoPrecioCostoUnitario':_0x129d04(_0x3cca33,_0x1781a1(0x1a9),'setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x129d04(_0x3cca33,_0x1781a1(0x184),_0x1781a1(0x1f8)),'USD_setMtoPrecioCostoUnitario':_0x129d04(_0x3cca33,_0x1781a1(0x184),'setMtoPrecioCostoUnitario'),'setUnitId2':_0x56d902['id']??'','setItemBarCode2':_0x56d902['setItemBarCode']??'','setUnidadCodigo2':_0x56d902[_0x1781a1(0x1b0)]??'','setUnidadEquivalencia2':_0x56d902[_0x1781a1(0x181)]??'','PEN_setMtoPrecioUnitario2':_0x129d04(_0x56d902,_0x1781a1(0x1a9),_0x1781a1(0x1f8))??'','PEN_setMtoPrecioCostoUnitario2':_0x129d04(_0x56d902,_0x1781a1(0x1a9),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x129d04(_0x56d902,_0x1781a1(0x184),_0x1781a1(0x1f8))??'','USD_setMtoPrecioCostoUnitario2':_0x129d04(_0x56d902,_0x1781a1(0x184),_0x1781a1(0x148))??'','setInventariable':_0x3cca33['setInventariable'],'setSucursalStock':_0x3cca33[_0x1781a1(0x187)][_0x1781a1(0x1ac)](_0x3786e6=>String(_0x3786e6['setIdSucursal'])==String(_0x14bafa))[_0x1781a1(0x1b8)],'setWarehouseStockMin':_0x3cca33[_0x1781a1(0x187)][_0x1781a1(0x1ac)](_0x5f3d00=>String(_0x5f3d00[_0x1781a1(0x1af)])==String(_0x14bafa))[_0x1781a1(0x212)],'setBatchName':_0x3cca33[_0x1781a1(0x1ec)],'setBatchExpirationDate':_0x3cca33[_0x1781a1(0x1b2)],..._0x3cca33[_0x1781a1(0x207)]};});try{JSON[_0x46b034(0x15f)](_0x1afb12);}catch(_0x3c9b83){console[_0x46b034(0x15c)](_0x46b034(0x22f),_0x3c9b83),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv[_0x46b034(0x1f5)]=_0x46b034(0x18a),progressBar['style'][_0x46b034(0x14a)]=_0x46b034(0x1f0),progressBar['value']=0x0,itemWorker[_0x46b034(0x25e)]({'action':'exportItems','products':_0x1afb12,'plantillaBuf':_0x628ea5},[_0x628ea5]);}catch(_0x148887){console[_0x46b034(0x15c)](_0x148887),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x148887[_0x46b034(0x1d2)]);}}itemWorker[_0x5b5353(0x246)]=({data:_0x24f128})=>{var _0x2df818=_0x5b5353;const {type:_0x5905af,payload:_0x3bfecd}=_0x24f128;_0x5905af===_0x2df818(0x218)&&(progressBar['style'][_0x2df818(0x14a)]=_0x2df818(0x1f0),progressBar['value']=_0x3bfecd[_0x2df818(0x20d)],statusDiv['textContent']=_0x3bfecd[_0x2df818(0x1d2)]);_0x5905af===_0x2df818(0x243)&&(newItemsExcel=_0x3bfecd[_0x2df818(0x236)],statusDiv[_0x2df818(0x1f5)]='\x20'+newItemsExcel['length']+'\x20items\x20procesados.',uploadBtn[_0x2df818(0x229)]=![],progressBar[_0x2df818(0x169)]=0x64,console[_0x2df818(0x224)](newItemsExcel));_0x5905af===_0x2df818(0x15c)&&(statusDiv[_0x2df818(0x1f5)]=_0x2df818(0x261)+_0x3bfecd,progressBar['style'][_0x2df818(0x14a)]='none');if(_0x5905af===_0x2df818(0x1b1)){const {wbout:_0x97b2b0,count:_0x1c4258}=_0x3bfecd,_0x230e4f=new Blob([_0x97b2b0],{'type':'application/octet-stream'}),_0x58bc09=URL[_0x2df818(0x257)](_0x230e4f),_0x43bbf9=document['createElement']('a'),_0x10aa45=new Date()[_0x2df818(0x138)]()['slice'](0x0,0xa);_0x43bbf9['download']='Plantilla-Items-Export-'+_0x10aa45+_0x2df818(0x158),_0x43bbf9[_0x2df818(0x156)]=_0x58bc09,_0x43bbf9[_0x2df818(0x26f)](),URL[_0x2df818(0x145)](_0x58bc09),statusDiv['textContent']=_0x2df818(0x175)+_0x1c4258+_0x2df818(0x146),progressBar[_0x2df818(0x15a)][_0x2df818(0x14a)]='none';}},fileInput['addEventListener'](_0x5b5353(0x188),async _0x34df98=>{var _0x4fa986=_0x5b5353;const _0x27d164=_0x34df98[_0x4fa986(0x264)][_0x4fa986(0x205)][0x0];if(!_0x27d164)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv[_0x4fa986(0x1f5)]='',progressBar[_0x4fa986(0x15a)]['display']=_0x4fa986(0x1c6),dropZone[_0x4fa986(0x1d3)](_0x4fa986(0x203))[_0x4fa986(0x1f5)]=_0x27d164[_0x4fa986(0x245)],removeBtn[_0x4fa986(0x1ae)]=![];try{const _0x4a2a9e=await _0x27d164['arrayBuffer']();itemWorker[_0x4fa986(0x25e)]({'action':'import','buf':_0x4a2a9e,'maxRows':0x1388});}catch(_0x50a4c1){statusDiv[_0x4fa986(0x1f5)]=_0x4fa986(0x1cc);}finally{fileInput[_0x4fa986(0x169)]='';}}),uploadBtn[_0x5b5353(0x268)]('click',async()=>{var _0x6dec1c=_0x5b5353;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x5ec4d6=document[_0x6dec1c(0x15d)](_0x6dec1c(0x25b))[_0x6dec1c(0x169)],_0x4bad0c=[];newItemsExcel[_0x6dec1c(0x1a7)](_0x3feb3c=>{var _0x17b10b=_0x6dec1c;const _0x4b44ce=Boolean(_0x3feb3c[_0x17b10b(0x160)]),_0x1a2da8=_0x4b44ce?_0x3feb3c[_0x17b10b(0x160)]:generateNumericUniqId();_0x3feb3c[_0x17b10b(0x1de)]=[{'setStockInitial':_0x3feb3c[_0x17b10b(0x216)],'setStockMinimum':_0x3feb3c[_0x17b10b(0x178)],'setWarehouseCode':_0x5ec4d6}],_0x3feb3c[_0x17b10b(0x1e0)]['forEach'](_0x3cc6dd=>{var _0x49ca6f=_0x17b10b;const _0x25c34e=Boolean(_0x3cc6dd[_0x49ca6f(0x225)]),_0x11d664=_0x25c34e?_0x3cc6dd[_0x49ca6f(0x225)]:generateNumericUniqId();_0x3cc6dd[_0x49ca6f(0x225)]=_0x11d664;const _0x1b08c9=[];_0x1b08c9[_0x49ca6f(0x16c)]({'currency':_0x49ca6f(0x1a9),'setMtoPrecioCostoUnitario':_0x3cc6dd[_0x49ca6f(0x1c1)],'setMtoPrecioUnitario':_0x3cc6dd[_0x49ca6f(0x26a)],'setPriceLists':[]});const _0x12f924=_0x3cc6dd[_0x49ca6f(0x248)]!=null&&_0x3cc6dd[_0x49ca6f(0x133)]!=null&&(!isNaN(_0x3cc6dd[_0x49ca6f(0x248)])||!isNaN(_0x3cc6dd[_0x49ca6f(0x133)]));_0x12f924&&_0x1b08c9[_0x49ca6f(0x16c)]({'currency':_0x49ca6f(0x184),'setMtoPrecioCostoUnitario':_0x3cc6dd[_0x49ca6f(0x248)],'setMtoPrecioUnitario':_0x3cc6dd[_0x49ca6f(0x133)],'setPriceLists':[]});const _0x714173={'id':_0x11d664,'setIdProducto':_0x1a2da8,'setItemBarCode':_0x3cc6dd[_0x49ca6f(0x15e)],'setCodProducto':_0x3feb3c[_0x49ca6f(0x211)],'setDescripcion':_0x3feb3c[_0x49ca6f(0x163)],'setItemDescription':_0x3feb3c['setItemDescription'],'setBatchExpirationDate':_0x3feb3c[_0x49ca6f(0x22e)],'setBatchName':_0x3feb3c['setBatchName'],'setCategoria':_0x3feb3c[_0x49ca6f(0x15b)][0x0]||'','setMarca':_0x3feb3c[_0x49ca6f(0x235)][0x0]||'','setConversionFactor':parseFloat(_0x3cc6dd['setFactor']),'setImages':[],'setImg':_0x49ca6f(0x1fb),'setInventariable':_0x3feb3c[_0x49ca6f(0x1a2)],'setItemIsBought':_0x3feb3c[_0x49ca6f(0x221)],'setItemIsSold':_0x3feb3c[_0x49ca6f(0x1a1)],'setPorcentajeIgv':_0x3feb3c[_0x49ca6f(0x234)],'setPrinters':[],'setTaxId':_0x3feb3c[_0x49ca6f(0x170)],'setTipAfeIgv':_0x3feb3c[_0x49ca6f(0x210)],'setUnidad':_0x3cc6dd['setUnitCode'],'setUnidadCodigo':_0x3cc6dd[_0x49ca6f(0x174)],'setItemUnitAlias':_0x3cc6dd[_0x49ca6f(0x1d0)],'currency_data':_0x1b08c9,'sucursales':_0x3feb3c[_0x49ca6f(0x1de)]['map'](_0x45d0b4=>({'setIdSucursal':_0x45d0b4[_0x49ca6f(0x173)],'setSucursalStock':_0x45d0b4[_0x49ca6f(0x216)][_0x49ca6f(0x1ee)](),'setWarehouseStockMin':_0x45d0b4[_0x49ca6f(0x178)][_0x49ca6f(0x1ee)]()})),'setItemFree':_0x3feb3c['setItemFree'],'setItemBrands':_0x3feb3c[_0x49ca6f(0x235)][_0x49ca6f(0x139)](),'setItemCategories':_0x3feb3c[_0x49ca6f(0x15b)][_0x49ca6f(0x139)](),'setItemComponents':_0x3feb3c[_0x49ca6f(0x20b)]['map'](_0x23a0ae=>({..._0x23a0ae})),'setItemImages':_0x3feb3c[_0x49ca6f(0x1bc)][_0x49ca6f(0x139)](),'setItemVariantName':_0x3feb3c[_0x49ca6f(0x1ba)],'setItemVariantValues':{..._0x3feb3c['setItemVariantValues']}},_0x4f0ad=products[_0x49ca6f(0x137)](_0x5a1d29=>_0x5a1d29['id']==_0x11d664&&_0x5a1d29[_0x49ca6f(0x267)]==_0x1a2da8);_0x4f0ad>-0x1?Object['assign'](products[_0x4f0ad],_0x714173):_0x4bad0c['push'](_0x714173);});}),console['log'](_0x6dec1c(0x23e),newItemsExcel),await finalizeImport(_0x4bad0c,newItemsExcel,!![]);});function initializeFormImages(){var _0x7793b=_0x5b5353;currentImages=Array(MAX_IMAGES)[_0x7793b(0x19d)](null),imgC[_0x7793b(0x1e6)]='',baseItem['setItemImages']=[];for(var _0x1eb65a=0x0;_0x1eb65a<MAX_IMAGES;_0x1eb65a++){(function(_0x3fa66d){var _0x38ff9a=_0x7793b,_0x5c7be1=document['createElement'](_0x38ff9a(0x21c));_0x5c7be1[_0x38ff9a(0x19f)]=_0x38ff9a(0x1ea),_0x5c7be1[_0x38ff9a(0x165)]['idx']=_0x3fa66d;var _0x2ba912=document[_0x38ff9a(0x197)]('input');_0x2ba912['type']='file',_0x2ba912['accept']=_0x38ff9a(0x18b),_0x2ba912[_0x38ff9a(0x15a)]['display']=_0x38ff9a(0x1c6);var _0x214dd3=document['createElement'](_0x38ff9a(0x241));_0x214dd3[_0x38ff9a(0x1f5)]='+',_0x5c7be1[_0x38ff9a(0x1b7)](_0x2ba912),_0x5c7be1[_0x38ff9a(0x1b7)](_0x214dd3),imgC[_0x38ff9a(0x1b7)](_0x5c7be1),_0x5c7be1[_0x38ff9a(0x268)]('click',function(){var _0x182b11=_0x38ff9a;_0x2ba912[_0x182b11(0x26f)]();}),_0x2ba912[_0x38ff9a(0x268)](_0x38ff9a(0x188),function(_0xba701b){var _0x3cc029=_0x38ff9a,_0xa54208=_0xba701b[_0x3cc029(0x264)]['files'][0x0];if(!_0xa54208)return removeImg(_0x3fa66d);var _0x32ae14=new FileReader();_0x32ae14['onload']=function(_0x57e7f6){var _0x5106cf=_0x3cc029;_0x5c7be1[_0x5106cf(0x1e6)]='<img\x20src=\x22'+_0x57e7f6[_0x5106cf(0x264)]['result']+'\x22>';var _0x50458e=document['createElement'](_0x5106cf(0x241));_0x50458e[_0x5106cf(0x19f)]=_0x5106cf(0x204),_0x50458e[_0x5106cf(0x1f5)]='',_0x50458e[_0x5106cf(0x268)](_0x5106cf(0x26f),function(_0x5055ec){var _0x34c4ad=_0x5106cf;_0x5055ec[_0x34c4ad(0x242)](),removeImg(_0x3fa66d);}),_0x5c7be1[_0x5106cf(0x1b7)](_0x50458e),currentImages[_0x3fa66d]=_0xa54208,baseItem['setItemImages']=currentImages['filter'](function(_0xac6c7b){return _0xac6c7b;});},_0x32ae14['readAsDataURL'](_0xa54208);});}(_0x1eb65a));}}function initializeFormIsSoldIsBought(_0x57f7f5=0x0){var _0x2c9bf7=_0x5b5353;let _0x4df46e,_0x2ef7c7;if(_0x57f7f5!=0x0){const _0x380e49=products[_0x2c9bf7(0x1ac)](_0xebe78e=>_0xebe78e['id']==_0x57f7f5);_0x4df46e=_0x380e49[_0x2c9bf7(0x221)]==0x1||_0x380e49[_0x2c9bf7(0x221)]==!![]?!![]:![],_0x2ef7c7=_0x380e49['setItemIsSold']==0x1||_0x380e49['setItemIsSold']==!![]?!![]:![];}else _0x4df46e=!![],_0x2ef7c7=!![];document['getElementById'](_0x2c9bf7(0x1e2))[_0x2c9bf7(0x25d)]=_0x4df46e,document[_0x2c9bf7(0x15d)](_0x2c9bf7(0x142))[_0x2c9bf7(0x25d)]=_0x2ef7c7,baseItem[_0x2c9bf7(0x221)]=_0x4df46e,baseItem['setItemIsSold']=_0x2ef7c7;}function initializeFormInputsBasic(_0x15f716=0x0){var _0x51a3a3=_0x5b5353;let _0x23d9a9,_0x289cf3,_0x3a6d18,_0x1443e8,_0x2ec8f8,_0x41d94a;if(_0x15f716!=0x0){const _0x1d0c29=products[_0x51a3a3(0x1ac)](_0x32d48a=>_0x32d48a['id']==_0x15f716);_0x23d9a9=_0x1d0c29[_0x51a3a3(0x18e)]??'1',_0x289cf3=_0x1d0c29[_0x51a3a3(0x262)],_0x3a6d18=_0x1d0c29['setDescripcion'],_0x1443e8=_0x1d0c29[_0x51a3a3(0x136)],_0x2ec8f8=_0x1d0c29['setBatchExpirationDate']??'',_0x41d94a=_0x1d0c29[_0x51a3a3(0x15e)];}else _0x23d9a9='1',_0x289cf3=getNextCode(products),_0x3a6d18='',_0x1443e8='',_0x2ec8f8='',_0x41d94a='';document[_0x51a3a3(0x15d)](_0x51a3a3(0x20c))[_0x51a3a3(0x169)]=_0x23d9a9,document[_0x51a3a3(0x15d)](_0x51a3a3(0x1f6))[_0x51a3a3(0x169)]=_0x289cf3,document[_0x51a3a3(0x15d)](_0x51a3a3(0x269))['value']=_0x3a6d18,document[_0x51a3a3(0x15d)](_0x51a3a3(0x1f9))[_0x51a3a3(0x169)]=_0x1443e8,document[_0x51a3a3(0x15d)](_0x51a3a3(0x149))[_0x51a3a3(0x169)]=_0x2ec8f8,document[_0x51a3a3(0x15d)]('inputItemBarCode')[_0x51a3a3(0x169)]=_0x41d94a,baseItem[_0x51a3a3(0x18e)]=_0x23d9a9,baseItem[_0x51a3a3(0x211)]=_0x289cf3,baseItem[_0x51a3a3(0x163)]=_0x3a6d18,baseItem[_0x51a3a3(0x136)]=_0x1443e8,baseItem[_0x51a3a3(0x22e)]=_0x2ec8f8,baseItem['setItemBarCode']=_0x41d94a,document[_0x51a3a3(0x15d)](_0x51a3a3(0x162))[_0x51a3a3(0x25d)]=![];}function initializeFormTax(_0x30faa3=0x0){var _0x5cd32e=_0x5b5353;let _0x249443;if(_0x30faa3!=0x0){const _0x17ad7d=products[_0x5cd32e(0x1ac)](_0x24eabb=>_0x24eabb['id']==_0x30faa3);_0x249443=_0x17ad7d[_0x5cd32e(0x1db)];}else _0x249443=myCompany['setTaxIdDefault'];const _0x324b2b=document[_0x5cd32e(0x15d)](_0x5cd32e(0x23c));_0x324b2b[_0x5cd32e(0x169)]=_0x249443,baseItem[_0x5cd32e(0x170)]=_0x249443;const _0x1c507e=company[0x0][_0x5cd32e(0x271)][_0x5cd32e(0x1ac)](_0x4ebbfe=>_0x4ebbfe[_0x5cd32e(0x1db)]==_0x249443)?.[_0x5cd32e(0x1d1)]||0x0,_0x2e1f17=company[0x0]['setImpuestos']['find'](_0x429efd=>_0x429efd[_0x5cd32e(0x1db)]==_0x249443)?.[_0x5cd32e(0x24c)]||0x0;baseItem['setItemTaxCode']=_0x1c507e,baseItem[_0x5cd32e(0x234)]=_0x2e1f17;}function initializeFormCategoriesBrands(_0x2100e5=0x0){var _0x270cd1=_0x5b5353;baseItem[_0x270cd1(0x15b)]=[],baseItem[_0x270cd1(0x235)]=[],document[_0x270cd1(0x1d3)]('#newItem_categories_select\x20.selected_tags')[_0x270cd1(0x1e6)]='',document[_0x270cd1(0x1d3)](_0x270cd1(0x22b))[_0x270cd1(0x1e6)]='',document['querySelector'](_0x270cd1(0x198))[_0x270cd1(0x1e6)]='',document['querySelector'](_0x270cd1(0x1cb))['innerHTML']='';const _0x1a5902=uniqueValuesArray('setCategoria',_0x270cd1(0x176),products),_0x29ad3e=uniqueValuesArray('setMarca',_0x270cd1(0x190),products),_0x56d57e=initMulti(_0x270cd1(0x12e),_0x1a5902),_0x488ebb=initMulti('newItem_brands_select',_0x29ad3e);document[_0x270cd1(0x15d)]('newItem_categories_select')[_0x270cd1(0x268)](_0x270cd1(0x202),function(_0x4006b0){var _0x4ab971=_0x270cd1;baseItem[_0x4ab971(0x15b)]=_0x56d57e[_0x4ab971(0x1f2)](_0x227d74=>_0x227d74[_0x4ab971(0x14d)]);}),document[_0x270cd1(0x15d)]('newItem_brands_select')['addEventListener'](_0x270cd1(0x202),function(_0x164165){var _0xf86b2=_0x270cd1;baseItem[_0xf86b2(0x235)]=_0x488ebb[_0xf86b2(0x1f2)](_0x4ca77d=>_0x4ca77d[_0xf86b2(0x14d)]);});if(_0x2100e5!=0x0){const _0xe05061=products['find'](_0x2c1afd=>_0x2c1afd['id']==_0x2100e5);if(_0xe05061['setCategoria']){const _0x2584a0=document['getElementById'](_0x270cd1(0x12e)),_0x10f105=Array[_0x270cd1(0x168)](_0x2584a0[_0x270cd1(0x24d)](_0x270cd1(0x1d8)))[_0x270cd1(0x1ac)](_0x1e0d08=>_0x1e0d08[_0x270cd1(0x165)][_0x270cd1(0x14f)]==_0xe05061[_0x270cd1(0x176)]);_0x10f105&&_0x10f105[_0x270cd1(0x26f)]();}if(_0xe05061[_0x270cd1(0x190)]){const _0x5a11fe=document[_0x270cd1(0x15d)](_0x270cd1(0x1b6)),_0x1af3c0=Array[_0x270cd1(0x168)](_0x5a11fe[_0x270cd1(0x24d)](_0x270cd1(0x1d8)))[_0x270cd1(0x1ac)](_0xcefdca=>_0xcefdca[_0x270cd1(0x165)][_0x270cd1(0x14f)]==_0xe05061[_0x270cd1(0x190)]);_0x1af3c0&&_0x1af3c0[_0x270cd1(0x26f)]();}}}function initializeFormUnits(){var _0x5eac9c=_0x5b5353;unitCount=0x0,document[_0x5eac9c(0x15d)](_0x5eac9c(0x141))['innerHTML']='',baseItem['setItemUnits']=[];var _0xd65d5d=uniqueValuesArray(_0x5eac9c(0x174),'setUnitName',myCompany[_0x5eac9c(0x13a)]);addUnit('',_0xd65d5d[0x3a]&&_0xd65d5d[0x3a][_0x5eac9c(0x14d)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x468da3=_0x5b5353;prodC['innerHTML']='',baseItem[_0x468da3(0x20b)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x2e1bdc=_0x5b5353;branchesC[_0x2e1bdc(0x1e6)]='',baseItem['setItemWarehouses']=[];const _0x5695a0=getAllWarehouses();_0x5695a0['forEach'](function(_0x3096a8){var _0x1b3d98=_0x2e1bdc,_0xfb51c3=document[_0x1b3d98(0x197)](_0x1b3d98(0x21c));_0xfb51c3['innerHTML']=_0x1b3d98(0x238)+_0x1b3d98(0x260)+_0x1b3d98(0x1e4)+_0x3096a8[_0x1b3d98(0x25b)]+_0x1b3d98(0x19e)+_0x3096a8[_0x1b3d98(0x24e)]+_0x1b3d98(0x12f)+'</div>'+_0x1b3d98(0x260)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x3096a8[_0x1b3d98(0x25b)]+'\x22>'+'</div>'+_0x1b3d98(0x260)+_0x1b3d98(0x185)+_0x3096a8[_0x1b3d98(0x25b)]+'\x22>'+_0x1b3d98(0x13f)+_0x1b3d98(0x13f),branchesC[_0x1b3d98(0x1b7)](_0xfb51c3),_0xfb51c3[_0x1b3d98(0x24d)](_0x1b3d98(0x182))[_0x1b3d98(0x1a7)](function(_0x3000b5){var _0x45d39a=_0x1b3d98;_0x3000b5[_0x45d39a(0x268)](_0x45d39a(0x182),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0xffbb07=_0x5b5353;baseItem[_0xffbb07(0x1ba)]='',baseItem[_0xffbb07(0x207)]={},vgC[_0xffbb07(0x1e6)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x4c18e1,_0x15f725,_0x53446a=![]){var _0x465526=_0x5b5353;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x465526(0x22d)],'newItems':_0x15f725}),products[_0x465526(0x16c)](..._0x4c18e1),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x465526(0x1b9)),_0x53446a?(fileInput['value']='',uploadBtn[_0x465526(0x229)]=!![],statusDiv[_0x465526(0x1f5)]='',progressBar[_0x465526(0x15a)][_0x465526(0x14a)]='none',progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}