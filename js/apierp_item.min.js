/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.8
*/

var _0x56dc17=_0x1d67;function _0x1d67(_0x3f77e9,_0x16a03c){var _0x2adf37=_0x3f31();return _0x1d67=function(_0x2a6c30,_0x1288ec){_0x2a6c30=_0x2a6c30-0x78;var _0x38d8d1=_0x2adf37[_0x2a6c30];return _0x38d8d1;},_0x1d67(_0x3f77e9,_0x16a03c);}(function(_0x2b145b,_0x4b631c){var _0x2953ea=_0x1d67,_0x2d7ca2=_0x2b145b();while(!![]){try{var _0x1f4026=parseInt(_0x2953ea(0x10e))/0x1+parseInt(_0x2953ea(0xb2))/0x2*(parseInt(_0x2953ea(0x17d))/0x3)+parseInt(_0x2953ea(0x11e))/0x4*(parseInt(_0x2953ea(0x162))/0x5)+-parseInt(_0x2953ea(0x124))/0x6+parseInt(_0x2953ea(0xed))/0x7+parseInt(_0x2953ea(0xc3))/0x8*(-parseInt(_0x2953ea(0x99))/0x9)+-parseInt(_0x2953ea(0xa5))/0xa;if(_0x1f4026===_0x4b631c)break;else _0x2d7ca2['push'](_0x2d7ca2['shift']());}catch(_0x4e3a2b){_0x2d7ca2['push'](_0x2d7ca2['shift']());}}}(_0x3f31,0xc422b));var _0x330fb=(function(){var _0x11bc8e=!![];return function(_0x4ec469,_0x14a221){var _0x3b9ca9=_0x11bc8e?function(){var _0xe111af=_0x1d67;if(_0x14a221){var _0x2d4963=_0x14a221[_0xe111af(0x188)](_0x4ec469,arguments);return _0x14a221=null,_0x2d4963;}}:function(){};return _0x11bc8e=![],_0x3b9ca9;};}()),_0x37134e=_0x330fb(this,function(){var _0x529f4c=_0x1d67;return _0x37134e[_0x529f4c(0x1a5)]()[_0x529f4c(0x129)](_0x529f4c(0x193))['toString']()[_0x529f4c(0xfa)](_0x37134e)[_0x529f4c(0x129)]('(((.+)+)+)+$');});_0x37134e();function _0x3f31(){var _0x4af340=['\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','./img/product.png','setItemTaxCode','readwrite','warn','9137970xulOef','variantForm','./js/apierp_item_wk.min.js','setUnitCode','name','search','console','offline_operations','innerHTML','setItemImages','eqInput','_branch_container','Collator','setItemDescription','windowId','setMoneda','transaction','compare','code','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','true','setImpuestoName','setItemId','table','setUnitPresentationId','appendChild','setItemIsBought','error','addEventListener','sort','.prod_input_container','setItemUnits','newItem_btn_addUnit','getElementsByClassName','Nuevo\x20Producto','children','setItemIsSold','selectedItem','.unitSelect','newItem_hidden','currentTarget','parse','click','checked','inputItemBarCode','setWarehouseId','.vgVals','productType1','type','display','find','objectStore','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','remove-file','.branchChk','indexOf','vals','postMessage','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','Producto\x20Guardado\x20Offline\x20Correctamente.','splice','3024415qDSaya','.priceInput','closest','inputItemDescription','.unitAlias','newItem_proditems_container','padStart','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','blur','image/*','file','Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar','btnItemSave','.selected_tags','selected','dragover','Ingresa\x20el\x20c贸digo\x20del\x20item','newItem_units_container','closeModalCreateItem','tag','.variantCode','slice','.variantExpiry','100','inputItemTax','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','Error\x20al\x20guardar\x20Producto\x20Offline:','3fUMpCn','modalOverlayCreateItem','default','result','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','newItem_branches_container','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','includes','costInput','idx','remove','apply','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','newItem_variants_forms','.vgName','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','newItem_variant_groups','block','.drop-zone__prompt','option','Producto\x20Libre','variant_','(((.+)+)+)+$','Ingresa\x20el\x20nombre\x20del\x20item','onerror','setFactor','split','image_box','setItemWarehouses','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','inputItemDateExpiry','setAlias','toggle','setMarca','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','string','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','inputItemType','toLowerCase','toString','newItem_chk_buy','.prodQty','.ms_input','setCode','parentNode','newItem_chk_sell','.variantBarCode','#newItem_units_container\x20>\x20div','setUnidad','\x22\x20class=\x22branchChk\x22>\x20','push','change','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setImpuestos','setItemFree','setItemDateExpiry','setTaxId','setImpuestoCode','.branchInit','setItemBarCode','prototype','_comp_container','\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setItemComponents','selectionChange','setItemCode','setCantidad','newItem_brands_select','onmessage','findIndex','setItemTaxValue','modalProductNewTitle','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','309609xMCmnp','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','.costInput','dragenter','value','drop','span','setStockMinimum','.branchMin','status','info','9614410bUxIXk','setWarehouseName','newItem_categories_select','every','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','.addVariantComp','drop-zone','setDescripcion','textContent','file-input','some','</div>','style','1656716oEENfA','#newItem_brands_select\x20.selected_tags','div','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','<div\x20class=\x22newItem_col\x22>','setStockInitial','newItem_addToCart','upload-btn','inputItemCode','fill','\x20items\x20procesados.','setItemCategories','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','setName','#newItem_branches_container\x20>\x20div','target','152IKqsve','Items\x20finales:','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','.prodInput','now','style=\x22display:none\x22','active','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','detalleModalCreateItem','Enter','__proto__','dataset','className','createElement','setItemType','forEach','join','dispatchEvent','#newItem_categories_select\x20.options_list','setCost','[data-idx=\x22','setImpuestoValue','setWarehouseCode','setWebhook','classList','setItemTaxId','getElementById','[id$=\x22_comp_container\x22]','setTaxIdDefault','filter','entries','hidden','_units_container','Error\x20al\x20procesar\x20la\x20operaci贸n:','files','setItemName','querySelectorAll','arrayBuffer','newItem_title_table_cp','.eqInput','base','none','9174977tgySNU','.removeProd','test','div[data-default=\x22true\x22]\x20.eqInput','preventDefault','setPrice','from','setItemVariantName','focus','dataTransfer','setItemBrands','newItem_title_table','inputItemName','constructor','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','map','log','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','percent','setCategoria','contains','.removeCombo','<img\x20src=\x22','match','\x22\x20value=\x22','items','unitAlias','remove-tag','length','input','querySelector','setEquivalence','592591eLxWWT','dragleave','flatMap','.removeUnit','setAuthToken','trace','progress','readAsDataURL','bind','add','trim','accept','disabled','setItemVariantValues','stopPropagation','keydown','8etVLXw'];_0x3f31=function(){return _0x4af340;};return _0x3f31();}var _0x1288ec=(function(){var _0x129fab=!![];return function(_0x251e9b,_0x56b5d8){var _0x1acf44=_0x129fab?function(){var _0x2dc441=_0x1d67;if(_0x56b5d8){var _0x5a6fbb=_0x56b5d8[_0x2dc441(0x188)](_0x251e9b,arguments);return _0x56b5d8=null,_0x5a6fbb;}}:function(){};return _0x129fab=![],_0x1acf44;};}()),_0x2a6c30=_0x1288ec(this,function(){var _0x2cb64c=_0x1d67,_0x2e8a01=function(){var _0x3566e7;try{_0x3566e7=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xde9e76){_0x3566e7=window;}return _0x3566e7;},_0xf3cca=_0x2e8a01(),_0x214c9a=_0xf3cca[_0x2cb64c(0x12a)]=_0xf3cca['console']||{},_0xd0e442=['log',_0x2cb64c(0x123),_0x2cb64c(0xa4),_0x2cb64c(0x13f),'exception',_0x2cb64c(0x13b),_0x2cb64c(0x113)];for(var _0x4d15c7=0x0;_0x4d15c7<_0xd0e442[_0x2cb64c(0x10a)];_0x4d15c7++){var _0x24a2bd=_0x1288ec[_0x2cb64c(0xfa)][_0x2cb64c(0x8c)][_0x2cb64c(0x116)](_0x1288ec),_0x130dea=_0xd0e442[_0x4d15c7],_0x13c6ea=_0x214c9a[_0x130dea]||_0x24a2bd;_0x24a2bd[_0x2cb64c(0xcd)]=_0x1288ec[_0x2cb64c(0x116)](_0x1288ec),_0x24a2bd[_0x2cb64c(0x1a5)]=_0x13c6ea[_0x2cb64c(0x1a5)][_0x2cb64c(0x116)](_0x13c6ea),_0x214c9a[_0x130dea]=_0x24a2bd;}});_0x2a6c30();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById']('newItem_images_container'),unitCount=0x0,branchesC=document['getElementById'](_0x56dc17(0x182)),prodC=document[_0x56dc17(0xdd)](_0x56dc17(0x167)),vgCount=0x0,varContainer=document[_0x56dc17(0xdd)](_0x56dc17(0x18a)),vgC=document[_0x56dc17(0xdd)](_0x56dc17(0x18d));const fileInput=document[_0x56dc17(0xdd)](_0x56dc17(0xae)),progressBar=document[_0x56dc17(0xdd)](_0x56dc17(0x114)),statusDiv=document[_0x56dc17(0xdd)](_0x56dc17(0xa3)),uploadBtn=document[_0x56dc17(0xdd)](_0x56dc17(0xba));let newItemsExcel=null;const itemWorker=new Worker(_0x56dc17(0x126)),dropZone=document[_0x56dc17(0xdd)](_0x56dc17(0xab)),removeBtn=document[_0x56dc17(0xdd)](_0x56dc17(0x159));function showModalCreateItem(_0x36c433){var _0x4e9e57=_0x56dc17;const _0x541a28=document[_0x4e9e57(0xdd)](_0x4e9e57(0xcb)),_0x2d1d95=document['getElementById']('modalOverlayCreateItem');_0x541a28[_0x4e9e57(0xdb)][_0x4e9e57(0x117)](_0x4e9e57(0xc9)),_0x2d1d95['style'][_0x4e9e57(0x155)]=_0x4e9e57(0x18e);const _0x55a4c2=document[_0x4e9e57(0xdd)](_0x4e9e57(0x86));_0x55a4c2[_0x4e9e57(0x9e)]=parseInt(_0x36c433),baseItem[_0x4e9e57(0x86)]=parseInt(_0x36c433);const _0x348017=document[_0x4e9e57(0xdd)](_0x4e9e57(0x97));_0x36c433==0x0&&(_0x348017[_0x4e9e57(0x12c)]=_0x4e9e57(0x146));_0x36c433==0x1&&(_0x348017[_0x4e9e57(0x12c)]=_0x4e9e57(0x191));const _0x156101=document[_0x4e9e57(0x145)](_0x4e9e57(0x153));for(let _0x1f9e2b=0x0;_0x1f9e2b<_0x156101[_0x4e9e57(0x10a)];_0x1f9e2b++){const _0x191a74=_0x156101[_0x1f9e2b];if(_0x36c433==0x0)_0x191a74[_0x4e9e57(0xdb)]['remove'](_0x4e9e57(0xe2));else _0x36c433==0x1&&_0x191a74[_0x4e9e57(0xdb)][_0x4e9e57(0x117)](_0x4e9e57(0xe2));}}function hideModalCreateItem(){var _0x3e7e45=_0x56dc17;const _0x1500d2=document[_0x3e7e45(0xdd)]('detalleModalCreateItem'),_0x57085e=document[_0x3e7e45(0xdd)](_0x3e7e45(0x17e));_0x1500d2[_0x3e7e45(0xdb)][_0x3e7e45(0x187)](_0x3e7e45(0xc9)),_0x57085e[_0x3e7e45(0xb1)]['display']=_0x3e7e45(0xec);}document[_0x56dc17(0xdd)](_0x56dc17(0x174))[_0x56dc17(0x140)](_0x56dc17(0x14e),hideModalCreateItem),document[_0x56dc17(0xdd)](_0x56dc17(0x17e))[_0x56dc17(0x140)](_0x56dc17(0x14e),_0x1c9ef8=>{var _0x12b1b0=_0x56dc17;_0x1c9ef8[_0x12b1b0(0xc2)]==_0x1c9ef8[_0x12b1b0(0x14c)]&&_0x1c9ef8[_0x12b1b0(0x11c)]();});function loadTaxData(){var _0x41f2db=_0x56dc17;const _0x21147c=document[_0x41f2db(0xdd)](_0x41f2db(0x17a));_0x21147c[_0x41f2db(0x12c)]='',company[0x0][_0x41f2db(0x85)]['forEach'](function(_0x10f054){var _0x304afc=_0x41f2db;const _0x462204=document['createElement'](_0x304afc(0x190));_0x462204[_0x304afc(0x9e)]=_0x10f054[_0x304afc(0x88)],_0x462204[_0x304afc(0x12c)]=_0x10f054[_0x304afc(0x139)]+'\x20('+_0x10f054[_0x304afc(0xd8)]+'%)',_0x10f054[_0x304afc(0x88)]==company[0x0][_0x304afc(0xdf)]&&(_0x462204[_0x304afc(0x170)]=!![]),_0x21147c['appendChild'](_0x462204);});}function uniqueValuesArray(_0x2a254d,_0x23a3d2,_0xaa2923){var _0x314381=_0x56dc17;const _0x4b7a40=Array[_0x314381(0xf3)](new Set(_0xaa2923[_0x314381(0xfd)](_0x47e28a=>{var _0x16be48=_0x314381;const _0x53bbdc=_0x47e28a[_0x2a254d];return typeof _0x53bbdc===_0x16be48(0x1a1)?_0x53bbdc[_0x16be48(0x118)]():_0x53bbdc;})[_0x314381(0xe0)](_0x556c94=>_0x556c94!=null&&_0x556c94!=='')));return _0x4b7a40['map'](_0x153220=>{var _0x3b8bfc=_0x314381;const _0x25a876=_0xaa2923[_0x3b8bfc(0x156)](_0x532e20=>_0x532e20[_0x2a254d]===_0x153220),_0x1a9000=_0x25a876&&_0x25a876[_0x23a3d2]!=null?String(_0x25a876[_0x23a3d2])[_0x3b8bfc(0x118)]():_0x153220;return{'setCode':_0x153220,'setName':_0x1a9000};});}function fillSelect(_0x37ce4b,_0x4863b2,_0x23ce56,_0xfd331c){var _0x2ca3ec=_0x56dc17;_0x37ce4b[_0x2ca3ec(0x12c)]='',_0x4863b2['forEach'](function(_0x3b728c){var _0x5b3799=_0x2ca3ec,_0xa24f9a=new Option(_0x3b728c[_0xfd331c],_0x3b728c[_0x23ce56]);_0x37ce4b[_0x5b3799(0x117)](_0xa24f9a);});}function initMulti(_0x1bf659,_0x148523){var _0x1c3367=_0x56dc17,_0x4b44f4=document[_0x1c3367(0xdd)](_0x1bf659),_0x23c7b1=_0x4b44f4['querySelector'](_0x1c3367(0x7a)),_0x15361b=_0x4b44f4[_0x1c3367(0x10c)]('.options_list'),_0x30553f=_0x4b44f4[_0x1c3367(0x10c)](_0x1c3367(0x16f)),_0x550280=_0x148523[_0x1c3367(0x177)](),_0x2c00f4=[];function _0x193370(){var _0x231768=_0x1c3367;_0x15361b['innerHTML']='',_0x550280[_0x231768(0xe0)](function(_0x44ee1b){var _0x30fd8f=_0x231768;return _0x44ee1b[_0x30fd8f(0xc0)][_0x30fd8f(0x1a4)]()[_0x30fd8f(0x15b)](_0x23c7b1['value'][_0x30fd8f(0x1a4)]())!==-0x1;})[_0x231768(0xd2)](function(_0x29c039){var _0x2229d4=_0x231768,_0x2bd0b7=document[_0x2229d4(0xd0)](_0x2229d4(0xb4));_0x2bd0b7[_0x2229d4(0xad)]=_0x29c039['setName'],_0x2bd0b7[_0x2229d4(0xce)][_0x2229d4(0x136)]=_0x29c039[_0x2229d4(0x7b)],_0x15361b[_0x2229d4(0x13d)](_0x2bd0b7),_0x2bd0b7[_0x2229d4(0x140)](_0x2229d4(0x14e),function(){var _0x179786=_0x2229d4;_0x2c00f4[_0x179786(0x82)](_0x29c039),_0x550280[_0x179786(0x161)](_0x550280[_0x179786(0x95)](function(_0x49b773){var _0x56fba6=_0x179786;return _0x49b773[_0x56fba6(0x7b)]===_0x29c039['setCode'];}),0x1),_0x23c7b1[_0x179786(0x9e)]='',_0x51e37d(),_0x193370();});});}function _0x51e37d(){var _0xb7ef3d=_0x1c3367;_0x30553f['innerHTML']='',_0x2c00f4['forEach'](function(_0x2c9248){var _0x4466f2=_0x1d67,_0xf348ff=document['createElement'](_0x4466f2(0xb4));_0xf348ff[_0x4466f2(0xcf)]=_0x4466f2(0x175),_0xf348ff[_0x4466f2(0xad)]=_0x2c9248[_0x4466f2(0xc0)];var _0x5d3cb0=document[_0x4466f2(0xd0)](_0x4466f2(0xa0));_0x5d3cb0[_0x4466f2(0xcf)]=_0x4466f2(0x109),_0x5d3cb0[_0x4466f2(0xad)]='',_0x5d3cb0[_0x4466f2(0x140)](_0x4466f2(0x14e),function(){var _0x3f0635=_0x4466f2;_0x550280['push'](_0x2c9248);const _0x3b958d=_0x2c00f4[_0x3f0635(0x95)](function(_0x24e5dd){var _0x5709ad=_0x3f0635;return _0x24e5dd[_0x5709ad(0x7b)]===_0x2c9248[_0x5709ad(0x7b)];});if(_0x3b958d>-0x1)_0x2c00f4['splice'](_0x3b958d,0x1);_0x51e37d(),_0x193370();}),_0xf348ff['appendChild'](_0x5d3cb0),_0x30553f[_0x4466f2(0x13d)](_0xf348ff);}),_0x4b44f4[_0xb7ef3d(0xd4)](new CustomEvent(_0xb7ef3d(0x90),{'bubbles':!![]}));}return _0x23c7b1[_0x1c3367(0x140)](_0x1c3367(0xf5),function(){var _0x5a7413=_0x1c3367;_0x15361b[_0x5a7413(0xdb)][_0x5a7413(0x187)]('newItem_hidden');}),_0x23c7b1['addEventListener'](_0x1c3367(0x10b),_0x193370),_0x23c7b1[_0x1c3367(0x140)](_0x1c3367(0x11d),function(_0x26e5d7){var _0x2521ff=_0x1c3367;if(_0x26e5d7['key']===_0x2521ff(0xcc)){_0x26e5d7[_0x2521ff(0xf1)]();const _0x259ccc=_0x23c7b1[_0x2521ff(0x9e)][_0x2521ff(0x118)]();if(!_0x259ccc)return;const _0x5ae8c2=_0x2c00f4[_0x2521ff(0xaf)](_0x298fb6=>_0x298fb6['setName']===_0x259ccc),_0x1c5983=_0x550280[_0x2521ff(0xaf)](_0x5ea602=>_0x5ea602['setName']===_0x259ccc);if(!_0x5ae8c2&&!_0x1c5983){const _0x1452d2={'setCode':_0x259ccc,'setName':_0x259ccc};_0x2c00f4[_0x2521ff(0x82)](_0x1452d2),_0x51e37d(),_0x193370();}_0x23c7b1[_0x2521ff(0x9e)]='';}}),document['addEventListener'](_0x1c3367(0x14e),function(_0x528fa8){var _0xe049f7=_0x1c3367;if(!_0x4b44f4[_0xe049f7(0x102)](_0x528fa8[_0xe049f7(0xc2)]))_0x15361b[_0xe049f7(0xdb)][_0xe049f7(0x117)](_0xe049f7(0x14b));}),_0x193370(),_0x2c00f4;}function getLastCode(_0x2eaf61){var _0x485a95=_0x56dc17;const _0x15753e=_0x2eaf61[_0x485a95(0xfd)](_0x2f523b=>String(_0x2f523b['setCodProducto'])[_0x485a95(0x118)]())[_0x485a95(0xe0)](_0x408419=>_0x408419!=='');if(_0x15753e[_0x485a95(0x10a)]===0x0)return'';const _0x2a934d=_0x15753e[_0x485a95(0xa8)](_0x46554e=>/^\d+$/[_0x485a95(0xef)](_0x46554e));if(_0x2a934d){const _0x4144c7=_0x15753e[_0x485a95(0xfd)](Number),_0x3c8816=Math['max'](..._0x4144c7);return String(_0x3c8816);}let _0x11515d;if(typeof Intl!=='undefined'&&Intl[_0x485a95(0x130)]){const _0x28005a=new Intl[(_0x485a95(0x130))](undefined,{'numeric':!![],'sensitivity':_0x485a95(0xeb)});_0x11515d=_0x15753e[_0x485a95(0x177)]()['sort'](_0x28005a[_0x485a95(0x135)]);}else{const _0x236703=_0x15753e[_0x485a95(0xa8)](_0x30366a=>/^\d+$/[_0x485a95(0xef)](_0x30366a));_0x236703?_0x11515d=_0x15753e[_0x485a95(0xfd)](Number)[_0x485a95(0x141)]((_0x4fb948,_0x5aab8c)=>_0x4fb948-_0x5aab8c)[_0x485a95(0xfd)](String):_0x11515d=_0x15753e['slice']()[_0x485a95(0x141)]();}return _0x11515d[_0x11515d[_0x485a95(0x10a)]-0x1];}function getNextCode(_0x4f587c){var _0x5ddb1d=_0x56dc17;const _0x2def4d=getLastCode(_0x4f587c);if(!_0x2def4d)return'';if(/^\d+$/[_0x5ddb1d(0xef)](_0x2def4d))return String(Number(_0x2def4d)+0x1);const _0x41b3d3=_0x2def4d[_0x5ddb1d(0x105)](/^([A-Za-z]*)(\d+)$/);if(_0x41b3d3){const [,_0x4540e4,_0x39c357]=_0x41b3d3,_0x53e082=String(Number(_0x39c357)+0x1)[_0x5ddb1d(0x168)](_0x39c357[_0x5ddb1d(0x10a)],'0');return _0x4540e4+_0x53e082;}return _0x2def4d;}document[_0x56dc17(0xdd)](_0x56dc17(0xf9))['addEventListener'](_0x56dc17(0x10b),function(_0x376eb0){var _0x116ece=_0x56dc17;baseItem[_0x116ece(0xe6)]=_0x376eb0['target'][_0x116ece(0x9e)];}),document[_0x56dc17(0xdd)]('inputItemDescription')[_0x56dc17(0x140)](_0x56dc17(0x10b),function(_0x330a91){var _0x22f9c7=_0x56dc17;baseItem['setItemDescription']=_0x330a91[_0x22f9c7(0xc2)][_0x22f9c7(0x9e)];}),document[_0x56dc17(0xdd)](_0x56dc17(0x19b))[_0x56dc17(0x140)](_0x56dc17(0x10b),function(_0x14a199){baseItem['setItemDateExpiry']=_0x14a199['target']['value'];}),document[_0x56dc17(0xdd)](_0x56dc17(0x1a3))[_0x56dc17(0x140)]('change',function(_0x5a1f47){var _0x2bc74f=_0x56dc17;baseItem[_0x2bc74f(0xd1)]=_0x5a1f47['target'][_0x2bc74f(0x9e)];}),document['getElementById'](_0x56dc17(0x17a))['addEventListener'](_0x56dc17(0x83),function(_0x5ce722){var _0x547dfe=_0x56dc17;baseItem[_0x547dfe(0xdc)]=_0x5ce722['target'][_0x547dfe(0x9e)];const _0x5605a4=_0x5ce722['target']['value'],_0x3f7b43=company[0x0]['setImpuestos'][_0x547dfe(0x156)](_0x5ca78d=>_0x5ca78d['setTaxId']==_0x5605a4)?.[_0x547dfe(0x89)]||0x0,_0x6cda3a=company[0x0][_0x547dfe(0x85)][_0x547dfe(0x156)](_0x11c33e=>_0x11c33e[_0x547dfe(0x88)]==_0x5605a4)?.[_0x547dfe(0xd8)]||0x0;baseItem[_0x547dfe(0x121)]=_0x3f7b43,baseItem[_0x547dfe(0x96)]=_0x6cda3a;}),document[_0x56dc17(0xdd)]('newItem_chk_buy')[_0x56dc17(0x140)]('change',function(_0x35f1fd){var _0x12cb2d=_0x56dc17;baseItem['setItemIsBought']=_0x35f1fd[_0x12cb2d(0xc2)][_0x12cb2d(0x14f)];}),document[_0x56dc17(0xdd)]('newItem_chk_sell')[_0x56dc17(0x140)](_0x56dc17(0x83),function(_0x504ee2){var _0x51e0c4=_0x56dc17;baseItem[_0x51e0c4(0x148)]=_0x504ee2[_0x51e0c4(0xc2)][_0x51e0c4(0x14f)];}),document['getElementById'](_0x56dc17(0xbb))['addEventListener'](_0x56dc17(0x10b),function(_0x4c473a){var _0x58fa60=_0x56dc17;baseItem[_0x58fa60(0x91)]=_0x4c473a[_0x58fa60(0xc2)][_0x58fa60(0x9e)];}),document[_0x56dc17(0xdd)]('inputItemBarCode')[_0x56dc17(0x140)](_0x56dc17(0x10b),function(_0x300ed6){var _0x7f4198=_0x56dc17;baseItem['setItemBarCode']=_0x300ed6[_0x7f4198(0xc2)]['value'];}),document['getElementById'](_0x56dc17(0x144))[_0x56dc17(0x140)](_0x56dc17(0x14e),function(){addUnit(),updateUnitsArray();}),document[_0x56dc17(0xdd)]('inputItemCode')[_0x56dc17(0x140)](_0x56dc17(0x16a),function(){var _0x425b7e=_0x56dc17;const _0x34f8ff=this['value'][_0x425b7e(0x118)]();if(_0x34f8ff==='')return;const _0x2af5bf=products['some'](_0x5b6d6c=>_0x5b6d6c['setCodProducto']==_0x34f8ff),_0x5cda2d=getLastCode(products);_0x2af5bf?ntfShow(_0x425b7e(0x17b)+_0x5cda2d,0x2,0x1):ntfShow('隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!',0x1,0x1);});function removeImg(_0x23970b){var _0x410d53=_0x56dc17;currentImages[_0x23970b]=null;var _0x191108=imgC['querySelector'](_0x410d53(0xd7)+_0x23970b+'\x22]');_0x191108[_0x410d53(0x12c)]='';var _0x236456=document['createElement'](_0x410d53(0x10b));_0x236456['type']=_0x410d53(0x16c),_0x236456[_0x410d53(0x119)]=_0x410d53(0x16b),_0x236456[_0x410d53(0xb1)][_0x410d53(0x155)]=_0x410d53(0xec);var _0x1ecdd1=document[_0x410d53(0xd0)](_0x410d53(0xa0));_0x1ecdd1['textContent']='+',_0x191108[_0x410d53(0x13d)](_0x236456),_0x191108[_0x410d53(0x13d)](_0x1ecdd1),_0x191108[_0x410d53(0x140)](_0x410d53(0x14e),function(){var _0x21cc38=_0x410d53;_0x236456[_0x21cc38(0x14e)]();}),baseItem[_0x410d53(0x12d)]=currentImages[_0x410d53(0xe0)](function(_0x25b93a){return _0x25b93a;});}function addUnit(_0x3d1bf1,_0x5d5e44,_0x5dbdaf,_0xc78b70,_0x512110,_0x53ead0,_0x57baed){var _0x4f49c4=_0x56dc17,_0x291e2d=uniqueValuesArray(_0x4f49c4(0x80),_0x4f49c4(0x80),products);_0x3d1bf1=_0x3d1bf1||'',_0x5d5e44=_0x5d5e44||_0x291e2d[0x0]&&_0x291e2d[0x0][_0x4f49c4(0x7b)]||'',_0x5dbdaf=_0x5dbdaf!==undefined?_0x5dbdaf:0x1,_0xc78b70=!!_0xc78b70,_0x512110=_0x512110||'',_0x53ead0=_0x53ead0||'';var _0x8103bb=unitCount++,_0x125d45=document[_0x4f49c4(0xd0)](_0x4f49c4(0xb4));_0x125d45[_0x4f49c4(0xce)][_0x4f49c4(0x186)]=_0x8103bb,_0x125d45[_0x4f49c4(0xce)][_0x4f49c4(0x17f)]=_0xc78b70,_0x125d45['innerHTML']=_0x4f49c4(0xb6)+_0x8103bb+_0x4f49c4(0x106)+_0x3d1bf1+_0x4f49c4(0x15f)+_0x8103bb+'\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22'+_0x8103bb+'\x22\x20value=\x22'+_0x5dbdaf+'\x22\x20'+(_0xc78b70?_0x4f49c4(0x11a):'')+'>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22'+_0x8103bb+_0x4f49c4(0x106)+_0x512110+_0x4f49c4(0x158)+_0x8103bb+_0x4f49c4(0x106)+_0x53ead0+_0x4f49c4(0x1a2)+(_0xc78b70?_0x4f49c4(0xc8):'')+_0x4f49c4(0xa9),fillSelect(_0x125d45[_0x4f49c4(0x10c)]('.unitSelect'),_0x291e2d,'setCode',_0x4f49c4(0xc0)),_0x125d45['querySelector'](_0x4f49c4(0x14a))['value']=_0x5d5e44,[_0x4f49c4(0x108),'unitSelect',_0x4f49c4(0x12e),'priceInput',_0x4f49c4(0x185)]['forEach'](function(_0x95e271){var _0x21b97b=_0x4f49c4;_0x125d45[_0x21b97b(0x10c)]('.'+_0x95e271)[_0x21b97b(0x140)](_0x21b97b(0x10b),function(){var _0x715932=_0x21b97b,_0x5ee80f=_0x57baed?+_0x57baed['id'][_0x715932(0x197)]('_')[0x1]:null;if(_0x57baed)updateVariantUnits(_0x5ee80f);else updateUnitsArray();});}),_0x125d45['querySelector'](_0x4f49c4(0x111))[_0x4f49c4(0x140)](_0x4f49c4(0x14e),function(){var _0x5196c4=_0x4f49c4;_0x125d45[_0x5196c4(0x187)]();var _0x39be04=_0x57baed?+_0x57baed['id'][_0x5196c4(0x197)]('_')[0x1]:null;if(_0x57baed)updateVariantUnits(_0x39be04);else updateUnitsArray();});var _0x194170=_0x57baed||document['getElementById'](_0x4f49c4(0x173));_0x194170['appendChild'](_0x125d45);}function containerIdx(_0x548a87){var _0x433a76=_0x56dc17;return+_0x548a87['id'][_0x433a76(0x197)]('_')[0x1];}function updateUnitsArray(){var _0xda043f=_0x56dc17,_0x33511a=[],_0x21ef62=Array[_0xda043f(0xf3)](document[_0xda043f(0xe7)](_0xda043f(0x7f))),_0x2c46af=_0x21ef62['find'](_0x1971de=>_0x1971de['dataset']['default']===_0xda043f(0x138)),_0x10c32e=_0x2c46af?+_0x2c46af[_0xda043f(0x10c)](_0xda043f(0xea))[_0xda043f(0x9e)]:0x1;_0x21ef62['forEach'](function(_0x1712f8){var _0x2beaae=_0xda043f,_0x348c0c=+_0x1712f8[_0x2beaae(0x10c)](_0x2beaae(0xea))[_0x2beaae(0x9e)]||0x0,_0x3ce5bd=+_0x1712f8['querySelector'](_0x2beaae(0x163))['value']||0x0,_0x22345b=+_0x1712f8['querySelector'](_0x2beaae(0x9c))[_0x2beaae(0x9e)]||0x0;_0x33511a[_0x2beaae(0x82)]({'setAlias':_0x1712f8[_0x2beaae(0x10c)](_0x2beaae(0x166))[_0x2beaae(0x9e)][_0x2beaae(0x118)](),'setUnitCode':_0x1712f8[_0x2beaae(0x10c)](_0x2beaae(0x14a))['value'],'setEquivalence':_0x348c0c,'setFactor':_0x1712f8['dataset'][_0x2beaae(0x17f)]===_0x2beaae(0x138)?0x1:_0x348c0c==_0x10c32e?0x1:_0x348c0c<_0x10c32e?_0x10c32e/_0x348c0c:_0x348c0c/_0x10c32e,'setPrice':_0x3ce5bd,'setCost':_0x22345b,'setDefault':_0x1712f8[_0x2beaae(0xce)][_0x2beaae(0x17f)]==='true'?0x1:0x0});}),baseItem['setItemUnits']=_0x33511a;}function updateBranches(){var _0x49be27=_0x56dc17,_0x1b7472=[];document[_0x49be27(0xe7)](_0x49be27(0xc1))[_0x49be27(0xd2)](function(_0x11cc97){var _0xd64366=_0x49be27,_0xefcf7a=_0x11cc97['querySelector'](_0xd64366(0x15a));if(_0xefcf7a[_0xd64366(0x14f)]){var _0x2f578e=+_0xefcf7a[_0xd64366(0xce)]['id'],_0x2f5f47=+_0x11cc97[_0xd64366(0x10c)](_0xd64366(0x8a))[_0xd64366(0x9e)],_0x5a1c14=+_0x11cc97[_0xd64366(0x10c)]('.branchMin')['value'];_0x1b7472['push']({'setWarehouseCode':_0x2f578e,'setStockInitial':_0x2f5f47,'setStockMinimum':_0x5a1c14});}}),baseItem[_0x49be27(0x199)]=_0x1b7472;}document['getElementById']('newItem_btn_addProdItem')['addEventListener']('click',function(){var _0x4d1c91=_0x56dc17,_0x57aafa=Date[_0x4d1c91(0xc7)](),_0xc159b4=document[_0x4d1c91(0xd0)](_0x4d1c91(0xb4));_0xc159b4[_0x4d1c91(0xce)][_0x4d1c91(0x186)]=_0x57aafa,_0xc159b4[_0x4d1c91(0x12c)]=_0x4d1c91(0x84)+_0x57aafa+_0x4d1c91(0x181)+_0x57aafa+_0x4d1c91(0x9b),prodC[_0x4d1c91(0x13d)](_0xc159b4),initProdSearch(_0xc159b4[_0x4d1c91(0x10c)](_0x4d1c91(0x142))),_0xc159b4[_0x4d1c91(0x10c)](_0x4d1c91(0xee))[_0x4d1c91(0x140)]('click',function(){var _0x54b82b=_0x4d1c91;_0xc159b4[_0x54b82b(0x187)](),updateProdItems();}),_0xc159b4[_0x4d1c91(0x10c)]('.prodQty')['addEventListener'](_0x4d1c91(0x10b),updateProdItems),document[_0x4d1c91(0xdd)](_0x4d1c91(0xe9))[_0x4d1c91(0xdb)][_0x4d1c91(0x19d)]('newItem_title_table',!![]),document[_0x4d1c91(0xdd)](_0x4d1c91(0xe9))[_0x4d1c91(0xdb)][_0x4d1c91(0x19d)](_0x4d1c91(0x14b),![]);});function initProdSearch(_0x16e716,_0x4b1184){var _0x36a470=_0x56dc17,_0x2d5574=_0x16e716[_0x36a470(0x10c)](_0x36a470(0xc6)),_0x532a23=_0x16e716[_0x36a470(0x10c)]('.options_list'),_0x19d3dd=_0x4b1184||null;if(_0x4b1184)_0x2d5574['value']=_0x4b1184[_0x36a470(0x128)];_0x2d5574[_0x36a470(0x140)](_0x36a470(0x10b),function(){var _0x413e2e=_0x36a470,_0xb73799=_0x2d5574[_0x413e2e(0x9e)][_0x413e2e(0x1a4)]()[_0x413e2e(0x118)]();_0x532a23[_0x413e2e(0x12c)]='';if(!_0xb73799)return;products['filter'](_0x418d6c=>_0x418d6c[_0x413e2e(0xac)][_0x413e2e(0x1a4)]()[_0x413e2e(0x184)](_0xb73799))[_0x413e2e(0x177)](0x0,0x14)[_0x413e2e(0xd2)](function(_0x30f952){var _0x5c1df8=_0x413e2e,_0x2cfa3b=document[_0x5c1df8(0xd0)]('div');_0x2cfa3b['textContent']=_0x30f952[_0x5c1df8(0xac)],_0x2cfa3b[_0x5c1df8(0xce)]['id']=_0x30f952['id'],_0x2cfa3b[_0x5c1df8(0xce)][_0x5c1df8(0x128)]=_0x30f952[_0x5c1df8(0xac)],_0x532a23[_0x5c1df8(0x13d)](_0x2cfa3b),_0x2cfa3b[_0x5c1df8(0x140)](_0x5c1df8(0x14e),function(){var _0x263fd8=_0x5c1df8;_0x19d3dd={'id':_0x30f952['id'],'name':_0x30f952[_0x263fd8(0xac)]},_0x2d5574['value']=_0x30f952[_0x263fd8(0xac)],_0x532a23[_0x263fd8(0x12c)]='';var _0x1cc422=_0x16e716[_0x263fd8(0x164)](_0x263fd8(0xde));if(_0x1cc422){var _0x5c3edc=+_0x1cc422['id'][_0x263fd8(0x197)]('_')[0x1];updateVariantComponents(_0x5c3edc);}else updateProdItems();});});}),_0x2d5574[_0x36a470(0x140)]('focus',function(){var _0x51aff9=_0x36a470;_0x532a23[_0x51aff9(0xdb)]['remove'](_0x51aff9(0x14b));}),document[_0x36a470(0x140)](_0x36a470(0x14e),function(_0x2dcda1){var _0x46e9b6=_0x36a470;if(!_0x16e716[_0x46e9b6(0x102)](_0x2dcda1['target']))_0x532a23[_0x46e9b6(0xdb)][_0x46e9b6(0x117)](_0x46e9b6(0x14b));}),Object['defineProperty'](_0x16e716,_0x36a470(0x149),{'get':()=>_0x19d3dd});}function updateProdItems(){var _0x36c72f=_0x56dc17,_0x121f25=[];Array[_0x36c72f(0xf3)](prodC[_0x36c72f(0x147)])['forEach'](function(_0x271fc6){var _0x5094ef=_0x36c72f,_0x559ffa=_0x271fc6[_0x5094ef(0x10c)](_0x5094ef(0x142));if(!_0x559ffa)return;var _0x544014=_0x271fc6[_0x5094ef(0x10c)](_0x5094ef(0x79)),_0x42862d=_0x559ffa[_0x5094ef(0x149)];_0x42862d&&_0x121f25[_0x5094ef(0x82)]({'setItemId':_0x42862d['id'],'setDescripcion':_0x42862d[_0x5094ef(0x128)],'setCantidad':+_0x544014[_0x5094ef(0x9e)]});}),baseItem[_0x36c72f(0x8f)]=_0x121f25,_0x121f25[_0x36c72f(0x10a)]===0x0&&(document[_0x36c72f(0xdd)]('newItem_title_table_cp')[_0x36c72f(0xdb)][_0x36c72f(0x19d)](_0x36c72f(0xf8),![]),document[_0x36c72f(0xdd)]('newItem_title_table_cp')[_0x36c72f(0xdb)][_0x36c72f(0x19d)](_0x36c72f(0x14b),!![]));}document[_0x56dc17(0xdd)]('newItem_btn_addVariantGroup')[_0x56dc17(0x140)]('click',function(){var _0x576d0d=_0x56dc17,_0x2eb1b8=vgCount++,_0x3fc86e=document[_0x576d0d(0xd0)](_0x576d0d(0xb4));_0x3fc86e[_0x576d0d(0xce)][_0x576d0d(0x186)]=_0x2eb1b8,_0x3fc86e[_0x576d0d(0x12c)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x2eb1b8+'\x22>'+_0x576d0d(0x189)+_0x2eb1b8+'\x22>'+_0x576d0d(0xca),vgC['appendChild'](_0x3fc86e),_0x3fc86e[_0x576d0d(0x10c)](_0x576d0d(0x18b))['addEventListener']('blur',generateVariants),_0x3fc86e[_0x576d0d(0x10c)](_0x576d0d(0x152))[_0x576d0d(0x140)](_0x576d0d(0x16a),generateVariants),_0x3fc86e[_0x576d0d(0x10c)]('.removeGroup')[_0x576d0d(0x140)](_0x576d0d(0x14e),function(){var _0x1d86c7=_0x576d0d;_0x3fc86e[_0x1d86c7(0x187)](),generateVariants();});});function generateVariants(){var _0x5a1192=_0x56dc17,_0x88b656=[];vgC[_0x5a1192(0xe7)](_0x5a1192(0xb4))[_0x5a1192(0xd2)](function(_0x5511f9){var _0x3befc7=_0x5a1192,_0x3415b1=_0x5511f9[_0x3befc7(0x10c)](_0x3befc7(0x18b))[_0x3befc7(0x9e)][_0x3befc7(0x118)](),_0x4bb4c0=_0x5511f9[_0x3befc7(0x10c)]('.vgVals')['value'][_0x3befc7(0x197)](',')[_0x3befc7(0xfd)](_0x2a10d5=>_0x2a10d5['trim']())['filter'](_0x43db64=>_0x43db64);if(_0x3415b1&&_0x4bb4c0[_0x3befc7(0x10a)])_0x88b656[_0x3befc7(0x82)]({'name':_0x3415b1,'vals':_0x4bb4c0});});var _0x56aaa6=[{}];_0x88b656[_0x5a1192(0xd2)](function(_0x3c8abe){var _0x48f4ed=_0x5a1192;_0x56aaa6=_0x56aaa6[_0x48f4ed(0x110)](function(_0x3a3e1f){var _0x54d0e4=_0x48f4ed;return _0x3c8abe[_0x54d0e4(0x15c)][_0x54d0e4(0xfd)](function(_0x17eb60){var _0x300f7a=Object['assign']({},_0x3a3e1f);return _0x300f7a[_0x3c8abe['name']]=_0x17eb60,_0x300f7a;});});}),newItems=[],varContainer[_0x5a1192(0x12c)]='',_0x56aaa6[_0x5a1192(0xd2)](function(_0x57a2ad,_0x18c0c8){var _0x57e3b7=_0x5a1192,_0x576080=JSON[_0x57e3b7(0x14d)](JSON['stringify'](baseItem));_0x576080[_0x57e3b7(0x11b)]=_0x57a2ad,_0x576080[_0x57e3b7(0xf4)]=baseItem[_0x57e3b7(0xe6)]+'\x20'+Object[_0x57e3b7(0xe1)](_0x57a2ad)[_0x57e3b7(0xfd)](_0x538925=>_0x538925[0x0]+'\x20'+_0x538925[0x1])[_0x57e3b7(0xd3)]('\x20'),newItems['push'](_0x576080);var _0x183e2e=document['createElement'](_0x57e3b7(0xb4));_0x183e2e['classList'][_0x57e3b7(0x117)](_0x57e3b7(0x125)),_0x183e2e[_0x57e3b7(0xce)][_0x57e3b7(0x186)]=_0x18c0c8,_0x183e2e[_0x57e3b7(0x12c)]=_0x57e3b7(0x19f)+_0x576080[_0x57e3b7(0xf4)]+_0x57e3b7(0xff)+_0x576080[_0x57e3b7(0x91)]+_0x57e3b7(0x9a)+_0x576080[_0x57e3b7(0x8b)]+_0x57e3b7(0xb5)+_0x576080[_0x57e3b7(0x87)]+_0x57e3b7(0x15e)+_0x18c0c8+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x18c0c8+_0x57e3b7(0xfc)+_0x18c0c8+_0x57e3b7(0x98),varContainer[_0x57e3b7(0x13d)](_0x183e2e),_0x183e2e['querySelector'](_0x57e3b7(0x176))[_0x57e3b7(0x140)]('input',_0x1611d4=>newItems[_0x18c0c8][_0x57e3b7(0x91)]=_0x1611d4[_0x57e3b7(0xc2)][_0x57e3b7(0x9e)]),_0x183e2e[_0x57e3b7(0x10c)](_0x57e3b7(0x7e))[_0x57e3b7(0x140)](_0x57e3b7(0x10b),_0x539e40=>newItems[_0x18c0c8][_0x57e3b7(0x8b)]=_0x539e40[_0x57e3b7(0xc2)][_0x57e3b7(0x9e)]),_0x183e2e['querySelector'](_0x57e3b7(0x178))[_0x57e3b7(0x140)]('change',_0x2e28a4=>newItems[_0x18c0c8][_0x57e3b7(0x87)]=_0x2e28a4[_0x57e3b7(0xc2)][_0x57e3b7(0x9e)]),initVariantUnits(_0x18c0c8),initVariantComponents(_0x18c0c8),initVariantBranches(_0x18c0c8),_0x183e2e['querySelector']('.removeVariant')['addEventListener']('click',function(){var _0x267fe3=_0x57e3b7,_0xf3de5=+_0x183e2e['dataset'][_0x267fe3(0x186)];newItems[_0x267fe3(0x161)](_0xf3de5,0x1),_0x183e2e[_0x267fe3(0x187)](),document[_0x267fe3(0xe7)]('.variantForm')['forEach'](function(_0x3e9912,_0x46162c){var _0x1d5a2a=_0x267fe3;_0x3e9912[_0x1d5a2a(0xce)][_0x1d5a2a(0x186)]=_0x46162c;});});});if(newItems[_0x5a1192(0x10a)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x3385e4){var _0x43e01d=_0x56dc17,_0x269530=document[_0x43e01d(0xdd)](_0x43e01d(0x192)+_0x3385e4+'_units_container'),_0x5df022=[];Array[_0x43e01d(0xf3)](_0x269530[_0x43e01d(0x147)])[_0x43e01d(0xd2)](function(_0x97dbb3){var _0x2da149=_0x43e01d,_0x27ad22=+_0x97dbb3[_0x2da149(0x10c)](_0x2da149(0xea))[_0x2da149(0x9e)]||0x0,_0x284479=_0x97dbb3[_0x2da149(0x10c)](_0x2da149(0x166))[_0x2da149(0x9e)]['trim'](),_0x596caf=_0x97dbb3[_0x2da149(0x10c)]('.unitSelect')[_0x2da149(0x9e)],_0x1856da=+_0x97dbb3[_0x2da149(0x10c)](_0x2da149(0x163))[_0x2da149(0x9e)]||0x0,_0x50c128=+_0x97dbb3[_0x2da149(0x10c)]('.costInput')['value']||0x0,_0x2112da=_0x97dbb3[_0x2da149(0xce)][_0x2da149(0x17f)]==='true',_0x4ce494=+_0x269530[_0x2da149(0x10c)](_0x2da149(0xf0))[_0x2da149(0x9e)]||0x1,_0x5e3d99=_0x2112da?0x1:_0x27ad22==_0x4ce494?0x1:_0x27ad22<_0x4ce494?_0x4ce494/_0x27ad22:_0x27ad22/_0x4ce494;_0x5df022[_0x2da149(0x82)]({'setAlias':_0x284479,'setUnitCode':_0x596caf,'setEquivalence':_0x27ad22,'setFactor':_0x5e3d99,'setPrice':_0x1856da,'setCost':_0x50c128,'setDefault':_0x2112da?0x1:0x0});}),newItems[_0x3385e4]['setItemUnits']=_0x5df022;}function initVariantUnits(_0x49ceff){var _0x44a213=_0x56dc17,_0x2e0ac7=document[_0x44a213(0xdd)]('variant_'+_0x49ceff+_0x44a213(0xe3));_0x2e0ac7[_0x44a213(0x12c)]='',newItems[_0x49ceff]['setItemUnits'][_0x44a213(0xd2)](function(_0x5af766){var _0x424941=_0x44a213;addUnit(_0x5af766[_0x424941(0x19c)],_0x5af766['setUnitCode'],_0x5af766[_0x424941(0x10d)],_0x5af766['setDefault'],_0x5af766['setPrice'],_0x5af766[_0x424941(0xd6)],_0x2e0ac7);}),_0x2e0ac7[_0x44a213(0x7c)]['querySelector']('.addVariantUnit')[_0x44a213(0x140)]('click',function(){addUnit('','',0x1,![],'','',_0x2e0ac7),updateVariantUnits(_0x49ceff);});}function updateVariantUnits(_0x27eaac){var _0x57938e=_0x56dc17,_0x5f5ab2=document[_0x57938e(0xdd)](_0x57938e(0x192)+_0x27eaac+_0x57938e(0xe3)),_0x3af2a6=_0x5f5ab2['querySelector'](_0x57938e(0xf0)),_0x6af69b=_0x3af2a6?+_0x3af2a6[_0x57938e(0x9e)]:0x1,_0x3f9322=Array[_0x57938e(0xf3)](_0x5f5ab2['children'])['map'](function(_0x57013c){var _0x843345=_0x57938e,_0x4041f2=_0x57013c['querySelector']('.unitAlias')[_0x843345(0x9e)][_0x843345(0x118)](),_0x312de0=_0x57013c['querySelector']('.unitSelect')[_0x843345(0x9e)],_0x17782=+_0x57013c[_0x843345(0x10c)](_0x843345(0xea))[_0x843345(0x9e)]||0x0,_0x2c5c45=+_0x57013c[_0x843345(0x10c)](_0x843345(0x163))['value']||0x0,_0x100bd4=+_0x57013c[_0x843345(0x10c)](_0x843345(0x9c))['value']||0x0,_0x4ef41f=_0x57013c[_0x843345(0xce)]['default']===_0x843345(0x138);return{'setAlias':_0x4041f2,'setUnitCode':_0x312de0,'setEquivalence':_0x17782,'setFactor':_0x4ef41f?0x1:_0x17782==_0x6af69b?0x1:_0x17782<_0x6af69b?_0x6af69b/_0x17782:_0x17782/_0x6af69b,'setPrice':_0x2c5c45,'setCost':_0x100bd4,'setDefault':_0x4ef41f?0x1:0x0};});newItems[_0x27eaac]['setItemUnits']=_0x3f9322;}function initVariantComponents(_0x3407cf){var _0x58393a=_0x56dc17,_0x142044=document[_0x58393a(0xdd)](_0x58393a(0x192)+_0x3407cf+_0x58393a(0x8d));_0x142044[_0x58393a(0x12c)]='',newItems[_0x3407cf]['setItemComponents'][_0x58393a(0xd2)](function(_0x22a12c){var _0x88e457=_0x58393a,_0x2d2b54=document[_0x88e457(0xd0)]('div'),_0x2e0132=Date[_0x88e457(0xc7)]();_0x2d2b54[_0x88e457(0xce)][_0x88e457(0x186)]=_0x2e0132,_0x2d2b54[_0x88e457(0x12c)]=_0x88e457(0x1a0)+_0x2e0132+_0x88e457(0x19a)+_0x22a12c[_0x88e457(0x92)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x142044[_0x88e457(0x13d)](_0x2d2b54),initProdSearch(_0x2d2b54[_0x88e457(0x10c)]('.prod_input_container'),{'id':_0x22a12c[_0x88e457(0x13a)],'name':_0x22a12c[_0x88e457(0xac)]}),_0x2d2b54[_0x88e457(0x10c)](_0x88e457(0x79))[_0x88e457(0x140)](_0x88e457(0x10b),function(){updateVariantComponents(_0x3407cf);}),_0x2d2b54[_0x88e457(0x10c)](_0x88e457(0x103))[_0x88e457(0x140)](_0x88e457(0x14e),function(){_0x2d2b54['remove'](),updateVariantComponents(_0x3407cf);});}),_0x142044['parentNode'][_0x58393a(0x10c)](_0x58393a(0xaa))['addEventListener'](_0x58393a(0x14e),function(){var _0x41d17c=_0x58393a,_0x4d0225=document[_0x41d17c(0xd0)](_0x41d17c(0xb4)),_0x5b3db9=Date['now']();_0x4d0225[_0x41d17c(0xce)]['idx']=_0x5b3db9,_0x4d0225[_0x41d17c(0x12c)]=_0x41d17c(0x1a0)+_0x5b3db9+_0x41d17c(0x183),_0x142044['appendChild'](_0x4d0225),initProdSearch(_0x4d0225[_0x41d17c(0x10c)](_0x41d17c(0x142))),_0x4d0225[_0x41d17c(0x10c)](_0x41d17c(0x79))[_0x41d17c(0x140)](_0x41d17c(0x10b),function(){updateVariantComponents(_0x3407cf);}),_0x4d0225[_0x41d17c(0x10c)](_0x41d17c(0x103))[_0x41d17c(0x140)](_0x41d17c(0x14e),function(){var _0x13f9d6=_0x41d17c;_0x4d0225[_0x13f9d6(0x187)](),updateVariantComponents(_0x3407cf);});});}function updateVariantComponents(_0x26c2e4){var _0x1b7650=_0x56dc17,_0x170ff8=document[_0x1b7650(0xdd)](_0x1b7650(0x192)+_0x26c2e4+'_comp_container'),_0x15b4d2=Array[_0x1b7650(0xf3)](_0x170ff8['children'])[_0x1b7650(0xfd)](function(_0x130d2a){var _0x28d4b7=_0x1b7650,_0x1bee6e=_0x130d2a[_0x28d4b7(0x10c)](_0x28d4b7(0x142)),_0x36f2a0=_0x1bee6e[_0x28d4b7(0x149)],_0x58308f=+_0x130d2a[_0x28d4b7(0x10c)](_0x28d4b7(0x79))['value']||0x0;return _0x36f2a0?{'setItemId':_0x36f2a0['id'],'setDescripcion':_0x36f2a0[_0x28d4b7(0x128)],'setCantidad':_0x58308f}:null;})[_0x1b7650(0xe0)](_0x2a2289=>_0x2a2289);newItems[_0x26c2e4]['setItemComponents']=_0x15b4d2;}function initVariantBranches(_0x268ac6){var _0x2361b8=_0x56dc17;const _0x9ba60b=getAllWarehouses();var _0x4f544f=document['getElementById'](_0x2361b8(0x192)+_0x268ac6+_0x2361b8(0x12f));_0x4f544f[_0x2361b8(0x12c)]='',newItems[_0x268ac6][_0x2361b8(0x199)][_0x2361b8(0xd2)](function(_0x10f0f3){var _0x29c3aa=_0x2361b8,_0x378cfc=_0x9ba60b[_0x29c3aa(0x156)](_0x4d4f97=>_0x4d4f97[_0x29c3aa(0x151)]==_0x10f0f3['setWarehouseCode']),_0x3c5f23=document['createElement']('div');_0x3c5f23['innerHTML']=_0x29c3aa(0x137)+_0x10f0f3[_0x29c3aa(0xd9)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x378cfc[_0x29c3aa(0xa6)]+_0x29c3aa(0xc5)+_0x10f0f3['setWarehouseCode']+_0x29c3aa(0x106)+_0x10f0f3[_0x29c3aa(0xb8)]+_0x29c3aa(0x11f)+_0x10f0f3[_0x29c3aa(0xd9)]+_0x29c3aa(0x106)+_0x10f0f3[_0x29c3aa(0xa1)]+'\x22>',_0x4f544f['appendChild'](_0x3c5f23),_0x3c5f23[_0x29c3aa(0xe7)](_0x29c3aa(0x10b))[_0x29c3aa(0xd2)](function(_0x45fcb2){var _0x28be9e=_0x29c3aa;_0x45fcb2[_0x28be9e(0x140)](_0x28be9e(0x10b),function(){updateVariantBranches(_0x268ac6);});});}),_0x9ba60b[_0x2361b8(0xd2)](function(_0x4c3fef){var _0x2dbdbf=_0x2361b8;if(!newItems[_0x268ac6][_0x2dbdbf(0x199)][_0x2dbdbf(0x156)](_0x42d384=>_0x42d384[_0x2dbdbf(0xd9)]===_0x4c3fef['setWarehouseId'])){var _0x1a988e=document[_0x2dbdbf(0xd0)](_0x2dbdbf(0xb4));_0x1a988e[_0x2dbdbf(0x12c)]=_0x2dbdbf(0x137)+_0x4c3fef['setWarehouseId']+_0x2dbdbf(0x81)+_0x4c3fef[_0x2dbdbf(0xa6)]+_0x2dbdbf(0xc5)+_0x4c3fef[_0x2dbdbf(0x151)]+_0x2dbdbf(0x11f)+_0x4c3fef[_0x2dbdbf(0x151)]+'\x22>',_0x4f544f[_0x2dbdbf(0x13d)](_0x1a988e),_0x1a988e[_0x2dbdbf(0xe7)]('input')[_0x2dbdbf(0xd2)](function(_0x566efc){var _0x149301=_0x2dbdbf;_0x566efc[_0x149301(0x140)]('input',function(){updateVariantBranches(_0x268ac6);});});}});}function updateVariantBranches(_0x4938db){var _0xedc374=_0x56dc17,_0x6e6525=document[_0xedc374(0xdd)](_0xedc374(0x192)+_0x4938db+_0xedc374(0x12f)),_0x3ce43d=[];_0x6e6525['querySelectorAll'](_0xedc374(0xb4))[_0xedc374(0xd2)](function(_0x300b6c){var _0x425ff9=_0xedc374,_0x5dc979=_0x300b6c[_0x425ff9(0x10c)](_0x425ff9(0x15a));if(_0x5dc979[_0x425ff9(0x14f)]){var _0x5d9672=+_0x5dc979['dataset']['id'],_0x35f155=+_0x300b6c[_0x425ff9(0x10c)](_0x425ff9(0x8a))[_0x425ff9(0x9e)]||0x0,_0x589c98=+_0x300b6c[_0x425ff9(0x10c)](_0x425ff9(0xa2))[_0x425ff9(0x9e)]||0x0;_0x3ce43d[_0x425ff9(0x82)]({'setWarehouseCode':_0x5d9672,'setStockInitial':_0x35f155,'setStockMinimum':_0x589c98});}}),newItems[_0x4938db][_0xedc374(0x199)]=_0x3ce43d;}async function storeOfflineProduct(_0x42442c){var _0x2b0cb8=_0x56dc17;try{const _0x53dba0=await createCartStore(''),_0x29e361=_0x53dba0[_0x2b0cb8(0x134)](_0x2b0cb8(0x12b),_0x2b0cb8(0x122)),_0x2b3ce6=_0x29e361[_0x2b0cb8(0x157)](_0x2b0cb8(0x12b));_0x2b3ce6[_0x2b0cb8(0x117)](_0x42442c),_0x29e361['oncomplete']=()=>{var _0x375033=_0x2b0cb8;console[_0x375033(0xfe)](_0x375033(0x160));},_0x29e361[_0x2b0cb8(0x195)]=_0x3dcae6=>{var _0x24f3c7=_0x2b0cb8;console[_0x24f3c7(0x13f)](_0x24f3c7(0x17c),_0x3dcae6['target']['error']);};}catch(_0x565b9f){console[_0x2b0cb8(0x13f)](_0x2b0cb8(0xe4),_0x565b9f);}}document['getElementById'](_0x56dc17(0x16e))[_0x56dc17(0x140)]('click',async function(_0x5cf6f0){var _0x4e6885=_0x56dc17;_0x5cf6f0[_0x4e6885(0xf1)]();const _0x4d09ab=document['getElementById']('inputItemCode'),_0x335934=document[_0x4e6885(0xdd)](_0x4e6885(0x86))[_0x4e6885(0x9e)];if(!_0x4d09ab[_0x4e6885(0x9e)][_0x4e6885(0x118)]()&&_0x335934==0x0){ntfShow(_0x4e6885(0x172),0x2,0x1);return;}const _0xc9e88=document[_0x4e6885(0xdd)](_0x4e6885(0xf9));if(!_0xc9e88[_0x4e6885(0x9e)][_0x4e6885(0x118)]()){ntfShow(_0x4e6885(0x194),0x2,0x1);return;}const _0x4f5630=document[_0x4e6885(0xdd)](_0x4e6885(0xb9));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x162082=document['getElementById'](_0x4e6885(0x132))[_0x4e6885(0x9e)],_0x1892e9=window_options[_0x162082][_0x4e6885(0x133)];let _0x595cb1=generateNumericUniqId()*0x64+0x1f4,_0xbf0156=generateNumericUniqId()*0xa;const _0x3f4e31=[];newItems['forEach'](_0x53bc21=>{var _0x53c208=_0x4e6885;const _0x567dd5=++_0xbf0156;_0x53bc21[_0x53c208(0x143)][_0x53c208(0xd2)](_0x2c4578=>{var _0x3a8e2e=_0x53c208;const _0x3eea6f=++_0x595cb1;_0x2c4578['setUnitPresentationId']=_0x3eea6f;const _0x549977={'id':_0x3eea6f,'setIdProducto':_0x567dd5,'setCodProducto':_0x53bc21['setItemCode'],'setDescripcion':_0x53bc21[_0x3a8e2e(0xf4)]!=''?_0x53bc21[_0x3a8e2e(0xf4)]:_0x53bc21[_0x3a8e2e(0xe6)],'setItemDescription':_0x53bc21[_0x3a8e2e(0x131)],'setBatchExpirationDate':_0x53bc21[_0x3a8e2e(0x87)],'setBatchName':'','setCategoria':_0x53bc21[_0x3a8e2e(0xbe)][0x0]||'','setMarca':_0x53bc21[_0x3a8e2e(0xf7)][0x0]||'','setConversionFactor':parseFloat(_0x2c4578[_0x3a8e2e(0x196)]),'setImages':[],'setImg':_0x3a8e2e(0x120),'setInventariable':0x1,'setItemIsBought':_0x53bc21['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x53bc21[_0x3a8e2e(0x148)]?0x1:0x0,'setPorcentajeIgv':_0x53bc21[_0x3a8e2e(0x96)],'setPrinters':[],'setTaxId':_0x53bc21[_0x3a8e2e(0xdc)],'setTipAfeIgv':_0x53bc21['setItemTaxCode'],'setUnidad':_0x2c4578[_0x3a8e2e(0x127)],'setUnidadCodigo':_0x2c4578['setUnitCode'],'currency_data':[{'currency':_0x1892e9,'setMtoPrecioCostoUnitario':_0x2c4578[_0x3a8e2e(0xd6)],'setMtoPrecioUnitario':_0x2c4578[_0x3a8e2e(0xf2)],'setPriceLists':[]}],'sucursales':_0x53bc21[_0x3a8e2e(0x199)][_0x3a8e2e(0xfd)](_0x2dc07f=>({'setIdSucursal':_0x2dc07f[_0x3a8e2e(0xd9)],'setSucursalStock':_0x2dc07f['setStockInitial'][_0x3a8e2e(0x1a5)](),'setWarehouseStockMin':_0x2dc07f[_0x3a8e2e(0xa1)][_0x3a8e2e(0x1a5)]()})),'setItemFree':_0x53bc21[_0x3a8e2e(0x86)],'setItemBarCode':_0x53bc21['setItemBarCode'],'setItemBrands':_0x53bc21[_0x3a8e2e(0xf7)][_0x3a8e2e(0x177)](),'setItemCategories':_0x53bc21[_0x3a8e2e(0xbe)][_0x3a8e2e(0x177)](),'setItemComponents':_0x53bc21[_0x3a8e2e(0x8f)][_0x3a8e2e(0xfd)](_0x5953bf=>({..._0x5953bf})),'setItemImages':_0x53bc21[_0x3a8e2e(0x12d)][_0x3a8e2e(0x177)](),'setItemVariantName':_0x53bc21[_0x3a8e2e(0xf4)],'setItemVariantValues':{..._0x53bc21[_0x3a8e2e(0x11b)]}};_0x3f4e31[_0x3a8e2e(0x82)](_0x549977),_0x4f5630[_0x3a8e2e(0x14f)]&&addToCart(_0x549977);});}),console[_0x4e6885(0xfe)](_0x4e6885(0xc4),newItems),await finalizeImport(_0x3f4e31,newItems,![]);}),[_0x56dc17(0x9d),_0x56dc17(0x171)]['forEach'](_0x3e5b5e=>dropZone[_0x56dc17(0x140)](_0x3e5b5e,_0xcc1094=>{var _0x2f60ca=_0x56dc17;_0xcc1094[_0x2f60ca(0xf1)](),dropZone[_0x2f60ca(0xdb)][_0x2f60ca(0x117)](_0x2f60ca(0x171));})),[_0x56dc17(0x10f),_0x56dc17(0x9f)][_0x56dc17(0xd2)](_0x367f58=>dropZone[_0x56dc17(0x140)](_0x367f58,_0x2adaa9=>{var _0x459ac7=_0x56dc17;_0x2adaa9[_0x459ac7(0xf1)](),dropZone[_0x459ac7(0xdb)]['remove'](_0x459ac7(0x171));})),dropZone[_0x56dc17(0x140)](_0x56dc17(0x9f),_0x23b807=>{var _0x3d259f=_0x56dc17;const _0x856fb1=_0x23b807[_0x3d259f(0xf6)][_0x3d259f(0xe5)][0x0];if(!_0x856fb1)return;fileInput[_0x3d259f(0xe5)]=_0x23b807[_0x3d259f(0xf6)][_0x3d259f(0xe5)],dropZone[_0x3d259f(0x10c)]('.drop-zone__prompt')['textContent']=_0x856fb1[_0x3d259f(0x128)],removeBtn[_0x3d259f(0xe2)]=![],fileInput[_0x3d259f(0xd4)](new Event(_0x3d259f(0x83)));}),removeBtn[_0x56dc17(0x140)]('click',()=>{var _0x579c2b=_0x56dc17;fileInput[_0x579c2b(0x9e)]='',dropZone[_0x579c2b(0x10c)](_0x579c2b(0x18f))[_0x579c2b(0xad)]=_0x579c2b(0x16d),removeBtn['hidden']=!![],progressBar[_0x579c2b(0xb1)][_0x579c2b(0x155)]=_0x579c2b(0xec),statusDiv[_0x579c2b(0xad)]='',uploadBtn[_0x579c2b(0x11a)]=!![];}),itemWorker[_0x56dc17(0x94)]=({data:_0x382acd})=>{var _0x323a08=_0x56dc17;const {type:_0x3cc3cd,payload:_0x11ab9e}=_0x382acd;_0x3cc3cd===_0x323a08(0x114)&&(progressBar[_0x323a08(0xb1)][_0x323a08(0x155)]=_0x323a08(0x18e),progressBar[_0x323a08(0x9e)]=_0x11ab9e[_0x323a08(0x100)],statusDiv['textContent']=_0x11ab9e['message']),_0x3cc3cd==='done'&&(newItemsExcel=_0x11ab9e[_0x323a08(0x107)],statusDiv[_0x323a08(0xad)]='\x20'+newItemsExcel[_0x323a08(0x10a)]+_0x323a08(0xbd),uploadBtn[_0x323a08(0x11a)]=![],progressBar[_0x323a08(0x9e)]=0x64,console[_0x323a08(0xfe)](newItemsExcel)),_0x3cc3cd==='error'&&(statusDiv['textContent']='\x20Error:\x20'+_0x11ab9e,progressBar['style'][_0x323a08(0x155)]=_0x323a08(0xec));},fileInput[_0x56dc17(0x140)](_0x56dc17(0x83),async _0x197a5b=>{var _0x47d238=_0x56dc17;const _0xda4d2f=_0x197a5b[_0x47d238(0xc2)][_0x47d238(0xe5)][0x0];if(!_0xda4d2f)return;uploadBtn[_0x47d238(0x11a)]=!![],newItemsExcel=null,statusDiv[_0x47d238(0xad)]='',progressBar[_0x47d238(0xb1)][_0x47d238(0x155)]=_0x47d238(0xec),dropZone[_0x47d238(0x10c)](_0x47d238(0x18f))[_0x47d238(0xad)]=_0xda4d2f['name'],removeBtn[_0x47d238(0xe2)]=![];try{const _0x21b01c=await _0xda4d2f[_0x47d238(0xe8)]();itemWorker[_0x47d238(0x15d)]({'buf':_0x21b01c,'maxRows':0x1388});}catch(_0x1c9d00){statusDiv[_0x47d238(0xad)]=_0x47d238(0x8e);}finally{fileInput[_0x47d238(0x9e)]='';}}),uploadBtn[_0x56dc17(0x140)](_0x56dc17(0x14e),async()=>{var _0x41c6bc=_0x56dc17;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x58dae6=document['getElementById']('windowId')[_0x41c6bc(0x9e)],_0x22d3fe=window_options[_0x58dae6]['setMoneda'],_0x3ae758=document[_0x41c6bc(0xdd)]('setWarehouseId')[_0x41c6bc(0x9e)];let _0x21e0fd=generateNumericUniqId()*0x64+0x1f4,_0x33d650=generateNumericUniqId()*0xa;const _0x52b391=[];newItemsExcel['forEach'](_0x2ffc1c=>{var _0x458d04=_0x41c6bc;const _0x247473=++_0x33d650;_0x2ffc1c[_0x458d04(0x199)]=[{'setStockInitial':_0x2ffc1c[_0x458d04(0xb8)],'setStockMinimum':_0x2ffc1c[_0x458d04(0xa1)],'setWarehouseCode':_0x3ae758}],_0x2ffc1c['setItemUnits'][_0x458d04(0xd2)](_0x5e37d6=>{var _0x12bdde=_0x458d04;const _0x53070e=++_0x21e0fd;_0x5e37d6[_0x12bdde(0x13c)]=_0x53070e;const _0x3be819={'id':_0x53070e,'setIdProducto':_0x247473,'setCodProducto':_0x2ffc1c[_0x12bdde(0x91)],'setDescripcion':_0x2ffc1c[_0x12bdde(0xf4)]||_0x2ffc1c[_0x12bdde(0xe6)],'setItemDescription':_0x2ffc1c[_0x12bdde(0x131)],'setBatchExpirationDate':_0x2ffc1c[_0x12bdde(0x87)],'setBatchName':'','setCategoria':_0x2ffc1c['setItemCategories'][0x0]||'','setMarca':_0x2ffc1c[_0x12bdde(0xf7)][0x0]||'','setConversionFactor':parseFloat(_0x5e37d6[_0x12bdde(0x196)]),'setImages':[],'setImg':_0x12bdde(0x120),'setInventariable':_0x2ffc1c['setItemInventoriable']?0x1:0x0,'setItemIsBought':_0x2ffc1c['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x2ffc1c[_0x12bdde(0x148)]?0x1:0x0,'setPorcentajeIgv':_0x2ffc1c[_0x12bdde(0x96)],'setPrinters':[],'setTaxId':_0x2ffc1c[_0x12bdde(0xdc)],'setTipAfeIgv':_0x2ffc1c['setItemTaxCode'],'setUnidad':_0x5e37d6[_0x12bdde(0x127)],'setUnidadCodigo':_0x5e37d6[_0x12bdde(0x127)],'currency_data':[{'currency':_0x22d3fe,'setMtoPrecioCostoUnitario':_0x5e37d6[_0x12bdde(0xd6)],'setMtoPrecioUnitario':_0x5e37d6[_0x12bdde(0xf2)],'setPriceLists':[]}],'sucursales':_0x2ffc1c['setItemWarehouses'][_0x12bdde(0xfd)](_0x46d222=>({'setIdSucursal':_0x46d222['setWarehouseCode'],'setSucursalStock':_0x46d222['setStockInitial']['toString'](),'setWarehouseStockMin':_0x46d222[_0x12bdde(0xa1)][_0x12bdde(0x1a5)]()})),'setItemFree':_0x2ffc1c[_0x12bdde(0x86)],'setItemBarCode':_0x2ffc1c[_0x12bdde(0x8b)],'setItemBrands':_0x2ffc1c[_0x12bdde(0xf7)][_0x12bdde(0x177)](),'setItemCategories':_0x2ffc1c[_0x12bdde(0xbe)][_0x12bdde(0x177)](),'setItemComponents':_0x2ffc1c['setItemComponents'][_0x12bdde(0xfd)](_0xd46ef=>({..._0xd46ef})),'setItemImages':_0x2ffc1c['setItemImages']['slice'](),'setItemVariantName':_0x2ffc1c[_0x12bdde(0xf4)],'setItemVariantValues':{..._0x2ffc1c['setItemVariantValues']}};_0x52b391['push'](_0x3be819);});}),console[_0x41c6bc(0xfe)](_0x41c6bc(0xc4),newItems),await finalizeImport(_0x52b391,newItemsExcel,!![]);});function initializeFormImages(){var _0x1ea04d=_0x56dc17;currentImages=Array(MAX_IMAGES)[_0x1ea04d(0xbc)](null),imgC['innerHTML']='',baseItem[_0x1ea04d(0x12d)]=[];for(var _0x418efe=0x0;_0x418efe<MAX_IMAGES;_0x418efe++){(function(_0x35e4d8){var _0xca6fbd=_0x1ea04d,_0x4a0fb=document[_0xca6fbd(0xd0)](_0xca6fbd(0xb4));_0x4a0fb[_0xca6fbd(0xcf)]=_0xca6fbd(0x198),_0x4a0fb['dataset']['idx']=_0x35e4d8;var _0x5bea00=document[_0xca6fbd(0xd0)](_0xca6fbd(0x10b));_0x5bea00[_0xca6fbd(0x154)]=_0xca6fbd(0x16c),_0x5bea00[_0xca6fbd(0x119)]=_0xca6fbd(0x16b),_0x5bea00[_0xca6fbd(0xb1)][_0xca6fbd(0x155)]=_0xca6fbd(0xec);var _0x1b0ae9=document[_0xca6fbd(0xd0)](_0xca6fbd(0xa0));_0x1b0ae9['textContent']='+',_0x4a0fb[_0xca6fbd(0x13d)](_0x5bea00),_0x4a0fb[_0xca6fbd(0x13d)](_0x1b0ae9),imgC[_0xca6fbd(0x13d)](_0x4a0fb),_0x4a0fb[_0xca6fbd(0x140)]('click',function(){var _0x431eed=_0xca6fbd;_0x5bea00[_0x431eed(0x14e)]();}),_0x5bea00[_0xca6fbd(0x140)](_0xca6fbd(0x83),function(_0x57b91f){var _0x4d69d4=_0xca6fbd,_0x537104=_0x57b91f[_0x4d69d4(0xc2)][_0x4d69d4(0xe5)][0x0];if(!_0x537104)return removeImg(_0x35e4d8);var _0x42d0ca=new FileReader();_0x42d0ca['onload']=function(_0x91b9ad){var _0xd14e3d=_0x4d69d4;_0x4a0fb['innerHTML']=_0xd14e3d(0x104)+_0x91b9ad[_0xd14e3d(0xc2)][_0xd14e3d(0x180)]+'\x22>';var _0x5edb30=document['createElement'](_0xd14e3d(0xa0));_0x5edb30[_0xd14e3d(0xcf)]=_0xd14e3d(0x187),_0x5edb30[_0xd14e3d(0xad)]='',_0x5edb30['addEventListener'](_0xd14e3d(0x14e),function(_0x2a44b7){_0x2a44b7['stopPropagation'](),removeImg(_0x35e4d8);}),_0x4a0fb[_0xd14e3d(0x13d)](_0x5edb30),currentImages[_0x35e4d8]=_0x537104,baseItem[_0xd14e3d(0x12d)]=currentImages[_0xd14e3d(0xe0)](function(_0x472b31){return _0x472b31;});},_0x42d0ca[_0x4d69d4(0x115)](_0x537104);});}(_0x418efe));}}function initializeFormIsSoldIsBought(){var _0x2977b5=_0x56dc17;document['getElementById'](_0x2977b5(0x78))['checked']=!![],document[_0x2977b5(0xdd)](_0x2977b5(0x7d))[_0x2977b5(0x14f)]=!![],baseItem[_0x2977b5(0x13e)]=!![],baseItem['setItemIsSold']=!![];}function initializeFormInputsBasic(){var _0x4eca1b=_0x56dc17;document[_0x4eca1b(0xdd)](_0x4eca1b(0x1a3))[_0x4eca1b(0x9e)]='1',document[_0x4eca1b(0xdd)](_0x4eca1b(0xbb))['value']=getNextCode(products),document['getElementById']('inputItemName')['value']='',document[_0x4eca1b(0xdd)](_0x4eca1b(0x165))[_0x4eca1b(0x9e)]='',document[_0x4eca1b(0xdd)](_0x4eca1b(0x19b))[_0x4eca1b(0x9e)]='',document['getElementById'](_0x4eca1b(0x150))[_0x4eca1b(0x9e)]='',baseItem[_0x4eca1b(0xd1)]='1',baseItem[_0x4eca1b(0x91)]=getNextCode(products),baseItem[_0x4eca1b(0xe6)]='',baseItem['setItemDescription']='',baseItem['setItemDateExpiry']='',baseItem[_0x4eca1b(0x8b)]='',document[_0x4eca1b(0xdd)](_0x4eca1b(0xb9))[_0x4eca1b(0x14f)]=![];}function initializeFormTax(){var _0x5a786f=_0x56dc17;const _0x79d42d=myCompany['setTaxIdDefault'],_0x460361=document[_0x5a786f(0xdd)](_0x5a786f(0x17a));_0x460361['value']=_0x79d42d,baseItem[_0x5a786f(0xdc)]=_0x79d42d;const _0x1e738d=company[0x0][_0x5a786f(0x85)][_0x5a786f(0x156)](_0x5b6875=>_0x5b6875[_0x5a786f(0x88)]==_0x79d42d)?.[_0x5a786f(0x89)]||0x0,_0x6f404f=company[0x0][_0x5a786f(0x85)]['find'](_0x5d8ef3=>_0x5d8ef3[_0x5a786f(0x88)]==_0x79d42d)?.[_0x5a786f(0xd8)]||0x0;baseItem[_0x5a786f(0x121)]=_0x1e738d,baseItem[_0x5a786f(0x96)]=_0x6f404f;}function initializeFormCategoriesBrands(){var _0x3f6af1=_0x56dc17;baseItem[_0x3f6af1(0xbe)]=[],baseItem[_0x3f6af1(0xf7)]=[],document[_0x3f6af1(0x10c)]('#newItem_categories_select\x20.selected_tags')[_0x3f6af1(0x12c)]='',document[_0x3f6af1(0x10c)](_0x3f6af1(0xd5))[_0x3f6af1(0x12c)]='',document[_0x3f6af1(0x10c)](_0x3f6af1(0xb3))[_0x3f6af1(0x12c)]='',document[_0x3f6af1(0x10c)]('#newItem_brands_select\x20.options_list')['innerHTML']='';const _0x2cd7e1=uniqueValuesArray(_0x3f6af1(0x101),_0x3f6af1(0x101),products),_0x4d3a03=uniqueValuesArray(_0x3f6af1(0x19e),_0x3f6af1(0x19e),products),_0x2c932c=initMulti('newItem_categories_select',_0x2cd7e1),_0x4c0983=initMulti('newItem_brands_select',_0x4d3a03);document['getElementById'](_0x3f6af1(0xa7))[_0x3f6af1(0x140)](_0x3f6af1(0x90),function(_0x5606e8){var _0x3a94fe=_0x3f6af1;baseItem[_0x3a94fe(0xbe)]=_0x2c932c[_0x3a94fe(0xfd)](_0x3e4ffc=>_0x3e4ffc['setCode']);}),document[_0x3f6af1(0xdd)](_0x3f6af1(0x93))[_0x3f6af1(0x140)](_0x3f6af1(0x90),function(_0x1f6d8c){var _0x37afda=_0x3f6af1;baseItem[_0x37afda(0xf7)]=_0x4c0983[_0x37afda(0xfd)](_0x15bf21=>_0x15bf21[_0x37afda(0x7b)]);});}function initializeFormUnits(){var _0x4d7a08=_0x56dc17;unitCount=0x0,document[_0x4d7a08(0xdd)](_0x4d7a08(0x173))[_0x4d7a08(0x12c)]='',baseItem[_0x4d7a08(0x143)]=[];var _0x282206=uniqueValuesArray(_0x4d7a08(0x80),_0x4d7a08(0x80),products);addUnit('',_0x282206[0x0]&&_0x282206[0x0][_0x4d7a08(0x7b)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x3f6188=_0x56dc17;prodC[_0x3f6188(0x12c)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x271c50=_0x56dc17;branchesC[_0x271c50(0x12c)]='',baseItem['setItemWarehouses']=[];const _0x47d7d0=getAllWarehouses();_0x47d7d0[_0x271c50(0xd2)](function(_0x5b3e53){var _0xe85876=_0x271c50,_0x49f65f=document[_0xe85876(0xd0)](_0xe85876(0xb4));_0x49f65f[_0xe85876(0x12c)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0xe85876(0xb7)+_0xe85876(0xbf)+_0x5b3e53[_0xe85876(0x151)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x5b3e53[_0xe85876(0xa6)]+'</label>'+_0xe85876(0xb0)+_0xe85876(0xb7)+_0xe85876(0x169)+_0x5b3e53[_0xe85876(0x151)]+'\x22>'+_0xe85876(0xb0)+_0xe85876(0xb7)+_0xe85876(0x18c)+_0x5b3e53['setWarehouseId']+'\x22>'+_0xe85876(0xb0)+_0xe85876(0xb0),branchesC[_0xe85876(0x13d)](_0x49f65f),_0x49f65f[_0xe85876(0xe7)](_0xe85876(0x10b))[_0xe85876(0xd2)](function(_0x4d9d4e){var _0x1c54f0=_0xe85876;_0x4d9d4e[_0x1c54f0(0x140)]('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x5ad8f4=_0x56dc17;baseItem[_0x5ad8f4(0xf4)]='',baseItem[_0x5ad8f4(0x11b)]={},vgC[_0x5ad8f4(0x12c)]='',varContainer[_0x5ad8f4(0x12c)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x2dd10f,_0x3f8eb3,_0x1bf16c=![]){var _0x39ca06=_0x56dc17;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x39ca06(0x179),'setToken':company[0x0][_0x39ca06(0x112)],'setWebhook':company[0x0][_0x39ca06(0xda)],'newItems':_0x3f8eb3}),products['push'](..._0x2dd10f),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x39ca06(0xfb)),_0x1bf16c?(fileInput[_0x39ca06(0x9e)]='',uploadBtn[_0x39ca06(0x11a)]=!![],statusDiv[_0x39ca06(0xad)]='',progressBar['style'][_0x39ca06(0x155)]=_0x39ca06(0xec),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}