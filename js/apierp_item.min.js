/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.1
*/

var _0x3929e3=_0x3bc8;(function(_0x418489,_0x1cff0c){var _0x9e0311=_0x3bc8,_0x2f596c=_0x418489();while(!![]){try{var _0x1f01b5=-parseInt(_0x9e0311(0x1d4))/0x1+parseInt(_0x9e0311(0x1bf))/0x2*(-parseInt(_0x9e0311(0x14c))/0x3)+-parseInt(_0x9e0311(0x130))/0x4+-parseInt(_0x9e0311(0x157))/0x5+-parseInt(_0x9e0311(0xba))/0x6+parseInt(_0x9e0311(0xdd))/0x7+-parseInt(_0x9e0311(0x1a0))/0x8*(-parseInt(_0x9e0311(0x18f))/0x9);if(_0x1f01b5===_0x1cff0c)break;else _0x2f596c['push'](_0x2f596c['shift']());}catch(_0x4561e0){_0x2f596c['push'](_0x2f596c['shift']());}}}(_0x57d2,0xc71e1));var _0x136b1f=(function(){var _0xb5cf40=!![];return function(_0x3d7f2f,_0x2fcf05){var _0x7a963c=_0xb5cf40?function(){var _0x4ee733=_0x3bc8;if(_0x2fcf05){var _0x5ea46d=_0x2fcf05[_0x4ee733(0x1c5)](_0x3d7f2f,arguments);return _0x2fcf05=null,_0x5ea46d;}}:function(){};return _0xb5cf40=![],_0x7a963c;};}()),_0x534a6b=_0x136b1f(this,function(){var _0x231142=_0x3bc8;return _0x534a6b[_0x231142(0xd3)]()[_0x231142(0x9a)](_0x231142(0x181))[_0x231142(0xd3)]()['constructor'](_0x534a6b)['search'](_0x231142(0x181));});_0x534a6b();var _0x4ead88=(function(){var _0x36838a=!![];return function(_0x59ea31,_0x447cb8){var _0xba3c07=_0x36838a?function(){if(_0x447cb8){var _0x3d5dcb=_0x447cb8['apply'](_0x59ea31,arguments);return _0x447cb8=null,_0x3d5dcb;}}:function(){};return _0x36838a=![],_0xba3c07;};}()),_0x25b4dc=_0x4ead88(this,function(){var _0x585f5d=_0x3bc8,_0x4a727d;try{var _0x50783f=Function(_0x585f5d(0x9f)+_0x585f5d(0x163)+');');_0x4a727d=_0x50783f();}catch(_0x19e55f){_0x4a727d=window;}var _0x161caf=_0x4a727d['console']=_0x4a727d[_0x585f5d(0xdf)]||{},_0x331834=[_0x585f5d(0x17c),_0x585f5d(0xd5),_0x585f5d(0x164),_0x585f5d(0xac),_0x585f5d(0x133),_0x585f5d(0x14f),_0x585f5d(0x122)];for(var _0x5710ca=0x0;_0x5710ca<_0x331834[_0x585f5d(0x13b)];_0x5710ca++){var _0x3a6122=_0x4ead88[_0x585f5d(0x199)]['prototype']['bind'](_0x4ead88),_0x190f00=_0x331834[_0x5710ca],_0x246f49=_0x161caf[_0x190f00]||_0x3a6122;_0x3a6122[_0x585f5d(0x113)]=_0x4ead88[_0x585f5d(0x184)](_0x4ead88),_0x3a6122['toString']=_0x246f49[_0x585f5d(0xd3)][_0x585f5d(0x184)](_0x246f49),_0x161caf[_0x190f00]=_0x3a6122;}});function _0x57d2(){var _0x54846a=['</div>','newItem_units_container','5850KFaMMl','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','values','setEquivalence','files','disabled','.branchInit','inputItemDescription','setDescripcion','dataTransfer','constructor','done','blur','percent','includes','setUnits','oncomplete','58384NmhTAL','.ms_input','.vgName','assign','children','classList','#newItem_units_container\x20>\x20div','parse','setIdProducto','every','newItem_branches_container','btnItemSave','href','message','base','result','eqInput','file','setAuthToken','none','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','image_box','setUnitCode','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','_comp_container','some','filter','</label>','application/octet-stream','setItemDateExpiry','32586pspFJF','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','.prodInput','newItem_title_table_cp','string','productType1','apply','setMtoPrecioUnitario','.branchMin','costInput','inputItemCode','setMtoPrecioCostoUnitario','\x20items\x20procesados.','stringify','.eqInput','.removeCombo','newItem_brands_select','setItemVariantValues','USD','inputItemType','image/*','1426653jyLxBf','undefined','Ingresa\x20el\x20nombre\x20del\x20item','setItemFree','\x22\x20class=\x22branchChk\x22\x20checked>\x20','add','setUnitName','currency_data','stopPropagation','value','currency','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','#newItem_categories_select\x20.options_list','Enter','remove','setItemType','dragleave','progress','setCostUSD','Error\x20al\x20procesar\x20la\x20operaci贸n:','隆Enhorabuena!\x20el\x20c贸digo\x20ingresado\x20est谩\x20disponible!','setName','search','push','./excel/Plantilla-Items.xlsx','exportDone','.removeUnit','return\x20(function()\x20','.addVariantUnit','transaction','newItem_chk_sell','.addVariantComp','100','.priceInput','setImpuestos','trim','getElementById','currentTarget','postMessage','querySelector','error','defineProperty','isArray','Error\x20al\x20obtener\x20la\x20plantilla:\x20','.variantExpiry','setItemCategories','objectStore','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','createObjectURL','setWarehouseCode','inputItemTax','true','Error\x20al\x20guardar\x20Producto\x20Offline:','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','2525208fjrVkr','modalOverlayCreateItem','detalleModalCreateItem','.options_list\x20div','.removeVariant','ERROR:\x20plainProducts\x20no\x20serializable:','type','setItemIsBought','dataset','querySelectorAll','find','code','selected','Nuevo\x20Producto','slice','click','idx','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','_branch_container','createElement','\x22\x20class=\x22branchChk\x22>\x20','.prodQty','setItemUnits','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','dragenter','toString','dragover','warn','setWarehouseName','remove-tag','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','btnExportarItems','PEN','span','readwrite','6637057QMgzfn','items','console','priceInput','onload','vals','splice','setCantidad','inputItemName','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setItemUnitId','style','.drop-zone__prompt','inputItemDateExpiry','setItemIsSold','exportItems','toLowerCase','Collator','Producto\x20Libre','\x22\x20value=\x22','newItem_btn_addVariantGroup','newItem_title_table','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','newItem_images_container','reduce','detail','setDefault','.variantCode','setItemInventoriable','setItemCode','Arrastra\x20tu\x20Excel\x20aqu铆\x20o\x20haz\x20clic\x20para\x20seleccionar','newItem_hidden','variant_','style=\x22display:none\x22','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','tag','setItemTaxCode','.unitSelect','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>C贸digo:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','match','accept','Plantilla-Items-Export-','textContent','remove-file','join','preventDefault','.unitAlias','test','setIdSucursal','input','.removeGroup','closest','.branchChk','upload-btn','__proto__','keydown','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','getElementsByClassName','indexOf','now','setUnidadCodigo','modalProductNewTitle','inputItemBarCode','unitAlias','setItemDescription','div','default','file-input','setPrice','trace','hidden','innerHTML','closeModalCreateItem','change','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','map','forEach','setStockInitial','selectionChange','windowId','focus','setWarehouseStockMin','newItem_categories_select','4491420AMmGKf','fill','setBatchExpirationDate','exception','target','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','.vgVals','<img\x20src=\x22','setCodProducto','drop','.options_list','length','.prod_input_container','.variantBarCode','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','setTaxId','setItemImages','onmessage','active','setCategoria','checked','unitSelect','flatMap','revokeObjectURL','selectedItem','parentNode','setItemTaxValue','setFactor','264ygGsgF','from','setStockMinimum','table','setItemName','.variantForm','setItemTaxId','setMarca','setImpuestoCode','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','setPriceUSD','2360530MDGJuJ','#newItem_categories_select\x20.selected_tags','.selected_tags','setItemWarehouses','<div\x20class=\x22newItem_col\x22>','split','onerror','setItemBarCode','findIndex','download','setItemVariantName','display','{}.constructor(\x22return\x20this\x22)(\x20)','info','setItemBrands','compare','sort','arrayBuffer','setConversionFactor','setItemComponents','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','div[data-default=\x22true\x22]\x20.eqInput','appendChild','toggle','newItem_btn_addProdItem','_units_container','setWebhook','max','dispatchEvent','option','setWarehouseId','name','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','setItemId','addEventListener','contains','setImpuestoValue','log','setCode','block','key','sucursales','(((.+)+)+)+$','\x20items.','setImpuestoName','bind','El\x20c贸digo\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20煤ltimo\x20c贸digo\x20registrado\x20es:\x20','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','\x20隆Enohabuena!\x20Items\x20subidos\x20correctamente.','className','setCost','.costInput','Ingresa\x20el\x20c贸digo\x20del\x20item'];_0x57d2=function(){return _0x54846a;};return _0x57d2();}_0x25b4dc();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById'](_0x3929e3(0xf4)),unitCount=0x0,branchesC=document['getElementById'](_0x3929e3(0x1aa)),prodC=document[_0x3929e3(0xa8)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x3929e3(0xa8)]('newItem_variants_forms'),vgC=document[_0x3929e3(0xa8)]('newItem_variant_groups');const fileInput=document[_0x3929e3(0xa8)](_0x3929e3(0x120)),progressBar=document[_0x3929e3(0xa8)](_0x3929e3(0x1e5)),statusDiv=document[_0x3929e3(0xa8)]('status'),uploadBtn=document['getElementById'](_0x3929e3(0x112));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x3929e3(0xa8)]('drop-zone'),removeBtn=document['getElementById'](_0x3929e3(0x108));function showModalCreateItem(_0x141e39){var _0x13e5c6=_0x3929e3;const _0x519659=document['getElementById']('detalleModalCreateItem'),_0x582910=document[_0x13e5c6(0xa8)]('modalOverlayCreateItem');_0x519659[_0x13e5c6(0x1a5)][_0x13e5c6(0x1d9)](_0x13e5c6(0x142)),_0x582910['style'][_0x13e5c6(0x162)]=_0x13e5c6(0x17e);const _0x4db93f=document[_0x13e5c6(0xa8)]('setItemFree');_0x4db93f[_0x13e5c6(0x1dd)]=parseInt(_0x141e39),baseItem['setItemFree']=parseInt(_0x141e39);const _0x2849f9=document[_0x13e5c6(0xa8)](_0x13e5c6(0x11a));_0x141e39==0x0&&(_0x2849f9['innerHTML']=_0x13e5c6(0xc7));_0x141e39==0x1&&(_0x2849f9[_0x13e5c6(0x124)]=_0x13e5c6(0xef));const _0x421bed=document[_0x13e5c6(0x116)](_0x13e5c6(0x1c4));for(let _0x482f6d=0x0;_0x482f6d<_0x421bed[_0x13e5c6(0x13b)];_0x482f6d++){const _0x3a5d44=_0x421bed[_0x482f6d];if(_0x141e39==0x0)_0x3a5d44['classList'][_0x13e5c6(0x1e2)](_0x13e5c6(0x123));else _0x141e39==0x1&&_0x3a5d44[_0x13e5c6(0x1a5)][_0x13e5c6(0x1d9)](_0x13e5c6(0x123));}}function hideModalCreateItem(){var _0xaa45e9=_0x3929e3;const _0x51244f=document[_0xaa45e9(0xa8)](_0xaa45e9(0xbc)),_0x15eb94=document['getElementById'](_0xaa45e9(0xbb));_0x51244f[_0xaa45e9(0x1a5)][_0xaa45e9(0x1e2)](_0xaa45e9(0x142)),_0x15eb94['style'][_0xaa45e9(0x162)]='none';}document[_0x3929e3(0xa8)](_0x3929e3(0x125))['addEventListener']('click',hideModalCreateItem),document['getElementById']('modalOverlayCreateItem')[_0x3929e3(0x179)]('click',_0x37d17a=>{var _0x3191e7=_0x3929e3;_0x37d17a[_0x3191e7(0x134)]==_0x37d17a[_0x3191e7(0xa9)]&&_0x37d17a[_0x3191e7(0x1dc)]();});function loadTaxData(){var _0x53dbec=_0x3929e3;const _0x20dd70=document[_0x53dbec(0xa8)](_0x53dbec(0xb6));_0x20dd70['innerHTML']='',company[0x0]['setImpuestos'][_0x53dbec(0x129)](function(_0x4ed0c8){var _0x37edf3=_0x53dbec;const _0x187c45=document[_0x37edf3(0xcd)](_0x37edf3(0x174));_0x187c45['value']=_0x4ed0c8['setTaxId'],_0x187c45['innerHTML']=_0x4ed0c8[_0x37edf3(0x183)]+'\x20('+_0x4ed0c8['setImpuestoValue']+'%)',_0x4ed0c8['setTaxId']==company[0x0]['setTaxIdDefault']&&(_0x187c45[_0x37edf3(0xc6)]=!![]),_0x20dd70[_0x37edf3(0x16d)](_0x187c45);});}function uniqueValuesArray(_0x18737e,_0x4c5b33,_0x31e73f){var _0x6e6346=_0x3929e3;const _0x371b86=Array[_0x6e6346(0x14d)](new Set(_0x31e73f[_0x6e6346(0x128)](_0x1df3a8=>{var _0x446ae6=_0x6e6346;const _0x5ab2b2=_0x1df3a8[_0x18737e];return typeof _0x5ab2b2===_0x446ae6(0x1c3)?_0x5ab2b2[_0x446ae6(0xa7)]():_0x5ab2b2;})['filter'](_0x45c332=>_0x45c332!=null&&_0x45c332!=='')));return _0x371b86['map'](_0x577056=>{var _0x2d664f=_0x6e6346;const _0x1d5f24=_0x31e73f[_0x2d664f(0xc4)](_0x1ded8a=>_0x1ded8a[_0x18737e]===_0x577056),_0x5a916c=_0x1d5f24&&_0x1d5f24[_0x4c5b33]!=null?String(_0x1d5f24[_0x4c5b33])['trim']():_0x577056;return{'setCode':_0x577056,'setName':_0x5a916c};});}function fillSelect(_0x490871,_0xc76fee,_0x20f7f0,_0x161d25){var _0x129332=_0x3929e3;_0x490871[_0x129332(0x124)]='',_0xc76fee['forEach'](function(_0x46d1f8){var _0x242091=_0x129332,_0x48a32b=new Option(_0x46d1f8[_0x161d25],_0x46d1f8[_0x20f7f0]);_0x490871[_0x242091(0x1d9)](_0x48a32b);});}function initMulti(_0x467e96,_0xfb6be9){var _0x63f67e=_0x3929e3,_0x30e8cf=document['getElementById'](_0x467e96),_0x2c7586=_0x30e8cf[_0x63f67e(0xab)](_0x63f67e(0x1a1)),_0x4ca508=_0x30e8cf[_0x63f67e(0xab)]('.options_list'),_0x43d79e=_0x30e8cf[_0x63f67e(0xab)](_0x63f67e(0x159)),_0x220bfb=_0xfb6be9[_0x63f67e(0xc8)](),_0x57e970=[];function _0x264d7b(){var _0x1d56a1=_0x63f67e;_0x4ca508[_0x1d56a1(0x124)]='',_0x220bfb[_0x1d56a1(0x1bb)](function(_0x4fe889){var _0x4d27ca=_0x1d56a1;return _0x4fe889[_0x4d27ca(0x1e9)]['toLowerCase']()[_0x4d27ca(0x117)](_0x2c7586['value']['toLowerCase']())!==-0x1;})[_0x1d56a1(0x129)](function(_0xe6e441){var _0x9f4ca7=_0x1d56a1,_0xe3bbf0=document[_0x9f4ca7(0xcd)](_0x9f4ca7(0x11e));_0xe3bbf0['textContent']=_0xe6e441[_0x9f4ca7(0x1e9)],_0xe3bbf0[_0x9f4ca7(0xc2)][_0x9f4ca7(0xc5)]=_0xe6e441['setCode'],_0x4ca508['appendChild'](_0xe3bbf0),_0xe3bbf0['addEventListener'](_0x9f4ca7(0xc9),function(){var _0x260b69=_0x9f4ca7;_0x57e970['push'](_0xe6e441),_0x220bfb[_0x260b69(0xe3)](_0x220bfb['findIndex'](function(_0x321374){var _0x2281d9=_0x260b69;return _0x321374['setCode']===_0xe6e441[_0x2281d9(0x17d)];}),0x1),_0x2c7586[_0x260b69(0x1dd)]='',_0x29d378(),_0x264d7b();});});}function _0x29d378(){var _0x2472e1=_0x63f67e;_0x43d79e[_0x2472e1(0x124)]='',_0x57e970['forEach'](function(_0x20f77c){var _0x5578a1=_0x2472e1,_0x5d429a=document[_0x5578a1(0xcd)](_0x5578a1(0x11e));_0x5d429a[_0x5578a1(0x189)]=_0x5578a1(0x100),_0x5d429a['textContent']=_0x20f77c['setName'];var _0x670923=document[_0x5578a1(0xcd)](_0x5578a1(0xdb));_0x670923['className']=_0x5578a1(0xd7),_0x670923[_0x5578a1(0x107)]='',_0x670923[_0x5578a1(0x179)](_0x5578a1(0xc9),function(){var _0xe2ea1a=_0x5578a1;_0x220bfb['push'](_0x20f77c);const _0x45fcc1=_0x57e970[_0xe2ea1a(0x15f)](function(_0x411c96){var _0x45ed88=_0xe2ea1a;return _0x411c96[_0x45ed88(0x17d)]===_0x20f77c[_0x45ed88(0x17d)];});if(_0x45fcc1>-0x1)_0x57e970['splice'](_0x45fcc1,0x1);_0x29d378(),_0x264d7b();}),_0x5d429a[_0x5578a1(0x16d)](_0x670923),_0x43d79e['appendChild'](_0x5d429a);}),_0x30e8cf[_0x2472e1(0x173)](new CustomEvent(_0x2472e1(0x12b),{'detail':_0x57e970,'bubbles':!![]}));}return _0x2c7586['addEventListener'](_0x63f67e(0x12d),function(){var _0x2bcbe8=_0x63f67e;_0x4ca508[_0x2bcbe8(0x1a5)][_0x2bcbe8(0x1e2)]('newItem_hidden');}),_0x2c7586[_0x63f67e(0x179)](_0x63f67e(0x10e),_0x264d7b),_0x2c7586[_0x63f67e(0x179)](_0x63f67e(0x114),function(_0x99fdff){var _0x19d56c=_0x63f67e;if(_0x99fdff[_0x19d56c(0x17f)]===_0x19d56c(0x1e1)){_0x99fdff['preventDefault']();const _0x8a3dc7=_0x2c7586[_0x19d56c(0x1dd)][_0x19d56c(0xa7)]();if(!_0x8a3dc7)return;const _0x395563=_0x57e970[_0x19d56c(0x1ba)](_0x2d4f35=>_0x2d4f35['setName']===_0x8a3dc7),_0x3b99e0=_0x220bfb[_0x19d56c(0x1ba)](_0x1e2b1e=>_0x1e2b1e[_0x19d56c(0x1e9)]===_0x8a3dc7);if(!_0x395563&&!_0x3b99e0){const _0x1395dd={'setCode':_0x8a3dc7,'setName':_0x8a3dc7};_0x57e970['push'](_0x1395dd),_0x29d378(),_0x264d7b();}_0x2c7586[_0x19d56c(0x1dd)]='';}}),document[_0x63f67e(0x179)](_0x63f67e(0xc9),function(_0x54953f){var _0xe21c4a=_0x63f67e;if(!_0x30e8cf[_0xe21c4a(0x17a)](_0x54953f[_0xe21c4a(0x134)]))_0x4ca508[_0xe21c4a(0x1a5)]['add']('newItem_hidden');}),_0x264d7b(),_0x57e970;}function getLastCode(_0x26d735){var _0x1212af=_0x3929e3;const _0x2ce68f=_0x26d735[_0x1212af(0x128)](_0x330b58=>String(_0x330b58['setCodProducto'])[_0x1212af(0xa7)]())['filter'](_0x2a0ffa=>_0x2a0ffa!=='');if(_0x2ce68f[_0x1212af(0x13b)]===0x0)return'';const _0x50dd23=_0x2ce68f[_0x1212af(0x1a9)](_0x40901d=>/^\d+$/[_0x1212af(0x10c)](_0x40901d));if(_0x50dd23){const _0x1f84bb=_0x2ce68f[_0x1212af(0x128)](Number),_0x5049aa=Math[_0x1212af(0x172)](..._0x1f84bb);return String(_0x5049aa);}let _0x6022da;if(typeof Intl!==_0x1212af(0x1d5)&&Intl[_0x1212af(0xee)]){const _0x2f23e5=new Intl[(_0x1212af(0xee))](undefined,{'numeric':!![],'sensitivity':_0x1212af(0x1ae)});_0x6022da=_0x2ce68f['slice']()[_0x1212af(0x167)](_0x2f23e5[_0x1212af(0x166)]);}else{const _0x3afbf8=_0x2ce68f[_0x1212af(0x1a9)](_0x41d489=>/^\d+$/[_0x1212af(0x10c)](_0x41d489));_0x3afbf8?_0x6022da=_0x2ce68f['map'](Number)[_0x1212af(0x167)]((_0x6c812c,_0x4a8219)=>_0x6c812c-_0x4a8219)['map'](String):_0x6022da=_0x2ce68f[_0x1212af(0xc8)]()[_0x1212af(0x167)]();}return _0x6022da[_0x6022da[_0x1212af(0x13b)]-0x1];}function getNextCode(_0x398ccc){var _0x274849=_0x3929e3;const _0x22292f=getLastCode(_0x398ccc);if(!_0x22292f)return'';if(/^\d+$/[_0x274849(0x10c)](_0x22292f))return String(Number(_0x22292f)+0x1);const _0x1e4794=_0x22292f[_0x274849(0x104)](/^([A-Za-z]*)(\d+)$/);if(_0x1e4794){const [,_0x4313f1,_0x3ecebc]=_0x1e4794,_0x4b0913=String(Number(_0x3ecebc)+0x1)['padStart'](_0x3ecebc[_0x274849(0x13b)],'0');return _0x4313f1+_0x4b0913;}return _0x22292f;}document['getElementById'](_0x3929e3(0xe5))[_0x3929e3(0x179)]('input',function(_0x4d7ce5){var _0x275d07=_0x3929e3;baseItem[_0x275d07(0x150)]=_0x4d7ce5['target'][_0x275d07(0x1dd)];}),document[_0x3929e3(0xa8)](_0x3929e3(0x196))[_0x3929e3(0x179)](_0x3929e3(0x10e),function(_0x1cb5fc){var _0x301792=_0x3929e3;baseItem[_0x301792(0x11d)]=_0x1cb5fc[_0x301792(0x134)][_0x301792(0x1dd)];}),document[_0x3929e3(0xa8)](_0x3929e3(0xea))[_0x3929e3(0x179)](_0x3929e3(0x10e),function(_0x54e239){var _0x6db926=_0x3929e3;baseItem[_0x6db926(0x1be)]=_0x54e239['target'][_0x6db926(0x1dd)];}),document[_0x3929e3(0xa8)](_0x3929e3(0x1d2))[_0x3929e3(0x179)](_0x3929e3(0x126),function(_0x28da89){var _0x383199=_0x3929e3;baseItem['setItemType']=_0x28da89[_0x383199(0x134)][_0x383199(0x1dd)];}),document[_0x3929e3(0xa8)](_0x3929e3(0xb6))[_0x3929e3(0x179)](_0x3929e3(0x126),function(_0x51549e){var _0x4f15b8=_0x3929e3;baseItem[_0x4f15b8(0x152)]=_0x51549e[_0x4f15b8(0x134)][_0x4f15b8(0x1dd)];const _0x243cbb=_0x51549e['target'][_0x4f15b8(0x1dd)],_0x45ae30=company[0x0][_0x4f15b8(0xa6)][_0x4f15b8(0xc4)](_0x1bad26=>_0x1bad26[_0x4f15b8(0x13f)]==_0x243cbb)?.['setImpuestoCode']||0x0,_0x299f56=company[0x0][_0x4f15b8(0xa6)][_0x4f15b8(0xc4)](_0x5c91b3=>_0x5c91b3['setTaxId']==_0x243cbb)?.[_0x4f15b8(0x17b)]||0x0;baseItem[_0x4f15b8(0x101)]=_0x45ae30,baseItem[_0x4f15b8(0x14a)]=_0x299f56;}),document['getElementById']('newItem_chk_buy')[_0x3929e3(0x179)](_0x3929e3(0x126),function(_0x5b6a57){var _0x417cb2=_0x3929e3;baseItem[_0x417cb2(0xc1)]=_0x5b6a57['target']['checked'];}),document['getElementById']('newItem_chk_sell')['addEventListener'](_0x3929e3(0x126),function(_0x27133f){var _0x435f1e=_0x3929e3;baseItem[_0x435f1e(0xeb)]=_0x27133f[_0x435f1e(0x134)][_0x435f1e(0x144)];}),document[_0x3929e3(0xa8)]('inputItemCode')[_0x3929e3(0x179)](_0x3929e3(0x10e),function(_0x18b9e9){var _0x2ead06=_0x3929e3;baseItem[_0x2ead06(0xfa)]=_0x18b9e9['target'][_0x2ead06(0x1dd)];}),document[_0x3929e3(0xa8)](_0x3929e3(0x11b))[_0x3929e3(0x179)](_0x3929e3(0x10e),function(_0x2059a3){var _0x5ec2ec=_0x3929e3;baseItem['setItemBarCode']=_0x2059a3[_0x5ec2ec(0x134)][_0x5ec2ec(0x1dd)];}),document[_0x3929e3(0xa8)]('newItem_btn_addUnit')[_0x3929e3(0x179)](_0x3929e3(0xc9),function(){addUnit(),updateUnitsArray();}),document[_0x3929e3(0xa8)](_0x3929e3(0x1c9))[_0x3929e3(0x179)](_0x3929e3(0x19b),function(){var _0x362d57=_0x3929e3;const _0x120757=this[_0x362d57(0x1dd)][_0x362d57(0xa7)]();if(_0x120757==='')return;const _0x216e3c=products[_0x362d57(0x1ba)](_0x338980=>_0x338980['setCodProducto']==_0x120757),_0x63146c=getLastCode(products);_0x216e3c?ntfShow(_0x362d57(0x185)+_0x63146c,0x2,0x1):ntfShow(_0x362d57(0x1e8),0x1,0x1);});function removeImg(_0x16994b){var _0x27b140=_0x3929e3;currentImages[_0x16994b]=null;var _0x11c7f1=imgC[_0x27b140(0xab)]('[data-idx=\x22'+_0x16994b+'\x22]');_0x11c7f1[_0x27b140(0x124)]='';var _0x17e29b=document[_0x27b140(0xcd)](_0x27b140(0x10e));_0x17e29b[_0x27b140(0xc0)]=_0x27b140(0x1b1),_0x17e29b[_0x27b140(0x105)]=_0x27b140(0x1d3),_0x17e29b[_0x27b140(0xe8)][_0x27b140(0x162)]='none';var _0x487e29=document[_0x27b140(0xcd)](_0x27b140(0xdb));_0x487e29[_0x27b140(0x107)]='+',_0x11c7f1[_0x27b140(0x16d)](_0x17e29b),_0x11c7f1[_0x27b140(0x16d)](_0x487e29),_0x11c7f1[_0x27b140(0x179)](_0x27b140(0xc9),function(){var _0x3ee63b=_0x27b140;_0x17e29b[_0x3ee63b(0xc9)]();}),baseItem['setItemImages']=currentImages[_0x27b140(0x1bb)](function(_0x85236b){return _0x85236b;});}function addUnit(_0x5caefd,_0x2b83ac,_0x556b02,_0xf4c3ed,_0x5cd1c8,_0x461a92,_0x155460){var _0x5b81cc=_0x3929e3,_0x123dc8=uniqueValuesArray(_0x5b81cc(0x1b7),_0x5b81cc(0x1da),myCompany[_0x5b81cc(0x19e)]);_0x5caefd=_0x5caefd||'',_0x2b83ac=_0x2b83ac||_0x123dc8[0x3a]&&_0x123dc8[0x3a][_0x5b81cc(0x17d)]||'',_0x556b02=_0x556b02!==undefined?_0x556b02:0x1,_0xf4c3ed=!!_0xf4c3ed,_0x5cd1c8=_0x5cd1c8||'',_0x461a92=_0x461a92||'';var _0xdd8955=unitCount++,_0x566b6a=document['createElement']('div');_0x566b6a['dataset']['idx']=_0xdd8955,_0x566b6a[_0x5b81cc(0xc2)]['default']=_0xf4c3ed,_0x566b6a[_0x5b81cc(0x124)]=_0x5b81cc(0xf3)+_0xdd8955+'\x22\x20value=\x22'+_0x5caefd+_0x5b81cc(0xff)+_0xdd8955+_0x5b81cc(0x1b8)+_0xdd8955+_0x5b81cc(0xf0)+_0x556b02+'\x22\x20'+(_0xf4c3ed?_0x5b81cc(0x194):'')+_0x5b81cc(0xb3)+_0xdd8955+_0x5b81cc(0xf0)+_0x5cd1c8+_0x5b81cc(0xd8)+_0xdd8955+'\x22\x20value=\x22'+_0x461a92+_0x5b81cc(0x1b5)+(_0xf4c3ed?_0x5b81cc(0xfe):'')+_0x5b81cc(0x127),fillSelect(_0x566b6a['querySelector'](_0x5b81cc(0x102)),_0x123dc8,_0x5b81cc(0x17d),_0x5b81cc(0x1e9)),_0x566b6a[_0x5b81cc(0xab)]('.unitSelect')[_0x5b81cc(0x1dd)]=_0x2b83ac,[_0x5b81cc(0x11c),_0x5b81cc(0x145),_0x5b81cc(0x1b0),_0x5b81cc(0xe0),_0x5b81cc(0x1c8)]['forEach'](function(_0x3acc9d){var _0x45676a=_0x5b81cc;_0x566b6a[_0x45676a(0xab)]('.'+_0x3acc9d)[_0x45676a(0x179)]('input',function(){var _0x1f4618=_0x155460?+_0x155460['id']['split']('_')[0x1]:null;if(_0x155460)updateVariantUnits(_0x1f4618);else updateUnitsArray();});}),_0x566b6a[_0x5b81cc(0xab)](_0x5b81cc(0x9e))[_0x5b81cc(0x179)](_0x5b81cc(0xc9),function(){var _0x1e1a48=_0x5b81cc;_0x566b6a[_0x1e1a48(0x1e2)]();var _0x4a3c94=_0x155460?+_0x155460['id'][_0x1e1a48(0x15c)]('_')[0x1]:null;if(_0x155460)updateVariantUnits(_0x4a3c94);else updateUnitsArray();});var _0x3ec5d7=_0x155460||document['getElementById'](_0x5b81cc(0x18e));_0x3ec5d7[_0x5b81cc(0x16d)](_0x566b6a);}function containerIdx(_0x9fe744){var _0x32cd13=_0x3929e3;return+_0x9fe744['id'][_0x32cd13(0x15c)]('_')[0x1];}function updateUnitsArray(){var _0x5c0b82=_0x3929e3,_0xaec297=[],_0x3320da=Array[_0x5c0b82(0x14d)](document[_0x5c0b82(0xc3)](_0x5c0b82(0x1a6))),_0x522ee7=_0x3320da[_0x5c0b82(0xc4)](_0x5d98f5=>_0x5d98f5[_0x5c0b82(0xc2)][_0x5c0b82(0x11f)]===_0x5c0b82(0xb7)),_0xba56da=_0x522ee7?+_0x522ee7[_0x5c0b82(0xab)](_0x5c0b82(0x1cd))['value']:0x1;_0x3320da[_0x5c0b82(0x129)](function(_0x528529){var _0x5c602b=_0x5c0b82,_0x59a715=+_0x528529[_0x5c602b(0xab)](_0x5c602b(0x1cd))[_0x5c602b(0x1dd)]||0x0,_0x21263a=+_0x528529[_0x5c602b(0xab)](_0x5c602b(0xa5))['value']||0x0,_0x4d6ada=+_0x528529['querySelector'](_0x5c602b(0x18b))[_0x5c602b(0x1dd)]||0x0;_0xaec297[_0x5c602b(0x9b)]({'setAlias':_0x528529[_0x5c602b(0xab)](_0x5c602b(0x10b))['value']['trim'](),'setUnitCode':_0x528529['querySelector'](_0x5c602b(0x102))[_0x5c602b(0x1dd)],'setEquivalence':_0x59a715,'setFactor':_0x528529[_0x5c602b(0xc2)][_0x5c602b(0x11f)]==='true'?0x1:_0x59a715==_0xba56da?0x1:_0x59a715<_0xba56da?_0xba56da/_0x59a715:_0x59a715/_0xba56da,'setPrice':_0x21263a,'setCost':_0x4d6ada,'setDefault':_0x528529['dataset'][_0x5c602b(0x11f)]==='true'?0x1:0x0});}),baseItem[_0x5c0b82(0xd0)]=_0xaec297;}function updateBranches(){var _0x231b42=_0x3929e3,_0x4444b9=[];document[_0x231b42(0xc3)]('#newItem_branches_container\x20>\x20div')[_0x231b42(0x129)](function(_0x17d2a9){var _0x4b8386=_0x231b42,_0x4bd5eb=_0x17d2a9[_0x4b8386(0xab)](_0x4b8386(0x111));if(_0x4bd5eb['checked']){var _0xdf505d=+_0x4bd5eb[_0x4b8386(0xc2)]['id'],_0x191038=+_0x17d2a9[_0x4b8386(0xab)](_0x4b8386(0x195))[_0x4b8386(0x1dd)],_0x4b810b=+_0x17d2a9[_0x4b8386(0xab)](_0x4b8386(0x1c7))[_0x4b8386(0x1dd)];_0x4444b9[_0x4b8386(0x9b)]({'setWarehouseCode':_0xdf505d,'setStockInitial':_0x191038,'setStockMinimum':_0x4b810b});}}),baseItem[_0x231b42(0x15a)]=_0x4444b9;}document[_0x3929e3(0xa8)](_0x3929e3(0x16f))[_0x3929e3(0x179)]('click',function(){var _0xa38779=_0x3929e3,_0xc20b71=Date[_0xa38779(0x118)](),_0x39662c=document[_0xa38779(0xcd)]('div');_0x39662c[_0xa38779(0xc2)][_0xa38779(0xca)]=_0xc20b71,_0x39662c[_0xa38779(0x124)]='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0xc20b71+_0xa38779(0x115)+_0xc20b71+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0xa38779(0x16d)](_0x39662c),initProdSearch(_0x39662c[_0xa38779(0xab)](_0xa38779(0x13c))),_0x39662c[_0xa38779(0xab)]('.removeProd')['addEventListener'](_0xa38779(0xc9),function(){var _0xc80973=_0xa38779;_0x39662c[_0xc80973(0x1e2)](),updateProdItems();}),_0x39662c['querySelector'](_0xa38779(0xcf))[_0xa38779(0x179)](_0xa38779(0x10e),updateProdItems),document[_0xa38779(0xa8)](_0xa38779(0x1c2))[_0xa38779(0x1a5)]['toggle'](_0xa38779(0xf2),!![]),document['getElementById'](_0xa38779(0x1c2))[_0xa38779(0x1a5)][_0xa38779(0x16e)](_0xa38779(0xfc),![]);});function initProdSearch(_0x2f4cde,_0x5d1d1f){var _0x17ce95=_0x3929e3,_0x2d08f9=_0x2f4cde[_0x17ce95(0xab)](_0x17ce95(0x1c1)),_0x2b6143=_0x2f4cde[_0x17ce95(0xab)](_0x17ce95(0x13a)),_0x38190a=_0x5d1d1f||null;if(_0x5d1d1f)_0x2d08f9[_0x17ce95(0x1dd)]=_0x5d1d1f[_0x17ce95(0x176)];_0x2d08f9[_0x17ce95(0x179)](_0x17ce95(0x10e),function(){var _0x43b81a=_0x17ce95,_0x1792c9=_0x2d08f9[_0x43b81a(0x1dd)][_0x43b81a(0xed)]()[_0x43b81a(0xa7)]();_0x2b6143[_0x43b81a(0x124)]='';if(!_0x1792c9)return;products[_0x43b81a(0x1bb)](_0x42ebeb=>_0x42ebeb[_0x43b81a(0x197)][_0x43b81a(0xed)]()[_0x43b81a(0x19d)](_0x1792c9))['slice'](0x0,0x14)[_0x43b81a(0x129)](function(_0x32c574){var _0x556d24=_0x43b81a,_0x1d9097=document[_0x556d24(0xcd)](_0x556d24(0x11e));_0x1d9097['textContent']=_0x32c574[_0x556d24(0x197)],_0x1d9097[_0x556d24(0xc2)]['id']=_0x32c574['id'],_0x1d9097[_0x556d24(0xc2)][_0x556d24(0x176)]=_0x32c574['setDescripcion'],_0x2b6143[_0x556d24(0x16d)](_0x1d9097),_0x1d9097[_0x556d24(0x179)]('click',function(){var _0x146cf2=_0x556d24;_0x38190a={'id':_0x32c574['id'],'name':_0x32c574[_0x146cf2(0x197)]},_0x2d08f9[_0x146cf2(0x1dd)]=_0x32c574[_0x146cf2(0x197)],_0x2b6143['innerHTML']='';var _0x2a9c94=_0x2f4cde[_0x146cf2(0x110)]('[id$=\x22_comp_container\x22]');if(_0x2a9c94){var _0x34bda3=+_0x2a9c94['id'][_0x146cf2(0x15c)]('_')[0x1];updateVariantComponents(_0x34bda3);}else updateProdItems();});});}),_0x2d08f9['addEventListener']('focus',function(){var _0x39c93e=_0x17ce95;_0x2b6143[_0x39c93e(0x1a5)][_0x39c93e(0x1e2)](_0x39c93e(0xfc));}),document[_0x17ce95(0x179)](_0x17ce95(0xc9),function(_0x44fdff){var _0x573026=_0x17ce95;if(!_0x2f4cde[_0x573026(0x17a)](_0x44fdff['target']))_0x2b6143[_0x573026(0x1a5)][_0x573026(0x1d9)](_0x573026(0xfc));}),Object[_0x17ce95(0xad)](_0x2f4cde,_0x17ce95(0x148),{'get':()=>_0x38190a});}function updateProdItems(){var _0x427f6b=_0x3929e3,_0xc7411f=[];Array['from'](prodC['children'])[_0x427f6b(0x129)](function(_0x48a00f){var _0x4d7b05=_0x427f6b,_0x4b5382=_0x48a00f['querySelector'](_0x4d7b05(0x13c));if(!_0x4b5382)return;var _0xdab9a=_0x48a00f[_0x4d7b05(0xab)]('.prodQty'),_0x517ece=_0x4b5382[_0x4d7b05(0x148)];_0x517ece&&_0xc7411f['push']({'setItemId':_0x517ece['id'],'setDescripcion':_0x517ece[_0x4d7b05(0x176)],'setCantidad':+_0xdab9a[_0x4d7b05(0x1dd)]});}),baseItem[_0x427f6b(0x16a)]=_0xc7411f,_0xc7411f[_0x427f6b(0x13b)]===0x0&&(document[_0x427f6b(0xa8)](_0x427f6b(0x1c2))[_0x427f6b(0x1a5)][_0x427f6b(0x16e)](_0x427f6b(0xf2),![]),document[_0x427f6b(0xa8)](_0x427f6b(0x1c2))[_0x427f6b(0x1a5)]['toggle'](_0x427f6b(0xfc),!![]));}document[_0x3929e3(0xa8)](_0x3929e3(0xf1))[_0x3929e3(0x179)](_0x3929e3(0xc9),function(){var _0x265874=_0x3929e3,_0x10c481=vgCount++,_0x558cf1=document[_0x265874(0xcd)](_0x265874(0x11e));_0x558cf1[_0x265874(0xc2)][_0x265874(0xca)]=_0x10c481,_0x558cf1[_0x265874(0x124)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x10c481+'\x22>'+_0x265874(0xe6)+_0x10c481+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x265874(0x16d)](_0x558cf1),_0x558cf1[_0x265874(0xab)](_0x265874(0x1a2))[_0x265874(0x179)](_0x265874(0x19b),generateVariants),_0x558cf1[_0x265874(0xab)](_0x265874(0x136))['addEventListener'](_0x265874(0x19b),generateVariants),_0x558cf1[_0x265874(0xab)](_0x265874(0x10f))[_0x265874(0x179)](_0x265874(0xc9),function(){_0x558cf1['remove'](),generateVariants();});});function generateVariants(){var _0x27aade=_0x3929e3,_0x317911=[];vgC['querySelectorAll'](_0x27aade(0x11e))['forEach'](function(_0x458d02){var _0x3e5938=_0x27aade,_0x445760=_0x458d02[_0x3e5938(0xab)]('.vgName')['value'][_0x3e5938(0xa7)](),_0xc608ae=_0x458d02[_0x3e5938(0xab)](_0x3e5938(0x136))['value'][_0x3e5938(0x15c)](',')[_0x3e5938(0x128)](_0x2ba81e=>_0x2ba81e[_0x3e5938(0xa7)]())['filter'](_0x471fec=>_0x471fec);if(_0x445760&&_0xc608ae['length'])_0x317911['push']({'name':_0x445760,'vals':_0xc608ae});});var _0x391b01=[{}];_0x317911[_0x27aade(0x129)](function(_0x5935e0){var _0x2b2584=_0x27aade;_0x391b01=_0x391b01[_0x2b2584(0x146)](function(_0x31616c){var _0x3f96f7=_0x2b2584;return _0x5935e0[_0x3f96f7(0xe2)]['map'](function(_0xd81b79){var _0x572de3=_0x3f96f7,_0x46d6b8=Object[_0x572de3(0x1a3)]({},_0x31616c);return _0x46d6b8[_0x5935e0['name']]=_0xd81b79,_0x46d6b8;});});}),newItems=[],varContainer['innerHTML']='',_0x391b01['forEach'](function(_0x469663,_0x4ad2a6){var _0x4c9242=_0x27aade,_0x198e38=JSON[_0x4c9242(0x1a7)](JSON['stringify'](baseItem));_0x198e38[_0x4c9242(0x1d0)]=_0x469663,_0x198e38['setItemVariantName']=baseItem[_0x4c9242(0x150)]+'\x20'+Object['entries'](_0x469663)[_0x4c9242(0x128)](_0x23dace=>_0x23dace[0x0]+'\x20'+_0x23dace[0x1])[_0x4c9242(0x109)]('\x20'),newItems[_0x4c9242(0x9b)](_0x198e38);var _0x346d33=document[_0x4c9242(0xcd)](_0x4c9242(0x11e));_0x346d33[_0x4c9242(0x1a5)][_0x4c9242(0x1d9)]('variantForm'),_0x346d33[_0x4c9242(0xc2)][_0x4c9242(0xca)]=_0x4ad2a6,_0x346d33[_0x4c9242(0x124)]=_0x4c9242(0x177)+_0x198e38[_0x4c9242(0x161)]+_0x4c9242(0x103)+_0x198e38[_0x4c9242(0xfa)]+_0x4c9242(0x13e)+_0x198e38[_0x4c9242(0x15e)]+_0x4c9242(0x135)+_0x198e38[_0x4c9242(0x1be)]+_0x4c9242(0x1b4)+_0x4ad2a6+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x4ad2a6+_0x4c9242(0x155)+_0x4ad2a6+_0x4c9242(0x190),varContainer[_0x4c9242(0x16d)](_0x346d33),_0x346d33[_0x4c9242(0xab)](_0x4c9242(0xf8))[_0x4c9242(0x179)](_0x4c9242(0x10e),_0x374699=>newItems[_0x4ad2a6][_0x4c9242(0xfa)]=_0x374699[_0x4c9242(0x134)]['value']),_0x346d33[_0x4c9242(0xab)](_0x4c9242(0x13d))[_0x4c9242(0x179)](_0x4c9242(0x10e),_0xb76e7=>newItems[_0x4ad2a6]['setItemBarCode']=_0xb76e7[_0x4c9242(0x134)]['value']),_0x346d33['querySelector'](_0x4c9242(0xb0))['addEventListener'](_0x4c9242(0x126),_0x4085d9=>newItems[_0x4ad2a6]['setItemDateExpiry']=_0x4085d9[_0x4c9242(0x134)][_0x4c9242(0x1dd)]),initVariantUnits(_0x4ad2a6),initVariantComponents(_0x4ad2a6),initVariantBranches(_0x4ad2a6),_0x346d33[_0x4c9242(0xab)](_0x4c9242(0xbe))[_0x4c9242(0x179)](_0x4c9242(0xc9),function(){var _0x2cbae1=_0x4c9242,_0x5e247a=+_0x346d33[_0x2cbae1(0xc2)]['idx'];newItems['splice'](_0x5e247a,0x1),_0x346d33[_0x2cbae1(0x1e2)](),document['querySelectorAll'](_0x2cbae1(0x151))[_0x2cbae1(0x129)](function(_0x34c4f9,_0x1f9fc3){var _0x115ee4=_0x2cbae1;_0x34c4f9[_0x115ee4(0xc2)][_0x115ee4(0xca)]=_0x1f9fc3;});});});if(newItems[_0x27aade(0x13b)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x42436f){var _0x47b21a=_0x3929e3,_0x141d76=document['getElementById'](_0x47b21a(0xfd)+_0x42436f+_0x47b21a(0x170)),_0x3e8cb7=[];Array[_0x47b21a(0x14d)](_0x141d76[_0x47b21a(0x1a4)])[_0x47b21a(0x129)](function(_0x2d6ce9){var _0x1bec7a=_0x47b21a,_0x4c0f47=+_0x2d6ce9[_0x1bec7a(0xab)](_0x1bec7a(0x1cd))[_0x1bec7a(0x1dd)]||0x0,_0x44fe98=_0x2d6ce9[_0x1bec7a(0xab)](_0x1bec7a(0x10b))['value'][_0x1bec7a(0xa7)](),_0xc2d2d5=_0x2d6ce9['querySelector'](_0x1bec7a(0x102))['value'],_0x508882=+_0x2d6ce9['querySelector']('.priceInput')['value']||0x0,_0x28e768=+_0x2d6ce9['querySelector'](_0x1bec7a(0x18b))[_0x1bec7a(0x1dd)]||0x0,_0x49c19f=_0x2d6ce9[_0x1bec7a(0xc2)][_0x1bec7a(0x11f)]===_0x1bec7a(0xb7),_0x1fcb97=+_0x141d76[_0x1bec7a(0xab)](_0x1bec7a(0x16c))['value']||0x1,_0x2af596=_0x49c19f?0x1:_0x4c0f47==_0x1fcb97?0x1:_0x4c0f47<_0x1fcb97?_0x1fcb97/_0x4c0f47:_0x4c0f47/_0x1fcb97;_0x3e8cb7[_0x1bec7a(0x9b)]({'setAlias':_0x44fe98,'setUnitCode':_0xc2d2d5,'setEquivalence':_0x4c0f47,'setFactor':_0x2af596,'setPrice':_0x508882,'setCost':_0x28e768,'setDefault':_0x49c19f?0x1:0x0});}),newItems[_0x42436f][_0x47b21a(0xd0)]=_0x3e8cb7;}function initVariantUnits(_0x31b7e0){var _0x22123b=_0x3929e3,_0x22d13e=document[_0x22123b(0xa8)](_0x22123b(0xfd)+_0x31b7e0+'_units_container');_0x22d13e[_0x22123b(0x124)]='',newItems[_0x31b7e0][_0x22123b(0xd0)]['forEach'](function(_0xf26330){var _0x188eb9=_0x22123b;addUnit(_0xf26330['setAlias'],_0xf26330['setUnitCode'],_0xf26330[_0x188eb9(0x192)],_0xf26330[_0x188eb9(0xf7)],_0xf26330['setPrice'],_0xf26330[_0x188eb9(0x18a)],_0x22d13e);}),_0x22d13e[_0x22123b(0x149)]['querySelector'](_0x22123b(0xa0))[_0x22123b(0x179)](_0x22123b(0xc9),function(){addUnit('','',0x1,![],'','',_0x22d13e),updateVariantUnits(_0x31b7e0);});}function updateVariantUnits(_0x5e442c){var _0x353c59=_0x3929e3,_0x58b1fd=document[_0x353c59(0xa8)](_0x353c59(0xfd)+_0x5e442c+_0x353c59(0x170)),_0x57b0a4=_0x58b1fd[_0x353c59(0xab)](_0x353c59(0x16c)),_0x1faf4a=_0x57b0a4?+_0x57b0a4[_0x353c59(0x1dd)]:0x1,_0x3e6458=Array['from'](_0x58b1fd[_0x353c59(0x1a4)])['map'](function(_0x498609){var _0x2c7f9b=_0x353c59,_0x180e77=_0x498609[_0x2c7f9b(0xab)](_0x2c7f9b(0x10b))[_0x2c7f9b(0x1dd)][_0x2c7f9b(0xa7)](),_0x1ec2e4=_0x498609[_0x2c7f9b(0xab)](_0x2c7f9b(0x102))[_0x2c7f9b(0x1dd)],_0x87a8f9=+_0x498609[_0x2c7f9b(0xab)](_0x2c7f9b(0x1cd))[_0x2c7f9b(0x1dd)]||0x0,_0x30b326=+_0x498609[_0x2c7f9b(0xab)]('.priceInput')['value']||0x0,_0x2ad534=+_0x498609['querySelector'](_0x2c7f9b(0x18b))[_0x2c7f9b(0x1dd)]||0x0,_0x5188f1=_0x498609[_0x2c7f9b(0xc2)][_0x2c7f9b(0x11f)]===_0x2c7f9b(0xb7);return{'setAlias':_0x180e77,'setUnitCode':_0x1ec2e4,'setEquivalence':_0x87a8f9,'setFactor':_0x5188f1?0x1:_0x87a8f9==_0x1faf4a?0x1:_0x87a8f9<_0x1faf4a?_0x1faf4a/_0x87a8f9:_0x87a8f9/_0x1faf4a,'setPrice':_0x30b326,'setCost':_0x2ad534,'setDefault':_0x5188f1?0x1:0x0};});newItems[_0x5e442c][_0x353c59(0xd0)]=_0x3e6458;}function initVariantComponents(_0x285225){var _0x4b6015=_0x3929e3,_0x4c6d63=document[_0x4b6015(0xa8)](_0x4b6015(0xfd)+_0x285225+_0x4b6015(0x1b9));_0x4c6d63['innerHTML']='',newItems[_0x285225][_0x4b6015(0x16a)][_0x4b6015(0x129)](function(_0x3501b8){var _0x4463ba=_0x4b6015,_0x4d61b0=document[_0x4463ba(0xcd)]('div'),_0x471439=Date[_0x4463ba(0x118)]();_0x4d61b0['dataset']['idx']=_0x471439,_0x4d61b0[_0x4463ba(0x124)]=_0x4463ba(0x187)+_0x471439+_0x4463ba(0xb9)+_0x3501b8[_0x4463ba(0xe4)]+_0x4463ba(0x1df),_0x4c6d63['appendChild'](_0x4d61b0),initProdSearch(_0x4d61b0[_0x4463ba(0xab)](_0x4463ba(0x13c)),{'id':_0x3501b8[_0x4463ba(0x178)],'name':_0x3501b8[_0x4463ba(0x197)]}),_0x4d61b0[_0x4463ba(0xab)](_0x4463ba(0xcf))[_0x4463ba(0x179)](_0x4463ba(0x10e),function(){updateVariantComponents(_0x285225);}),_0x4d61b0[_0x4463ba(0xab)](_0x4463ba(0x1ce))[_0x4463ba(0x179)](_0x4463ba(0xc9),function(){var _0x47f3e7=_0x4463ba;_0x4d61b0[_0x47f3e7(0x1e2)](),updateVariantComponents(_0x285225);});}),_0x4c6d63[_0x4b6015(0x149)][_0x4b6015(0xab)](_0x4b6015(0xa3))['addEventListener']('click',function(){var _0x51c5ad=_0x4b6015,_0x307efa=document['createElement'](_0x51c5ad(0x11e)),_0x434857=Date['now']();_0x307efa['dataset'][_0x51c5ad(0xca)]=_0x434857,_0x307efa['innerHTML']=_0x51c5ad(0x187)+_0x434857+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x4c6d63['appendChild'](_0x307efa),initProdSearch(_0x307efa[_0x51c5ad(0xab)](_0x51c5ad(0x13c))),_0x307efa['querySelector'](_0x51c5ad(0xcf))[_0x51c5ad(0x179)](_0x51c5ad(0x10e),function(){updateVariantComponents(_0x285225);}),_0x307efa[_0x51c5ad(0xab)](_0x51c5ad(0x1ce))[_0x51c5ad(0x179)](_0x51c5ad(0xc9),function(){var _0x103695=_0x51c5ad;_0x307efa[_0x103695(0x1e2)](),updateVariantComponents(_0x285225);});});}function _0x3bc8(_0x15e9ac,_0x2ee164){var _0x34f290=_0x57d2();return _0x3bc8=function(_0x25b4dc,_0x4ead88){_0x25b4dc=_0x25b4dc-0x9a;var _0x977290=_0x34f290[_0x25b4dc];return _0x977290;},_0x3bc8(_0x15e9ac,_0x2ee164);}function updateVariantComponents(_0x44d0c3){var _0x12d29d=_0x3929e3,_0x1666b3=document[_0x12d29d(0xa8)]('variant_'+_0x44d0c3+_0x12d29d(0x1b9)),_0x109075=Array[_0x12d29d(0x14d)](_0x1666b3[_0x12d29d(0x1a4)])[_0x12d29d(0x128)](function(_0x214778){var _0x53e58d=_0x12d29d,_0x250532=_0x214778[_0x53e58d(0xab)](_0x53e58d(0x13c)),_0x504d18=_0x250532[_0x53e58d(0x148)],_0x17a00e=+_0x214778[_0x53e58d(0xab)]('.prodQty')[_0x53e58d(0x1dd)]||0x0;return _0x504d18?{'setItemId':_0x504d18['id'],'setDescripcion':_0x504d18['name'],'setCantidad':_0x17a00e}:null;})[_0x12d29d(0x1bb)](_0x3bfad1=>_0x3bfad1);newItems[_0x44d0c3][_0x12d29d(0x16a)]=_0x109075;}function initVariantBranches(_0x1ff2c6){var _0x1371cf=_0x3929e3;const _0x54d7c9=getAllWarehouses();var _0x2b8a90=document['getElementById'](_0x1371cf(0xfd)+_0x1ff2c6+_0x1371cf(0xcc));_0x2b8a90['innerHTML']='',newItems[_0x1ff2c6][_0x1371cf(0x15a)][_0x1371cf(0x129)](function(_0x44d538){var _0x15c26f=_0x1371cf,_0x1c4b25=_0x54d7c9[_0x15c26f(0xc4)](_0x3ad64c=>_0x3ad64c[_0x15c26f(0x175)]==_0x44d538['setWarehouseCode']),_0x32736f=document[_0x15c26f(0xcd)](_0x15c26f(0x11e));_0x32736f[_0x15c26f(0x124)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x44d538[_0x15c26f(0xb5)]+_0x15c26f(0x1d8)+_0x1c4b25['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x44d538[_0x15c26f(0xb5)]+_0x15c26f(0xf0)+_0x44d538[_0x15c26f(0x12a)]+_0x15c26f(0x186)+_0x44d538[_0x15c26f(0xb5)]+'\x22\x20value=\x22'+_0x44d538['setStockMinimum']+'\x22>',_0x2b8a90[_0x15c26f(0x16d)](_0x32736f),_0x32736f['querySelectorAll'](_0x15c26f(0x10e))[_0x15c26f(0x129)](function(_0x54438b){var _0x2f13e8=_0x15c26f;_0x54438b[_0x2f13e8(0x179)]('input',function(){updateVariantBranches(_0x1ff2c6);});});}),_0x54d7c9[_0x1371cf(0x129)](function(_0x997670){var _0x3455df=_0x1371cf;if(!newItems[_0x1ff2c6][_0x3455df(0x15a)][_0x3455df(0xc4)](_0x2df914=>_0x2df914[_0x3455df(0xb5)]===_0x997670[_0x3455df(0x175)])){var _0x42800f=document[_0x3455df(0xcd)]('div');_0x42800f[_0x3455df(0x124)]=_0x3455df(0x1c0)+_0x997670['setWarehouseId']+_0x3455df(0xce)+_0x997670[_0x3455df(0xd6)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x997670[_0x3455df(0x175)]+_0x3455df(0x186)+_0x997670[_0x3455df(0x175)]+'\x22>',_0x2b8a90[_0x3455df(0x16d)](_0x42800f),_0x42800f[_0x3455df(0xc3)](_0x3455df(0x10e))[_0x3455df(0x129)](function(_0x37a4d3){var _0x16b46d=_0x3455df;_0x37a4d3[_0x16b46d(0x179)](_0x16b46d(0x10e),function(){updateVariantBranches(_0x1ff2c6);});});}});}function updateVariantBranches(_0x5562f2){var _0x1dadaa=_0x3929e3,_0x4023d9=document[_0x1dadaa(0xa8)](_0x1dadaa(0xfd)+_0x5562f2+_0x1dadaa(0xcc)),_0x3327d6=[];_0x4023d9[_0x1dadaa(0xc3)](_0x1dadaa(0x11e))[_0x1dadaa(0x129)](function(_0x3294fb){var _0x2e34b7=_0x1dadaa,_0x401f2b=_0x3294fb[_0x2e34b7(0xab)](_0x2e34b7(0x111));if(_0x401f2b[_0x2e34b7(0x144)]){var _0x43481e=+_0x401f2b[_0x2e34b7(0xc2)]['id'],_0x30cc96=+_0x3294fb[_0x2e34b7(0xab)]('.branchInit')['value']||0x0,_0x1ebba8=+_0x3294fb[_0x2e34b7(0xab)](_0x2e34b7(0x1c7))['value']||0x0;_0x3327d6['push']({'setWarehouseCode':_0x43481e,'setStockInitial':_0x30cc96,'setStockMinimum':_0x1ebba8});}}),newItems[_0x5562f2]['setItemWarehouses']=_0x3327d6;}async function storeOfflineProduct(_0x27bb73){var _0x100158=_0x3929e3;try{const _0x54070e=await createCartStore(''),_0x2f643a=_0x54070e[_0x100158(0xa1)]('offline_operations',_0x100158(0xdc)),_0x520958=_0x2f643a[_0x100158(0xb2)]('offline_operations');_0x520958[_0x100158(0x1d9)](_0x27bb73),_0x2f643a[_0x100158(0x19f)]=()=>{var _0x43584a=_0x100158;console[_0x43584a(0x17c)]('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x2f643a[_0x100158(0x15d)]=_0x458462=>{var _0x3f4bed=_0x100158;console['error'](_0x3f4bed(0xb8),_0x458462[_0x3f4bed(0x134)][_0x3f4bed(0xac)]);};}catch(_0xfd0de9){console['error'](_0x100158(0x1e7),_0xfd0de9);}}document[_0x3929e3(0xa8)](_0x3929e3(0x1ab))[_0x3929e3(0x179)](_0x3929e3(0xc9),async function(_0x2ccc86){var _0x4e9ad7=_0x3929e3;_0x2ccc86[_0x4e9ad7(0x10a)]();const _0xfa7184=document[_0x4e9ad7(0xa8)](_0x4e9ad7(0x1c9)),_0x17899e=document[_0x4e9ad7(0xa8)](_0x4e9ad7(0x1d7))[_0x4e9ad7(0x1dd)];if(!_0xfa7184[_0x4e9ad7(0x1dd)][_0x4e9ad7(0xa7)]()&&_0x17899e==0x0){ntfShow(_0x4e9ad7(0x18c),0x2,0x1);return;}_0x17899e==0x1&&(_0xfa7184[_0x4e9ad7(0x1dd)]='',baseItem['setItemCode']='');const _0x170bd5=document[_0x4e9ad7(0xa8)]('inputItemName');if(!_0x170bd5[_0x4e9ad7(0x1dd)][_0x4e9ad7(0xa7)]()){ntfShow(_0x4e9ad7(0x1d6),0x2,0x1);return;}const _0x15b88e=document[_0x4e9ad7(0xa8)]('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x38acfe=document[_0x4e9ad7(0xa8)](_0x4e9ad7(0x12c))[_0x4e9ad7(0x1dd)],_0x5e7f7e=window_options[_0x38acfe]['setMoneda'],_0x4953c7=[];newItems[_0x4e9ad7(0x129)](_0xe36103=>{var _0x2be5bf=_0x4e9ad7;const _0x6b9d11=generateNumericUniqId();_0xe36103['setItemUnits'][_0x2be5bf(0x129)](_0x40fbdb=>{var _0x3bcc1d=_0x2be5bf;const _0x229951=generateNumericUniqId();_0x40fbdb[_0x3bcc1d(0xe7)]=_0x229951;const _0x2a02a3={'id':_0x229951,'setIdProducto':_0x6b9d11,'setCodProducto':_0xe36103[_0x3bcc1d(0xfa)],'setDescripcion':_0xe36103[_0x3bcc1d(0x150)],'setItemDescription':_0xe36103[_0x3bcc1d(0x11d)],'setBatchExpirationDate':_0xe36103[_0x3bcc1d(0x1be)],'setBatchName':'','setCategoria':_0xe36103[_0x3bcc1d(0xb1)][0x0]||'','setMarca':_0xe36103[_0x3bcc1d(0x165)][0x0]||'','setConversionFactor':parseFloat(_0x40fbdb['setFactor']),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0xe36103[_0x3bcc1d(0xc1)]?0x1:0x0,'setItemIsSold':_0xe36103['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0xe36103[_0x3bcc1d(0x14a)],'setPrinters':[],'setTaxId':_0xe36103[_0x3bcc1d(0x152)],'setTipAfeIgv':_0xe36103['setItemTaxCode'],'setUnidad':_0x40fbdb[_0x3bcc1d(0x1b7)],'setUnidadCodigo':_0x40fbdb[_0x3bcc1d(0x1b7)],'setItemUnitAlias':_0x40fbdb['setAlias'],'currency_data':[{'currency':_0x5e7f7e,'setMtoPrecioCostoUnitario':_0x40fbdb[_0x3bcc1d(0x18a)],'setMtoPrecioUnitario':_0x40fbdb[_0x3bcc1d(0x121)],'setPriceLists':[]}],'sucursales':_0xe36103['setItemWarehouses'][_0x3bcc1d(0x128)](_0x1c1a3d=>({'setIdSucursal':_0x1c1a3d[_0x3bcc1d(0xb5)],'setSucursalStock':_0x1c1a3d[_0x3bcc1d(0x12a)][_0x3bcc1d(0xd3)](),'setWarehouseStockMin':_0x1c1a3d[_0x3bcc1d(0x14e)][_0x3bcc1d(0xd3)]()})),'setItemFree':_0xe36103[_0x3bcc1d(0x1d7)],'setItemBarCode':_0xe36103[_0x3bcc1d(0x15e)],'setItemBrands':_0xe36103[_0x3bcc1d(0x165)][_0x3bcc1d(0xc8)](),'setItemCategories':_0xe36103['setItemCategories'][_0x3bcc1d(0xc8)](),'setItemComponents':_0xe36103[_0x3bcc1d(0x16a)]['map'](_0x59de8a=>({..._0x59de8a})),'setItemImages':_0xe36103[_0x3bcc1d(0x140)]['slice'](),'setItemVariantName':_0xe36103[_0x3bcc1d(0x161)],'setItemVariantValues':{..._0xe36103['setItemVariantValues']}};_0x4953c7['push'](_0x2a02a3),(_0x15b88e[_0x3bcc1d(0x144)]||_0x17899e==0x1)&&addToCart(_0x2a02a3);});}),console[_0x4e9ad7(0x17c)]('Items\x20finales:',newItems),await finalizeImport(_0x4953c7,newItems,![]);}),[_0x3929e3(0xd2),_0x3929e3(0xd4)]['forEach'](_0x3edd06=>dropZone[_0x3929e3(0x179)](_0x3edd06,_0xf34346=>{var _0x17ef4e=_0x3929e3;_0xf34346[_0x17ef4e(0x10a)](),dropZone[_0x17ef4e(0x1a5)][_0x17ef4e(0x1d9)]('dragover');})),[_0x3929e3(0x1e4),_0x3929e3(0x139)][_0x3929e3(0x129)](_0x508bf7=>dropZone[_0x3929e3(0x179)](_0x508bf7,_0x2dff28=>{var _0x5405a0=_0x3929e3;_0x2dff28[_0x5405a0(0x10a)](),dropZone[_0x5405a0(0x1a5)][_0x5405a0(0x1e2)](_0x5405a0(0xd4));})),dropZone['addEventListener'](_0x3929e3(0x139),_0x396b93=>{var _0x46534c=_0x3929e3;const _0xc12b7b=_0x396b93[_0x46534c(0x198)][_0x46534c(0x193)][0x0];if(!_0xc12b7b)return;fileInput[_0x46534c(0x193)]=_0x396b93['dataTransfer'][_0x46534c(0x193)],dropZone[_0x46534c(0xab)](_0x46534c(0xe9))['textContent']=_0xc12b7b[_0x46534c(0x176)],removeBtn[_0x46534c(0x123)]=![],fileInput[_0x46534c(0x173)](new Event(_0x46534c(0x126)));}),removeBtn['addEventListener'](_0x3929e3(0xc9),()=>{var _0x27f9c6=_0x3929e3;fileInput[_0x27f9c6(0x1dd)]='',dropZone[_0x27f9c6(0xab)](_0x27f9c6(0xe9))[_0x27f9c6(0x107)]=_0x27f9c6(0xfb),removeBtn[_0x27f9c6(0x123)]=!![],progressBar[_0x27f9c6(0xe8)]['display']=_0x27f9c6(0x1b3),statusDiv['textContent']='',uploadBtn['disabled']=!![];});const exportBtn=document[_0x3929e3(0xa8)](_0x3929e3(0xd9));exportBtn[_0x3929e3(0x179)](_0x3929e3(0xc9),onClickExportarItems);async function onClickExportarItems(){var _0x2cb618=_0x3929e3;if(!Array[_0x2cb618(0xae)](products)||!products[_0x2cb618(0x13b)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0x1671f4=await fetch(_0x2cb618(0x9c));if(!_0x1671f4['ok'])throw new Error(_0x2cb618(0xcb));const _0x525cdd=await _0x1671f4[_0x2cb618(0x168)](),_0x10fdd0=document[_0x2cb618(0xa8)]('setWarehouseId')[_0x2cb618(0x1dd)],_0x413b7a=products[_0x2cb618(0x1bb)](_0x4f2988=>Array[_0x2cb618(0xae)](_0x4f2988[_0x2cb618(0x180)])&&_0x4f2988[_0x2cb618(0x180)][_0x2cb618(0x1ba)](_0x5314a3=>String(_0x5314a3[_0x2cb618(0x10d)])==String(_0x10fdd0))),_0x2e6ca6=_0x413b7a[_0x2cb618(0xf5)]((_0x5e0472,_0x88da59)=>{var _0x52dbab=_0x2cb618;const _0x54876e=_0x88da59[_0x52dbab(0x1a8)];if(!_0x5e0472[_0x54876e])_0x5e0472[_0x54876e]=[];return _0x5e0472[_0x54876e]['push'](_0x88da59),_0x5e0472;},{}),_0x143af4=Object[_0x2cb618(0x191)](_0x2e6ca6)[_0x2cb618(0x128)](_0x859c1a=>{var _0x347827=_0x2cb618;const _0x1cf982=_0x859c1a[0x0],_0x200515=_0x859c1a[0x1]||{};function _0x537f6b(_0x7d9fe1,_0x5ca33f,_0x4150c0){var _0x35fa7a=_0x3bc8;if(!_0x7d9fe1||!Array[_0x35fa7a(0xae)](_0x7d9fe1[_0x35fa7a(0x1db)]))return'';const _0x39de5d=_0x7d9fe1[_0x35fa7a(0x1db)]['find'](_0x38aa69=>_0x38aa69[_0x35fa7a(0x1de)]===_0x5ca33f);return _0x39de5d?_0x39de5d[_0x4150c0]:'';}return{'id':_0x1cf982[_0x347827(0x1a8)],'setItemType':_0x1cf982[_0x347827(0x1e3)],'setCodProducto':_0x1cf982[_0x347827(0x138)],'setDescripcion':_0x1cf982[_0x347827(0x197)],'setItemDescription':_0x1cf982[_0x347827(0x11d)],'setCategoria':_0x1cf982[_0x347827(0x143)],'setMarca':_0x1cf982[_0x347827(0x153)],'setTaxId':_0x1cf982[_0x347827(0x13f)],'setUnitId':_0x1cf982['id'],'setItemBarCode':_0x1cf982['setItemBarCode'],'setUnidadCodigo':_0x1cf982['setUnidadCodigo'],'PEN_setMtoPrecioUnitario':_0x537f6b(_0x1cf982,_0x347827(0xda),_0x347827(0x1c6)),'PEN_setMtoPrecioCostoUnitario':_0x537f6b(_0x1cf982,_0x347827(0xda),_0x347827(0x1ca)),'USD_setMtoPrecioUnitario':_0x537f6b(_0x1cf982,_0x347827(0x1d1),_0x347827(0x1c6)),'USD_setMtoPrecioCostoUnitario':_0x537f6b(_0x1cf982,_0x347827(0x1d1),_0x347827(0x1ca)),'setUnitId2':_0x200515['id']??'','setItemBarCode2':_0x200515['setItemBarCode']??'','setUnidadCodigo2':_0x200515[_0x347827(0x119)]??'','setUnidadEquivalencia2':_0x200515[_0x347827(0x169)]??'','PEN_setMtoPrecioUnitario2':_0x537f6b(_0x200515,_0x347827(0xda),_0x347827(0x1c6))??'','PEN_setMtoPrecioCostoUnitario2':_0x537f6b(_0x200515,_0x347827(0xda),_0x347827(0x1ca))??'','USD_setMtoPrecioUnitario2':_0x537f6b(_0x200515,_0x347827(0x1d1),'setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario2':_0x537f6b(_0x200515,_0x347827(0x1d1),_0x347827(0x1ca))??'','setInventariable':_0x1cf982['setInventariable'],'setSucursalStock':_0x1cf982['sucursales']['find'](_0x37b2a6=>String(_0x37b2a6[_0x347827(0x10d)])==String(_0x10fdd0))['setSucursalStock'],'setWarehouseStockMin':_0x1cf982[_0x347827(0x180)][_0x347827(0xc4)](_0x1ae9f0=>String(_0x1ae9f0['setIdSucursal'])==String(_0x10fdd0))[_0x347827(0x12e)],'setBatchName':_0x1cf982['setBatchName'],'setBatchExpirationDate':_0x1cf982[_0x347827(0x132)],..._0x1cf982[_0x347827(0x1d0)]};});try{JSON[_0x2cb618(0x1cc)](_0x143af4);}catch(_0x2a58fe){console['error'](_0x2cb618(0xbf),_0x2a58fe),ntfShow(_0x2cb618(0xd1));return;}statusDiv[_0x2cb618(0x107)]='Generando\x20Excel...',progressBar[_0x2cb618(0xe8)][_0x2cb618(0x162)]=_0x2cb618(0x17e),progressBar[_0x2cb618(0x1dd)]=0x0,itemWorker['postMessage']({'action':_0x2cb618(0xec),'products':_0x143af4,'plantillaBuf':_0x525cdd},[_0x525cdd]);}catch(_0x5eb1bb){console['error'](_0x5eb1bb),ntfShow(_0x2cb618(0xaf)+_0x5eb1bb[_0x2cb618(0x1ad)]);}}itemWorker[_0x3929e3(0x141)]=({data:_0x31b694})=>{var _0x105a06=_0x3929e3;const {type:_0xa4b22,payload:_0x38f8a9}=_0x31b694;_0xa4b22==='progress'&&(progressBar[_0x105a06(0xe8)]['display']=_0x105a06(0x17e),progressBar[_0x105a06(0x1dd)]=_0x38f8a9[_0x105a06(0x19c)],statusDiv[_0x105a06(0x107)]=_0x38f8a9[_0x105a06(0x1ad)]);_0xa4b22===_0x105a06(0x19a)&&(newItemsExcel=_0x38f8a9[_0x105a06(0xde)],statusDiv[_0x105a06(0x107)]='\x20'+newItemsExcel['length']+_0x105a06(0x1cb),uploadBtn[_0x105a06(0x194)]=![],progressBar['value']=0x64,console[_0x105a06(0x17c)](newItemsExcel));_0xa4b22===_0x105a06(0xac)&&(statusDiv['textContent']='\x20Error:\x20'+_0x38f8a9,progressBar['style'][_0x105a06(0x162)]=_0x105a06(0x1b3));if(_0xa4b22===_0x105a06(0x9d)){const {wbout:_0x5738b3,count:_0x37b6e8}=_0x38f8a9,_0x44c73f=new Blob([_0x5738b3],{'type':_0x105a06(0x1bd)}),_0x48cc4a=URL[_0x105a06(0xb4)](_0x44c73f),_0x2c74e=document['createElement']('a'),_0x1b9209=new Date()['toISOString']()[_0x105a06(0xc8)](0x0,0xa);_0x2c74e[_0x105a06(0x160)]=_0x105a06(0x106)+_0x1b9209+'.xlsx',_0x2c74e[_0x105a06(0x1ac)]=_0x48cc4a,_0x2c74e[_0x105a06(0xc9)](),URL[_0x105a06(0x147)](_0x48cc4a),statusDiv[_0x105a06(0x107)]='\x20Exportaci贸n\x20completada:\x20'+_0x37b6e8+_0x105a06(0x182),progressBar[_0x105a06(0xe8)][_0x105a06(0x162)]=_0x105a06(0x1b3);}},fileInput[_0x3929e3(0x179)]('change',async _0x4c0f3a=>{var _0x3a4329=_0x3929e3;const _0x4154ef=_0x4c0f3a['target'][_0x3a4329(0x193)][0x0];if(!_0x4154ef)return;uploadBtn[_0x3a4329(0x194)]=!![],newItemsExcel=null,statusDiv[_0x3a4329(0x107)]='',progressBar['style']['display']='none',dropZone[_0x3a4329(0xab)]('.drop-zone__prompt')[_0x3a4329(0x107)]=_0x4154ef[_0x3a4329(0x176)],removeBtn[_0x3a4329(0x123)]=![];try{const _0x52e6a6=await _0x4154ef[_0x3a4329(0x168)]();itemWorker[_0x3a4329(0xaa)]({'action':'import','buf':_0x52e6a6,'maxRows':0x1388});}catch(_0xe8cd8d){statusDiv[_0x3a4329(0x107)]='\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput[_0x3a4329(0x1dd)]='';}}),uploadBtn[_0x3929e3(0x179)]('click',async()=>{var _0x590730=_0x3929e3;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x2ebae3=document[_0x590730(0xa8)]('setWarehouseId')[_0x590730(0x1dd)],_0x1b4636=[];newItemsExcel['forEach'](_0x5c8815=>{var _0x30be31=_0x590730;const _0x5161ec=Boolean(_0x5c8815[_0x30be31(0x178)]),_0x1e0b5f=_0x5161ec?_0x5c8815[_0x30be31(0x178)]:generateNumericUniqId();_0x5c8815[_0x30be31(0x15a)]=[{'setStockInitial':_0x5c8815[_0x30be31(0x12a)],'setStockMinimum':_0x5c8815[_0x30be31(0x14e)],'setWarehouseCode':_0x2ebae3}],_0x5c8815[_0x30be31(0xd0)][_0x30be31(0x129)](_0x501349=>{var _0x23c57e=_0x30be31;const _0x2c631b=Boolean(_0x501349[_0x23c57e(0xe7)]),_0x3cc92b=_0x2c631b?_0x501349[_0x23c57e(0xe7)]:generateNumericUniqId();_0x501349[_0x23c57e(0xe7)]=_0x3cc92b;const _0x559fbd=[];_0x559fbd['push']({'currency':_0x23c57e(0xda),'setMtoPrecioCostoUnitario':_0x501349['setCost'],'setMtoPrecioUnitario':_0x501349[_0x23c57e(0x121)],'setPriceLists':[]});const _0x43d187=_0x501349[_0x23c57e(0x1e6)]!=null&&_0x501349[_0x23c57e(0x156)]!=null&&(!isNaN(_0x501349[_0x23c57e(0x1e6)])||!isNaN(_0x501349[_0x23c57e(0x156)]));_0x43d187&&_0x559fbd['push']({'currency':_0x23c57e(0x1d1),'setMtoPrecioCostoUnitario':_0x501349['setCostUSD'],'setMtoPrecioUnitario':_0x501349[_0x23c57e(0x156)],'setPriceLists':[]});const _0x4f22d6={'id':_0x3cc92b,'setIdProducto':_0x1e0b5f,'setItemBarCode':_0x501349['setItemBarCode'],'setCodProducto':_0x5c8815[_0x23c57e(0xfa)],'setDescripcion':_0x5c8815[_0x23c57e(0x150)],'setItemDescription':_0x5c8815[_0x23c57e(0x11d)],'setBatchExpirationDate':_0x5c8815['setItemDateExpiry'],'setBatchName':_0x5c8815['setBatchName'],'setCategoria':_0x5c8815['setItemCategories'][0x0]||'','setMarca':_0x5c8815[_0x23c57e(0x165)][0x0]||'','setConversionFactor':parseFloat(_0x501349[_0x23c57e(0x14b)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x5c8815[_0x23c57e(0xf9)],'setItemIsBought':_0x5c8815[_0x23c57e(0xc1)],'setItemIsSold':_0x5c8815[_0x23c57e(0xeb)],'setPorcentajeIgv':_0x5c8815[_0x23c57e(0x14a)],'setPrinters':[],'setTaxId':_0x5c8815[_0x23c57e(0x152)],'setTipAfeIgv':_0x5c8815[_0x23c57e(0x101)],'setUnidad':_0x501349[_0x23c57e(0x1b7)],'setUnidadCodigo':_0x501349[_0x23c57e(0x1b7)],'setItemUnitAlias':_0x501349['setAlias'],'currency_data':_0x559fbd,'sucursales':_0x5c8815[_0x23c57e(0x15a)][_0x23c57e(0x128)](_0x4c4720=>({'setIdSucursal':_0x4c4720[_0x23c57e(0xb5)],'setSucursalStock':_0x4c4720[_0x23c57e(0x12a)]['toString'](),'setWarehouseStockMin':_0x4c4720[_0x23c57e(0x14e)][_0x23c57e(0xd3)]()})),'setItemFree':_0x5c8815['setItemFree'],'setItemBrands':_0x5c8815[_0x23c57e(0x165)]['slice'](),'setItemCategories':_0x5c8815[_0x23c57e(0xb1)]['slice'](),'setItemComponents':_0x5c8815[_0x23c57e(0x16a)][_0x23c57e(0x128)](_0x46c181=>({..._0x46c181})),'setItemImages':_0x5c8815[_0x23c57e(0x140)]['slice'](),'setItemVariantName':_0x5c8815['setItemVariantName'],'setItemVariantValues':{..._0x5c8815[_0x23c57e(0x1d0)]}},_0x58de07=products[_0x23c57e(0x15f)](_0x3d3a0b=>_0x3d3a0b['id']==_0x3cc92b&&_0x3d3a0b[_0x23c57e(0x1a8)]==_0x1e0b5f);_0x58de07>-0x1?Object[_0x23c57e(0x1a3)](products[_0x58de07],_0x4f22d6):_0x1b4636[_0x23c57e(0x9b)](_0x4f22d6);});}),console[_0x590730(0x17c)]('Items\x20finales:',newItemsExcel),await finalizeImport(_0x1b4636,newItemsExcel,!![]);});function initializeFormImages(){var _0x234ecd=_0x3929e3;currentImages=Array(MAX_IMAGES)[_0x234ecd(0x131)](null),imgC['innerHTML']='',baseItem[_0x234ecd(0x140)]=[];for(var _0xc8bfe1=0x0;_0xc8bfe1<MAX_IMAGES;_0xc8bfe1++){(function(_0xdefe03){var _0x1f1360=_0x234ecd,_0xa5dd8c=document['createElement']('div');_0xa5dd8c[_0x1f1360(0x189)]=_0x1f1360(0x1b6),_0xa5dd8c[_0x1f1360(0xc2)][_0x1f1360(0xca)]=_0xdefe03;var _0x56c10c=document[_0x1f1360(0xcd)](_0x1f1360(0x10e));_0x56c10c[_0x1f1360(0xc0)]=_0x1f1360(0x1b1),_0x56c10c[_0x1f1360(0x105)]=_0x1f1360(0x1d3),_0x56c10c['style'][_0x1f1360(0x162)]=_0x1f1360(0x1b3);var _0x1b5d1b=document[_0x1f1360(0xcd)]('span');_0x1b5d1b['textContent']='+',_0xa5dd8c['appendChild'](_0x56c10c),_0xa5dd8c['appendChild'](_0x1b5d1b),imgC['appendChild'](_0xa5dd8c),_0xa5dd8c['addEventListener'](_0x1f1360(0xc9),function(){var _0xaf0393=_0x1f1360;_0x56c10c[_0xaf0393(0xc9)]();}),_0x56c10c[_0x1f1360(0x179)]('change',function(_0x4dec3a){var _0xf94e32=_0x1f1360,_0x2b1d4b=_0x4dec3a[_0xf94e32(0x134)][_0xf94e32(0x193)][0x0];if(!_0x2b1d4b)return removeImg(_0xdefe03);var _0x530cf4=new FileReader();_0x530cf4[_0xf94e32(0xe1)]=function(_0x123f39){var _0x56e2ed=_0xf94e32;_0xa5dd8c[_0x56e2ed(0x124)]=_0x56e2ed(0x137)+_0x123f39[_0x56e2ed(0x134)][_0x56e2ed(0x1af)]+'\x22>';var _0x2e7159=document[_0x56e2ed(0xcd)](_0x56e2ed(0xdb));_0x2e7159[_0x56e2ed(0x189)]=_0x56e2ed(0x1e2),_0x2e7159[_0x56e2ed(0x107)]='',_0x2e7159[_0x56e2ed(0x179)](_0x56e2ed(0xc9),function(_0x195a77){_0x195a77['stopPropagation'](),removeImg(_0xdefe03);}),_0xa5dd8c[_0x56e2ed(0x16d)](_0x2e7159),currentImages[_0xdefe03]=_0x2b1d4b,baseItem['setItemImages']=currentImages[_0x56e2ed(0x1bb)](function(_0x3ff761){return _0x3ff761;});},_0x530cf4['readAsDataURL'](_0x2b1d4b);});}(_0xc8bfe1));}}function initializeFormIsSoldIsBought(_0x44747e=0x0){var _0x80c610=_0x3929e3;let _0x44a534,_0x513f7c;if(_0x44747e!=0x0){const _0x32eca1=products[_0x80c610(0xc4)](_0x10d30c=>_0x10d30c['id']==_0x44747e);_0x44a534=_0x32eca1[_0x80c610(0xc1)]==0x1||_0x32eca1[_0x80c610(0xc1)]==!![]?!![]:![],_0x513f7c=_0x32eca1[_0x80c610(0xeb)]==0x1||_0x32eca1[_0x80c610(0xeb)]==!![]?!![]:![];}else _0x44a534=!![],_0x513f7c=!![];document[_0x80c610(0xa8)]('newItem_chk_buy')[_0x80c610(0x144)]=_0x44a534,document[_0x80c610(0xa8)](_0x80c610(0xa2))[_0x80c610(0x144)]=_0x513f7c,baseItem[_0x80c610(0xc1)]=_0x44a534,baseItem[_0x80c610(0xeb)]=_0x513f7c;}function initializeFormInputsBasic(_0xa50a85=0x0){var _0x168df5=_0x3929e3;let _0x4c0606,_0x289740,_0x1f587b,_0x285306,_0x4e41f8,_0x311fcf;if(_0xa50a85!=0x0){const _0x21aacd=products['find'](_0x4f8927=>_0x4f8927['id']==_0xa50a85);_0x4c0606=_0x21aacd[_0x168df5(0x1e3)]??'1',_0x289740=_0x21aacd[_0x168df5(0x138)],_0x1f587b=_0x21aacd[_0x168df5(0x197)],_0x285306=_0x21aacd[_0x168df5(0x11d)],_0x4e41f8=_0x21aacd[_0x168df5(0x132)]??'',_0x311fcf=_0x21aacd[_0x168df5(0x15e)];}else _0x4c0606='1',_0x289740=getNextCode(products),_0x1f587b='',_0x285306='',_0x4e41f8='',_0x311fcf='';document[_0x168df5(0xa8)](_0x168df5(0x1d2))[_0x168df5(0x1dd)]=_0x4c0606,document[_0x168df5(0xa8)]('inputItemCode')['value']=_0x289740,document['getElementById'](_0x168df5(0xe5))[_0x168df5(0x1dd)]=_0x1f587b,document[_0x168df5(0xa8)](_0x168df5(0x196))[_0x168df5(0x1dd)]=_0x285306,document[_0x168df5(0xa8)]('inputItemDateExpiry')[_0x168df5(0x1dd)]=_0x4e41f8,document['getElementById'](_0x168df5(0x11b))['value']=_0x311fcf,baseItem['setItemType']=_0x4c0606,baseItem[_0x168df5(0xfa)]=_0x289740,baseItem[_0x168df5(0x150)]=_0x1f587b,baseItem[_0x168df5(0x11d)]=_0x285306,baseItem[_0x168df5(0x1be)]=_0x4e41f8,baseItem[_0x168df5(0x15e)]=_0x311fcf,document['getElementById']('newItem_addToCart')['checked']=![];}function initializeFormTax(_0x3fab94=0x0){var _0x5059de=_0x3929e3;let _0x5e871b;if(_0x3fab94!=0x0){const _0x2a598c=products[_0x5059de(0xc4)](_0x43abb2=>_0x43abb2['id']==_0x3fab94);_0x5e871b=_0x2a598c['setTaxId'];}else _0x5e871b=myCompany['setTaxIdDefault'];const _0x542421=document['getElementById']('inputItemTax');_0x542421[_0x5059de(0x1dd)]=_0x5e871b,baseItem[_0x5059de(0x152)]=_0x5e871b;const _0x197550=company[0x0][_0x5059de(0xa6)]['find'](_0x38f908=>_0x38f908[_0x5059de(0x13f)]==_0x5e871b)?.[_0x5059de(0x154)]||0x0,_0x4b30ed=company[0x0][_0x5059de(0xa6)][_0x5059de(0xc4)](_0xa09cc8=>_0xa09cc8[_0x5059de(0x13f)]==_0x5e871b)?.['setImpuestoValue']||0x0;baseItem[_0x5059de(0x101)]=_0x197550,baseItem['setItemTaxValue']=_0x4b30ed;}function initializeFormCategoriesBrands(_0x277abd=0x0){var _0xf6d609=_0x3929e3;baseItem[_0xf6d609(0xb1)]=[],baseItem[_0xf6d609(0x165)]=[],document['querySelector'](_0xf6d609(0x158))[_0xf6d609(0x124)]='',document[_0xf6d609(0xab)](_0xf6d609(0x1e0))[_0xf6d609(0x124)]='',document[_0xf6d609(0xab)]('#newItem_brands_select\x20.selected_tags')[_0xf6d609(0x124)]='',document[_0xf6d609(0xab)]('#newItem_brands_select\x20.options_list')[_0xf6d609(0x124)]='';const _0x39cb69=uniqueValuesArray(_0xf6d609(0x143),_0xf6d609(0x143),products),_0x257481=uniqueValuesArray(_0xf6d609(0x153),'setMarca',products);initMulti('newItem_categories_select',_0x39cb69),initMulti(_0xf6d609(0x1cf),_0x257481),document['getElementById'](_0xf6d609(0x12f))[_0xf6d609(0x179)](_0xf6d609(0x12b),function(_0x41823e){var _0x214b5e=_0xf6d609;baseItem[_0x214b5e(0xb1)]=_0x41823e[_0x214b5e(0xf6)]['map'](_0x21aca4=>_0x21aca4['setCode']);}),document[_0xf6d609(0xa8)](_0xf6d609(0x1cf))[_0xf6d609(0x179)](_0xf6d609(0x12b),function(_0x5d27ad){var _0x100e21=_0xf6d609;baseItem[_0x100e21(0x165)]=_0x5d27ad[_0x100e21(0xf6)][_0x100e21(0x128)](_0x57208f=>_0x57208f[_0x100e21(0x17d)]);});if(_0x277abd!=0x0){const _0x49b93b=products[_0xf6d609(0xc4)](_0x2cfbf2=>_0x2cfbf2['id']==_0x277abd);if(_0x49b93b[_0xf6d609(0x143)]){const _0xaef12d=document[_0xf6d609(0xa8)]('newItem_categories_select'),_0x3f1a98=Array['from'](_0xaef12d[_0xf6d609(0xc3)](_0xf6d609(0xbd)))[_0xf6d609(0xc4)](_0x2e7ce4=>_0x2e7ce4[_0xf6d609(0xc2)]['code']==_0x49b93b['setCategoria']);_0x3f1a98&&_0x3f1a98['click']();}if(_0x49b93b[_0xf6d609(0x153)]){const _0x13d052=document[_0xf6d609(0xa8)](_0xf6d609(0x1cf)),_0xffb42b=Array[_0xf6d609(0x14d)](_0x13d052[_0xf6d609(0xc3)](_0xf6d609(0xbd)))[_0xf6d609(0xc4)](_0xf42dd6=>_0xf42dd6[_0xf6d609(0xc2)]['code']==_0x49b93b[_0xf6d609(0x153)]);_0xffb42b&&_0xffb42b[_0xf6d609(0xc9)]();}}}function initializeFormUnits(){var _0x8cf6a1=_0x3929e3;unitCount=0x0,document['getElementById'](_0x8cf6a1(0x18e))['innerHTML']='',baseItem[_0x8cf6a1(0xd0)]=[];var _0x22fa6d=uniqueValuesArray(_0x8cf6a1(0x1b7),_0x8cf6a1(0x1da),myCompany[_0x8cf6a1(0x19e)]);addUnit('',_0x22fa6d[0x3a]&&_0x22fa6d[0x3a][_0x8cf6a1(0x17d)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x1f6f71=_0x3929e3;prodC[_0x1f6f71(0x124)]='',baseItem[_0x1f6f71(0x16a)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x2821df=_0x3929e3;branchesC[_0x2821df(0x124)]='',baseItem[_0x2821df(0x15a)]=[];const _0x30a185=getAllWarehouses();_0x30a185[_0x2821df(0x129)](function(_0x789af1){var _0xe365b3=_0x2821df,_0x338d53=document[_0xe365b3(0xcd)](_0xe365b3(0x11e));_0x338d53[_0xe365b3(0x124)]=_0xe365b3(0x16b)+'<div\x20class=\x22newItem_col\x22>'+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x789af1[_0xe365b3(0x175)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x789af1[_0xe365b3(0xd6)]+_0xe365b3(0x1bc)+_0xe365b3(0x18d)+_0xe365b3(0x15b)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x789af1[_0xe365b3(0x175)]+'\x22>'+'</div>'+_0xe365b3(0x15b)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20M铆nimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x789af1[_0xe365b3(0x175)]+'\x22>'+_0xe365b3(0x18d)+_0xe365b3(0x18d),branchesC[_0xe365b3(0x16d)](_0x338d53),_0x338d53[_0xe365b3(0xc3)](_0xe365b3(0x10e))['forEach'](function(_0x35a9d8){var _0x229d16=_0xe365b3;_0x35a9d8[_0x229d16(0x179)]('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0xecc483=_0x3929e3;baseItem[_0xecc483(0x161)]='',baseItem['setItemVariantValues']={},vgC[_0xecc483(0x124)]='',varContainer[_0xecc483(0x124)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x55efcc,_0x132b21,_0x5434b0=![]){var _0x3a441f=_0x3929e3;const _0x2f4297=0xc8,_0x9fe05b={'apiPOSsendOffline':'1','setTipoOperacion':_0x3a441f(0xa4),'setToken':company[0x0][_0x3a441f(0x1b2)],'setWebhook':company[0x0][_0x3a441f(0x171)]};for(let _0x1e0f12=0x0;_0x1e0f12<_0x132b21['length'];_0x1e0f12+=_0x2f4297){const _0x34375c=_0x132b21['slice'](_0x1e0f12,_0x1e0f12+_0x2f4297);await storeOfflineProduct({..._0x9fe05b,'newItems':_0x34375c});}products[_0x3a441f(0x9b)](..._0x55efcc),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x3a441f(0x188)),_0x5434b0?(fileInput['value']='',uploadBtn['disabled']=!![],statusDiv[_0x3a441f(0x107)]='',progressBar[_0x3a441f(0xe8)][_0x3a441f(0x162)]=_0x3a441f(0x1b3),progressBar[_0x3a441f(0x1dd)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}